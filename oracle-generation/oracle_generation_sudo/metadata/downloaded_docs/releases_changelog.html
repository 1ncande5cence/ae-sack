<!DOCTYPE html>
<html
  lang="en"
  class="color-toggle-hidden"
  
>
  <head>
    <meta charset="UTF-8" />
<meta name="referrer" content="no-referrer" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="color-scheme" content="light dark" />
<meta name="generator" content="Hugo 0.145.0">


  <meta name="description" content=" 2025-07-24 Todd C. Miller configure, configure.ac:
Fix check for which man page type to use with nroff
Fixes a bug where configure would use *.man instead of *.mdoc on systems without mandoc. Bug #1077. [aa2498e46]
plugins/sudoers/log_client.c:
client_msg_cb: make warning match the function that failed [f73162df3] 2025-07-23 Todd C. Miller NEWS, configure, configure.ac:
Sudo 1.9.17p2 [f0e1a5ca3] plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:
digest_matches: plug fd leak on snprinf() failure [26a1a7529] 2025-07-21 Todd C. Miller etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg:
Add a way to override pp_rpm_arch when building rpms" />

    <title>ChangeLog | Sudo</title>

    
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/site.webmanifest">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#2f333e">
<meta name="msapplication-TileColor" content="#2f333e">
<meta name="theme-color" content="#2f333e">

    

    
  <meta
    property="og:title"
    content="ChangeLog"
  />
  <meta property="og:site_name" content="Sudo" />
  <meta property="og:description" content=" 2025-07-24 Todd C. Miller configure, configure.ac:
Fix check for which man page type to use with nroff
Fixes a bug where configure would use *.man instead of *.mdoc on systems without mandoc. Bug #1077. [aa2498e46]
plugins/sudoers/log_client.c:
client_msg_cb: make warning match the function that failed [f73162df3] 2025-07-23 Todd C. Miller NEWS, configure, configure.ac:
Sudo 1.9.17p2 [f0e1a5ca3] plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:
digest_matches: plug fd leak on snprinf() failure [26a1a7529] 2025-07-21 Todd C. Miller etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg:
Add a way to override pp_rpm_arch when building rpms" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sudo.ws/releases/changelog/" />

<meta property="article:section" content="Releases" />


  <meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="ChangeLog" />
  <meta name="twitter:description" content=" 2025-07-24 Todd C. Miller configure, configure.ac:
Fix check for which man page type to use with nroff
Fixes a bug where configure would use *.man instead of *.mdoc on systems without mandoc. Bug #1077. [aa2498e46]
plugins/sudoers/log_client.c:
client_msg_cb: make warning match the function that failed [f73162df3] 2025-07-23 Todd C. Miller NEWS, configure, configure.ac:
Sudo 1.9.17p2 [f0e1a5ca3] plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:
digest_matches: plug fd leak on snprinf() failure [26a1a7529] 2025-07-21 Todd C. Miller etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg:
Add a way to override pp_rpm_arch when building rpms" />


  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "TechArticle",
      "articleSection": "Releases",
      "name": "ChangeLog",
      "url" : "https://www.sudo.ws/releases/changelog/",
      "headline": "ChangeLog",
      "description": " 2025-07-24 Todd C. Miller configure, configure.ac:\nFix check for which man page type to use with nroff\nFixes a bug where configure would use *.man instead of *.mdoc on systems without mandoc. Bug #1077. [aa2498e46]\nplugins\/sudoers\/log_client.c:\nclient_msg_cb: make warning match the function that failed [f73162df3] 2025-07-23 Todd C. Miller NEWS, configure, configure.ac:\nSudo 1.9.17p2 [f0e1a5ca3] plugins\/sudoers\/match_command.c, plugins\/sudoers\/match_digest.c:\ndigest_matches: plug fd leak on snprinf() failure [26a1a7529] 2025-07-21 Todd C. Miller etc\/sudo-logsrvd.pp, etc\/sudo-python.pp, etc\/sudo.pp, scripts\/mkpkg:\nAdd a way to override pp_rpm_arch when building rpms",
      "wordCount" : "245140",
      "inLanguage": "en",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://www.sudo.ws/releases/changelog/"
      },
      "copyrightHolder" : "Sudo",
      "copyrightYear" : "0001",
      "dateCreated": "0001-01-01T00:00:00.00Z",
      "datePublished": "0001-01-01T00:00:00.00Z",
      "dateModified": "0001-01-01T00:00:00.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "Sudo",
          "url": "https://www.sudo.ws/",
          "logo": {
              "@type": "ImageObject",
              "url": "https://www.sudo.ws/brand.svg",
              "width":"32",
              "height":"32"
          }
      }
  }
  </script>


    <script src="/js/main-902b82d5.bundle.min.js"></script>

<link
  rel="preload"
  as="font"
  href="/fonts/Metropolis.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>
<link
  rel="preload"
  as="font"
  href="/fonts/LiberationSans.woff2"
  type="font/woff2"
  crossorigin="anonymous"
/>

<link
  rel="preload"
  href="/main-a853cbfd.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/main-a853cbfd.min.css"
  media="all"
/>

<link
  rel="preload"
  href="/mobile-c0e18b0e.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/mobile-c0e18b0e.min.css"
  media="screen and (max-width: 45rem)"
/>

<link
  rel="preload"
  href="/print-19966b38.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/print-19966b38.min.css"
  media="print"
/>

<link
  rel="preload"
  href="/custom.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="/custom.css"
  media="all"
/>
  <link href="https://www.sudo.ws/releases/changelog/" rel="canonical" type="text/html" />

<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    
  </head>

  <body itemscope itemtype="https://schema.org/WebPage">
    
  <!-- geekdoc include: /sprites/blog.svg -->
  <svg class="svg-sprite" id="fa-blog" xmlns="http://www.w3.org/2000/svg" viewBox="-100 -48 665 665"><!--! Font Awesome Free 6.0.0-beta3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2021 Fonticons, Inc. --><path d="M217.6 96.1c-12.95-.625-24.66 9.156-25.52 22.37C191.2 131.7 201.2 143.1 214.4 143.1c79.53 5.188 148.4 74.09 153.6 153.6c.8281 12.69 11.39 22.43 23.94 22.43c.5156 0 1.047-.0313 1.578-.0625c13.22-.8438 23.25-12.28 22.39-25.5C409.3 191.8 320.3 102.8 217.6 96.1zM224 0C206.3 0 192 14.31 192 32s14.33 32 32 32c123.5 0 224 100.5 224 224c0 17.69 14.33 32 32 32s32-14.31 32-32C512 129.2 382.8 0 224 0zM172.3 226.8C157.7 223.9 144 235.8 144 250.6v50.37c0 10.25 7.127 18.37 16.75 21.1c18.13 6.75 31.26 24.38 31.26 44.1c0 26.5-21.5 47.1-48.01 47.1c-26.5 0-48.01-21.5-48.01-47.1V120c0-13.25-10.75-23.1-24.01-23.1l-48.01 .0076C10.75 96.02 0 106.8 0 120v247.1c0 89.5 82.14 160.2 175 140.7c54.38-11.5 98.27-55.5 109.8-109.7C302.2 316.1 247.8 241.8 172.3 226.8z"/></svg>


  <!-- geekdoc include: /sprites/book.svg -->
  <svg class="svg-sprite" id="fa-book" xmlns="http://www.w3.org/2000/svg" viewBox="-148 -48 582 665"><!--! Font Awesome Free 6.0.0-beta3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2021 Fonticons, Inc. --><path d="M448 336v-288C448 21.49 426.5 0 400 0H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1c0-11.72-6.607-21.52-16-27.1v-81.36C441.8 362.8 448 350.2 448 336zM143.1 128h192C344.8 128 352 135.2 352 144C352 152.8 344.8 160 336 160H143.1C135.2 160 128 152.8 128 144C128 135.2 135.2 128 143.1 128zM143.1 192h192C344.8 192 352 199.2 352 208C352 216.8 344.8 224 336 224H143.1C135.2 224 128 216.8 128 208C128 199.2 135.2 192 143.1 192zM384 448H96c-17.67 0-32-14.33-32-32c0-17.67 14.33-32 32-32h288V448z"/></svg>


  <!-- geekdoc include: /sprites/bug.svg -->
  <svg class="svg-sprite" id="fa-bug" xmlns="http://www.w3.org/2000/svg" viewBox="-48 -48 665 665"><!--! Font Awesome Free 6.0.0-beta3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2021 Fonticons, Inc. --><path d="M480 256h-64V205.3l54.63-54.63c12.5-12.5 12.5-32.75 0-45.25s-32.75-12.5-45.25 0L370.8 160h-229.5L86.63 105.4c-12.5-12.5-32.75-12.5-45.25 0s-12.5 32.75 0 45.25L96 205.3V256H32C14.31 256 0 270.3 0 288s14.31 32 32 32h64v32c0 15.11 3.088 29.4 7.895 42.86l-62.52 62.52c-12.5 12.5-12.5 32.75 0 45.25C47.63 508.9 55.81 512 64 512s16.38-3.125 22.62-9.375l54.13-54.13C163.2 467.9 192 480 224 480h16.1V239.9C240.1 231.2 247.2 224 256 224S272 231.2 272 239.9V480H288c31.96 0 60.82-12.13 83.25-31.5l54.13 54.13C431.6 508.9 439.8 512 448 512s16.38-3.125 22.62-9.375c12.5-12.5 12.5-32.75 0-45.25l-62.52-62.52C412.9 381.4 416 367.1 416 352v-32h64c17.69 0 32-14.33 32-32S497.7 256 480 256zM352 96c0-53.02-42.98-96-96-96S160 42.98 160 96v32h192V96z"/></svg>


  <!-- geekdoc include: /sprites/mastodon.svg -->
  <svg class="svg-sprite" id="fa-mastodon" xmlns="http://www.w3.org/2000/svg" viewBox="-148 -48 665 665"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></svg>


  <!-- geekdoc include: /sprites/mercurial_icon_132219.svg -->
  <svg class="svg-sprite" id="jg-mercurial" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="-48 -48 665 665"><path d="M104.3676376,236.3087616c0-40.0223846-43.6237679-65.1721191-78.3347168-45.1609344c-34.7105675,20.0112-34.7105675,70.3106689,0,90.3215027C60.7438698,301.4804993,104.3676376,276.33078,104.3676376,236.3087616z M47.2328262,238.619812c0.9316254-17.4195404,28.4773483-30.8073578,38.3612366-15.1646118c8.0138016,12.6981049-8.1260452,29.328598-20.3331146,32.5216064C52.3266258,259.3628235,46.3008194,256.0454407,47.2328262,238.619812z M56.0728455,274.9062195c2.0664902-1.866272,12.5426407-1.0996094,21.9980621-6.1877136c9.448967-5.081665,20.6747437-16.2206116,22.6813202-32.055603c1.1803665-9.2999573,1.5345154-6.9642487,2.0065842-1.9011688c-1.4662628,26.3217621-25.6756516,40.8649139-39.5169563,42.7846527C59.502079,278.0620728,52.9295082,277.7450867,56.0728455,274.9062195z M256.6015015,9.6756086C72.808754,32.3940926,69.8519669,225.8470154,231.826767,271.8000488c140.1693573,39.8085327,28.9558868,128.7198792,32.2046356,187.9238281c3.2677002,59.1975098,121.8617859,80.6734619,215.3887939-74.7970276C571.2886963,232.2136993,460.0190735-15.4908123,256.6015015,9.6756086z M286.4643555,278.6645813c-6.5725708-4.3858948-22.2649841-13.5493469-54.4946289-24.1165009c-26.6823578-8.7531891-40.2438354-16.2327423-46.8600159-21.8486633c20.7881317,9.1941681,37.4838409,12.6886292,58.22229,17.9659424c43.908905,13.1656342,54.0039673,17.0483551,54.9420471,33.8263397C297.8391418,293.7355347,293.4282227,283.3299255,286.4643555,278.6645813z M367.8400269,367.5634155c40.4610901,5.006958,83.9104309-78.8473511,93.725708-130.0371246c9.5733337-49.8729095,14.2390442,3.2119598,4.9576721,37.4728241c-11.0270996,40.6351318-49.1399841,103.5227661-74.6540833,132.6401367c-19.5626526,22.3336487-41.4238281,31.6521606-67.8077698,35.5656128C269.1691589,453.902832,327.3857727,362.5571899,367.8400269,367.5634155z M436.2878418,427.8855591c-25.1414185,30.1343384-62.0288086,57.1067505-103.5784912,60.3467712c-11.0832214,1.6585083-19.3157959,0.254425-18.711792-6.9145813c0.7951355-9.4364624,11.9651794-3.4538879,28.1417847-7.3802185c58.1104431-14.1082458,83.3079529-43.2006226,118.059845-97.8321228c27.0546875-42.5238037,38.8829651-89.7004089,39.777832-98.6833801C502.6482849,288.2997131,485.2969666,363.9476318,436.2878418,427.8855591z M103.3271866,335.897583c-53.0496101,30.5836792-53.0496101,107.4578247,0,138.0414734s119.7213669-7.8534241,119.7213669-69.0207214S156.3768005,305.3139343,103.3271866,335.897583z M153.6566162,418.6166687c23.7312622-7.8772888,36.541214-60.520813,39.5726929-37.0318604c5.9950867,46.3815002-25.9058075,59.3579102-36.3235626,62.0860596C121.7500305,452.877533,117.7118454,430.5443115,153.6566162,418.6166687z M215.5815125,414.2740173c-4.8458252,32.5712891-35.6281586,56.5944824-61.8255463,57.4893494c-5.3179016,0.5463867-12.294281-1.770752-5.7960358-3.1312256c7.8970184-1.6531677,53.8238831-13.5553894,64.6083069-51.3262634C215.9292145,405.526886,216.531723,407.8940735,215.5815125,414.2740173z"/></svg>


  <!-- geekdoc include: /sprites/twitter.svg -->
  <svg class="svg-sprite" id="fa-twitter" xmlns="http://www.w3.org/2000/svg" viewBox="-148 -48 665 665"><!--! Font Awesome Free 6.0.0-beta3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2021 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>


  <!-- geekdoc include: /sprites/geekdoc.svg -->
  <svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></svg><svg viewBox="-7.27 -7.27 38.55 38.55" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check" xmlns="http://www.w3.org/2000/svg"><path d="M8.885 20.197 25.759 3.323l2.24 2.24L8.885 24.677 0 15.792l2.24-2.24z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_check_circle_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm6.441 7.822 1.972 1.972-11.239 11.239L4.207 14l1.972-1.972 4.995 4.995z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 1 0-3.501.001 1.75 1.75 0 0 0 3.501-.001zm0-21a1.75 1.75 0 1 0-3.501.001A1.75 1.75 0 0 0 9.917 3.5zm11.666 2.333a1.75 1.75 0 1 0-3.501.001 1.75 1.75 0 0 0 3.501-.001zm1.75 0a3.502 3.502 0 0 1-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 0 1 1.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 0 1 4.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 0 1-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 0 1-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_copy" xmlns="http://www.w3.org/2000/svg"><path d="M23.502 25.438V7.626H9.562v17.812h13.94zm0-20.315q1.013 0 1.787.745t.774 1.757v17.812q0 1.013-.774 1.787t-1.787.774H9.562q-1.013 0-1.787-.774t-.774-1.787V7.625q0-1.013.774-1.757t1.787-.745h13.94zM19.689 0v2.562H4.438v17.812H1.936V2.562q0-1.013.745-1.787T4.438.001h15.251z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_dangerous" xmlns="http://www.w3.org/2000/svg"><path d="M21.802 19.833 15.969 14l5.833-5.833-1.969-1.969L14 12.031 8.167 6.198 6.198 8.167 12.031 14l-5.833 5.833 1.969 1.969L14 15.969l5.833 5.833zM19.833 0 28 8.167v11.666L19.833 28H8.167L0 19.833V8.167L8.167 0h11.666z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_error_outline" xmlns="http://www.w3.org/2000/svg"><path d="M14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 6.967h2.761v8.413H12.62V6.967zm0 11.239h2.761v2.826H12.62v-2.826z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_fire" xmlns="http://www.w3.org/2000/svg"><path d="M17.689 21.998q-.32.32-.8.576t-.864.384q-1.152.384-2.272.032t-1.888-.992q-.128-.128-.096-.256t.16-.192q1.216-.384 1.92-1.216t.96-1.792q.192-.896-.064-1.728t-.384-1.728q-.128-.704-.096-1.376t.288-1.312q0-.128.128-.128t.192.064q.384.832.992 1.472t1.28 1.216 1.216 1.248.672 1.568q.064.384.064.704.064.96-.32 1.92t-1.088 1.536zm3.84-10.944q-.768-.704-1.6-1.28t-1.6-1.344q-1.536-1.536-2.016-3.584t.16-4.16q.128-.32-.096-.544t-.544-.096q-.768.32-1.44.768t-1.312.896q-1.984 1.664-3.136 3.936T8.633 10.51t.8 5.088q0 .128.032.256t.032.256q0 .576-.512.832t-1.024-.192q-.128-.192-.192-.32-1.024-1.28-1.376-2.912t-.096-3.232q.064-.384-.288-.576t-.608.128q-1.28 1.664-1.856 3.68t-.448 4.064q0 .576.096 1.184t.288 1.184q.448 1.536 1.216 2.816 1.216 2.048 3.264 3.424t4.416 1.696q2.496.32 5.024-.256t4.448-2.304q1.408-1.344 2.208-3.104t.864-3.68-.704-3.712q-.064-.128-.096-.224t-.096-.224q-.576-1.088-1.28-1.984-.256-.384-.544-.704t-.672-.64z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753 15.247.529a1.803 1.803 0 0 0-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 0 1 3.501 3.501l3.499 3.499a2.625 2.625 0 1 1-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 1 1-1.75 0v-7.3a2.626 2.626 0 0 1-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 0 0 0 2.551l12.225 12.224a1.803 1.803 0 0 0 2.55 0l12.168-12.168a1.805 1.805 0 0 0 0-2.551z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_gitea" xmlns="http://www.w3.org/2000/svg"><path d="M5.581 7.229c-2.46-.005-5.755 1.559-5.573 5.48.284 6.125 6.56 6.693 9.068 6.743.275 1.149 3.227 5.112 5.412 5.32h9.573c5.741-.381 10.04-17.363 6.853-17.427-5.271.248-8.395.373-11.073.395v5.3l-.835-.369-.005-4.928c-3.075-.001-5.781-.144-10.919-.397-.643-.004-1.539-.113-2.501-.116zm.348 2.166h.293c.349 3.14.917 4.976 2.067 7.781-2.933-.347-5.429-1.199-5.888-4.38-.237-1.647.563-3.365 3.528-3.401zm11.409 3.087c.2.003.404.04.596.128l.999.431-.716 1.305h-.007a.996.996 0 0 0-.321.053l.006-.002c-.349.114-.593.406-.593.749 0 .097.019.189.055.275l-.002-.006a.767.767 0 0 0 .151.233l-.001-.001-1.235 2.248a.99.99 0 0 0-.302.052l.006-.002c-.349.114-.593.406-.593.749 0 .097.019.189.055.275l-.002-.006c.128.31.457.527.843.527a.987.987 0 0 0 .31-.049l-.006.002c.348-.114.592-.406.592-.749 0-.097-.02-.19-.056-.277l.002.006a.784.784 0 0 0-.211-.293l1.203-2.189a.999.999 0 0 0 .397-.041l-.006.002a.942.942 0 0 0 .285-.15l-.001.001c.464.195.844.353 1.117.488.411.203.556.337.6.487.044.147-.004.429-.236.925-.173.369-.46.893-.799 1.511h-.02a.991.991 0 0 0-.321.053l.006-.002c-.349.114-.593.406-.593.749 0 .097.019.189.055.275l-.002-.006c.128.31.457.527.843.527a.987.987 0 0 0 .31-.049l-.006.002c.348-.114.592-.406.592-.749a.703.703 0 0 0-.055-.275l.002.006a.802.802 0 0 0-.183-.27l.001.001c.335-.611.623-1.136.808-1.531.251-.536.381-.935.267-1.32s-.467-.636-.933-.867c-.307-.151-.689-.311-1.147-.503a.723.723 0 0 0-.052-.324l.002.006a.792.792 0 0 0-.194-.279l.704-1.284 3.899 1.684c.704.305.995 1.053.653 1.68l-2.68 4.907c-.343.625-1.184.884-1.888.58l-5.516-2.384c-.704-.304-.996-1.053-.653-1.68l2.68-4.905c.235-.431.707-.687 1.207-.707z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 0 0-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034 14 26.888.442 17.048a1.09 1.09 0 0 1-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 0 1 1.031 0zm20.618 9.559 1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 0 1 1.031 0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 0 1-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_home" xmlns="http://www.w3.org/2000/svg"><path d="M24.003 15.695v8.336c0 .608-.504 1.111-1.111 1.111h-6.669v-6.669h-4.446v6.669H5.108a1.119 1.119 0 0 1-1.111-1.111v-8.336c0-.035.017-.069.017-.104L14 7.359l9.986 8.232a.224.224 0 0 1 .017.104zm3.873-1.198-1.077 1.285a.578.578 0 0 1-.365.191h-.052a.547.547 0 0 1-.365-.122L14 5.831 1.983 15.851a.594.594 0 0 1-.417.122.578.578 0 0 1-.365-.191L.124 14.497a.57.57 0 0 1 .069-.781L12.679 3.314c.729-.608 1.91-.608 2.64 0l4.237 3.543V3.471c0-.313.243-.556.556-.556h3.334c.313 0 .556.243.556.556v7.085l3.803 3.161c.226.191.26.556.069.781z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_info_outline" xmlns="http://www.w3.org/2000/svg"><path d="M12.62 9.793V6.967h2.761v2.826H12.62zM14 25.239q4.601 0 7.92-3.319T25.239 14 21.92 6.08 14 2.761 6.08 6.08 2.761 14t3.319 7.92T14 25.239zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0zm-1.38 21.033V12.62h2.761v8.413H12.62z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36 14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25 22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_keyboard_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25 18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_keyboard_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64 14 11.921 3.281 22.64 0 19.359l14-14 14 14z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_language" xmlns="http://www.w3.org/2000/svg"><path d="M20.112 16.826h4.732q.394-1.84.394-2.826t-.394-2.826h-4.732q.197 1.38.197 2.826t-.197 2.826zm-2.497 7.756q1.643-.526 3.418-2.005t2.695-2.991h-4.141q-.657 2.629-1.972 4.995zm-.329-7.756q.197-1.38.197-2.826t-.197-2.826h-6.573q-.197 1.38-.197 2.826t.197 2.826h6.573zM14 25.173q1.84-2.695 2.695-5.587h-5.39q.854 2.892 2.695 5.587zM8.413 8.413q.789-2.826 1.972-4.995-1.643.526-3.451 2.005T4.272 8.414h4.141zM4.272 19.587q.854 1.512 2.662 2.991t3.451 2.005q-1.315-2.366-1.972-4.995H4.272zm-1.117-2.761h4.732Q7.69 15.446 7.69 14t.197-2.826H3.155q-.394 1.84-.394 2.826t.394 2.826zM14 2.826q-1.84 2.695-2.695 5.587h5.39Q15.841 5.521 14 2.826zm9.727 5.587q-.92-1.512-2.695-2.991t-3.418-2.005q1.183 2.169 1.972 4.995h4.141zM14 0q5.784 0 9.892 4.108T28 14t-4.108 9.892T14 28t-9.892-4.108T0 14t4.108-9.892T14 0z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_mastodon" xmlns="http://www.w3.org/2000/svg"><path d="M30.924 10.506c0-6.941-4.548-8.976-4.548-8.976C24.083.477 20.144.034 16.054.001h-.101C11.862.034 7.926.477 5.633 1.53c0 0-4.548 2.035-4.548 8.976 0 1.589-.031 3.491.02 5.505.165 6.79 1.245 13.479 7.522 15.14 2.893.765 5.379.927 7.38.816 3.629-.2 5.667-1.296 5.667-1.296l-.12-2.633s-2.593.817-5.505.719c-2.887-.099-5.932-.311-6.399-3.855a7.069 7.069 0 0 1-.064-.967v-.028.001s2.833.693 6.423.857c2.195.1 4.253-.129 6.344-.377 4.009-.479 7.5-2.949 7.939-5.207.689-3.553.633-8.676.633-8.676zm-5.366 8.945h-3.329v-8.159c0-1.72-.724-2.592-2.171-2.592-1.6 0-2.403 1.035-2.403 3.083v4.465h-3.311v-4.467c0-2.048-.803-3.083-2.403-3.083-1.447 0-2.171.873-2.171 2.592v8.159H6.441v-8.404c0-1.719.437-3.084 1.316-4.093.907-1.011 2.092-1.528 3.565-1.528 1.704 0 2.995.655 3.848 1.965l.828 1.391.829-1.391c.853-1.311 2.144-1.965 3.848-1.965 1.472 0 2.659.517 3.565 1.528.877 1.009 1.315 2.375 1.315 4.093z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_matrix" xmlns="http://www.w3.org/2000/svg"><path d="M.843.734v30.532H3.04v.733H0V0h3.04v.733zm9.391 9.68v1.543h.044a4.417 4.417 0 0 1 1.489-1.365c.577-.327 1.248-.487 2-.487.72 0 1.377.143 1.975.419.597.277 1.047.776 1.36 1.477.339-.499.8-.941 1.379-1.323.579-.383 1.267-.573 2.061-.573.604 0 1.163.075 1.68.223a3.34 3.34 0 0 1 1.324.707c.368.327.652.745.861 1.268.203.523.307 1.151.307 1.889v7.637h-3.132v-6.468c0-.381-.013-.745-.043-1.083a2.315 2.315 0 0 0-.246-.893l.006.013a1.484 1.484 0 0 0-.577-.593l-.007-.004c-.259-.147-.609-.221-1.047-.221-.443 0-.8.085-1.071.252-.267.166-.483.39-.635.656l-.005.009a2.558 2.558 0 0 0-.307.915l-.002.013a7.156 7.156 0 0 0-.08 1.044v6.359h-3.133v-6.4c0-.339-.005-.671-.024-1.003a2.772 2.772 0 0 0-.197-.936l.007.019a1.41 1.41 0 0 0-.548-.667l-.006-.003c-.259-.167-.635-.253-1.139-.253-.148 0-.345.032-.585.099-.24.068-.48.191-.707.376-.228.184-.425.449-.585.793-.16.345-.24.8-.24 1.36v6.621H7.279v-11.42zm20.923 20.852V.734H28.96V.001H32V32h-3.04v-.733z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="m22.615 19.384 2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_star" xmlns="http://www.w3.org/2000/svg"><path d="M14 22.052 5.324 27.31l2.3-9.859L0 10.813l10.056-.854L14 .692l3.944 9.267L28 10.813l-7.624 6.638 2.3 9.859z"/></svg><svg viewBox="-7.27 -7.27 42.55 42.55" id="gdoc_tag" xmlns="http://www.w3.org/2000/svg"><path d="M17.52 17.52v-7.041h-7.041v7.041h7.041zM28 10.479h-7.041v7.041H28v3.439h-7.041V28H17.52v-7.041h-7.041V28H7.04v-7.041H-.001V17.52H7.04v-7.041H-.001V7.04H7.04V-.001h3.439V7.04h7.041V-.001h3.439V7.04H28v3.439z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_timer" xmlns="http://www.w3.org/2000/svg"><path d="M16 29q4.428 0 7.536-3.143t3.107-7.571-3.107-7.536T16 7.643 8.464 10.75t-3.107 7.536 3.107 7.571T16 29zM26.714 9.786q1.214 1.571 2.107 4.036t.893 4.464q0 5.643-4 9.678T16 32t-9.714-4.036-4-9.678 4-9.678T16 4.572q1.929 0 4.464.929t4.107 2.143l2.143-2.214q1.143.929 2.143 2.143zM14.5 19.857v-9.143h3v9.143h-3zM20.571.001v3.071h-9.143V.001h9.143z"/></svg><svg viewBox="-7.27 -7.27 46.55 46.55" id="gdoc_xmpp" xmlns="http://www.w3.org/2000/svg"><path d="M31.995 4.237c-.449.175-1.12.433-1.936.745-1.544.591-2.328.891-2.924 1.093-.613.208-1.287.409-2.635.813-.911.272-1.672.495-2.212.651-.031.875 0 2.177-.292 3.635a21.837 21.837 0 0 1-2.016 5.765c-1.496 2.944-3.236 4.817-3.88 5.476-.056-.059-.112-.117-.168-.179-.707-.763-2.403-2.703-3.815-5.683-1.053-2.223-1.484-4.044-1.605-4.584-.356-1.589-.427-2.955-.427-4.117 0-.075-.036-.129-.101-.149-.721-.223-1.765-.519-2.887-.853-1.271-.379-2.193-.744-3.408-1.2-.493-.185-1.409-.547-2.217-.859C.723 4.499.113 4.236.041 4.236c-.005 0-.015 0-.023.012a.131.131 0 0 0-.019.076c.009.593.08 1.361.256 2.365.615 3.503 2.688 7.061 4.36 9.244 0 0 3.717 5.035 9.128 8.144l.303.176c-.009.008-.02.015-.028.021-1.717 1.316-3.201 1.977-3.579 2.14a15.71 15.71 0 0 1-2.219.772v.407a25.31 25.31 0 0 0 2.72-.487 26.72 26.72 0 0 0 5.075-1.792c.136.067.276.136.42.204 1.527.725 3.571 1.627 6.073 2.048.613.103 1.136.165 1.507.195a.109.109 0 0 0 .115-.091.55.55 0 0 0 .004-.217.107.107 0 0 0-.063-.073c-.505-.209-1.201-.4-1.983-.719-.935-.381-2.241-1.067-3.648-2.128a13.528 13.528 0 0 1-.367-.287c4.64-2.656 7.989-6.588 7.989-6.588 1.735-2.036 4.441-5.623 5.431-9.795.349-1.473.539-2.741.5-3.628z"/></svg></defs></svg>




    <div
      class="wrapper "
    >
      <input type="checkbox" class="hidden" id="menu-control" />
      <input type="checkbox" class="hidden" id="menu-header-control" />
      
      <header class="gdoc-header">
  <div class="container flex align-center justify-between">
    
      <label for="menu-control" class="gdoc-nav__control" tabindex="0">
        <svg class="gdoc-icon gdoc_menu">
          <title>Open Navigation</title>
          <use xlink:href="#gdoc_menu"></use>
        </svg>
        <svg class="gdoc-icon gdoc_arrow_back">
          <title>Close Navigation</title>
          <use xlink:href="#gdoc_arrow_back"></use>
        </svg>
      </label>
    
    <div>
      <a class="gdoc-brand gdoc-header__link" href="https://www.sudo.ws/">
        <span class="flex align-center"><span class="gdoc-brand__title">Sudo</span>
        </span>
      </a>
    </div>
    <div class="gdoc-menu-header">
      <span class="gdoc-menu-header__items">
        
          

  
  
  
  

  
    
      
      
      

      
      

      

      
        <span>
          <a
            href="
              https://github.com/sudo-project/sudo
            "
            class="gdoc-header__link"
          >
            <svg class="gdoc-icon gdoc_github">
              <title>GitHub</title>
              <use xlink:href="#gdoc_github"></use>
            </svg>
          </a>
        </span>
      
    
  
    
      
      
      

      
      

      

      
        <span>
          <a
            href="
              /posts/
            "
            class="gdoc-header__link"
          >
            <svg class="gdoc-icon fa-blog">
              <title>Blog</title>
              <use xlink:href="#fa-blog"></use>
            </svg>
          </a>
        </span>
      
    
  






        


        <span id="gdoc-color-theme">
          <svg class="gdoc-icon gdoc_brightness_dark">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_dark"></use>
          </svg>
          <svg class="gdoc-icon gdoc_brightness_light">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_light"></use>
          </svg>
          <svg class="gdoc-icon gdoc_brightness_auto">
            <title>Toggle Dark/Light/Auto mode</title>
            <use xlink:href="#gdoc_brightness_auto"></use>
          </svg>
        </span>

        <span class="gdoc-menu-header__home">
          <a href="https://www.sudo.ws/" class="gdoc-header__link">
            <svg class="gdoc-icon gdoc_home">
              <title>Back to homepage</title>
              <use xlink:href="#gdoc_home"></use>
            </svg>
          </a>
        </span>

        



        <span class="gdoc-menu-header__control">
          <label for="menu-header-control">
            <svg class="gdoc-icon gdoc_keyboard_arrow_right">
              <use xlink:href="#gdoc_keyboard_arrow_right"></use>
              <title>Close Menu Bar</title>
            </svg>
          </label>
        </span>
      </span>
      <label for="menu-header-control" class="gdoc-menu-header__control">
        <svg class="gdoc-icon gdoc_keyboard_arrow_left">
          <use xlink:href="#gdoc_keyboard_arrow_left"></use>
          <title>Open Menu Bar</title>
        </svg>
      </label>
    </div>
  </div>
</header>



      <main class="container flex flex-even">
        
          <aside class="gdoc-nav">
            <nav><a class="container hidden-mobile" href="/">
          <img src="/images/sudo-sandwich-logo-65.png" alt="Sudo Logo" />
      </a>
  <div class="gdoc-search flex align-center">
    <svg class="gdoc-icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
    <input
      type="text"
      id="gdoc-search-input"
      class="gdoc-search__input"
      placeholder="Search"
      aria-label="Search"
      maxlength="64"
      data-site-base-url="https://www.sudo.ws/"
      data-site-lang="en"
    />
    <div class="gdoc-search__spinner spinner hidden"></div>
    <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
  </div>




  <section class="gdoc-nav--main">
    
      

  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">About Sudo</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/intro/"
                    class="gdoc-nav__entry"
                  >
                    A Short Introduction
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/history/"
                    class="gdoc-nav__entry"
                  >
                    A Brief History of Sudo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/contributors/"
                    class="gdoc-nav__entry"
                  >
                    Contributors
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/translations/"
                    class="gdoc-nav__entry"
                  >
                    Translations
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/plugins/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Plugins
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/license/"
                    class="gdoc-nav__entry"
                  >
                    Sudo License
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/logo/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Logo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/about/export/"
                    class="gdoc-nav__entry"
                  >
                    Export Controls
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Releases</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/releases/stable/"
                    class="gdoc-nav__entry"
                  >
                    Stable Release
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/releases/legacy/"
                    class="gdoc-nav__entry"
                  >
                    Legacy Release
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/releases/devel/"
                    class="gdoc-nav__entry"
                  >
                    Development Release
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/releases/changelog/"
                    class="gdoc-nav__entry is-active"
                  >
                    ChangeLog
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Getting Sudo</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
      
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/getting/repo/"
                    class="gdoc-nav__entry"
                  >
                    Source Repo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/getting/source/"
                    class="gdoc-nav__entry"
                  >
                    Source Distribution
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/getting/packages/"
                    class="gdoc-nav__entry"
                  >
                    Prebuilt Packages
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/getting/download_mirrors/"
                    class="gdoc-nav__entry"
                  >
                    Download Mirrors
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/getting/mirror/"
                    class="gdoc-nav__entry"
                  >
                    Mirroring Sudo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Documentation</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="gdoc-nav__toggle" id="navtree-7533376e"
                
              
            />
            <label
              
                for="navtree-7533376e" class="flex justify-between align-center"
              
            >
              
                <span class="flex">Manual Pages (latest)</span>
              
              
                <svg class="gdoc-icon toggle gdoc_keyboard_arrow_left">
                  <use xlink:href="#gdoc_keyboard_arrow_left"></use>
                </svg>
                <svg class="gdoc-icon toggle gdoc_keyboard_arrow_down">
                  <use xlink:href="#gdoc_keyboard_arrow_down"></use>
                </svg>
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/cvtsudoers.man/"
                    class="gdoc-nav__entry"
                  >
                    Cvtsudoers Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo.conf.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Configuration Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_sendlog.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Log Client Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_logsrvd.conf.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Log Server Configuration Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_logsrvd.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Log Server Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_logsrv.proto.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Log Server Protocol Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_plugin.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Plugin API
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudo_plugin_python.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Python Plugin API
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudoers.ldap.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudoers LDAP Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudoers.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudoers Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudoers_timestamp.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudoers Time Stamp Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/sudoreplay.man/"
                    class="gdoc-nav__entry"
                  >
                    Sudoreplay Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man/visudo.man/"
                    class="gdoc-nav__entry"
                  >
                    Visudo Manual
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/man_all/"
                    class="gdoc-nav__entry"
                  >
                    Manual Pages (all versions)
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="gdoc-nav__toggle" id="navtree-3f8f9cdc"
                
              
            />
            <label
              
                for="navtree-3f8f9cdc" class="flex justify-between align-center"
              
            >
              
                <span class="flex">README Files</span>
              
              
                <svg class="gdoc-icon toggle gdoc_keyboard_arrow_left">
                  <use xlink:href="#gdoc_keyboard_arrow_left"></use>
                </svg>
                <svg class="gdoc-icon toggle gdoc_keyboard_arrow_down">
                  <use xlink:href="#gdoc_keyboard_arrow_down"></use>
                </svg>
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/readme/readme/"
                    class="gdoc-nav__entry"
                  >
                    README
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/readme/readme_ldap/"
                    class="gdoc-nav__entry"
                  >
                    README.LDAP
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/install/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Installation Notes
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/upgrade/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Upgrade Notes
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/contributing/"
                    class="gdoc-nav__entry"
                  >
                    Contributing to Sudo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/troubleshooting/"
                    class="gdoc-nav__entry"
                  >
                    Troubleshooting FAQ
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/packaging/"
                    class="gdoc-nav__entry"
                  >
                    Building Sudo Packages
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/other/"
                    class="gdoc-nav__entry"
                  >
                    Other Documentation
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/docs/alternatives/"
                    class="gdoc-nav__entry"
                  >
                    Sudo Alternatives
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">Security</span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/security/advisories/"
                    class="gdoc-nav__entry"
                  >
                    Security Advisories
                  </a>
                </span>
              
              
            </label>

            
              
  


  <ul class="gdoc-nav__list">
    
    
      

      
        
      

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
  </ul>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/security/policy/"
                    class="gdoc-nav__entry"
                  >
                    Security Policy
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/security/static_analysis/"
                    class="gdoc-nav__entry"
                  >
                    Static Analysis
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/security/fuzzing/"
                    class="gdoc-nav__entry"
                  >
                    Fuzzing Sudo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
      

      
        
      

      
        
          
          
          
          
          
          


          <li>
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              
                <span class="flex">
                  <a
                    href="/security/sanitizers/"
                    class="gdoc-nav__entry"
                  >
                    Sanitizers and Sudo
                  </a>
                </span>
              
              
            </label>

            
          </li>
        
      
    
  </ul>

            
          </li>
        
      
    
  </ul>






    
  </section>

  


  <section class="gdoc-nav--more">
    
      

  
  


  <ul class="gdoc-nav__list">
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon fa-blog"><use xlink:href="#fa-blog"></use></svg>
                
                <a
                  href="/posts"
                  class="gdoc-nav__entry"
                >
                  Blog
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon fa-bug"><use xlink:href="#fa-bug"></use></svg>
                
                <a
                  href="
                    https://bugzilla.sudo.ws"
                  class="gdoc-nav__entry"
                >
                  Bug Tracker
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon gdoc_notification"><use xlink:href="#gdoc_notification"></use></svg>
                
                <a
                  href="/news"
                  class="gdoc-nav__entry"
                >
                  News
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon gdoc_email"><use xlink:href="#gdoc_email"></use></svg>
                
                <a
                  href="/lists"
                  class="gdoc-nav__entry"
                >
                  Mailing Lists
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon gdoc_github"><use xlink:href="#gdoc_github"></use></svg>
                
                <a
                  href="
                    https://github.com/sudo-project/sudo"
                  class="gdoc-nav__entry"
                >
                  GitHub Repo
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon gdoc_git"><use xlink:href="#gdoc_git"></use></svg>
                
                <a
                  href="
                    https://git.sudo.ws/sudo"
                  class="gdoc-nav__entry"
                >
                  Git Mirror
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon fa-mastodon"><use xlink:href="#fa-mastodon"></use></svg>
                
                <a
                  href="
                    https://fosstodon.org/@sudoproject"
                  class="gdoc-nav__entry"
                >
                  Mastodon
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
      
      


      <li>
        
        
          
          
          
          
          
          
          

          
          

          
            <input
              type="checkbox"
              
                class="hidden"
              
            />
            <label
              
            >
              <span class="flex">
                
                  <svg class="gdoc-icon fa-book"><use xlink:href="#fa-book"></use></svg>
                
                <a
                  href="
                    https://mwl.io/nonfiction/tools#sudo2"
                  class="gdoc-nav__entry"
                >
                  Sudo Mastery Book
                </a>
              </span>
              
            </label>
          
        

        
      </li>
    
  </ul>






    
  </section>
</nav>

          </aside>
        


        <div class="gdoc-page">
          
  


  






<div
  class="gdoc-page__header flex flex-wrap
  
    justify-end
  
  hidden-mobile
  hidden"
  itemprop="breadcrumb"
>
  
  
</div>



  <article
    class="gdoc-markdown gdoc-markdown__align--left"
  >
    <h1>ChangeLog</h1>
    






<div class="gdoc-include"><dl>
<dt>2025-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Fix check for which man page type to use with nroff</p>
<p>Fixes a bug where configure would use *.man instead of *.mdoc on systems
without mandoc. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1077"
>Bug
#1077</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa2498e46"
>[aa2498e46]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
client_msg_cb: make warning match the function that failed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f73162df3"
>[f73162df3]</a></li>
</ul>
</dd>
<dt>2025-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.17p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0e1a5ca3"
>[f0e1a5ca3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:<br>
digest_matches: plug fd leak on snprinf() failure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26a1a7529"
>[26a1a7529]</a></li>
</ul>
</dd>
<dt>2025-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg:<br>
Add a way to override pp_rpm_arch when building rpms</p>
<p>This will be used to build x86_64_v2 packages for Alma Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55d3c99c4"
>[55d3c99c4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Fix check for which man page type to use with nroff</p>
<p>Fixes a bug where configure would use *.man instead of *.mdoc on systems
without mandoc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dc10cfbd"
>[2dc10cfbd]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/timestamp.c:<br>
ts_write: call lseek after fruncate on short write</p>
<p>We need to make sure the file position is reset to the old EOF on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e7e0e23f"
>[8e7e0e23f]</a></p>
</li>
</ul>
</dd>
<dt>2025-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_readv_string: quiet sign-compare warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fac2a49e7"
>[fac2a49e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_ptrace.c:<br>
ptrace_readv_string: properly handle reads of more than one page</p>
<p>When the &ldquo;intercept&rdquo; and &ldquo;intercept_verify&rdquo; options are enabled and
either argv[] or envp[] contains a string larger than the page size
(usually 4096), ptrace_readv_string() would fill the buffer with mutiple
copies of the same string. Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/453"
>GitHub issue
#453</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e93eabed"
>[2e93eabed]</a></p>
</li>
</ul>
</dd>
<dt>2025-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
revoke_pty: use killpg() not kill() to send HUP to the process group</p>
<p>Also make sure we never call killpg(-1, SIGHUP), which would send SIGHUP
to process 1 (init). It is possible for cmnd_pid to be -1 in certain
error conditions where sudo killed the command itself. This may explain
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/458"
>GitHub issue #458</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb208d383"
>[fb208d383]</a></p>
</li>
</ul>
</dd>
<dt>2025-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/pp:<br>
Don&rsquo;t assume RHEL major version is only a single digit</p>
<p>Fixes handling of RHEL 10 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5d953f33"
>[e5d953f33]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
visudo: create temporary file as mod 0600 not 0700</p>
<p>This was due to a typo in the mode field when the temporary file was
created. Noticed by Bjorn Baron of the sudo-rs project.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c254b330"
>[1c254b330]</a></p>
</li>
</ul>
</dd>
<dt>2025-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
We now build sudo releases from git, not mercurial
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb4e26734"
>[cb4e26734]</a></li>
</ul>
</dd>
<dt>2025-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.17p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23aff2b37"
>[23aff2b37]</a></li>
</ul>
</dd>
<dt>2025-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/sudoers/test24.toke.ok,
plugins/sudoers/regress/testsudoers/test20.out.ok,
plugins/sudoers/regress/testsudoers/test26.out.ok,
plugins/sudoers/visudo_cb.c, src/parse_args.c:<br>
Deprecate chroot support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc88e5cbd"
>[bc88e5cbd]</a></li>
</ul>
</dd>
<dt>2025-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/editor.c,
plugins/sudoers/find_path.c, plugins/sudoers/goodpath.c,
plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h, plugins/sudoers/pivot.c,
plugins/sudoers/pivot.h, plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/resolve_cmnd.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Revert pivot_root and go back to prepending the new root directory.</p>
<p>We cannot perform passwd/group lookups <em>after</em> changing the root
directory. This does mean that symbolic links in a path are not
currently handled properly when matching chroot()ed commands.</p>
<p>Fixes a local privilege escalation vulnerability where a user could
craft their own nsswitch.conf file to load a shared library of their
choosing and run arbitrary code. CVE-2025-32463</p>
<p>Reported by Rich Mirch @ Stratascale Cyber Research Unit (CRU).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdafc2ceb"
>[fdafc2ceb]</a></p>
</li>
</ul>
</dd>
<dt>2025-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
Only allow a remote host to be specified when listing privileges.</p>
<p>This fixes a bug where a user with sudoers privileges on a different
host could execute a command on the local host, even if the sudoers file
would not otherwise allow this. CVE-2025-32462</p>
<p>Reported by Rich Mirch @ Stratascale Cyber Research Unit (CRU).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d53036782"
>[d53036782]</a></p>
</li>
</ul>
</dd>
<dt>2025-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
Add missing tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51c348810"
>[51c348810]</a></li>
</ul>
</dd>
<dt>2025-06-17  Rose</dt>
<dd>
<ul>
<li>
<p>lib/iolog/iolog_write.c, plugins/python/regress/iohelpers.c,
plugins/sudoers/sudo_printf.c, src/conversation.c:<br>
Properly check against errors against fwrite</p>
<p>fwrite is not the same as write; you have to explicitly compare against
the length to detect errors, and sometimes number of items is mistaken
for length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fad16bda"
>[5fad16bda]</a></p>
</li>
</ul>
</dd>
<dt>2025-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/CONTRIBUTING.md:<br>
No more mercurial repo, point to git.sudo.ws instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6cf241b0"
>[e6cf241b0]</a></li>
</ul>
</dd>
<dt>2025-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd6aa4932"
>[fd6aa4932]</a></li>
</ul>
</dd>
<dt>2025-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/fur.mo, plugins/sudoers/po/fur.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/ca.mo,
po/ca.po, po/fur.mo, po/fur.po, po/hr.mo, po/hr.po, po/it.mo, po/it.po,
po/pt.mo, po/pt.po, po/pt_BR.mo, po/pt_BR.po, po/sr.mo, po/sr.po,
po/yue.mo, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04a811750"
>[04a811750]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d861a00a6"
>[d861a00a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb3355e9d"
>[cb3355e9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add Cantonese translation from GitHub
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60fff3a3d"
>[60fff3a3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/check_man.in:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57f67f67f"
>[57f67f67f]</a></li>
</ul>
</dd>
<dt>2025-03-13  cantonese-sra</dt>
<dd>
<ul>
<li>po/yue.mo, po/yue.po:<br>
yue translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=666d8c175"
>[666d8c175]</a></li>
</ul>
</dd>
<dt>2025-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee1383e31"
>[ee1383e31]</a></li>
</ul>
</dd>
<dt>2025-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudo.man.in, docs/sudo.mdoc.in, plugins/sudoers/env.c:<br>
Add SUDO_TTY environment variable if the user has a tty</p>
<p>This can be used to find the user&rsquo;s original tty device when sudo runs
the command in its own pty. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/447"
>GitHub issue
#447</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afd01d856"
>[afd01d856]</a></p>
</li>
</ul>
</dd>
<dt>2025-06-04  Rose</dt>
<dd>
<ul>
<li>lib/iolog/regress/iolog_path/check_iolog_path.c, logsrvd/iolog_writer.c:
Restrict-qualify a few methods that are listed as such
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a925829e6"
>[a925829e6]</a></li>
</ul>
</dd>
<dt>2025-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/term.c, lib/util/util.exp.in,
src/tgetpass.c:<br>
Use TCSAFLUSH not TCSADRAIN when disabling echo</p>
<p>A long time ago this was changed from TCSAFLUSH to TCSADRAIN due to some
systems having problems with TCSAFLUSH. That should no longer be a
concern. Using TCSAFLUSH ensures that password input that has been
received by the kernel, but not yet read by sudo, will be discarded and
not echoed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77fe6ae51"
>[77fe6ae51]</a></p>
</li>
</ul>
</dd>
<dt>2025-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c:<br>
log_failure: only display &ldquo;command not found&rdquo; if running a command</p>
<p>If the user is not allowed to run a command, we try to give them a more
useful message than &ldquo;Sorry, user foo may not run sudo on bar.&rdquo; However,
this should only be done when running, not listing, a command.
Otherwise, it would be possible for a user with no sudo privileges to
use &ldquo;sudo -l /path/to/some/command&rdquo; to determine whether an executable
exists in a directory that they do not have search access to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82ebb1eaa"
>[82ebb1eaa]</a></p>
</li>
</ul>
</dd>
<dt>2025-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/passwd.c:<br>
Use constant-time string compare for plain text password check.</p>
<p>Avoid potential password guessing based on timing attacks on the
strcmp() function. Reported by Quarkslab.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=111fd83fb"
>[111fd83fb]</a></p>
</li>
</ul>
</dd>
<dt>2025-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
check_user: refactor the &ldquo;running as self&rdquo; check into its own function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a294a8be0"
>[a294a8be0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check.c:<br>
check_user: restrict the special case for running as the invoking user</p>
<p>The intent is to allow the user to run a command or edit a file as
themself without entering a password. It should not apply to listing a
command via &ldquo;sudo -l command&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28837b2af"
>[28837b2af]</a></p>
</li>
</ul>
</dd>
<dt>2025-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/sudo.conf.man.in, docs/sudo.man.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.man.in, docs/sudo_plugin.man.in,
docs/sudo_plugin_python.man.in, docs/sudo_sendlog.man.in,
docs/sudoers.ldap.man.in, docs/sudoers.man.in,
docs/sudoers_timestamp.man.in, docs/sudoreplay.man.in,
docs/visudo.man.in:<br>
Regenerate man format manuals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c98d0f4a"
>[9c98d0f4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.conf.mdoc.in, examples/sudo.conf.in:<br>
Sync &ldquo;Path intercept&rdquo; comment with default sudo.conf and man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b876e3bbf"
>[b876e3bbf]</a></li>
</ul>
</dd>
<dt>2025-04-28  peppapig450</dt>
<dd>
<ul>
<li>
<p>docs/sudo_logsrv.proto.mdoc.in:<br>
Fix typo and update Protocol Buffers URL in sudo_logsrv.proto man page</p>
<ul>
<li>Remove duplicate &ldquo;The&rdquo; in description of log_id field. - Update
outdated Protocol Buffers link from
<a
  class="gdoc-markdown__link"
  href="https://developers.google.com/protocol-buffers/"
>https://developers.google.com/protocol-buffers/</a> to <a
  class="gdoc-markdown__link"
  href="https://protobuf.dev"
>https://protobuf.dev</a>,
the new canonical URL.</li>
</ul>
<p>Signed-off-by: peppapig450 &lt;peppapig450@pm.me&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d173674c2"
>[d173674c2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudoers.ldap.mdoc.in:<br>
Fix minor grammar errors in sudoers.ldap man page</p>
<p>Signed-off-by: peppapig450 &lt;peppapig450@pm.me&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=334e23183"
>[334e23183]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/cvtsudoers.mdoc.in, docs/sudo.mdoc.in,
docs/sudo_logsrv.proto.mdoc.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_logsrvd.mdoc.in, docs/sudo_plugin.mdoc.in,
docs/sudo_plugin_python.mdoc.in, docs/sudo_sendlog.mdoc.in,
docs/sudoers.ldap.mdoc.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.mdoc.in, docs/sudoreplay.mdoc.in,
docs/visudo.mdoc.in:<br>
Fix typo: &lsquo;Please not report&rsquo;  &lsquo;Please do not report&rsquo; in
documentation</p>
<p>Signed-off-by: peppapig450 &lt;peppapig450@pm.me&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa5d4b2b4"
>[aa5d4b2b4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudo.conf.mdoc.in:<br>
Fix minor grammar and spelling issues in sudo.conf man page</p>
<p>Signed-off-by: peppapig450 &lt;peppapig450@pm.me&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f4d6bfe2"
>[2f4d6bfe2]</a></p>
</li>
</ul>
</dd>
<dt>2025-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>logsrvd/iolog_writer.c, logsrvd/logsrvd_local.c,
plugins/audit_json/audit_json.c:<br>
Free existing contents of struct eventlog before overwriting.</p>
<p>In the unlikely event that there are duplicate keys in info_msgs, free
the old string before overwriting with the new one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce0ec8ddc"
>[ce0ec8ddc]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/tgetpass.c:<br>
Use a pointer to end of buffer instead of tracking space left.</p>
<p>Fixes a problem in feedback mode where an initial backspace would reduce
the effective buffer size. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/439"
>GitHub issue
#439</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8695d536"
>[e8695d536]</a></p>
</li>
</ul>
</dd>
<dt>2025-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Ignore scripts/check_man
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=627ae4b09"
>[627ae4b09]</a></li>
</ul>
</dd>
<dt>2025-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>INSTALL.md, config.h.in, configure, configure.ac,
plugins/sudoers/defaults.c:<br>
Make ignore_dot the default</p>
<p>Add &ndash;disable-ignore-dot to disable it and deprecate &ndash;with-ignore-dot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fce45b276"
>[fce45b276]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_logsrv.proto.man.in, docs/sudo_logsrv.proto.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/sudoreplay.man.in,
docs/sudoreplay.mdoc.in:<br>
Dash/hyphen related style fixes from check_man.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff3c2185f"
>[ff3c2185f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/check_man.in:<br>
Add hyphen/dash checks
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eae70b05c"
>[eae70b05c]</a></li>
</ul>
</dd>
<dt>2025-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, docs/Makefile.in,
scripts/check_man.in:<br>
Add check_man script to check for man page warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2e77b713"
>[c2e77b713]</a></li>
</ul>
</dd>
<dt>2025-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in:<br>
Sync sudo.DEBUG descriptions with comments in sudo_debug.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38c0bdd7a"
>[38c0bdd7a]</a></li>
</ul>
</dd>
<dt>2025-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudo.conf.man.in, docs/sudo.conf.man.in.sed, docs/sudo.man.in,
docs/sudo.man.in.sed, docs/sudoers.man.in, docs/sudoers.man.in.sed:<br>
Sync sed scripts that add back troff conditionals.</p>
<p>The sudo manuals contain conditional to avoid describing system-specific
behavior on systems that don&rsquo;t support it. When we convert from mdoc to
man format we lose those conditionals, these sed scripts add them back.
Changes to the mdoc files can prevent the regexps from matching so they
need to be updated periodically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf1b87c71"
>[cf1b87c71]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in:<br>
Fix some style warnings from &ldquo;mandoc -Tlint&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d331e602"
>[4d331e602]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Style fixes from Bjarni Ingi Gislason.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ba525a34"
>[3ba525a34]</a></li>
</ul>
</dd>
<dt>2025-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Most Defaults entries are applied in order.</p>
<p>The exceptions are command-specific Defaults (which cannot be applied
until the command&rsquo;s path is resolved) and a small number of &ldquo;early&rdquo;
defaults that affect other entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b04386f63"
>[b04386f63]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/util/Makefile.in, lib/util/mksiglist.c, lib/util/mksigname.c:<br>
Only use system includes for mksiglist and mksigname.</p>
<p>These are standalone programs that run on the host system (which may
differ from the target system) so we should not include config.h and
sudo_compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bdead1bb"
>[1bdead1bb]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>Makefile.in, lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/ssl_compat/Makefile.in,
lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
No longer need to define NSIG for cppcheck.</p>
<p>There is now a configure check that defines it as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0d94331c"
>[b0d94331c]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c:<br>
Split the code to fill an exec closure into two functions.</p>
<p>This lets us initialize the exec closure early and fill in the events
later. It also makes things consistent with the exec_pty version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1032030f8"
>[1032030f8]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, docs/Makefile.in:<br>
Run groff with warnings enabled for &ldquo;make lint&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4a999b5e"
>[a4a999b5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/getentropy.c, src/sudo.c:<br>
Prefer POSIX getpgrp() to getpgid(0).</p>
<p>We use getpgrp() in most place so prefer it for consistency with the
rest of the code base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=257a078a8"
>[257a078a8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo_logsrv.proto.man.in, docs/sudoers.man.in,
docs/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8feff96d3"
>[8feff96d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/visudo.mdoc.in:<br>
Make DIAGNOSTICS descriptions indent consistent with sudo.mdoc.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3293c528"
>[d3293c528]</a></li>
</ul>
</dd>
<dt>2025-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudo.mdoc.in, docs/visudo.mdoc.in:<br>
Avoid using &ldquo;.It Li foo &hellip;&rdquo; in sudo manuals.</p>
<p>The .Li macro is deprecated and makes no difference on terminal devices.
Also avoid using items greater than 80 characters which will wrap
incorrectly. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1075"
>Bug #1075</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc0f16dbc"
>[dc0f16dbc]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudo.mdoc.in, docs/sudo_logsrv.proto.mdoc.in, docs/sudoers.mdoc.in:
Fix warnings from groff -mandoc -t -K utf8 -rF0 -rHY=0 -ww -b -z</p>
<p>Specify list offset and width in ens where applicable. Shorten the
ttyname description in sudo_logsrv.proto.mdoc.in. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1075"
>Bug
#1075</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aad69105d"
>[aad69105d]</a></p>
</li>
</ul>
</dd>
<dt>2025-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
Only package parent directories that match a non-default prefix</p>
<p>For example, if sudo is installed into /opt/sudo we only want to package
directories under /opt and not /var.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9e112079"
>[a9e112079]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43f16c1d2"
>[43f16c1d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add lib/util/login_max.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bb4c6a15"
>[4bb4c6a15]</a></li>
</ul>
</dd>
<dt>2025-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Initialize exec closure before calling sudo_fatal_callback_register()</p>
<p>The pty_cleanup() function, which may be called via fatal()/fatalx(),
expects that ec-&gt;details is set. If there is a fatal error after the
cleanup hook is registered but before the exec closure it filled in,
pty_cleanup() would dereference a NULL pointer. Reported by Bjorn Baron.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0be9f0f94"
>[0be9f0f94]</a></p>
</li>
</ul>
</dd>
<dt>2025-01-17  Mateusz Piotrowski</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Fix a typo in the description of exec_pty()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fc816d90"
>[6fc816d90]</a></li>
</ul>
</dd>
<dt>2025-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/ttyname_dev.c:<br>
Quiet a -Wconversion warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5bca1b94"
>[a5bca1b94]</a></li>
</ul>
</dd>
<dt>2025-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/fuzzstub/fuzzstub.c, lib/iolog/iolog_nextid.c,
lib/iolog/regress/iolog_filter/check_iolog_filter.c, lib/util/event.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c, logsrvd/logsrvd.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_relay.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c, logsrvd/sendlog.c,
plugins/sudoers/ldap.c, plugins/sudoers/log_client.c,
plugins/sudoers/timestamp.c, plugins/sudoers/tsdump.c,
plugins/sudoers/visudo.c, src/conversation.c, src/copy_file.c,
src/exec_monitor.c, src/exec_ptrace.c, src/sudo_intercept_common.c,
src/tgetpass.c, src/ttyname.c:<br>
Check for negative return value of read, write and lseek instead of -1</p>
<p>The return values are used in ways that assume they are positive. In
practice, it is not possible to have a negative return value other than
-1 due to the size of the buffers being read from or written to. Also
add overflow checks when updating the buffer len. Quiets several
coverity warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a27b989c9"
>[a27b989c9]</a></p>
</li>
</ul>
</dd>
<dt>2025-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>.github/workflows/main.yml:<br>
Switch to upload-sarif v3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6df96785f"
>[6df96785f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.github/workflows/codeql-analysis.yml:<br>
Update codeql GitHub actions to a non-deprecated version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cc0a0cc4"
>[7cc0a0cc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.github/workflows/main.yml:<br>
Use upload-artifact@v4, v3 is deprecated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5b86f06e"
>[c5b86f06e]</a></li>
</ul>
</dd>
<dt>2025-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Check the controlling tty to determine if a tty belongs to the user.</p>
<p>Previously, we compared the terminal device number returned by
get_process_ttyname() with that of stdin, stdout and stderr. This causes
problems on Linux if the user is logged in on the console, which is a
virtual device that may correspond to one of several different terminal
devices. In this specific case, there is a mismatch between the
controlling terminal listed in /proc/self/stat (which corresponds to the
underlying terminal device) and the device number of stdin, stdout and
stderr (which is that of /dev/console).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd3ff3a0b"
>[fd3ff3a0b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/login_max.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/pwutil_impl.c:<br>
Move LOGIN_NAME_MAX compat define to login_max.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3cd820d2"
>[a3cd820d2]</a></li>
</ul>
</dd>
<dt>2025-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/toke_util.c:<br>
copy_string: use an end pointer to quiet a coverity warning</p>
<p>Instead of modifying the len parameter and using it for bounds checking,
compute the end of the source string and bound check on that instead.
Also simplify the code slightly and enable debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3753309f"
>[e3753309f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
expand_include: initialize dst_size to 1 to quiet coverity warning</p>
<p>This could only be an issue if the sudoers file was an empty string,
which is not possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af4634a1c"
>[af4634a1c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_digest.c:<br>
digest_matches: don&rsquo;t initialize digest_len to -1</p>
<p>This was done to quiet a coverity warning but newer coverity now warns
about this instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34a3c84de"
>[34a3c84de]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/setgroups.c:<br>
Check for sysconf() negative return value instead of -1</p>
<p>Quiets a coverity warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fdbb6e2e"
>[0fdbb6e2e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/Makefile.in, lib/util/gethostname.c,
lib/util/login_max.c, lib/util/util.exp.in,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/match.c,
plugins/sudoers/pwutil_impl.c:<br>
Add sudo_login_name_max() and sudo_host_name_max()</p>
<p>These convenience functions cache the value and handle any potenial
errors from sysconf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=405070d48"
>[405070d48]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, include/sudo_util.h:<br>
Add an OFF_T_MAX define</p>
<p>This will be used for integer overflow checks when copying files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c075c100"
>[7c075c100]</a></p>
</li>
</ul>
</dd>
<dt>2025-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE.md:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30729312c"
>[30729312c]</a></li>
</ul>
</dd>
<dt>2025-01-15  Ignacy Gawdzki</dt>
<dd>
<ul>
<li>
<p>src/ttyname.c:<br>
Fix getting ppid in get_process_ttyname for Linux.</p>
<p>The ppid field in /proc/self/stat is the fourth and not the third. The
latter is the process state (S, R, etc.).</p>
<p>Signed-off-by: Ignacy Gawdzki
&lt;ignacy.gawedzki@green-communications.fr&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5794e511d"
>[5794e511d]</a></p>
</li>
</ul>
</dd>
<dt>2025-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c:<br>
Format T_TIMESPEC as &ldquo;%d.%d&rdquo; instead of &ldquo;%.1f&rdquo;</p>
<p>This fixes the display of the timeout values in the &ldquo;sudo -V&rdquo; output on
systems without a C99-compliant snprintf(). The snprintf() replacement
sudo ships with does not support floating point.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01b1410d6"
>[01b1410d6]</a></p>
</li>
</ul>
</dd>
<dt>2024-12-22  vayers</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.in:<br>
Replace tab with space</p>
<p>A line in the sudoers file contains a tab where a space seems to be more
appropriate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c121ff83"
>[7c121ff83]</a></p>
</li>
</ul>
</dd>
<dt>2025-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Newer macOS deprecates -force_flat_namespace for -flat_namespace</p>
<p>The linker warns about -force-flat_namespace and uses -flat_namespace
instead. Check for -flat_namespace if -force-flat_namespace is not
found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=103af8cb2"
>[103af8cb2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
build_pkgs: adapt to work with a git repo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46831d6ef"
>[46831d6ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/log2cl.pl:<br>
Remove unused -b option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b52ef1fbb"
>[b52ef1fbb]</a></li>
</ul>
</dd>
<dt>2025-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, m4/libtool.m4, m4/ltoptions.m4, m4/ltsugar.m4,
m4/ltversion.m4, m4/lt~obsolete.m4, scripts/ltmain.sh:<br>
Update to libtool 2.5.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=355c82a1d"
>[355c82a1d]</a></li>
</ul>
</dd>
<dt>2025-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/log2cl.pl:<br>
Add markdown mode for use with the sudo web site.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e13163ce0"
>[e13163ce0]</a></li>
</ul>
</dd>
<dt>2024-12-27  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/log2cl.pl:<br>
Use Text::Wrap::fill() for ChangeLog body, not wrap().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3c1cbd88"
>[a3c1cbd88]</a></li>
</ul>
</dd>
<dt>2024-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_sendlog.man.in, docs/sudo_sendlog.mdoc.in:<br>
Sort entries in the &ldquo;SEE ALSO&rdquo; section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e670d2a85"
>[e670d2a85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudo.man.in, docs/sudo.mdoc.in, src/tgetpass.c:<br>
If sudo is run without a tty via ssh, suggest using &ldquo;ssh -t&rdquo;</p>
<p>The current warning message mentions using sudo&rsquo;s -S option but this
will cause the password to be echoed without a terminal. In most cases,
the user just needs to run ssh with the -t option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=516f72960"
>[516f72960]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y:<br>
The &ldquo;ALL&rdquo; command should not override a previous NOSETENV tag in a rule.</p>
<p>Command tags are inherited from previous Cmnds in a Cmnd_Spec_List.
There is a special case of the SETENV tag for the &ldquo;ALL&rdquo; command, where
SETENV is implied if no explicit SETENV or NOSETENV tag is specified.
The code to inherit the SETENV tag didn&rsquo;t take into account that an
implied value for SETENV should also be overridden by an explicit SETENV
or NOSETENV tag in the previous Cmnd in the Cmnd_Spec_List.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dbb07c19"
>[4dbb07c19]</a></p>
</li>
</ul>
</dd>
<dt>2024-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/ssl_compat/Makefile.in,
lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Don&rsquo;t need to undef _POSIX_HOST_NAME_MAX, it is not used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de3b179a0"
>[de3b179a0]</a></li>
</ul>
</dd>
<dt>2024-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/codespell.ignore, src/exec_ptrace.h:<br>
Quiet codespell 2.3.0 complaints.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3226c60e6"
>[3226c60e6]</a></li>
</ul>
</dd>
<dt>2024-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_compat.h, lib/util/ttyname_dev.c, plugins/sudoers/policy.c,
plugins/sudoers/timestamp.c, src/regress/ttyname/check_ttyname.c,
src/sudo.c, src/ttyname.c:<br>
Use NODEV macro instead of explicit (dev_t)-1.</p>
<p>Also fix an assignment of dev_t to -1 that should be NODEV. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1074"
>Bug
#1074</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5028a00c"
>[d5028a00c]</a></p>
</li>
</ul>
</dd>
<dt>2024-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.16p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73cbe4e7e"
>[73cbe4e7e]</a></li>
</ul>
</dd>
<dt>2024-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoreplay.c:<br>
Work around a bug in UBSan that is causing CI failures.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=116834"
>https://gcc.gnu.org/bugzilla/show_bug.cgi?id=116834</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8987fc0b"
>[f8987fc0b]</a></p>
</li>
</ul>
</dd>
<dt>2024-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/pwutil_impl.c:<br>
Avoid multiple calls to sysonf() via the MAX macro.</p>
<p>The expansion of MAX would result in multiple calls to sysconf(). It is
less error-prone to store the result of sysconf() in a long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da20ccec0"
>[da20ccec0]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/setgroups.c, plugins/sudoers/sudo_printf.c, src/conversation.c:
Add some casts to quiet -Wconversion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d85f2e98"
>[3d85f2e98]</a></li>
</ul>
</dd>
<dt>2024-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_plugin.h, plugins/sudoers/policy.c, src/hooks.c:<br>
Cast hook functions to sudo_hook_fn_t to fix C23 compile error.</p>
<p>The sudo plugin API defines sudo_hook_fn_t as a function with
unspecified arguments. This is no longer supported in C23 so use a
variadic function for sudo_hook_fn_t instead. Moving to a union may be a
better long-term fix. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/420"
>GitHub issue
#420</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9613ef944"
>[9613ef944]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/parse_gids/parse_gids_test.c:<br>
Use NULL, not false, in the terminating entry of test_data[].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c99e29bb"
>[4c99e29bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Pass NULL, not false, to sudoers_format_default_line().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c63ff0e1"
>[9c63ff0e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/ttyname_dev.c:<br>
sudo_ttyname_dev: On Linux try to use /proc/self/fd/{0,1,2} if possible.</p>
<p>If one of std{in,out,err} matches the specified device, try to resolve
it to a path by using /proc/self/fd/{0,1,2}. This avoids searching all
of /dev and works in a chroot where /proc is mounted but /dev/pts is
not. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/421"
>GitHub issue
#421</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7efb8ab5"
>[b7efb8ab5]</a></p>
</li>
</ul>
</dd>
<dt>2024-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/sudo.c, src/ttyname.c:<br>
get_process_ttyname: always return the terminal device if we find one.</p>
<p>If sudo cannot map the device number to a device file, set name to the
empty string. The caller now checks for an empty name and only passes
the tty path to the plugin if it is non-empty. This allows sudo to run
without warnings in a chroot() jail where the terminal device files are
not present. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/421"
>GitHub issue
#421</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e8f00688"
>[7e8f00688]</a></p>
</li>
</ul>
</dd>
<dt>2024-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.16p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abc0baffc"
>[abc0baffc]</a></li>
</ul>
</dd>
<dt>2024-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
pam_get_item() takes a void ** arg, not const void **, on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f41cd717"
>[0f41cd717]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Shell-style substitution is not supported in env_file.</p>
<p>Also document that comments are supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b5375716"
>[8b5375716]</a></p>
</li>
</ul>
</dd>
<dt>2024-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c:<br>
Do not send mail for &ldquo;sudo -nv&rdquo; or &ldquo;sudo -nl&rdquo;</p>
<p>This avoids sending mail for users running &ldquo;sudo -nv&rdquo; or &ldquo;sudo -nl&rdquo; even
when mail_badpass or mail_always are enabled. We already avoid logging
in that case but mailing was not disabled when that change was made.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1072"
>Bug #1072</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=116115229"
>[116115229]</a></p>
</li>
</ul>
</dd>
<dt>2024-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, README.LDAP.md, docs/Makefile.in, docs/SECURITY.md,
docs/TROUBLESHOOTING.md, docs/UPGRADE.md:<br>
Run igor on other docs too, not just man pages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d49f861c"
>[9d49f861c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, LICENSE.md, docs/CONTRIBUTING.md, docs/UPGRADE.md:<br>
Remove trailing whitespace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5180dd802"
>[5180dd802]</a></li>
</ul>
</dd>
<dt>2024-10-28  Ikko Eltociear Ashimine</dt>
<dd>
<ul>
<li>
<p>NEWS:<br>
docs: update NEWS</p>
<p>minor fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28df79a24"
>[28df79a24]</a></p>
</li>
</ul>
</dd>
<dt>2024-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/pam.c:<br>
sudo_pam_verify: move PAM_USER after getpass_error check</p>
<p>Move it into the PAM_SUCCESS case of the switch *pam_status switch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17aa7688c"
>[17aa7688c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52c73b8f5"
>[52c73b8f5]</a></li>
</ul>
</dd>
<dt>2024-10-02  Marco Trevisan (Trevio)</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/pam.c:<br>
plugins/pam: Check the user didn&rsquo;t change during PAM transaction</p>
<p>PAM modules can change the user during their execution, in such case,
sudo would still use the user that has been provided giving potentially
access to another user with the credentials of another one.</p>
<p>So prevent this to happen, by ensuring that the final PAM user is
matching the one which started the transaction
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a68e821ef"
>[a68e821ef]</a></p>
</li>
</ul>
</dd>
<dt>2024-09-28  Clestin Matte</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Fix typo in sudoer file comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05b5de538"
>[05b5de538]</a></li>
</ul>
</dd>
<dt>2024-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
Document &ldquo;&ndash;with-secure-path-value=no&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e1a87be"
>[f6e1a87be]</a></li>
</ul>
</dd>
<dt>2024-08-17  Rose</dt>
<dd>
<ul>
<li>plugins/sudoers/strvec_join.c, plugins/sudoers/sudoers.h:<br>
Put restrict qualifers in strvec_join function pointer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77672d83c"
>[77672d83c]</a></li>
</ul>
</dd>
<dt>2024-09-17  Andy Fiddaman</dt>
<dd>
<ul>
<li>
<p>configure.ac, plugins/sudoers/sudoers.in:<br>
Allow &ndash;secure-path-value=no</p>
<p>This adds support for &ndash;with-secure-path-value=no to allow packagers to
ship the sudoers configuration file with the secure path line commented
out if required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=131e7e2de"
>[131e7e2de]</a></p>
</li>
</ul>
</dd>
<dt>2024-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>.github/workflows/main.yml:<br>
Update CIFuzz GitHub action
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae5cf31a9"
>[ae5cf31a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
alias_error: display the file and line info for the duplicate alias</p>
<p>Having the file and line of the previous alias definition should make it
easier to fix duplicate alias errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cbddb693"
>[0cbddb693]</a></p>
</li>
</ul>
</dd>
<dt>2024-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
On AIX, psinfo.pr_ttydev is 0 when a process has no terminal. On most
other systems, psinfo.pr_ttydev is -1 for processes with no associated
terminal. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/408"
>GitHub issue
#408</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d001abc8e"
>[d001abc8e]</a></li>
</ul>
</dd>
<dt>2024-09-10  Ferdinand Bachmann</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Add pam_silent setting to sudoers example config
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce36f01de"
>[ce36f01de]</a></li>
</ul>
</dd>
<dt>2024-09-09  Ferdinand Bachmann</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Fix version typo for pam_silent option in sudoers man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=915935ab6"
>[915935ab6]</a></li>
</ul>
</dd>
<dt>2024-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/eventlog.c, logsrvd/logsrvd_local.c,
plugins/sudoers/logging.c:<br>
Fix the date written used by the exit record in sudo-format log files</p>
<p>The change to always get the current time when building a struct evlog
in sudoers broke the data and time written for exit records. This only
affected file-based logs, not syslog. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/405"
>GitHub issue
#405</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22b320645"
>[22b320645]</a></p>
</li>
</ul>
</dd>
<dt>2024-09-04  Arjen Lentz</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Fixed typo in exec_ptrace.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f47c88065"
>[f47c88065]</a></li>
</ul>
</dd>
<dt>2024-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Better test for cross-compiling when checking for C99 snprintf</p>
<p>We want to avoid calling AX_FUNC_SNPRINTF entirely if cross-compiling
since it is not possible to undo the setting of
PREFER_PORTABLE_SNPRINTF. The previous attempt to do this failed to take
into account that PREFER_PORTABLE_SNPRINTF would still be defined.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/969"
>GitHub issue #969</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e12cacc0"
>[3e12cacc0]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
Make a ttydev parse error non-fatal for now</p>
<p>This is new for sudo 1.9.16 so we don&rsquo;t want to break sudo if there ends
up being a bug in formatting dev_t from the front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4751a4d2d"
>[4751a4d2d]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in:<br>
Document that ttydev is formatted as a long long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5a8f58e"
>[6a5a8f58e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac,
src/regress/ttyname/check_ttyname.c, src/sudo.c:<br>
Format ttydev as (signed) long long, not unsigned.</p>
<p>Now that we parse ttydev as a long long it makes more sense to format it
the same way. This completely avoids the sign extension issue on systems
where dev_t is signed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc8c43c4d"
>[cc8c43c4d]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/sudo.c:<br>
Fix sign compare warning</p>
<p>Store the result of asprintf() in an int, not size_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b90acbfb"
>[6b90acbfb]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac,
src/regress/ttyname/check_ttyname.c, src/sudo.c:<br>
Fix formatting of ttydev on systems with signed 32-bit dev_t</p>
<p>If dev_t is 32-bit and signed, formatting as an unsigned long long may
result in a bogus value due to sign extension.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46274e725"
>[46274e725]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
get_process_ttyname() now returns a dev_t, not a string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3aa3f1f2"
>[f3aa3f1f2]</a></li>
</ul>
</dd>
<dt>2024-08-13  Rose</dt>
<dd>
<ul>
<li>
<p>include/compat/glob.h, lib/util/glob.c:<br>
Restrict-qualify glob and its functions</p>
<p>glob is restrict-qualified in the standard
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9e0096a1"
>[e9e0096a1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/hexchar.c:<br>
Restrict-qualify sudo_hexchar_v1</p>
<p>sudo_hexchar_v1 requires an array of at least size-2, and is not
aliased.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82eac2b41"
>[82eac2b41]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
Use sudo_strtonum() instead of strtoull().</p>
<p>Fixes building on systems that lack strtoull(). While dev_t is unsigned
on most systems, we can still use sudo_strtonum() here as long as we
allow the full range of values [LLONG_MIN,LLONG_MAX]. We don&rsquo;t use
strtoul() here since some 32-bit systems have 64-bit dev_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=827fa8b76"
>[827fa8b76]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-13  Rose</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/uuid.c:<br>
Use static declaration for array sizes to uuid functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cba5d2a5c"
>[cba5d2a5c]</a></li>
</ul>
</dd>
<dt>2024-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_compat.h:<br>
Include time.h if missing utimensat() or futimens().</p>
<p>Now that we declare these as taking a timespec array we cannot get away
with a simple forward declaration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f8dfd968"
>[6f8dfd968]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-13  Rose</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/multiarch.c:<br>
Restrict-qualify stat_multiarch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7483ae8e"
>[e7483ae8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/load_plugins.c:<br>
Replace sudo_stat_plugin with sudo_qualify_plugin, as sudo_stat_plugin
does not exist</p>
<p>sudo_qualify_plugin was probably meant instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7269ee2be"
>[7269ee2be]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_base64.c:<br>
Sync base64_encode and base64_decode prototypes with parse.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3fd614e7"
>[e3fd614e7]</a></li>
</ul>
</dd>
<dt>2024-08-12  Rose Silicon</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/parse.h:<br>
Restrict-qualify dst in base64_decode</p>
<p>Definition restrict qualifies but not declaration in header.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60b6f3002"
>[60b6f3002]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-12  Rose</dt>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/fstatat.c, lib/util/gmtime_r.c,
lib/util/inet_pton.c, lib/util/localtime_r.c, lib/util/utimens.c:<br>
Use the full definition of the emulated function that is missing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f96e6d134"
>[f96e6d134]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/uuid.c:<br>
Use restrict to optimize sudo_uuid_to_string_v1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787a64f51"
>[787a64f51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/b64_decode.c, plugins/sudoers/b64_encode.c,
plugins/sudoers/parse.h:<br>
Add restrict qualifiers to base64_decode and base64_encode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=818aae38c"
>[818aae38c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_iolog.h, plugins/sudoers/iolog_path_escapes.c:<br>
Restrict-qualify iolog_path_escapes like we do with check_iolog_path</p>
<p>Also add it to the function pointer definition to act as a hint to use
restrict in the various copy functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85d08e96b"
>[85d08e96b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/uuid.c:<br>
sudo_uuid_to_string_v1&rsquo;s first argument should be const</p>
<p>uuid is not modified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36cea6e5f"
>[36cea6e5f]</a></p>
</li>
</ul>
</dd>
<dt>2024-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Use FD_CLOEXEC instead of just 1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1381a69f5"
>[1381a69f5]</a></li>
</ul>
</dd>
<dt>2024-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention &ndash;with-secure-path-value configure option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6064b04c"
>[f6064b04c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>INSTALL.md, configure, configure.ac:<br>
Add &ndash;with-secure-path-value option</p>
<p>This can be used by package maintainers to set the value of secure_path
that is substituted into the default sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e24737eac"
>[e24737eac]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Rename secure_path_set -&gt; secure_path_status
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=986fdec53"
>[986fdec53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_logsrvd.man.in, docs/sudo_sendlog.man.in, docs/sudoers.man.in:
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5f5ceecf"
>[a5f5ceecf]</a></li>
</ul>
</dd>
<dt>2024-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po, po/fr.mo, po/fr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb2457410"
>[cb2457410]</a></li>
</ul>
</dd>
<dt>2024-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_logsrvd.mdoc.in, docs/sudo_sendlog.mdoc.in,
docs/sudoers.mdoc.in:<br>
Add sudo_logsrv.proto manual cross-reference.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=200af679d"
>[200af679d]</a></li>
</ul>
</dd>
<dt>2024-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Late changes for 1.9.16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9837fa141"
>[9837fa141]</a></li>
</ul>
</dd>
<dt>2024-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
If cross-compiling with a C99 compiler, assume snprintf is compliant.</p>
<p>This is a better default than assuming it is not compliant (the previous
behavior) when cross-compiling. These days it is rare for sudo to be
built on pre-C99 systems. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/969"
>GitHub issue
#969</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=920710b18"
>[920710b18]</a></p>
</li>
</ul>
</dd>
<dt>2024-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Reference schema.IBM_LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc051ceff"
>[fc051ceff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/id.mo, plugins/sudoers/po/id.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/hr.mo, po/hr.po,
po/id.mo, po/id.po, po/ja.mo, po/ja.po, po/ko.mo, po/ko.po, po/pl.mo,
po/pl.po, po/ro.mo, po/ro.po, po/ru.mo, po/ru.po, po/sv.mo, po/sv.po,
po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2af245b3"
>[b2af245b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, README.LDAP.md, docs/schema.IBM_LDAP:<br>
Add schema for IBM Directory Server in LDIF format.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/384"
>GitHub issue #384</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e97060d2f"
>[e97060d2f]</a></p>
</li>
</ul>
</dd>
<dt>2024-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Remove an errant line that should have been removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e92467723"
>[e92467723]</a></li>
</ul>
</dd>
<dt>2024-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention changes to the default sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e94feadff"
>[e94feadff]</a></li>
</ul>
</dd>
<dt>2024-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Improve the description of secure_path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06799eddf"
>[06799eddf]</a></li>
</ul>
</dd>
<dt>2024-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>INSTALL.md, configure, configure.ac, docs/sudoers.mdoc.in,
plugins/sudoers/sudoers.in:<br>
Enable secure_path in default sudoers file.</p>
<p>It is still disabled by default in the sudo binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0e24456b"
>[e0e24456b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/sudoers.in:<br>
Preserve SUDO_EDITOR, EDITOR, and VISUAL for visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1db145355"
>[1db145355]</a></li>
</ul>
</dd>
<dt>2024-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14a8d9c09"
>[14a8d9c09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eec523aab"
>[eec523aab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>INSTALL.md, configure, configure.ac:<br>
Compile in support for insults by default.</p>
<p>Insults are still disabled by default but can be enabled in the sudoers
file. To completely disable insult support, use the &ndash;without-insults
configure option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50ae48a4b"
>[50ae48a4b]</a></p>
</li>
</ul>
</dd>
<dt>2024-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/cvtsudoers/test41.out.ok,
plugins/sudoers/regress/cvtsudoers/test41.sh:<br>
Treat unresolvable User_Alias/Host_Alias as non-aliases in JSON output.</p>
<p>This matches the behavior of the sudoers parser. There is no way to tell
for sure if an upper case word is an alias or a user or host name. An
unresolvable command alias is never a command since it doesn&rsquo;t start
with a &lsquo;/&rsquo;. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/381"
>GitHub issue
#381</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9d65e67a"
>[e9d65e67a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/json.c:<br>
Set need_comma when closing an array or object.</p>
<p>This fixes an issue where an empty array or object would not have a
comma after it. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/381"
>GitHub issue
#381</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e1c58753"
>[4e1c58753]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/Makefile.in:<br>
Add comment that the .mdoc files are generated from .mdoc.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=648ce410f"
>[648ce410f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrv.proto.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_logsrvd.man.in, docs/sudo_logsrvd.mdoc.in,
docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudo_sendlog.man.in, docs/sudo_sendlog.mdoc.in,
docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Sync BUGS section with the bugs section of README.md.</p>
<p>Also mention how to report security issues based on SECURITY.md. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/377"
>GitHub
issue #377</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74d64bc89"
>[74d64bc89]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/regress/sudoers/test24.in,
plugins/sudoers/regress/sudoers/test24.json.ok,
plugins/sudoers/regress/sudoers/test24.ldif.ok,
plugins/sudoers/regress/sudoers/test24.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test24.out.ok,
plugins/sudoers/regress/sudoers/test24.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Allow the path in Chdir_Spec | Chroot_Spec to be double-quoted.</p>
<p>The other values of an Option_Spec could already be quoted but path
names are treated specially.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c74a971d"
>[7c74a971d]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-21  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/sudo.conf.man.in, docs/sudo.man.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.man.in, docs/sudo_plugin.man.in,
docs/sudo_plugin_python.man.in, docs/sudo_sendlog.man.in,
docs/sudoers.ldap.man.in, docs/sudoers.man.in,
docs/sudoers_timestamp.man.in, docs/sudoreplay.man.in,
docs/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58fec2f0c"
>[58fec2f0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/Makefile.in:<br>
Include the name of the original .mdoc.in file in the .man.in file.</p>
<p>This should make it more obvious which is the authoritative file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54ac175d3"
>[54ac175d3]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_pty.c, src/sudo.h:<br>
When revoking the pty, kill the foreground process from the parent sudo.</p>
<p>There&rsquo;s no need to send messages back and forth to the monitor when the
main process can just do it. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/367"
>GitHub issue
#367</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62e4d29f8"
>[62e4d29f8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Fix a syntax error in the systemd sudo-logsrvd.postinst script:
sudo-logsrvd.postinst: 120: [: -eq: unexpected operator
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52772ae6e"
>[52772ae6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>scripts/mkpkg:<br>
Fix check for libaudit package on Debian-based systems.</p>
<p>Newer systems only have /usr/lib with /lib as a symbolic link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52586b0db"
>[52586b0db]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/schema.ActiveDirectory:<br>
Add double quotes around #schemaNamingContext in example.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/376"
>GitHub issue #376</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee56176b1"
>[ee56176b1]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-15  Robert Manner</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/tls_client.c, plugins/sudoers/log_client.c:<br>
logsrvd,plugins/sudoers: add debug log on TLS verification error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba29f54d9"
>[ba29f54d9]</a></li>
</ul>
</dd>
<dt>2024-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c:<br>
apply_cmndspec: plug potential memory leak</p>
<p>If apply_cmndspec() is called where the cmndspec defines an apparmor
profile or Solaris privileges, and then is called again with a cmndspec
that does not have those set we would leak the original value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2a979f40"
>[f2a979f40]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, src/parse_args.c, src/sudo.h:<br>
We do not pass apparmor_profile from the front-end to the policy.</p>
<p>There is no command line option to specify a profile, it is only passed
from the policy to the front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43ffe34ab"
>[43ffe34ab]</a></p>
</li>
</ul>
</dd>
<dt>2024-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.dict:<br>
Sync fuzz_sudoers dictionary with def_data.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=720a1450e"
>[720a1450e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c:<br>
apply_cmndspec: plug apparmor_profile leak</p>
<p>Also override existing Solaris privs if specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=718df95e1"
>[718df95e1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
free_cmndspec: plug apparmor_profile leak
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07d6aa247"
>[07d6aa247]</a></li>
</ul>
</dd>
<dt>2024-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/testhelpers.c:<br>
Python 3.12 backtraces use &lsquo;~&rsquo; in addition to &lsquo;^&rsquo; when underlining.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/374"
>GitHub issue #374</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89918caf5"
>[89918caf5]</a></li>
</ul>
</dd>
<dt>2024-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test31.in,
plugins/sudoers/regress/sudoers/test31.json.ok,
plugins/sudoers/regress/sudoers/test31.ldif.ok,
plugins/sudoers/regress/sudoers/test31.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test31.out.ok,
plugins/sudoers/regress/sudoers/test31.toke.ok:<br>
Add test for parsing SELinux, AppArmor and Solaris privileges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e6c90cde"
>[2e6c90cde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/display.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap_util.c,
plugins/sudoers/lookup.c, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_ctx_free.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Unifdef parser support for SELinux, AppArmor and Solaris privileges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=389c8550c"
>[389c8550c]</a></li>
</ul>
</dd>
<dt>2024-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/display.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap_util.c:<br>
Add some missing AppArmor bits.</p>
<p>o Display ApparmorProfile in &ldquo;long list&rdquo; format. o Propagate
apparmor_profile setting to commands in a list. o Support
apparmor_profile in an LDAP sudoOption.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38b98b417"
>[38b98b417]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c:<br>
Quiet compiler warning on Solaris 10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef52db46f"
>[ef52db46f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/regress/harness.in:<br>
Check JSON output with jq if present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d47acf69"
>[4d47acf69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_json.c:<br>
Format SELinux, AppArmor and Solaris privileges as Options.</p>
<p>Previously these were output as separate arrays without an enclosing
object. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/373"
>GitHub issue
#373</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c2204d34"
>[7c2204d34]</a></p>
</li>
</ul>
</dd>
<dt>2024-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_logsrvd.mdoc.in, docs/sudo_plugin.mdoc.in,
docs/sudoers.mdoc.in, docs/sudoers_timestamp.mdoc.in,
etc/codespell.exclude, lib/util/lbuf.c, logsrvd/logsrvd_journal.c,
plugins/sudoers/parse_ldif.c, src/exec_intercept.c:<br>
Pass &ldquo;make spell&rdquo; with updated codespell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27963e39f"
>[27963e39f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_monitor.c:<br>
mon_handle_revoke: only send SIGHUP to the foreground process group.</p>
<p>There&rsquo;s no need to signal both the foreground process group and the
command itself (if different). This matches the behavior of the session
leader exiting, which is what we want to simulate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=195b7c2bc"
>[195b7c2bc]</a></p>
</li>
</ul>
</dd>
<dt>2024-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_pty.c, src/sudo.h:<br>
Avoid using ioctl(TIOCNOTTY) in the monitor.</p>
<p>We don&rsquo;t need to revoke the terminal in the monitor, just signal the
foreground process group. This is more portable and has the same effect
as ioctl(TIOCNOTTY) would on Linux. Since we now signal the command from
the monitor, there is no reason to forward SIGHUP from the kernel.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/367"
>GitHub issue #367</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2d01a957"
>[a2d01a957]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/sudoers/test24.json.ok:<br>
Fix copy and paste error in the fix for <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/369"
>GitHub issue
#369</a> Fixes GitHub
issue #371
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e770c857f"
>[e770c857f]</a></li>
</ul>
</dd>
<dt>2024-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_pty.c, src/sudo.h:<br>
If user&rsquo;s tty goes away, tell monitor to revoke the tty in its session.</p>
<p>Previously, we would simply close the pty leader in the main sudo
process. This had the effect of revoking the pty, but the foreground
process would not necessarily receive SIGHUP. By using TIOCNOTTY in the
monitor, the running command has a better chance of getting SIGHUP. Once
the monitor has revoked the pty, the main sudo process will close the
pty leader, invalidating the pty. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/367"
>GitHub issue
#367</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41978a56e"
>[41978a56e]</a></p>
</li>
</ul>
</dd>
<dt>2024-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in:<br>
Commands with multiple digests of the same type are stored in an array.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37f8a8453"
>[37f8a8453]</a></li>
</ul>
</dd>
<dt>2024-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/sudoers/test14.json.ok:<br>
Store mulitple command digests of the same type as an array.</p>
<p>Otherwise, we end up with duplicated keys in the object. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/370"
>GitHub issue
#370</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c42922069"
>[c42922069]</a></p>
</li>
</ul>
</dd>
<dt>2024-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/ins_2001.h,
plugins/sudoers/ins_classic.h, plugins/sudoers/ins_csops.h,
plugins/sudoers/ins_goons.h, plugins/sudoers/ins_python.h:<br>
Call gettext() on insults when displayed, not when declared.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78699a8f7"
>[78699a8f7]</a></li>
</ul>
</dd>
<dt>2024-04-01  alberic89</dt>
<dd>
<ul>
<li>plugins/sudoers/ins_2001.h, plugins/sudoers/ins_classic.h,
plugins/sudoers/ins_csops.h, plugins/sudoers/ins_goons.h,
plugins/sudoers/ins_python.h:<br>
Make insults translatable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8666c66ff"
>[8666c66ff]</a></li>
</ul>
</dd>
<dt>2024-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/sudoers/test24.json.ok:<br>
When converting CWD and CHROOT tags, store them as objects. Fixes
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/369"
>GitHub issue #369</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26ce75110"
>[26ce75110]</a></li>
</ul>
</dd>
<dt>2024-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add pam_silent sudoers option. Inspired by PR #368 <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/216"
>GitHub issue
#216</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecdf0c80f"
>[ecdf0c80f]</a></li>
</ul>
</dd>
<dt>2024-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md, config.h.in, configure, configure.ac,
plugins/sudoers/ins_classic.h, plugins/sudoers/ins_csops.h:<br>
Remove offensive insults that were disabled by default anyway. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1058"
>Bug
#1058</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0823c70c"
>[f0823c70c]</a></li>
</ul>
</dd>
<dt>2024-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/logsrvd_conf.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c:<br>
Remove EVLOG_JSON, callers must use EVLOG_JSON_COMPACT or
EVLOG_JSON_PRETTY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6175b78a"
>[b6175b78a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, include/sudo_eventlog.h,
lib/eventlog/eventlog.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_cb.c:<br>
Add &ldquo;json_pretty&rdquo; log format, currently the same as &ldquo;json&rdquo;.</p>
<p>In a future version, &ldquo;json&rdquo; will be an alias for &ldquo;json_compact&rdquo; instead.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/357"
>GitHub issue #357</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e31a74d"
>[46e31a74d]</a></p>
</li>
</ul>
</dd>
<dt>2024-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, include/sudo_eventlog.h,
lib/eventlog/eventlog.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/logging.c,
plugins/sudoers/sudoers_cb.c:<br>
Add json_compact log type for compact/minified JSON.</p>
<p>The &ldquo;json_compact&rdquo; log type logs one event per line in compact/minified
JSON format. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/357"
>GitHub issue
#357</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1debad3be"
>[1debad3be]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3ade1c5f"
>[b3ade1c5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, plugins/sudoers/env.c:<br>
Set SUDO_HOME to the invoking user&rsquo;s home directory. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/358"
>GitHub issue
#358</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=602a58e86"
>[602a58e86]</a></li>
</ul>
</dd>
<dt>2024-03-02  Martin</dt>
<dd>
<ul>
<li>
<p>etc/sudo-logsrvd.pp:<br>
sudo-logsrvd.pp: Remove syslog.target (non-existent upstream since 11~
years ago)</p>
<p>Remove syslog.target from service file, this target hasn&rsquo;t existed for
over a decade.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/systemd/systemd/blob/6aa8d43ade72e24c9426e604f7fc4b75"
>https://github.com/systemd/systemd/blob/6aa8d43ade72e24c9426e604f7fc4b75</a>
82b9db7c/NEWS#L72-L73
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=836d2b556"
>[836d2b556]</a></p>
</li>
</ul>
</dd>
<dt>2024-02-29  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/Makefile.in:<br>
Explicitly link check_symbols with zlib.</p>
<p>Fixes a test failure on some systems when using sudo&rsquo;s built-in zlib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72cee2fa2"
>[72cee2fa2]</a></p>
</li>
</ul>
</dd>
<dt>2024-02-22  Fabrice Fontaine</dt>
<dd>
<ul>
<li>
<p>m4/openssl.m4:<br>
m4/openssl.m4: fix cross-compilation with wolfssl</p>
<p>Do not append -I/usr/include/wolfssl when cross-compiling</p>
<p>Signed-off-by: Fabrice Fontaine &lt;fontaine.fabrice@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f66ebfa0f"
>[f66ebfa0f]</a></p>
</li>
</ul>
</dd>
<dt>2024-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/protobuf-c/Makefile.in,
lib/ssl_compat/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Regenerate dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81acb2bd7"
>[81acb2bd7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/ssl_compat/Makefile.in,
lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Use $(CPP) instead if $(CC) -E when buiding .i files from .c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3944ab1fb"
>[3944ab1fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add missing subdirs to depend target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a61e4b07"
>[2a61e4b07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, scripts/mkdep.pl:<br>
Using $&lt; in a non-suffix rule context is a GNU make extension.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b073f312"
>[9b073f312]</a></li>
</ul>
</dd>
<dt>2024-02-17  Yann E. MORIN</dt>
<dd>
<ul>
<li>
<p>lib/util/Makefile.in:<br>
lib/utils: detect failure to generate signals list and names</p>
<p>Currently, we generate the signal list and names by running cpp on our
header, and piping the result into sed.</p>
<p>However, when cpp fails [0], we do not catch that failure, as the error
code of the LHS of a pipe is lost, with the pipe returning the RHS-most
return code.</p>
<p>Fix that by introducing two new intermediate rules, each to generate the
preprocessed .i files, and use those as dependencies and input to the
rule that generates the headers. Those two .i files will be cleaned up
by the existing *.i glob.</p>
<p>[0] a failure happens on recent hosts, due to inconsistency with
time64_t and large-file support (lines elided and wrapped for
readability):</p>
<p>/usr/bin/cpp [&hellip;] ./sys_signame.h \ | /usr/bin/sed -e &lsquo;1,/^int
sudo_end_of_headers;/d&rsquo; -e &lsquo;/^#/d&rsquo; &gt; mksigname.h In file included from
/usr/include/features.h:394, from /usr/include/sys/types.h:25, from
./sys_signame.h:4: /usr/include/features-time64.h:26:5: error: #error
&ldquo;_TIME_BITS=64 is allowed only with _FILE_OFFSET_BITS=64&rdquo; 26 | # error
&ldquo;_TIME_BITS=64 is allowed only with _FILE_OFFSET_BITS=64&rdquo; | ^~~~~
/usr/bin/gcc [&hellip;] ./mksigname.c -o mksigname In file included from
/usr/include/features.h:394, from
/usr/include/bits/libc-header-start.h:33, from /usr/include/stdlib.h:26,
from ./mksigname.c:27: /usr/include/features-time64.h:26:5: error:
#error &ldquo;_TIME_BITS=64 is allowed only with _FILE_OFFSET_BITS=64&rdquo; 26 | #
error &ldquo;_TIME_BITS=64 is allowed only with _FILE_OFFSET_BITS=64&rdquo; | ^~~~~
make[2]: *** [Makefile:263: mksigname] Error 1</p>
<p>In that case, we were lucky that the subsequent gcc call also failed,
and for the same reason. That time64_t and lfs issue should be fixed (at
least investigated), but that does not mean we should not be more robust
when parsing the header either.</p>
<p>Signed-off-by: Yann E. MORIN &lt;yann.morin.1998@free.fr&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ec958f27"
>[6ec958f27]</a></p>
</li>
</ul>
</dd>
<dt>2024-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
Regen with autoconf 2.72
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ebf31aa"
>[f3ebf31aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>configure.ac:<br>
Check if ac_cv_sys_file_offset_bits is &ldquo;64&rdquo;, not &ldquo;yes&rdquo;</p>
<p>This is used for determining whether to set _TIME_BITS with autoconf
versions before 2.72.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bafdcc3d4"
>[bafdcc3d4]</a></p>
</li>
</ul>
</dd>
<dt>2024-02-17  Yann E. MORIN</dt>
<dd>
<ul>
<li>
<p>src/exec_ptrace.c:<br>
src/exec_ptrace: fix build without precess_vm_readv()</p>
<p>Commit 32f4b98f6b4a (sudo frontend: silence most -Wconversion warnings.)
broke the build on C libraries that miss process_vm_readv(), like
uClibc-ng.</p>
<p>Indeed, the ssize_t nwritten is declared guarded by
HAVE_PROCESS_VM_READV, but is then re-assigned and used a few lines
below, outside any guard.</p>
<p>Fix that by always declaring the object, as it is always needed.</p>
<p>Signed-off-by: Yann E. MORIN &lt;yann.morin.1998@free.fr&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bbfaa8e6"
>[5bbfaa8e6]</a></p>
</li>
</ul>
</dd>
<dt>2024-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/HISTORY.md:<br>
Quest no longer sponsors sudo development.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f69031da2"
>[f69031da2]</a></li>
</ul>
</dd>
<dt>2024-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Correct a misleading debug message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a39814e4"
>[0a39814e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md, lib/zlib/deflate.c, lib/zlib/deflate.h, lib/zlib/gzguts.h,
lib/zlib/gzlib.c, lib/zlib/inflate.c, lib/zlib/inftrees.c,
lib/zlib/inftrees.h, lib/zlib/trees.c, lib/zlib/zconf.h.in,
lib/zlib/zlib.h, lib/zlib/zutil.h:<br>
Update embedded copy of zlib to version 1.3.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb4506f43"
>[eb4506f43]</a></li>
</ul>
</dd>
<dt>2024-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
Update copyright data in the package files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3899f2ef9"
>[3899f2ef9]</a></li>
</ul>
</dd>
<dt>2024-01-12  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/glob.c, plugins/sudoers/tsdump.c:<br>
Prefer putchar over fputc where possible</p>
<p>putchar is easier to understand than fputc and printf and does less work
than those two do.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=725d3fdc2"
>[725d3fdc2]</a></p>
</li>
</ul>
</dd>
<dt>2024-01-13  Rose</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/iolog_path_escapes.c:<br>
Add restrict qualifiers to strlcpy_no_slash</p>
<p>It&rsquo;s just strlcpy except it replaces &lsquo;/&rsquo; with &lsquo;_&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fc7d6953"
>[7fc7d6953]</a></p>
</li>
</ul>
</dd>
<dt>2024-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Only log &ldquo;a password is required&rdquo; for &ldquo;sudo -n&rdquo; if a command is
specified. This means that it is not logged for &ldquo;sudo -nv&rdquo; and &ldquo;sudo
-nl&rdquo;. We only log this message when sudo&rsquo;s -n flag is specified (and not
when the user presses ^C at the password prompt) so that there is a
record of failed non-interactive commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67e328d6f"
>[67e328d6f]</a></li>
</ul>
</dd>
<dt>2024-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Document side-effects of enabling the use_pty option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b39dc7c5f"
>[b39dc7c5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.in:<br>
Update &ldquo;!use_pty&rdquo; example to only disable it for non-root users.</p>
<p>Also add a commented out entry for &ldquo;exec_background&rdquo; which can also be
used to prevent sudo from consuming tty input. Related to <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/338"
>GitHub issue
#338</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff3dbe60b"
>[ff3dbe60b]</a></p>
</li>
</ul>
</dd>
<dt>2024-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/mktemp/mktemp_test.c:<br>
Add check for sysconf(_SC_PAGESIZE) failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00452471b"
>[00452471b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
sudo_edit_mktemp: remove useless cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f52fa574c"
>[f52fa574c]</a></li>
</ul>
</dd>
<dt>2023-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE.md:<br>
Welcome to 2024
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22b01501e"
>[22b01501e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md:<br>
Bump zlib copyright date for version 1.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c15e0aeea"
>[c15e0aeea]</a></li>
</ul>
</dd>
<dt>2023-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>scripts/mkpkg:<br>
Restore the ability to override default configure settings.</p>
<p>The user-specified options must go last&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69a024304"
>[69a024304]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.15p5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00b2bd358"
>[00b2bd358]</a></li>
</ul>
</dd>
<dt>2023-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Handle Debian GNU Hurd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5a3513fb"
>[b5a3513fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/pwutil_impl.c:<br>
Properly handle sysconf(_SC_LOGIN_NAME_MAX) returning -1 on failure.</p>
<p>The cast to size_t needs to be outside the MAX() macro or the -1 will
get cast to unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4057faca"
>[e4057faca]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, plugins/sudoers/timestamp.c:<br>
Automatically migrate lecture file path from name-based to uid-based.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/342"
>GitHub issue #342</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4dc22d5"
>[ad4dc22d5]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/iolog_path/check_iolog_path.c:<br>
Add missing checks for strdup() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63f2c54b8"
>[63f2c54b8]</a></li>
</ul>
</dd>
<dt>2023-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/ldap_conf.c:<br>
Disable netgroup_query when netgroup_base is not set.</p>
<p>The logic was inverted when support for netgroup_query was added. This
supercedes PR #341.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fbf7a362"
>[5fbf7a362]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
In the NOEXEC example make it clear that &ldquo;shanty&rdquo; is a host. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1064"
>Bug
#1064</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d4ffe674"
>[6d4ffe674]</a></li>
</ul>
</dd>
<dt>2023-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/eventlog.c:<br>
closefrom_nodebug: skip fds &lt; 0</p>
<p>This can only happen if lowfd &lt; 0, which is never the case. Quiets a
static analyzer warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10fd66ac9"
>[10fd66ac9]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
Fix printing of warning when a Defaults setting is missing a value.</p>
<p>This is a bug in parse_default_entry() introduced in sudo 1.8.19 when
support for using the default syslog facility was added at the wrong
place in a switch().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=701914816"
>[701914816]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Sprinkle some more const in defaults.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f67a7e623"
>[f67a7e623]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
Fix evaluation of a tuple used in &ldquo;true&rdquo; boolean context.</p>
<p>Previously, a tuple in boolean context was always treated as a negated
entry, which doesn&rsquo;t match the documentation. We assume that there are
at least two tuple entries where the first maps to boolean false and the
second maps to boolean true.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2df637b26"
>[2df637b26]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.15p4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=680352b91"
>[680352b91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c:<br>
sudoers_lookup_pseudo: init match to UNSPEC for sudo_nss_can_continue().</p>
<p>Otherwise, processing will stop after the first sudoers nsswitch service
specification where [SUCCESS=return] is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbc4c50d4"
>[fbc4c50d4]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.15p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9198ef4d"
>[c9198ef4d]</a></li>
</ul>
</dd>
<dt>2023-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
Pass back Solaris privs as &ldquo;runas_privs&rdquo; and &ldquo;runas_limitprivs&rdquo;.</p>
<p>The &ldquo;runas_&rdquo; prefix got inadvertantly removed in the big sudoers_context
refactor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de242c573"
>[de242c573]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/term.c, lib/util/ttysize.c,
lib/util/util.exp.in, src/sudo.h, src/ttyname.c:<br>
sudo_term_is_raw: only try to lock the fd if it is a tty</p>
<p>This moves sudo_isatty() to libsudo_util so sudo_term_is_raw() can use
it. Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/335"
>GitHub issue
#335</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e03cbd0b"
>[1e03cbd0b]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
setup_terminal: fix an editing error introduced in 1.9.15.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d17e28ad6"
>[d17e28ad6]</a></li>
</ul>
</dd>
<dt>2023-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_command.c:<br>
command_matches_regex: retry with canonicalized path if possible</p>
<p>If ctx-&gt;user.cmnd doesn&rsquo;t match, use ctx-&gt;user.cmnd_dir (if present)
to construct a canonicalized path and match on that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c2de39da"
>[0c2de39da]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_command.c:<br>
command_matches_fnmatch: retry with canonicalized path if possible</p>
<p>If ctx-&gt;user.cmnd doesn&rsquo;t match, use ctx-&gt;user.cmnd_dir (if present)
to construct a canonicalized path and match on that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44f0908e7"
>[44f0908e7]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/gethostname.c:<br>
If sysconf(_SC_HOST_NAME_MAX) returns 0, just use 255.</p>
<p>This should not actually be possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24f443981"
>[24f443981]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sethost.c:<br>
Fall back to &ldquo;localhost&rdquo; if gethostname() fails.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/332"
>GitHub issue #332</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8faf43249"
>[8faf43249]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_command.c:<br>
command_matches_glob: fix comparison of canonicalized parent directories</p>
<p><a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1062"
>Bug #1062</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dd296776"
>[8dd296776]</a></p>
</li>
</ul>
</dd>
<dt>2023-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_csv.c:<br>
Add missing print_member_list_csv() return value check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c3eb2fec"
>[9c3eb2fec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsdump.c:<br>
Check sudoers_debug_register() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79ed29c4a"
>[79ed29c4a]</a></li>
</ul>
</dd>
<dt>2023-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, scripts/config.guess, scripts/config.sub:<br>
Regenerate with the autoconf 2.72d snapshot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3ac12297"
>[c3ac12297]</a></li>
</ul>
</dd>
<dt>2023-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in:<br>
Add cmddenial_message to def_data.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77700a4b7"
>[77700a4b7]</a></li>
</ul>
</dd>
<dt>2023-11-28  THE-Spellchecker</dt>
<dd>
<ul>
<li>INSTALL.md, docs/UPGRADE.md, lib/util/event.c, lib/util/fatal.c,
lib/util/fnmatch.c, lib/util/lbuf.c, lib/util/snprintf.c,
lib/util/sudo_dso.c, plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py, plugins/sample/sample_plugin.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.in, plugins/sudoers/ldap.c,
plugins/sudoers/lookup.c, plugins/sudoers/parse.h,
plugins/sudoers/parse_ldif.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.h, plugins/sudoers/set_perms.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c, src/exec.c,
src/exec_monitor.c, src/exec_ptrace.c, src/exec_pty.c:<br>
Typographical and Grammatical fixes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eba4b48c"
>[5eba4b48c]</a></li>
</ul>
</dd>
<dt>2023-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Reword the description of cmddenial_message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4ae559c8"
>[b4ae559c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoreplay.man.in:<br>
Regenerate from sudoreplay.mdoc.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b6e0aed0"
>[6b6e0aed0]</a></li>
</ul>
</dd>
<dt>2023-11-20  Guillaume Destuynder</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/logging.c,
plugins/sudoers/regress/sudoers/test26.in,
plugins/sudoers/regress/sudoers/test26.json.ok,
plugins/sudoers/regress/sudoers/test26.ldif.ok,
plugins/sudoers/regress/sudoers/test26.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test26.out.ok,
plugins/sudoers/regress/sudoers/test26.toke.ok:<br>
Add support for a custom message when the command execution is denied.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4cbfecda"
>[a4cbfecda]</a></li>
</ul>
</dd>
<dt>2023-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/ttyname_dev.c:<br>
No need to include sys/param.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55db82908"
>[55db82908]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/tsdump.c:<br>
tsdump: quiet compiler warnings on some platforms.</p>
<p>Quiet a -Wshadow warning from gcc. Cast major() and minor() to unsigned
int when printing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=522f1b634"
>[522f1b634]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/tsdump.c:<br>
tsdump: display both the terminal path and device number.</p>
<p>If no terminal device can be found, print &ldquo;major, minor&rdquo; device numbers
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=288593875"
>[288593875]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in:<br>
Sync time stamp defines with sudoers timestamp.h</p>
<p>The types and flags are now explicitly unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d7dfbfd4"
>[7d7dfbfd4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in:<br>
Mention the tsdump utility
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c958e185"
>[0c958e185]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Build tsdump by default so it does not suffer bit rot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66c9a636d"
>[66c9a636d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h:<br>
Add sudo_debug_exit_dev_t stub for fuzzing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67ed8fbe5"
>[67ed8fbe5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/chacha_private.h, lib/util/inet_pton.c:<br>
Avoid using the u_int type, which is not portable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be911b77d"
>[be911b77d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/tsdump.c:<br>
tsdump: update to use a uid-based path by default</p>
<p>This matches the changes in sudo 1.9.15 to the sudoers policy module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ff6f4965"
>[5ff6f4965]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout:<br>
Update for plugin version 1.22.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce74f50b4"
>[ce74f50b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
include/sudo_plugin.h:<br>
Document ttydev and bump plugin version to 1.22
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61dbfe092"
>[61dbfe092]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Add ttydev to sudoers_user_context and use for timestamp file.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/329"
>GitHub issue #329</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a85494b5c"
>[a85494b5c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_debug.h, src/sudo.c, src/sudo.h, src/ttyname.c:<br>
Pass tty device number from front-end to policy module.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/329"
>GitHub issue #329</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dfbf9316"
>[3dfbf9316]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/eventlog/parse_json.c, lib/iolog/iolog_legacy.c,
lib/iolog/iolog_loginfo.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd_local.c, logsrvd/sendlog.c, plugins/sudoers/audit.c,
plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Rename submit_time -&gt; event_time in struct eventlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9275b7ea"
>[b9275b7ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/logging.c:<br>
We can use evlog.submit_time in the call to eventlog_alert().</p>
<p>This is set to the current wallclock time by sudoers_to_eventlog().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e53d5fdd"
>[0e53d5fdd]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h:<br>
Replace submit_time in struct sudoers_context with start_time.</p>
<p>We need to track the (monotonic) command start time to be able to
generate an accurate run time. Instead of setting submit time when the
policy initializes (and using that time for logging purposes), set
evlog-&gt;submit_time to the current wallclock time when we need to
perform logging. This is more consistent with how sudo logging was
performed in the past. Fixes GitHub issues #327.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39ea3176c"
>[39ea3176c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c, plugins/sudoers/log_client.h,
plugins/sudoers/logging.c:<br>
log_server_open: always pass in awake time, not wallclock time.</p>
<p>The timespec passed to log_server_open() should be from
sudo_gettime_awake() since it is used to build the command run time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=432b08555"
>[432b08555]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/log_client.c, plugins/sudoers/log_client.h,
plugins/sudoers/logging.c:<br>
log_server_alert: use fmt_alert_message not fmt_reject_message</p>
<p>Only affects intercepted commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6965e1b0a"
>[6965e1b0a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/log_client.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h:<br>
log_server_alert: struct timespec argument was not actually used</p>
<p>The struct timespec argument is used to initialize the command start
time, which is not used for an alert message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13dec64f3"
>[13dec64f3]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_csv.c:<br>
cvtsudoers_csv.c: remove most sudo_fatal() calls.</p>
<p>Errors are now propagated up the call stack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47a43c540"
>[47a43c540]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
No need for sudo_fatalx() here, just pass back an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd5f7a450"
>[dd5f7a450]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
cvtsudoers_ldif: display warning on write error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c06aa321"
>[2c06aa321]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_merge.c:<br>
cvtsudoers_merge.c: remove sudo_fatal() calls.</p>
<p>Errors are now propagated up the call stack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e4632691"
>[7e4632691]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c:<br>
Make new_member() return NULL on failure and adjust callers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cfd4467f"
>[8cfd4467f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Pass return values back instead of using sudo_fatal().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=564d8ac01"
>[564d8ac01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_ldif.c:<br>
Add printf_attribute_ldif() to printf-format an LDIF attribute.</p>
<p>This replaces multiple sequences of asprintf() and
print_attribute_ldif().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d28884b1c"
>[d28884b1c]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_json.c:<br>
cvtsudoers_json.c: check sudo_json_* return values.</p>
<p>Previously, we set memfatal to true in sudo_json_init() instead. This
also gets rid of a number of sudo_fatalx() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12e55dcd7"
>[12e55dcd7]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
add_timestamp: check sudo_json_* return values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a68935ae"
>[1a68935ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/alias.c, plugins/sudoers/check_aliases.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/parse.h, plugins/sudoers/testsudoers.c:<br>
alias_apply: change return type to bool</p>
<p>We can use the rbapply() return value to detect failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2998a670"
>[a2998a670]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/sudo.c:<br>
Always disable core dumps when sudo sends itself a fatal signal.</p>
<p>When a command exits due to a fatal signal, sudo will re-send that
signal to itself so the shell does not ignore keyboard-generated
signals. However, now that sudo disables core dumps by default for the
command, we cannot rely on WCOREDUMP() telling us whether or not the
signal will lead to a core dump. It is safest to always disable core
dumps before sending the signal to ourself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab49adb92"
>[ab49adb92]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.15p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62895ea44"
>[62895ea44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Update PolyPkg from upstream.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f40753d4"
>[0f40753d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/term.c:<br>
sudo_term_restore: don&rsquo;t check c_cflag on systems with TCSASOFT.</p>
<p>If TCSASOFT is present, tcsetattr() will ignore c_cflag. Fixes a bug
where sudo_term_restore() would refuse to change the terminal settings
back if the PARENB control flag was set. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/326"
>GitHub issue
#326</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6ac589cc"
>[a6ac589cc]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Quote $osversion since it may include whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0497bde98"
>[0497bde98]</a></li>
</ul>
</dd>
<dt>2023-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.h:<br>
Use C99 designated struct initializers.</p>
<p>This is less error-prone and would have avoided <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/325"
>GitHub issue
#325</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0d912d1d"
>[e0d912d1d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.15p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45aeeddcb"
>[45aeeddcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.h:<br>
Correct the order of the strings in SUDOERS_CONTEXT_INITIALIZER.</p>
<p>Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/325"
>GitHub issue
#325</a>, a bug introduced
in sudo 1.9.15.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87c193f3f"
>[87c193f3f]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
In the sudo 1.9.14p3 section, &ldquo;Python python&rdquo; should be &ldquo;Python plugin&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d45071af4"
>[d45071af4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo now logs the submitenv in the JSON logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=747c34059"
>[747c34059]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in:<br>
Document special cases for AIX-style shared libraries.</p>
<p>The shared object is a member of an archive file that is specified in
parentheses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3686c9fdd"
>[3686c9fdd]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in:<br>
Add sudoers plugin Debug example and x-ref sudoers man page for details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e77247927"
>[e77247927]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in:<br>
The HP-UX getgrouplist() code has been disabled due to bugs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec6906f63"
>[ec6906f63]</a></li>
</ul>
</dd>
<dt>2023-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/util/sudo_conf.c:<br>
sudo_conf_debug_files: special handling of DSO members for AIX</p>
<p>When matching debug files for AIX-style DSOs like sudoers.a(sudoers.so)
we want to match on the full name, the name without the member and on
the member itself. This makes it possible to use the existing examples
in the sudo.conf fiile on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=097bec06b"
>[097bec06b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/pwutil.c:<br>
sudo_set_grlist and sudo_set_gidlist: set auth registry based on
username</p>
<p>Previously we used the global registry but since we have the user&rsquo;s
passwd info we should use that when storing the group and gid lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24351bdad"
>[24351bdad]</a></p>
</li>
</ul>
</dd>
<dt>2023-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
role_to_sudoers: only try to reuse a privilege if one is present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ffcda8e1"
>[2ffcda8e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
store_plugin: avoid potential NULL deref in boolean context</p>
<p>Coverity CID 330466
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a11be4d9"
>[1a11be4d9]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoreplay.c, src/conversation.c:<br>
Avoid passing sudo_term_is_raw() -1 for the fd.</p>
<p>Coverity CID 330472 Coverity CID 330468
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4833ac0f0"
>[4833ac0f0]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
fmt_info_messages: bump info_msgs_size for submitenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b891c136"
>[3b891c136]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Better log message when rejecting a setid command in intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77c258290"
>[77c258290]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c, plugins/sudoers/lookup.c,
plugins/sudoers/match_command.c, plugins/sudoers/parse.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Move the check for running setid commands in intercept mode to later.</p>
<p>Checking for setid commands in intercept mode after command matching
allows us to log a proper error message. Previously, we simply ignored
setid commands when matching and the only indication of why was in the
debug logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=886f1414e"
>[886f1414e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
timestamp_open: add some debugging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45e3c0dd1"
>[45e3c0dd1]</a></li>
</ul>
</dd>
<dt>2023-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sia.c:<br>
sudo_sia_begin_session: add missing struct sudoers_context * arg.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3297ffa26"
>[3297ffa26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c:<br>
verify_krb_v5_tgt: auth name must be const to match struct sudo_auth.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=747114f33"
>[747114f33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Disable PAM before enabling Kerberos V.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ef52151e"
>[9ef52151e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml, docker/debian/latest/Dockerfile,
docker/debian/testing/Dockerfile, docker/fedora/latest/Dockerfile,
docker/fedora/rawhide/Dockerfile, docker/ubuntu/devel/Dockerfile,
docker/ubuntu/latest/Dockerfile, docker/ubuntu/rolling/Dockerfile:<br>
Add Kerberos V build and test to CI.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ed7b4536"
>[7ed7b4536]</a></li>
</ul>
</dd>
<dt>2023-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=145faa3fe"
>[145faa3fe]</a></li>
</ul>
</dd>
<dt>2023-10-31  Renato Botelho</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/kerb5.c:<br>
Add missing sudoers_context to verify_krb_v5_tgt()</p>
<p>Commit 244017495421 added ctx variable to log_warningx() call but that
variable was not declared in that context, breaking the build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75e829b74"
>[75e829b74]</a></p>
</li>
</ul>
</dd>
<dt>2023-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention new Indonesian translation and sudo_logsrvd fd limit change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f3a6b4f6"
>[5f3a6b4f6]</a></li>
</ul>
</dd>
<dt>2023-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>logsrvd/logsrvd.c:<br>
Set the open file descriptor limit to the maximum allowed value.</p>
<p>Each connection can require up to 9 descriptors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31bcdec23"
>[31bcdec23]</a></p>
</li>
</ul>
</dd>
<dt>2023-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/hr.mo,
po/hr.po, po/ja.mo, po/ja.po, po/sr.mo, po/sr.po, po/zh_CN.mo,
po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf722e18b"
>[bf722e18b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/CONTRIBUTORS.md:<br>
Add Andika Triwidada
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86f1d52a0"
>[86f1d52a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, po/id.mo, po/id.po:<br>
New Indonesian translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a2a882d1"
>[9a2a882d1]</a></li>
</ul>
</dd>
<dt>2023-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/318"
>GitHub issue
#318</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fbb17de5"
>[0fbb17de5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Avoid a double-free in fuzz_policy caused by the early env_init(NULL).</p>
<p>This adds an env_free() function to explicitly free both the old and new
copies of the environment. It is really only needed by fuzz_policy,
which calls the policy module multiple times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=392ae0f03"
>[392ae0f03]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_free.c, lib/eventlog/parse_json.c,
logsrvd/iolog_writer.c, logsrvd/sendlog.c, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Store submitenv in eventlog and pass it to sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bbc7c8f8"
>[3bbc7c8f8]</a></li>
</ul>
</dd>
<dt>2023-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_free.c, lib/eventlog/parse_json.c,
lib/iolog/iolog_loginfo.c, logsrvd/iolog_writer.c, logsrvd/sendlog.c,
plugins/sudoers/iolog.c, plugins/sudoers/log_client.c,
plugins/sudoers/logging.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c:<br>
struct eventlog: rename argv/env to runargv/runenv.</p>
<p>This matches the JSON logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=726b646b4"
>[726b646b4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
struct sudoers_user_context: rename env_vars to env_add
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7a61a943"
>[c7a61a943]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/logging.c:<br>
Only log the run environment for commands that are allowed.</p>
<p>It may not be available otherwise and unless the command is being run it
has no real meaning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b87749f8"
>[2b87749f8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Free the private copy of the environment in sudoers_check_cmnd().</p>
<p>This reverts 5118eb5797fb, which had the side-effect of the PAM session
code running with the run environment instead of the invoking user&rsquo;s
environment. Issue #318
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=077826292"
>[077826292]</a></p>
</li>
</ul>
</dd>
<dt>2023-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_swapids.c:<br>
iolog_swapids: short circuit if effective ids match iolog ids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8486976b9"
>[8486976b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_mkdirs.c, logsrvd/iolog_writer.c:<br>
logsrvd: display error string in message if iolog_mkpath() fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09a426437"
>[09a426437]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.15
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29f796742"
>[29f796742]</a></li>
</ul>
</dd>
<dt>2023-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Add example for disabling intercept/log_subcmds for certain commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3edd7a09"
>[e3edd7a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/mksiglist.c, lib/util/mksigname.c:<br>
Use NSIG instead of nitems(array) for the loop bound.</p>
<p>This matches the sudo_sys_siglist[] and sudo_sys_signame[] declarations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78edde5ea"
>[78edde5ea]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsdump.c:<br>
tsdump: fix compiler warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=385d506d3"
>[385d506d3]</a></li>
</ul>
</dd>
<dt>2023-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/regress/logwrap/check_wrap.c, lib/util/mksiglist.c,
lib/util/mksigname.c, logsrvd/sendlog.c,
plugins/python/regress/iohelpers.c, plugins/sudoers/tsdump.c:<br>
Avoid using %zu or %zd with printf() and fprintf().</p>
<p>This prevents problems on systems where the system printf(3) is not
C99-compliant. We use our own snprintf() on such systems so that is
safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14d514e5a"
>[14d514e5a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_printf.c, src/conversation.c:<br>
Use vsnprintf() instead of vfprintf() for sudo_printf() to avoid
problems on systems where the system printf(3) is not C99-compliant. We
use our own snprintf() on such systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58d6554a7"
>[58d6554a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/getdelim.c, lib/util/realpath.c,
lib/util/regress/getdelim/getdelim_test.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
strlcpy_expand_host, sudo_getdelim, sudo_realpath: add restrict
qualifier
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf9fc5317"
>[cf9fc5317]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Fixed <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/312"
>GitHub issue
#312</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29ddd2679"
>[29ddd2679]</a></li>
</ul>
</dd>
<dt>2023-10-16  Rose</dt>
<dd>
<ul>
<li>plugins/sudoers/prompt.c, plugins/sudoers/strlcpy_unesc.c,
plugins/sudoers/sudoers.h:<br>
Add restrict to strlcpy and expand_prompt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97f805242"
>[97f805242]</a></li>
</ul>
</dd>
<dt>2023-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
Better handling of multiple sudo processes modifying terminal settings.
<ol>
<li>Lock the terminal before tcgetattr/tcsetattr 2. Don&rsquo;t restore
terminal settings if changed by another process 3. Don&rsquo;t set terminal to
raw mode if it is already raw <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/312"
>GitHub issue
#312</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fabb6264f"
>[fabb6264f]</a></li>
</ol>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add a little extra debugging info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f80865e7"
>[2f80865e7]</a></li>
</ul>
</dd>
<dt>2023-05-05  Rose</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers_hooks.c:<br>
Redundant cast removal in sudoers_hooks</p>
<p>def_sudoers_locale is already a char*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2a44430b"
>[b2a44430b]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-18  Rose</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/regress/logwrap/check_wrap.c, lib/util/glob.c,
lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/regress/glob/globtest.c, logsrvd/sendlog.c,
plugins/group_file/plugin_test.c,
plugins/python/regress/check_python_examples.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/sudoreplay.c, plugins/sudoers/tsdump.c:<br>
Prefer fputs over fprintf where possible</p>
<p>fprintf does extra work and meant for formatting strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e095069d2"
>[e095069d2]</a></p>
</li>
</ul>
</dd>
<dt>2023-10-15  Rose</dt>
<dd>
<ul>
<li>lib/util/regress/hexchar/hexchar_test.c,
lib/util/regress/parse_gids/parse_gids_test.c, lib/util/sudo_conf.c:<br>
Swap calloc arguments to use them properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4cbd7fe7"
>[a4cbd7fe7]</a></li>
</ul>
</dd>
<dt>2023-10-13  Rose</dt>
<dd>
<ul>
<li>include/sudo_util.h, src/exec_ptrace.h:<br>
Specify 1U over 1 for bitmaps
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd8426f9c"
>[dd8426f9c]</a></li>
</ul>
</dd>
<dt>2023-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: make flags unsigned to match command_details
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=873e0de07"
>[873e0de07]</a></li>
</ul>
</dd>
<dt>2023-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/parse.h,
plugins/sudoers/sudoers.h:<br>
Fix spelling: resistent -&gt; resistant
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d437c793"
>[2d437c793]</a></li>
</ul>
</dd>
<dt>2023-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add plugins/sudoers/tsgetusershell.c to ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98c2eeafd"
>[98c2eeafd]</a></li>
</ul>
</dd>
<dt>2023-10-02  Alexander F. Rdseth</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Add Orbiton (&ldquo;o&rdquo;) to the list of editors that supports +lineno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07426f8a1"
>[07426f8a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Sort the list of editors that supports +lineno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=356ea96ef"
>[356ea96ef]</a></li>
</ul>
</dd>
<dt>2023-10-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/mkdefaults:<br>
Fix compatibility with older versions of (new) awk.</p>
<p>Do not rely on awk supporting &ldquo;-f -&rdquo; to read the program from stdin.
Avoid using POSIX character classes in regular expressions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a715b694"
>[9a715b694]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Mention potential problems with log_subcmds and intercept.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3141f63b2"
>[3141f63b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add more user info to the list of objects to be garbage-collected at
exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6561bc97"
>[f6561bc97]</a></li>
</ul>
</dd>
<dt>2023-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h:<br>
Use long, not long long, when getting/setting numeric attributes.</p>
<p>We use int or long, not long long, in the Python plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=344e0daec"
>[344e0daec]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/eventlog/parse_json.c, lib/iolog/iolog_legacy.c,
lib/iolog/iolog_timing.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/sendlog.c, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/log_client.c:<br>
Add casts when storing values in a struct timespec.</p>
<p>Fixes -Wconversion warnings on some 32-bit systems where time_t is still
32-bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1398289fa"
>[1398289fa]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/file.c:<br>
sudo_file_open: initialize parser before calling open_sudoers().</p>
<p>Otherwise, the parser_conf settings in the context passed to
sudo_file_open() will not be honored by open_sudoers(). Affected
settings include ignore_perms, sudoers mode, uid and gid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc57f493"
>[9cc57f493]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-27  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/roundup.c:<br>
Use U, not UL, for 32-bit platforms</p>
<p>size_t is an unsigned int on 32-bit platforms, not an unsigned long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2f8c5666"
>[b2f8c5666]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
digest_matches: actually use fd2 in place of fd as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=837f400ac"
>[837f400ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
digest_matches: if fd argument is -1, try to open path before failing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff2d8464c"
>[ff2d8464c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/cvtsudoers/test31.sh,
plugins/sudoers/regress/cvtsudoers/test32.sh,
plugins/sudoers/regress/cvtsudoers/test35.sh,
plugins/sudoers/regress/cvtsudoers/test36.sh,
plugins/sudoers/regress/cvtsudoers/test39.sh,
plugins/sudoers/regress/testsudoers/test20.sh,
plugins/sudoers/regress/testsudoers/test21.sh,
plugins/sudoers/regress/testsudoers/test22.sh,
plugins/sudoers/regress/testsudoers/test23.sh,
plugins/sudoers/regress/testsudoers/test24.sh,
plugins/sudoers/regress/testsudoers/test25.sh,
plugins/sudoers/regress/testsudoers/test26.sh,
plugins/sudoers/regress/testsudoers/test27.sh,
plugins/sudoers/regress/testsudoers/test28.sh,
plugins/sudoers/regress/testsudoers/test29.sh,
plugins/sudoers/regress/testsudoers/test30.sh,
plugins/sudoers/regress/testsudoers/test31.sh:<br>
Add missing execute bit on some test scripts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d4279d0c"
>[4d4279d0c]</a></li>
</ul>
</dd>
<dt>2023-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
max_groups in sudoers_plugin_settings is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29feb41da"
>[29feb41da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_conf.h, include/sudo_debug.h, include/sudo_event.h,
include/sudo_eventlog.h, include/sudo_fatal.h, include/sudo_json.h,
include/sudo_util.h, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_conf.c, lib/eventlog/eventlog_free.c,
lib/eventlog/logwrap.c, lib/eventlog/parse_json.c,
lib/eventlog/parse_json.h,
lib/eventlog/regress/eventlog_store/store_json_test.c,
lib/eventlog/regress/eventlog_store/store_sudo_test.c,
lib/eventlog/regress/logwrap/check_wrap.c,
lib/eventlog/regress/parse_json/check_parse_json.c,
lib/fuzzstub/fuzzstub.c, lib/iolog/host_port.c, lib/iolog/hostcheck.c,
lib/iolog/iolog_clearerr.c, lib/iolog/iolog_close.c,
lib/iolog/iolog_conf.c, lib/iolog/iolog_eof.c, lib/iolog/iolog_filter.c,
lib/iolog/iolog_flush.c, lib/iolog/iolog_gets.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_legacy.c, lib/iolog/iolog_loginfo.c,
lib/iolog/iolog_mkdirs.c, lib/iolog/iolog_mkdtemp.c,
lib/iolog/iolog_mkpath.c, lib/iolog/iolog_nextid.c,
lib/iolog/iolog_open.c, lib/iolog/iolog_openat.c,
lib/iolog/iolog_path.c, lib/iolog/iolog_read.c, lib/iolog/iolog_seek.c,
lib/iolog/iolog_swapids.c, lib/iolog/iolog_timing.c,
lib/iolog/iolog_util.c, lib/iolog/iolog_write.c,
lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_filter/check_iolog_filter.c,
lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_timing/check_iolog_timing.c,
lib/logsrv/log_server.pb-c.c, lib/protobuf-c/protobuf-c.c,
lib/ssl_compat/ssl_compat.c, lib/util/aix.c, lib/util/arc4random.c,
lib/util/arc4random_buf.c, lib/util/arc4random_uniform.c,
lib/util/basename.c, lib/util/cfmakeraw.c, lib/util/closefrom.c,
lib/util/digest.c, lib/util/digest_gcrypt.c, lib/util/digest_openssl.c,
lib/util/dup3.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/explicit_bzero.c, lib/util/fatal.c,
lib/util/fchmodat.c, lib/util/fchownat.c, lib/util/fnmatch.c,
lib/util/freezero.c, lib/util/fstatat.c, lib/util/getaddrinfo.c,
lib/util/getdelim.c, lib/util/getentropy.c, lib/util/getgrouplist.c,
lib/util/gethostname.c, lib/util/getopt_long.c, lib/util/gettime.c,
lib/util/getusershell.c, lib/util/gidlist.c, lib/util/glob.c,
lib/util/gmtime_r.c, lib/util/hexchar.c, lib/util/inet_ntop.c,
lib/util/inet_pton.c, lib/util/isblank.c, lib/util/json.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/localtime_r.c,
lib/util/locking.c, lib/util/logfac.c, lib/util/logpri.c,
lib/util/memrchr.c, lib/util/mkdir_parents.c, lib/util/mkdirat.c,
lib/util/mksiglist.c, lib/util/mksigname.c, lib/util/mktemp.c,
lib/util/mmap_alloc.c, lib/util/multiarch.c, lib/util/nanosleep.c,
lib/util/openat.c, lib/util/parseln.c, lib/util/pipe2.c,
lib/util/pread.c, lib/util/progname.c, lib/util/pw_dup.c,
lib/util/pwrite.c, lib/util/rcstr.c, lib/util/reallocarray.c,
lib/util/regex.c, lib/util/regress/closefrom/closefrom_test.c,
lib/util/regress/digest/digest_test.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/getgrouplist/getgids.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c,
lib/util/regress/hexchar/hexchar_test.c,
lib/util/regress/json/json_test.c,
lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/multiarch/multiarch_test.c,
lib/util/regress/open_parent_dir/open_parent_dir_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/regex/regex_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/regress/uuid/uuid_test.c,
lib/util/roundup.c, lib/util/secure_path.c, lib/util/setgroups.c,
lib/util/sha2.c, lib/util/sig2str.c, lib/util/snprintf.c,
lib/util/str2sig.c, lib/util/strlcat.c, lib/util/strlcpy.c,
lib/util/strndup.c, lib/util/strnlen.c, lib/util/strsignal.c,
lib/util/strsplit.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/strtonum.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/sudo_dso.c, lib/util/sys_siglist.h,
lib/util/sys_signame.h, lib/util/term.c, lib/util/timegm.c,
lib/util/ttyname_dev.c, lib/util/ttysize.c, lib/util/unlinkat.c,
lib/util/utimens.c, lib/util/uuid.c, logsrvd/iolog_writer.c,
logsrvd/logsrv_util.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
logsrvd/regress/logsrvd_conf/logsrvd_conf_test.c, logsrvd/sendlog.c,
logsrvd/sendlog.h, logsrvd/tls_client.c, logsrvd/tls_common.h,
logsrvd/tls_init.c, plugins/audit_json/audit_json.c,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/python/pyhelpers.c,
plugins/python/pyhelpers.h, plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/iohelpers.h,
plugins/python/regress/testhelpers.h,
plugins/python/sudo_python_debug.c, plugins/python/sudo_python_debug.h,
plugins/sample/sample_plugin.c,
plugins/sample_approval/sample_approval.c, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/b64_decode.c, plugins/sudoers/b64_encode.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/canon_path.c, plugins/sudoers/check.c,
plugins/sudoers/check_aliases.c, plugins/sudoers/check_util.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_csv.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/digestname.c,
plugins/sudoers/display.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/env_pattern.c,
plugins/sudoers/exptilde.c, plugins/sudoers/file.c,
plugins/sudoers/filedigest.c, plugins/sudoers/find_path.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/fmtsudoers_cvt.c,
plugins/sudoers/gc.c, plugins/sudoers/gentime.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/insults.h,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_innetgr.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/log_client.c,
plugins/sudoers/log_client.h, plugins/sudoers/logging.c,
plugins/sudoers/lookup.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/match_command.c,
plugins/sudoers/match_digest.c, plugins/sudoers/parse.h,
plugins/sudoers/parse_ldif.c, plugins/sudoers/parser_warnx.c,
plugins/sudoers/pivot.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/serialize_list/check_serialize_list.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/regress/unescape/check_unesc.c,
plugins/sudoers/resolve_cmnd.c, plugins/sudoers/serialize_list.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sethost.c,
plugins/sudoers/solaris_audit.c, plugins/sudoers/sssd.c,
plugins/sudoers/starttime.c, plugins/sudoers/strlcpy_unesc.c,
plugins/sudoers/strlist.c, plugins/sudoers/strvec_join.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudo_printf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_cb.c,
plugins/sudoers/sudoers_ctx_free.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoers_debug.h, plugins/sudoers/sudoers_hooks.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/testsudoers_pwutil.c,
plugins/sudoers/testsudoers_pwutil.h, plugins/sudoers/timeout.c,
plugins/sudoers/timestamp.c, plugins/sudoers/timestr.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/unesc_str.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_cb.c,
plugins/system_group/system_group.c, src/apparmor.c, src/conversation.c,
src/copy_file.c, src/edit_open.c, src/env_hooks.c, src/exec.c,
src/exec_common.c, src/exec_intercept.c, src/exec_iolog.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_preload.c,
src/exec_ptrace.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/intercept.pb-c.c, src/limits.c, src/load_plugins.c, src/openbsd.c,
src/parse_args.c, src/preload.c, src/preserve_fds.c,
src/regress/net_ifs/check_net_ifs.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/sesh.c,
src/signal.c, src/solaris.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/sudo_intercept.c, src/sudo_intercept_common.c, src/sudo_noexec.c,
src/suspend_parent.c, src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Use #include &lt;foo.h&gt; instead of #include &ldquo;foo.h&rdquo; in most cases.</p>
<p>We rely on the include path to find many of these headers. It especially
doesn&rsquo;t make sense to use #include &ldquo;foo.h&rdquo; for headers in the top-level
include directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e343e0754"
>[e343e0754]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Bump xcode to 14.2.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=884b02596"
>[884b02596]</a></li>
</ul>
</dd>
<dt>2023-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/mkdefaults:<br>
Add support for &ldquo;plugin&rdquo; defaults type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c13b8a62"
>[1c13b8a62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mkdefaults:<br>
Support multiple input files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1708f0cf"
>[c1708f0cf]</a></li>
</ul>
</dd>
<dt>2023-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_pty.c:<br>
No need to loop reading from/writing to a blocking socketpair.</p>
<p>This removes some infinite loops that can cause static analyzer
warnings. The fds are not in non-blocking mode and we use restartable
system calls so there is no need to loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=171abbe11"
>[171abbe11]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check.c:<br>
check_user: fix return value for intercept mode</p>
<p>Also use early return on error to quiet a PVS-Studio warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c7d757b7"
>[1c7d757b7]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Set ec-&gt;term_raw to false even if sudo_term_restore() fails.</p>
<p>Either the fd is not a terminal or we don&rsquo;t have the controlling
terminal. Either way, we can&rsquo;t know the current status of the terminal
and will need to set to raw mode again (if possible). Also make sure to
set ec-&gt;term_raw to false if sudo_term_raw() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=988d7f60f"
>[988d7f60f]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>pathnames.h.in, plugins/sudoers/env.c, plugins/sudoers/sudoers.c:<br>
Only define _PATH_ENVIRONMENT on systems where we use /etc/environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2d267bfb"
>[f2d267bfb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac:<br>
Sudo assumes that a uid_t can be cast to unsigned int without problems.</p>
<p>Add a configure check and error out if sizeof(uid_t) &gt; 4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c6745692"
>[0c6745692]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>docs/UPGRADE.md:<br>
Mention the time stamp and lecture file name changes in 1.9.15.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4acc4366"
>[f4acc4366]</a></li>
</ul>
</dd>
<dt>2023-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.9.15
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37ee2946a"
>[37ee2946a]</a></li>
</ul>
</dd>
<dt>2023-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Replace &lsquo;/&rsquo; with &lsquo;_&rsquo; in paths using the user, group or host name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9da92951"
>[d9da92951]</a></li>
</ul>
</dd>
<dt>2023-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in,
plugins/sudoers/check.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestamp.h:<br>
Use the user-ID instead of user-name for the timestamp and lecture file.</p>
<p>This avoids problems if the user name itself contains a path separator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7363ad7b3"
>[7363ad7b3]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, m4/sudo.m4,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/env.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/policy.c, src/sudo.c, src/sudo_edit.c:<br>
Replace MAX_UID_T_LEN with calls to STRLEN_MAX_UNSIGNED.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94b80e3ad"
>[94b80e3ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/eventlog/eventlog.c, lib/iolog/iolog_timing.c,
lib/util/json.c, lib/util/lbuf.c, lib/util/sudo_debug.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/display.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/logging.c,
src/exec_preload.c, src/limits.c:<br>
Add macros to determine the length of an integer type in string form.</p>
<p>Adapted from answer #6 in:
<a
  class="gdoc-markdown__link"
  href="https://stackoverflow.com/questions/10536207/ansi-c-maximum-number-of-ch"
>https://stackoverflow.com/questions/10536207/ansi-c-maximum-number-of-ch</a>
aracters-printing-a-decimal-int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d53bbb54b"
>[d53bbb54b]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
visudo: use verbose and strict in parser_conf</p>
<p>Where the sudoers_context is available we can use the values of verbose
and strict instead of passing around quiet and strict flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=221a10340"
>[221a10340]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/find_path.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/resolve_cmnd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add resolve_cmnd(), a wrapper around find_path().</p>
<p>This is a convenience function that sets PERM_RUNAS and calls
find_path(). If the command is not found it will retry with PERM_USER
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e75f2311"
>[6e75f2311]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c:<br>
Promote strict field in sudoers_parser_config from bool to int.</p>
<p>This will be used by visudo to indicate when &ldquo;visudo -s&rdquo; is run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fcb21b5c"
>[8fcb21b5c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/check_aliases.c,
plugins/sudoers/defaults.c, plugins/sudoers/parse.h,
plugins/sudoers/parser_warnx.c:<br>
Add parser_warnx() and parser_vwarnx() that displays file:line:col</p>
<p>Used by defaults.c and check_aliases.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e28dc0f27"
>[e28dc0f27]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_cb.c:<br>
Add a separate file for visudo callbacks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a7731437"
>[3a7731437]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_cb.c:<br>
Rename callbacks.c -&gt; sudoers_cb.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c277e55f4"
>[c277e55f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_monitor.c:<br>
Wait on a socketpair for the parent to grant child the controlling tty.</p>
<p>This upgrades the error pipe to a bi-directional socketpair that the
parent will write to after it has granted the child process the
controlling terminal. That fixes an issue where the child could end up
in a tight CPU loop waiting on the parent which may not be scheduled
immediately.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cb3e3344"
>[0cb3e3344]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.h:<br>
Undefine AUTH_{SUCCESS,FAILURE,ERROR} before defining them.</p>
<p>Quiets a warning on AIX where usersec.h defines AUTH_SUCCESS and
AUTH_FAILURE. We avoided this problem in the past because the old values
for AUTH_SUCCESS and AUTH_FAILURE match what AIX defines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a127ddf6d"
>[a127ddf6d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, lib/util/term.c, m4/sudo.m4,
src/exec_pty.c:<br>
Only cast TIOCSWINSZ to int on systems that might require it (AIX).</p>
<p>Otherwise we end up with a -Wconversion warning on systems where the
ioctl() request argument is unsigned long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49c7c1f4d"
>[49c7c1f4d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/display.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Promote verbose flag to int for display_privs and display_cmnd.</p>
<p>A negative verbosity will prevent non-error output from being displayed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51d6b0f42"
>[51d6b0f42]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/stubs.c:<br>
No need to include cvtsudoers.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9ee97580"
>[a9ee97580]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_command.c, plugins/sudoers/pivot.c,
plugins/sudoers/pivot.h, plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/stubs.c, plugins/sudoers/testsudoers.c:<br>
Remove pivot_get_root() and pivot_get_cwd().</p>
<p>They are unnecessary since struct sudoers_pivot is not opaque. The
implementation details are private to match_command.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0011333f8"
>[0011333f8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Quiet some -Wconversion warnings in the tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aae36f34"
>[2aae36f34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/editor.c, plugins/sudoers/find_path.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.h:<br>
Make flag in union sudo_defs_val bool to match how it is used.</p>
<p>Adjust find_path()&rsquo;s ignore_dot function argument to match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8f2680cf"
>[b8f2680cf]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/bsm_audit.h, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h:<br>
Parse euid and egid from sudo front-end.</p>
<p>These are needed by bsm_audit.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9801cc99"
>[a9801cc99]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Parse pid and ppid from sudo front-end.</p>
<p>We can now use the stored ppid in ts_init_key().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38ddbb14f"
>[38ddbb14f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match_command.c, plugins/sudoers/pivot.c,
plugins/sudoers/pivot.h, plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Use struct sudoers_pivot instead of defining sudoers_pivot_t.</p>
<p>We want to pass around a pointer, not the struct itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34990c0e0"
>[34990c0e0]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/pivot.h:<br>
Don&rsquo;t expose the implementation of the pivot_root state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15b3d786d"
>[15b3d786d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/pivot.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Don&rsquo;t expose the implementation of the pivot_root state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b52ffd1a"
>[0b52ffd1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_ptrace.c:<br>
Only call ptrace_verify_post_exec() for intercept, not log_subcmds.</p>
<p>This fixes a logic goof introduced in sudo 1.9.14.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4117ad146"
>[4117ad146]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
tsgetusershell.c: don&rsquo;t rely on GNU sed extensions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0553cd38"
>[c0553cd38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
testsudoers: add -S option to specify /etc/shells path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a8586928"
>[0a8586928]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, lib/util/getusershell.c, plugins/sudoers/Makefile.in,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/tsgetgrpw.h:<br>
Add testsudoers_setshellfile() and use it in testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=034b2f3bd"
>[034b2f3bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62b92c7fb"
>[62b92c7fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/getusershell.c:<br>
Remove unnecessary sudo_gettext.h include and add missing const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166ef55aa"
>[166ef55aa]</a></li>
</ul>
</dd>
<dt>2023-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.h:<br>
Return AUTH_* flags from check_user() instead of 1/0/-1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c54bdd799"
>[c54bdd799]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/testsudoers_pwutil.h:<br>
Wrap valid_shell and add to sudo_pwutil_set_backend().</p>
<p>This will make it possible to support a different getusershell()
implementation for testsudoers in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fdb4db33"
>[2fdb4db33]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check_util.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Move check_user_shell() to pwutil.c as user_shell_valid()</p>
<p>This will make it possible to support a different backend which may be
used by testsudoers in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d18ee8e0e"
>[d18ee8e0e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/timestamp.h:<br>
Merge check_user() and check_user_interactive(), move getpass callbacks.</p>
<p>The getpass callbacks are now defined in sudo_auth.c, which implements
auth_getpass(). As a result, struct getpass_closure is now public and
defined in timestamp.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28a13501d"
>[28a13501d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/timestamp.h:<br>
Make most sudo_auth functions return AUTH_{SUCCESS,FAILURE,FATAL}.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0495afac5"
>[0495afac5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/lookup.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/sssd.c:<br>
Make all match functions return ALLOW/DENY not true/false.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ef90231a"
>[2ef90231a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/lookup.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h:<br>
Try to make sudo less vulnerable to ROWHAMMER attacks.</p>
<p>We now use ROWHAMMER-resistent values for ALLOW, DENY, AUTH_SUCCESS,
AUTH_FAILURE, AUTH_ERROR and AUTH_NONINTERACTIVE. In addition, we
explicitly test for expected values instead of using a negated test
against an error value. In the parser match functions this means
explicitly checking for ALLOW or DENY instead of accepting anything that
is not set to UNSPEC.</p>
<p>Thanks to Andrew J. Adiletta, M. Caner Tol, Yarkin Doroz, and Berk
Sunar, all affiliated with the Vernam Applied Cryptography and
Cybersecurity Lab at Worcester Polytechnic Institute, for the report.
Paper preprint: <a
  class="gdoc-markdown__link"
  href="https://arxiv.org/abs/2309.02545"
>https://arxiv.org/abs/2309.02545</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7873f8334"
>[7873f8334]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Honor ignore_perms plugin argument for @include and @includedir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=525803db2"
>[525803db2]</a></li>
</ul>
</dd>
<dt>2023-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t set on_suspend and on_resume twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=499121229"
>[499121229]</a></li>
</ul>
</dd>
<dt>2023-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/policy.c,
plugins/sudoers/sethost.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
sudoers_sethost: refactor code to set host names in sudoers_context.</p>
<p>The sudoers_sethost() function can be shared by the sudoers plugin,
visudo, cvtsudoers and testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=956de5cbb"
>[956de5cbb]</a></p>
</li>
</ul>
</dd>
<dt>2023-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
sudoers_trace_print: use debug_decl_vars instead of doing it by hand.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c9ca88f5"
>[0c9ca88f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
sudo_realpath() returns char *, not void *.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=080e08b0f"
>[080e08b0f]</a></li>
</ul>
</dd>
<dt>2023-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
Only print &ldquo;no valid sudoers sources found, quitting&rdquo; for multiple
sources.</p>
<p>If there is only a single source (usually the sudoers file), the open
function provide enough of an error message. Printing two error messages
is just confusing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d898d073b"
>[d898d073b]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/pwutil.c:<br>
user_in_group: the user&rsquo;s group vector already includes the primary
group.</p>
<p>There&rsquo;s no need to look up the name of user&rsquo;s primary group (pw_gid), we
always include the primary group ID in the group vector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5b3f9909"
>[f5b3f9909]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_debug.h:<br>
Move sudoers_debug.c prototypes to sudoers_debug.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05f823df2"
>[05f823df2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
sudo_conv, sudo_printf and plugin_event_alloc live in policy.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35a7283dd"
>[35a7283dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, plugins/sudoers/defaults.c:<br>
Move default value for &ldquo;iolog_file&rdquo; to sudo_iolog.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68a9e9186"
>[68a9e9186]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/callbacks.c, plugins/sudoers/check.c,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/set_perms.c, plugins/sudoers/starttime.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c, plugins/sudoers/timestamp.h,
plugins/sudoers/tsdump.c:<br>
Rename check.h -&gt; timestamp.h and add remaining timestamp.c prototypes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75209e271"
>[75209e271]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/API, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h:<br>
Restore AUTH_INTR support, it is still needed.</p>
<p>We still need AUTH_INTR to know when to break out of the password prompt
loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cd0d74fb"
>[8cd0d74fb]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add ignore_perms plugin argument to skip the sudoers file security
checks.</p>
<p>This is not intended to be used in a production environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c05e748a"
>[3c05e748a]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, m4/sudo.m4:<br>
Fix test for unsetenv() returning void with clang 16.</p>
<p>Clang has dropped support for K&amp;R function definitions so rewrite the
test to require a unsetenv() prototype in stdlib.h. Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/302"
>GitHub issue
#302</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eb4392e1"
>[1eb4392e1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
Disable fast_glob and fdexec if SUDOERS_NAME_MATCH is defined.</p>
<p>We use SUDOERS_NAME_MATCH for fuzzing when we want to avoid searching
the file system for commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07003d902"
>[07003d902]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h:<br>
Rename AUTH_FATAL -&gt; AUTH_ERROR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c858acc48"
>[c858acc48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/match.c:<br>
Do not rely on the definition of ALLOW/DENY being true/false.</p>
<p>We now explicitly check for ALLOW and DENY when checking return values
and negating values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf00568d8"
>[cf00568d8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/API, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h:<br>
Replace AUTH_INTR return with AUTH_FAILURE.</p>
<p>The two were treated identically by the caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bae716642"
>[bae716642]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c:<br>
Call log_allowed() even when &ldquo;log_allowed&rdquo; is disabled.</p>
<p>Otherwise, sudo will not send mail if &ldquo;mail_always&rdquo; or &ldquo;mail_all_cmnds&rdquo;
is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b42cab112"
>[b42cab112]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
Don&rsquo;t set defaults values for features that are not present.</p>
<p>This means that lecture_status_dir and timestampdir are only set if
_PATH_SUDO_LECTURE_DIR and _PATH_SUDO_TIMEDIR respectively are set.
Also, the log server defaults are only set when SUDOERS_LOG_CLIENT is
defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cdee2e31"
>[4cdee2e31]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/callbacks.c:<br>
Only set I/O logging callbacks if SESSID_MAX is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=993ee338d"
>[993ee338d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Move tty_present() into policy.c as sudoers_tty_present().</p>
<p>This function is policy-dependent. For the modern sudo front-end it will
simply check tcpgid and/or ttypath.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30fc28829"
>[30fc28829]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event_poll.c, lib/util/getentropy.c, plugins/sudoers/ldap.c:<br>
Silence a few remaining -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df969d30b"
>[df969d30b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
No need to inclue auth/sudo_auth.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=522ac12f2"
>[522ac12f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
&ndash;enable-pvs-studio: check for license file in the default location
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18aba4984"
>[18aba4984]</a></li>
</ul>
</dd>
<dt>2023-08-23  ken</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/timestamp.c:<br>
modify ret type from int to bool (#298)</p>
<ul>
<li>
<p>modify ret type from int to bool</p>
</li>
<li>
<p>change debug_return_int to debug_return_bool</p>
</li>
<li>
<p>modify ret type
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60e584201"
>[60e584201]</a></p>
</li>
</ul>
</li>
</ul>
</dd>
<dt>2023-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/callbacks.c, plugins/sudoers/check.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Move timestampowner sudoers callback to timestamp.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=091051125"
>[091051125]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/set_perms.c:<br>
Quiet a PVS-Studio false positive about possible NULL dereference.</p>
<p>set_perms() is only called with a NULL ctx for PERM_ROOT, PERM_SUDOERS
and PERM_TIMESTAMP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=593998cb6"
>[593998cb6]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
set_perms: ctx may be NULL for PERM_ROOT, PERM_SUDOERS, PERM_TIMESTAMP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=821799d1f"
>[821799d1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_ctx_free.c:<br>
Move a few fields from sudoers_user_contect to sudoers_context.</p>
<p>They are not really specific to the user or user-specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7157ce0b"
>[c7157ce0b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
Remove dead code dealing with unknown user and MODE_INVALIDATE.</p>
<p>The timestamp unlink code does not need the user&rsquo;s struct passwd
pointer, just the user name (which we already have). Found by
PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9aaba80a0"
>[9aaba80a0]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_read.c, lib/iolog/iolog_write.c, lib/util/sudo_dso.c:<br>
Suppress some other PVS-Studio false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df730dec5"
>[df730dec5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/set_perms.c:<br>
Quiet a PVS-Studio false positive about possible NULL dereference.</p>
<p>set_perms() is only called with a NULL ctx for PERM_ROOT, PERM_SUDOERS
and PERM_TIMESTAMP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49cd7463c"
>[49cd7463c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.h:<br>
MODE_KILL is never set in the sudoers plugin, remove it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=816120544"
>[816120544]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sample/sample_plugin.c, plugins/sudoers/editor.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoreplay.c, src/exec_ptrace.c:<br>
Cast int to size_t before adding instead of casting the result.</p>
<p>Quiets PVS-Studio warning V1028.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6987aa26"
>[c6987aa26]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Fix log_server_accept() definition for &ndash;disable-log-client builds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f05bfd29"
>[9f05bfd29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Use a global static struct exec_closure for the cleanup hook.</p>
<p>This is safer than storing a pointer to a stack variable in the cleanup
function since we don&rsquo;t need to worry about it ever going out of scope.
Quiets a clang 15 analyzer warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e933fc7ba"
>[e933fc7ba]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c:<br>
Plug memory leak if journal_parse_error() fails.</p>
<p>Found by the clang 15 analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fa478653"
>[6fa478653]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, plugins/sudoers/testsudoers.c:<br>
Eliminate some clang analyzer false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e6955ba"
>[46e6955ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Move sudoedit_nfiles into struct sudoers_context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff5914d7f"
>[ff5914d7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/check.c, plugins/sudoers/env.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/lookup.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Move sudo_mode into struct sudoers_context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3473bf936"
>[3473bf936]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_ctx_free.c:<br>
Move NewArgv, NewArgc and saved_argv into struct sudoers_context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=837da1bef"
>[837da1bef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/file.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Add struct sudoers_conf to struct sudoers_plugin_context.</p>
<p>There&rsquo;s now no need to pass this directly to init_parser() since we
already pass in a pointer to a sudoers_context struct.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87571dab0"
>[87571dab0]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/sudo_ldap_conf.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Store policy paths in struct sudoers_context.</p>
<p>This removes the need for the getters in policy.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e53d903e"
>[9e53d903e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_ctx_free.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Add sudoers_ctx_free() and use it for freeing struct sudoers context.</p>
<p>This replaces sudoers_user_ctx_free() and sudoers_runas_ctx_free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbaf29391"
>[bbaf29391]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/callbacks.c,
plugins/sudoers/check.c, plugins/sudoers/check.h,
plugins/sudoers/check_aliases.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/display.c, plugins/sudoers/env.c,
plugins/sudoers/file.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/lookup.c,
plugins/sudoers/match.c, plugins/sudoers/match_command.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/solaris_audit.h, plugins/sudoers/sssd.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/testsudoers_pwutil.h,
plugins/sudoers/timestamp.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c:<br>
Make struct sudoers_context private to sudoers.c.</p>
<p>We now pass a pointer to the context where necessary. There are a few
cases where we need to request the context from sudoers via
sudoers_get_context() for the plugin API functions. If the plugin API
was able to pass around a closure pointer this would not be necessary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=244017495"
>[244017495]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/callbacks.c,
plugins/sudoers/check.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/defaults.c, plugins/sudoers/display.c,
plugins/sudoers/env.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/lookup.c,
plugins/sudoers/match.c, plugins/sudoers/match_command.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c:<br>
Add a sudoers_context struct that embeds the user and runas structs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d2529a15"
>[2d2529a15]</a></li>
</ul>
</dd>
<dt>2023-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
free_parse_tree: clear the nss pointer when freeing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b9fb405a"
>[1b9fb405a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/parse_ldif.c:<br>
sudoers_parse_ldif: do not free parse_tree before using</p>
<p>The user is expected to pass in an initialized and empty parse_tree so
there is no need to free it first.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a712af5a2"
>[a712af5a2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/adler32.c, lib/zlib/compress.c, lib/zlib/crc32.c,
lib/zlib/deflate.c, lib/zlib/deflate.h, lib/zlib/gzclose.c,
lib/zlib/gzguts.h, lib/zlib/gzlib.c, lib/zlib/gzread.c,
lib/zlib/gzwrite.c, lib/zlib/infback.c, lib/zlib/inffast.c,
lib/zlib/inffast.h, lib/zlib/inflate.c, lib/zlib/inftrees.c,
lib/zlib/inftrees.h, lib/zlib/trees.c, lib/zlib/uncompr.c,
lib/zlib/zconf.h.in, lib/zlib/zlib.h, lib/zlib/zutil.c,
lib/zlib/zutil.h:<br>
Update embedded copy of zlib to version 1.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=902453a82"
>[902453a82]</a></li>
</ul>
</dd>
<dt>2023-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/pwutil_impl.c:<br>
We still need to clamp ngids if getgrouplist2() returns -1.</p>
<p>Otherwise, we end up with ngids set to the number of gids the user
belongs to which may be larger than what the front-end specified. Fixes
a regression introduced in the last commit here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb01b90a5"
>[cb01b90a5]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
No need to clear errno when using sudo_strtonum().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17aebe6a"
>[f17aebe6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/sudoers.h:<br>
Move max_groups out of sudoers_user_context and into pwutil.c.</p>
<p>It is only used by the local password pwutil implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20baa3900"
>[20baa3900]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check_util.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Pass in directory to check_user_runchroot() and check_user_runcwd().</p>
<p>This way we do not rely on the runas_ctx global.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=737354390"
>[737354390]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/exptilde/check_exptilde.c:<br>
check_exptilde: don&rsquo;t need runas_ctx here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e8648ea0"
>[2e8648ea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Move RUNAS_{USER,GROUP}_SPECIFIED flags into struct
sudoers_runas_context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08afb5183"
>[08afb5183]</a></li>
</ul>
</dd>
<dt>2023-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Make path_plugin_dir private to policy.c and add getter.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=392f0d61c"
>[392f0d61c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/logging.c, plugins/sudoers/lookup.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Move list_pw global into struct runas_context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=217b7b46f"
>[217b7b46f]</a></li>
</ul>
</dd>
<dt>2023-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/callbacks.c,
plugins/sudoers/check.c, plugins/sudoers/check_util.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/display.c,
plugins/sudoers/env.c, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/lookup.c, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Add struct sudoers_runas_context and move runas-specific bits into it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a321e6ced"
>[a321e6ced]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/callbacks.c, plugins/sudoers/check.c,
plugins/sudoers/check_util.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/display.c, plugins/sudoers/env.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/lookup.c, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c:<br>
Expand the user_* (and more) macros to user_ctx.foo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8b28dad9"
>[d8b28dad9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.h, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/timestamp.c:<br>
Pass explicit struct passwd * to create_admin_success_flag().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=930ca0025"
>[930ca0025]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Make sudoers_user_ctx_free() private to sudoers.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30c49288f"
>[30c49288f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/audit.c, plugins/sudoers/callbacks.c,
plugins/sudoers/check.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/defaults.c, plugins/sudoers/display.c,
plugins/sudoers/logging.c, plugins/sudoers/lookup.c,
plugins/sudoers/match.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/visudo.c:<br>
Rename struct sudo_user -&gt; struct sudo_user_context.</p>
<p>Also rename the sudo_user global to user_ctx.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd8cccb5d"
>[bd8cccb5d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec.c:<br>
fd_matches_tty: only zero out fd_sb if fstat(2) fails.</p>
<p>We need to preserve the contents of the struct stat if the fd is some
other type so the check for piped output works correctly. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1057"
>Bug
#1057</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d148e7d8f"
>[d148e7d8f]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/callbacks.c:<br>
Leave the I/O log callbacks in iolog.c</p>
<p>Otherwise, check_iolog_plugin will not link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f659e2de"
>[6f659e2de]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/callbacks.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Move sudoers parser callbacks to callbacks.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=603148e7f"
>[603148e7f]</a></li>
</ul>
</dd>
<dt>2023-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Bump info_msgs_size to make room for the source.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc15f847a"
>[cc15f847a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Update Xcode version from 13.2.1 to 13.4.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee5cab977"
>[ee5cab977]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_event.h, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/util.exp.in:<br>
Use int, not short for events in the event API.</p>
<p>This fixes some -Wconversion warnings and fixes an inconsistency between
the libsudo_util event API and the plugin event API. The actual struct
internals still use shorts to avoid changing the ABI.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=811051d32"
>[811051d32]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/display.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/fmtsudoers_cvt.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Use const pointers where possible in the display code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f2e5dae9"
>[0f2e5dae9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Document &ldquo;sudo -ll command&rdquo; output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6842dd1bf"
>[6842dd1bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/display.c, plugins/sudoers/lookup.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
Add verbose version of &ldquo;sudo -l command&rdquo; by using an extra -l.</p>
<p>The output of &ldquo;sudo -ll command&rdquo; consists of the matching sudoers rule
(in long form) with the addition of a &ldquo;Matched&rdquo; entry that shows the
fully-qualfied path along with any arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60eef27e6"
>[60eef27e6]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/display.c:<br>
Move code to display a cmndspec in long form to display_cmndspec_long().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6291bf83"
>[f6291bf83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/display.c:<br>
sudo -ll: display the sudoers file the rule came from.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a1a3ff74"
>[5a1a3ff74]</a></li>
</ul>
</dd>
<dt>2023-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/iolog.c, plugins/sudoers/log_client.c,
plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Store the source of the matching rule and store in the event log.</p>
<p>The JSON logs will store the matching rule source.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e178b8582"
>[e178b8582]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_free.c, lib/eventlog/parse_json.c,
lib/eventlog/regress/eventlog_store/test1.json.in,
lib/eventlog/regress/eventlog_store/test1.json.out.ok,
lib/eventlog/regress/eventlog_store/test2.json.in,
lib/eventlog/regress/eventlog_store/test2.json.out.ok,
lib/eventlog/regress/eventlog_store/test3.json.in,
lib/eventlog/regress/eventlog_store/test3.json.out.ok,
lib/eventlog/regress/eventlog_store/test4.json.in,
lib/eventlog/regress/eventlog_store/test4.json.out.ok,
logsrvd/iolog_writer.c, logsrvd/sendlog.c:<br>
Log source in JSON logs</p>
<p>This makes it possible to tell which rule resulted in a match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b03511b8"
>[0b03511b8]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Use a single callback for sudoers_lookup() and add a closure pointer.</p>
<p>The single callback now receives all the match info (or UNSPEC if no
match was attempted). This makes it possible to use the callback for
more than just printing testsudoers output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6a9bb2e2"
>[f6a9bb2e2]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/ssl_compat/ssl_compat.c, logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c,
logsrvd/sendlog.c, plugins/sudoers/log_client.c:<br>
Fix checking of SSL_{read,write}_ex() return value.</p>
<p>These have a boolean-style return value. However, our emulated versions
can return -1 on error, which we need to preserve for older versions of
SSL_get_error() which expect it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e6c5f3e7"
>[1e6c5f3e7]</a></p>
</li>
</ul>
</dd>
<dt>2023-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/digest/digest_test.c:<br>
Fix printf format string mismatch now that &lsquo;i&rsquo; is size_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f2a0a70e"
>[5f2a0a70e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_digest.h, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/getentropy.c,
lib/util/regress/digest/digest_test.c, lib/util/util.exp.in,
plugins/sudoers/filedigest.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
sudo_digest_getlen: return size_t, and 0 on error instead of -1</p>
<p>This is an API change, sudo_digest_getlen_v1 remains for binary
compatibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77f94f291"
>[77f94f291]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
plugins/sudoers/log_client.c:<br>
ERR_get_error() returns unsigned long, not int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=184e03b4a"
>[184e03b4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
We now must pass &ldquo;err&rdquo; SSL_get_error(), not &ldquo;nread&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=861ed2b7d"
>[861ed2b7d]</a></li>
</ul>
</dd>
<dt>2023-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>include/hostcheck.h, lib/iolog/hostcheck.c:<br>
Move compat definition of ASN1_STRING_get0_data to hostcheck.c. It is
not used anywhere else.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5f2354c8"
>[e5f2354c8]</a></li>
</ul>
</dd>
<dt>2023-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>include/hostcheck.h, include/sudo_compat.h, include/sudo_ssl_compat.h:<br>
Move OpenSSL compat defines to sudo_ssl_compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc7bfd504"
>[fc7bfd504]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac,
include/sudo_ssl_compat.h, lib/ssl_compat/Makefile.in,
lib/ssl_compat/ssl_compat.c, logsrvd/Makefile.in, logsrvd/tls_common.h,
m4/openssl.m4, plugins/sudoers/Makefile.in,
plugins/sudoers/log_client.h, src/Makefile.in:<br>
Add implementation of SSL_read_ex/SSL_write_ex for those without.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6d467b92"
>[d6d467b92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c,
logsrvd/sendlog.c, m4/openssl.m4, plugins/sudoers/log_client.c:<br>
Use SSL_read_ex() and SSL_write_ex() instead of SSL_read() and
SSL_write().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6d14c95b"
>[e6d14c95b]</a></li>
</ul>
</dd>
<dt>2023-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
Don&rsquo;t use sudo when building AIX packages</p>
<p>PolyPkg uses &ldquo;sudo installp -l&rdquo; to list the built package by default but
we may not have sudo privileges on the build host.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d404f544f"
>[d404f544f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>scripts/mkpkg:<br>
Add &ndash;configure-only option to quit after the configure run.</p>
<p>This will be used to avoid building the entire package when we just want
the 32 or 64 bit sudo_intercept.so and sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=002e22f84"
>[002e22f84]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>scripts/mkpkg:<br>
Parse &ndash;disable-python in mkpkg and don&rsquo;t override -m32 for Solaris.</p>
<p>We want to be able to build without python and to specify the memory
model when building 32-bit .so&rsquo;s for Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e22ede2a"
>[8e22ede2a]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>INSTALL.md, Makefile.in, configure, configure.ac:<br>
Add &ndash;enable-postinstall, an optional phase when building packages.</p>
<p>This makes it possible to run an arbitrary script between &ldquo;make install&rdquo;
and the polypkg run. This will be used to copy different word size
versions of sudo_intercept.so and sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a181849a"
>[0a181849a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>INSTALL.md, config.h.in, configure, configure.ac, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, src/exec_preload.c:<br>
Add basic support for 32-bit and 64-bit LD_PRELOAD equivalents.</p>
<p>The noexec and intercept DSO settings may now include both a 32-bit DSO
and a 64-bit DSO specified by a colon. For example:
/usr/libexec/sudo/sudo_intercept.so:/usr/libexec/sudo/sudo_intercept_64.
so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=980e0216a"
>[980e0216a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/term.c, src/exec_pty.c:<br>
Cast TIOCSWINSZ to int to avoid overflow warning on 64-bit AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cb1f7f3a"
>[7cb1f7f3a]</a></li>
</ul>
</dd>
<dt>2023-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_intercept_common.c:<br>
Read path section of sudo.conf for sudo_conf_intercept_path().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=961f23af9"
>[961f23af9]</a></li>
</ul>
</dd>
<dt>2023-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/visudo.man.in, docs/visudo.mdoc.in:<br>
visudo: document that a new file is only created if the editor writes
it.</p>
<p>If visudo is used to create a new file, the file will only be created if
the user writes to the file via the editor. Simply running visudo and
exiting the editor will no longer cause the file to be created. There is
an exception for file created due to the addition of a @include
directive, which need to be present for the sudoers file to parse
properly. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/294"
>GitHub issue
#294</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdde6dfa1"
>[bdde6dfa1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
visudo: do not create a new file if the user made no changes</p>
<p>This prevents visudo from creating a new zero-length sudoers file if the
user exited the editor without making any changes. Files created via a
@include directive are preserved, even if empty, to avoid a parse
error. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/294"
>GitHub issue
#294</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f3786f70"
>[4f3786f70]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>README.md, docs/CONTRIBUTING.md:<br>
Make the sections on bug reporting consistent with each other.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/292"
>GitHub issue #292</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50fde5d81"
>[50fde5d81]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Remove unused variable introduced in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=857653f9f"
>[857653f9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Don&rsquo;t assume that if std{in,out,err} is a tty, it is the user&rsquo;s tty.</p>
<p>Previously, sudo only checked that the fd was a terminal, not that it
matched sudo&rsquo;s idea of the user&rsquo;s terminal. This matters when input or
output is redirected to a different terminal. In that case we want to
interpose the fd with a pipe even if it refers to a terminal. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1056"
>Bug
#1056</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=760c9c110"
>[760c9c110]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test29.out.ok,
plugins/sudoers/regress/testsudoers/test29.sh,
plugins/sudoers/regress/testsudoers/test30.out.ok,
plugins/sudoers/regress/testsudoers/test30.sh,
plugins/sudoers/regress/testsudoers/test31.out.ok,
plugins/sudoers/regress/testsudoers/test31.sh:<br>
testsudoers: add -L, -l and -v tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14f1a12e2"
>[14f1a12e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test1.out.ok,
plugins/sudoers/regress/testsudoers/test10.out.ok,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test15.out.ok,
plugins/sudoers/regress/testsudoers/test16.out.ok,
plugins/sudoers/regress/testsudoers/test17.out.ok,
plugins/sudoers/regress/testsudoers/test18.out.ok,
plugins/sudoers/regress/testsudoers/test19.out.ok,
plugins/sudoers/regress/testsudoers/test2.out.ok,
plugins/sudoers/regress/testsudoers/test20.out.ok,
plugins/sudoers/regress/testsudoers/test21.out.ok,
plugins/sudoers/regress/testsudoers/test22.out.ok,
plugins/sudoers/regress/testsudoers/test23.out.ok,
plugins/sudoers/regress/testsudoers/test24.out.ok,
plugins/sudoers/regress/testsudoers/test25.out.ok,
plugins/sudoers/regress/testsudoers/test26.out.ok,
plugins/sudoers/regress/testsudoers/test27.out.ok,
plugins/sudoers/regress/testsudoers/test28.out.ok,
plugins/sudoers/regress/testsudoers/test3.out.ok,
plugins/sudoers/regress/testsudoers/test4.out.ok,
plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/regress/testsudoers/test6.out.ok,
plugins/sudoers/regress/testsudoers/test7.out.ok,
plugins/sudoers/regress/testsudoers/test8.out.ok,
plugins/sudoers/regress/testsudoers/test9.out.ok,
plugins/sudoers/testsudoers.c:<br>
testsudoers: display when a password is required
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d62d704e5"
>[d62d704e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/testsudoers.c:<br>
testsudoers: add -L, -l and -v options.</p>
<p>This makes it possible to test &ldquo;sudo -l&rdquo; and &ldquo;sudo -v&rdquo; using
testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75256516b"
>[75256516b]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c:<br>
sudoers_lookup_pseudo: sync with sudoers_lookup_check</p>
<p>This makes sudoers_lookup_pseudo(), which is used for pseudo-command
like &ldquo;list&rdquo; and &ldquo;validate&rdquo; a bit more like sudoers_lookup_check(). Time
of day checks are performed, and callbacks are supported. We cannot use
the same code for regular commands and pseudo-commands due to the
&ldquo;pwcheck == all&rdquo; case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=538be58ac"
>[538be58ac]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/logging.c:<br>
Fix user warning message for &ldquo;sudo -l command&rdquo; when not allowed.
Reported by the sudo-rs project.</p>
<p>There was a missing space between &ldquo;list&rdquo; and the actual command. This
also changes the output to include the command as specified by the user,
not the path found in the path. Previously, if the command did not exist
it would not be included in the message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d486db46c"
>[d486db46c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_convmessage.c, plugins/python/python_loghandler.c,
plugins/python/python_plugin_common.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
Add free function for sudo Python module.</p>
<p>This reduces the amount of memory leaked on unload.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a00423af"
>[1a00423af]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Document bug fixes in 1.9.14p3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e59c48743"
>[e59c48743]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_loghandler.c,
plugins/python/python_plugin_common.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
Merge sudo_module_register_loghandler and
sudo_module_set_default_loghandler.</p>
<p>We now create the LogHandler class for each interpreter in
python_plugin_init() instead of just once in sudo_module_init(). This
fixes the crash seen in Py_EndInterpreter() with Python 3.12 and
significantly reduces the number of leaked objects tracked by
MemorySanitizer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09b963269"
>[09b963269]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_convmessage.c:<br>
sudo_module_register_conv_message: fix copy pasta in debug_decl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56b829f66"
>[56b829f66]</a></li>
</ul>
</dd>
<dt>2023-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/python_baseplugin.c, plugins/python/python_convmessage.c,
plugins/python/python_loghandler.c, plugins/python/sudo_python_module.c:
sudo_module_register_loghandler: clear sudo_type_LogHandler on error
Also add comments about PyModule_AddObject stealing a ref on success.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0462a4ee8"
>[0462a4ee8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/pyhelpers.c:<br>
Use Py_XDECREF instead of manual NULL check + Py_DECREF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b52c32f23"
>[b52c32f23]</a></li>
</ul>
</dd>
<dt>2023-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_loghandler.c:<br>
Work around a crash with Python 3.12.</p>
<p>In sudo_module_set_default_loghandler() if we don&rsquo;t leak the reference
to py_loghandler we get a crash in Py_EndInterpreter() with Python 3.12.
This probably indicates a reference counting bug elsewhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e6254fea"
>[4e6254fea]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c:<br>
Unbuffer stdout so we don&rsquo;t miss output during a crash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91ea59945"
>[91ea59945]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_loghandler.c:<br>
Use PyObject_CallNoArgs() where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c4cec148"
>[8c4cec148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_convmessage.c, plugins/python/python_loghandler.c,
plugins/python/sudo_python_module.h:<br>
Make sudo_type_ConvMessage and sudo_type_LogHandler static.</p>
<p>They are not used outside their respective compilation units.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba5ef624f"
>[ba5ef624f]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
plugins/python/Makefile.in, plugins/sudoers/Makefile.in:<br>
Pass TEST_VERBOSE to all test programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=432ac1212"
>[432ac1212]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/host_port/host_port_test.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/serialize_list/check_serialize_list.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/regress/unescape/check_unesc.c:<br>
All test programs should accept the -v option, even if it is ignored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7499b2d27"
>[7499b2d27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
Revert last change, wrong diff committed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e710f7942"
>[e710f7942]</a></li>
</ul>
</dd>
<dt>2023-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
We can rely on Py_FinalizeEx() to free sub-interpreters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a12dbfe90"
>[a12dbfe90]</a></li>
</ul>
</dd>
<dt>2023-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/testhelpers.c:<br>
Adapt to changed formatting of a rejected result in Python 3.12
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cb483578"
>[2cb483578]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/example_audit_plugin.py, plugins/python/pyhelpers.c,
plugins/python/regress/testdata/check_example_audit_plugin_receives_acce
pt.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_receives_erro
r.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_receives_reje
ct.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_version_displ
ay.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_workflow_mult
iple.stdout,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log,
plugins/python/regress/testdata/check_example_policy_plugin_validate_inv
alidate.log:<br>
Remove trailing whitespace from test output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adaba9c0f"
>[adaba9c0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c:<br>
_python_plugin_new_interpreter switches to the new interpreter</p>
<p>No need to do PyThreadState_Swap in the caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a10cdc28"
>[7a10cdc28]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c:<br>
Call PyImport_AppendInittab after pre-initialization.</p>
<p>Also remove redundant PyConfig settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc939297a"
>[cc939297a]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c:<br>
Use Py_InitializeFromConfig() not Py_InitializeEx() for Python &gt;= 3.8.</p>
<p>Avoids deprecation warnings on Python 3.12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da60384ad"
>[da60384ad]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>NEWS:<br>
The sudoers option is &ldquo;use_pty&rdquo;, not &ldquo;log_pty&rdquo;</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/291"
>GitHub issue #291</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0efdd7632"
>[0efdd7632]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
Quiet a warning false positive with older versions of gcc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5480cf7"
>[4b5480cf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
sudoers_check_common: MODE_PRESERVE_ENV is not valid with MODE_CHECK.</p>
<p>We should only check for MODE_PRESERVE_ENV when running a command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa66c1668"
>[fa66c1668]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Document bug fixes in 1.9.14p2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c29a27e84"
>[c29a27e84]</a></li>
</ul>
</dd>
<dt>2023-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/match.c,
plugins/sudoers/regress/testsudoers/test28.out.ok,
plugins/sudoers/regress/testsudoers/test28.sh:<br>
runas_userlist_matches: fix matching a Runas_Spec with an empty runas
user.</p>
<p>We should only match a rule with an empty runas user if a group was
specified on the command line (sudo -g) without a user (no -u option) or
the user specified their own name on the command line. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/290"
>GitHub issue
#290</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db704c22e"
>[db704c22e]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Pass SUDO_TERM_OFLAG to sudo_term_raw() when sudo output is piped.</p>
<p>This fixes a problem with &ldquo;stair-stepped&rdquo; output when the sudo-run
command&rsquo;s output is piped to another program and the command reads input
from the terminal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78b712101"
>[78b712101]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_pty.c:<br>
Simplify the exec_monitor() foreground flag.</p>
<p>Add cmnd_foreground flag that is only true if sudo is the foreground
process and the CD_EXEC_BG flag is not set and pass it to
exec_monitor(). This means exec_monitor() no longer needs to check for
CD_EXEC_BG.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db4bdb732"
>[db4bdb732]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/term.c, plugins/sudoers/sudoreplay.c:<br>
sudo_term_raw: change the isig argument into a flags field</p>
<p>There are current two flags: SUDO_TERM_ISIG (enable terminal signals)
and SUDO_TERM_OFLAG (preserve output flags).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=625653de0"
>[625653de0]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_ptrace.c:<br>
Fix a crash in intercept mode running a command with NULL argv[0].</p>
<p>Newer Linux kernels replace a NULL argv[0] with the empty string, we
should as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff6ddff39"
>[ff6ddff39]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
sudo_conversation_printf: simplify \n -&gt; \r\n handling
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b47f1799c"
>[b47f1799c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/conversation.c:<br>
sudo_conversation: zero out reply even if no password is requested.</p>
<p>This avoids a potential invalid free in the err label and provides more
predictable behavior when mixing message types in a conversation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a014b0f2a"
>[a014b0f2a]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Docume bug fixes in 1.9.14p1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9afb1851b"
>[9afb1851b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/log_client.c:<br>
fmt_info_messages: don&rsquo;t include ttyname if it is NULL</p>
<p>The NULL check was commented out for testing but should have been
restored. Fixes a potential protocol error message from sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56828f641"
>[56828f641]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>logsrvd/iolog_writer.c:<br>
evlog_new: store a new copy of peeraddr, not a pointer to a buffer.</p>
<p>Starting in sudo 1.9.14, eventlog_free() will free the peeraddr member
too so it needs to be dynamically allocated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eee45ef9"
>[2eee45ef9]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-10  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/realpath.c:<br>
realpath.c: include limits.h and use sysconf(_SC_SYMLOOP_MAX)</p>
<p>This is more portable and eliminates the need to check for SYMLOOP_MAX
(and provide it if missing) in configure. Also quiet some -Wconversion
warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a432aed4f"
>[a432aed4f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/ldap_conf.c:<br>
sudo_krb5_ccname_path: avoid gcc false positive for ccname being NULL</p>
<p>The callers all verify that they don&rsquo;t pass a NULL ccname so I&rsquo;m not
sure how the compiler is getting confused (and why now?).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc1a5d7b4"
>[dc1a5d7b4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h:<br>
Work around unused variable warning when fuzzing in enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6a11b4fe"
>[c6a11b4fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check_util.c,
plugins/sudoers/regress/testsudoers/test25.out.ok,
plugins/sudoers/regress/testsudoers/test25.sh,
plugins/sudoers/regress/testsudoers/test26.out.ok,
plugins/sudoers/regress/testsudoers/test26.sh:<br>
Only allow the user to specify -D or -R for the special &ldquo;*&rdquo; value.</p>
<p>The sudoers file must now explicitly allow the user to specify a
directory (sudo -D) or chroot (sudo -R) by setting cwd or chroot to &ldquo;*&rdquo;.
If a specific cwd or chroot value is set in sudoers, the user may not
use the -D or -R options, even if they match the value in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1625f9c8"
>[d1625f9c8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in:<br>
Add restrict keyword to sudo_printf_t in plugin docs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44cfa9e13"
>[44cfa9e13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_debug.h, lib/util/sudo_debug.c:<br>
Convert sudo_debug_enter and sudo_debug_exit into macros.</p>
<p>In most cases, these simply expand to a call to sudo_debug_printf2(). We
need to keep the function versions around in libsudo_util for backwards
compatibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db6baf2ca"
>[db6baf2ca]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Fix sudo_debug_exit_uint_v1 declaration for fuzzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d12a4194"
>[2d12a4194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Add missing sudo_debug_exit_uint_v1 stub for fuzzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eff4e1c0c"
>[eff4e1c0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c, src/edit_open.c, src/exec_common.c,
src/parse_args.c, src/selinux.c, src/sesh.c, src/sudo.c, src/sudo.h,
src/sudo_edit.h, src/sudo_exec.h, src/tgetpass.c:<br>
sudo frontend: make more bit flags unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbb95ad21"
>[dbb95ad21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/check.h, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/lookup.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
sudoers plugin: make more bit flags unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbcb1d250"
>[cbcb1d250]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, include/sudo_event.h, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/sudo_debug.c,
lib/util/util.exp.in:<br>
libsudo_util: make more bit flags unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f097eebd"
>[4f097eebd]</a></li>
</ul>
</dd>
<dt>2023-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/timeout.c:<br>
parse_timeout: move overflow check to the correct location</p>
<p>It was not covering all cases in its original location. Fixes oss-fuzz
issue 60454 with fuzz_sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f7128fe8"
>[9f7128fe8]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #287 from AtariDreams/restrict</p>
<p>Give every printf-like function restrict qualifiers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc02df111"
>[fc02df111]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-07  Rose</dt>
<dd>
<ul>
<li>
<p>include/sudo_compat.h, include/sudo_debug.h, include/sudo_fatal.h,
include/sudo_lbuf.h, include/sudo_plugin.h, include/sudo_util.h,
lib/eventlog/logwrap.c, lib/util/fatal.c, lib/util/inet_ntop.c,
lib/util/lbuf.c, lib/util/snprintf.c, lib/util/strlcat.c,
lib/util/strlcpy.c, lib/util/sudo_debug.c, lib/util/ttyname_dev.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd_journal.c,
plugins/audit_json/audit_json.c, plugins/group_file/plugin_test.c,
plugins/python/pyhelpers.c, plugins/python/regress/iohelpers.c,
plugins/python/regress/iohelpers.h,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h, plugins/sudoers/audit.c,
plugins/sudoers/check_aliases.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap_util.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/parse.h, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudo_ldap.h, plugins/sudoers/sudo_printf.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/conversation.c, src/exec_preload.c, src/parse_args.c,
src/sudo_plugin_int.h:<br>
Give every printf-like function restrict qualifiers</p>
<p>The format value has to be a string literal, every time.</p>
<p>Otherwise, you are not using these functions correctly. To reinforce
this fact, I putrestrict over every non-contrib example of this I could
find.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d758264a"
>[5d758264a]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
struct exec_closure: make rows and cols int, not short</p>
<p>There&rsquo;s no real space saved by using short and using int avoids a few
casts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92860c717"
>[92860c717]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
testsudoers: avoid extern definitions where possible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=548e3e312"
>[548e3e312]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c, src/conversation.c, src/copy_file.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_intercept.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_preload.c,
src/exec_ptrace.c, src/exec_pty.c, src/net_ifs.c, src/parse_args.c,
src/preserve_fds.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/sudo_exec.h, src/sudo_intercept.c, src/sudo_intercept_common.c,
src/tgetpass.c, src/ttyname.c:<br>
sudo frontend: silence most -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32f4b98f6"
>[32f4b98f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/python_convmessage.c,
plugins/python/regress/iohelpers.c,
plugins/python/regress/testhelpers.c,
plugins/python/sudo_python_module.c:<br>
python plugin: silence -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c85f10c8"
>[0c85f10c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/b64_encode.c,
plugins/sudoers/check_aliases.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/display.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/filedigest.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/fmtsudoers_cvt.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_innetgr.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/log_client.c, plugins/sudoers/logging.c,
plugins/sudoers/match_addr.c, plugins/sudoers/match_command.c,
plugins/sudoers/parse.h, plugins/sudoers/parse_ldif.c,
plugins/sudoers/policy.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/starttime.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c:<br>
sudoers plugin: silence most -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a38b71466"
>[a38b71466]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrvd.c,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
logsrvd/sendlog.c:<br>
sudo_logsrvd: silence most -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4891f37a4"
>[4891f37a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/hostcheck.c, lib/iolog/iolog_filter.c,
lib/iolog/iolog_legacy.c, lib/iolog/iolog_mkdirs.c,
lib/iolog/iolog_mkdtemp.c, lib/iolog/iolog_read.c,
lib/iolog/iolog_timing.c, lib/iolog/iolog_write.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_timing/check_iolog_timing.c:<br>
libiolog: silence -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6734a99f8"
>[6734a99f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
libfuzzstub: silence -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e93913e2b"
>[e93913e2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_conf.c, lib/eventlog/logwrap.c,
lib/eventlog/parse_json.c,
lib/eventlog/regress/eventlog_store/store_json_test.c,
lib/eventlog/regress/eventlog_store/store_sudo_test.c,
lib/eventlog/regress/logwrap/check_wrap.c,
lib/eventlog/regress/parse_json/check_parse_json.c:<br>
libevent: silence -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c95423a8f"
>[c95423a8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_json.h, include/sudo_lbuf.h, lib/util/closefrom.c,
lib/util/digest.c, lib/util/event_poll.c, lib/util/fatal.c,
lib/util/getentropy.c, lib/util/getgrouplist.c, lib/util/gidlist.c,
lib/util/json.c, lib/util/lbuf.c, lib/util/mkdir_parents.c,
lib/util/parseln.c, lib/util/regex.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
lib/util/regress/hexchar/hexchar_test.c,
lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/strtofoo/strtoid_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sig2str.c, lib/util/str2sig.c,
lib/util/strlcat.c, lib/util/strlcpy.c, lib/util/strtoid.c,
lib/util/strtonum.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
lib/util/ttysize.c:<br>
libsudo_util: silence most -Wconversion warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5768d374c"
>[5768d374c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Add configure check for restrict keyword.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7801f216"
>[f7801f216]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
sudoers_check_common: remove extraneous return statement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0205f6fc7"
>[0205f6fc7]</a></li>
</ul>
</dd>
<dt>2023-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_digest.h, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/regress/digest/digest_test.c:<br>
Make the remaining instances of digest_type unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bced0a778"
>[bced0a778]</a></li>
</ul>
</dd>
<dt>2023-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/iolog_path_escapes.c:<br>
Copy, don&rsquo;t append group ID in fill_group() and fill_runas_group()</p>
<p>This only affects the case where a group ID cannot be resolved.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43e914a5d"
>[43e914a5d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in:<br>
Remove regress corpus directories correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17c09dfd2"
>[17c09dfd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, include/sudo_util.h, lib/util/strtomode.c,
lib/util/sudo_debug.c, lib/util/util.exp.in:<br>
Change sudo_strtomode() to return mode_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d1b3c369"
>[2d1b3c369]</a></li>
</ul>
</dd>
<dt>2023-07-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/sudoreplay.c:<br>
Rename print_usage() to display_usage()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2848dddd8"
>[2848dddd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Move display of usage text into display_usage() so usage() always exits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6d154241"
>[f6d154241]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/parseln.c, logsrvd/logsrvd_journal.c:<br>
Fix some indentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f0f6b7c7"
>[1f0f6b7c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/testsudoers.c:<br>
Include testsudoers_pwutil.h for testsudoers_pwutil.c prototypes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd061e4d6"
>[fd061e4d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/testsudoers_pwutil.c,
plugins/sudoers/testsudoers_pwutil.h, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/tsgetgrpw.h:<br>
Fix wrapping of libc getpwnam/getpwuid/getgrnam/getgrgid on NetBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1d906347"
>[f1d906347]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, config.h.in, configure, configure.ac,
lib/util/roundup.c, m4/ax_gcc_builtin.m4:<br>
Add configure tests for __builtin_clz/__builtin_clzl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfb6132d9"
>[bfb6132d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/roundup.c:<br>
Add fallback for compilers without __builtin_clz/__builtin_clzl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f69939d7"
>[0f69939d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/roundup.c:<br>
sudo_pow2_roundup: fix 64-bit version when shifting 31 or more places</p>
<p>Shift 1UL instead of 1 to avoid overflowing an int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a7ca0a83"
>[3a7ca0a83]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #286 from AtariDreams/one-more</p>
<p>Optimize sudo_pow2_roundup_v1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d900e7a93"
>[d900e7a93]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/roundup.c:<br>
Optimize sudo_pow2_roundup_v1</p>
<p>No need to call sudo_pow2_roundup_v2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c3e4a33c"
>[8c3e4a33c]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #285 from AtariDreams/bug</p>
<p>Remove comment about algorithm being from bit-twiddling hacks
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa69ee5e1"
>[fa69ee5e1]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/roundup.c:<br>
Remove comment about algorithm being from bit-twiddling hacks</p>
<p>Said comment no longer applies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76d7aefb3"
>[76d7aefb3]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #284 from AtariDreams/fix</p>
<p>Fix fuzzing errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f884514b3"
>[f884514b3]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/parseln.c, lib/util/roundup.c, logsrvd/logsrvd_journal.c:<br>
Fix fuzzing errors</p>
<p>We should be checking for integer overflow, rather than checking if size
is 0.</p>
<p>Additionally, we should set errno to ENOMEM when this overflow happens.</p>
<p>Finally, the most efficient implementation of the round-up-to-2
algorithm involves the clz intrinsic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=732110428"
>[732110428]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #283 from AtariDreams/bug</p>
<p>Fixed even more signedness and conversion issues
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9266966ab"
>[9266966ab]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Rose</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/timestamp.c, plugins/sudoers/tsgetgrpw.c, src/sudo.c:<br>
Fixed even more signedness and conversion issues</p>
<p>This should be the last of them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbed9daa4"
>[cbed9daa4]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
sudo_lbuf_expand: limit allocation to UINT_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5eb1e055"
>[f5eb1e055]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/parseln.c:<br>
sudo_parseln: use sudo_pow2_roundup() instead of hand-rolling it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3dc70ab6"
>[d3dc70ab6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c, logsrvd/logsrv_util.h, logsrvd/logsrvd.c,
logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
plugins/sudoers/log_client.c, plugins/sudoers/log_client.h:<br>
Promote length/size/offset in struct connection_buffer to size_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e95bd883d"
>[e95bd883d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/lbuf.c, lib/util/roundup.c,
lib/util/util.exp.in, logsrvd/logsrv_util.c, logsrvd/logsrvd.c,
plugins/sudoers/log_client.c:<br>
Make sudo_pow2_roundup() operate on size_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56a431f7e"
>[56a431f7e]</a></li>
</ul>
</dd>
<dt>2023-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_debug.h, lib/util/sudo_debug.c, plugins/python/pyhelpers.c,
plugins/python/pyhelpers.h, plugins/python/python_loghandler.c,
plugins/python/sudo_python_debug.c, plugins/python/sudo_python_debug.h:<br>
Make the debug subsystem unsigned.</p>
<p>It was already unsigned in sudoers but not in the front-end or the
python plugin. Making this consistent resolves a lot of -Wconversion
warnings. Also clean up some other -Wconversion warnings in
sudo_debug.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b926df1df"
>[b926df1df]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c,
lib/eventlog/regress/eventlog_store/store_json_test.c,
lib/eventlog/regress/eventlog_store/store_sudo_test.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/exec_monitor.c, src/sudo.c:<br>
Fix up indentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04c7e910e"
>[04c7e910e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #280 from AtariDreams/bug</p>
<p>Mark functions not returning as sudo_noreturn
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=575e4ab2f"
>[575e4ab2f]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-01  Rose</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/eventlog.c,
lib/eventlog/regress/eventlog_store/store_json_test.c,
lib/eventlog/regress/eventlog_store/store_sudo_test.c,
lib/eventlog/regress/logwrap/check_wrap.c,
lib/eventlog/regress/parse_json/check_parse_json.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/util/regress/hexchar/hexchar_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c, logsrvd/logsrvd.c,
logsrvd/regress/logsrvd_conf/logsrvd_conf_test.c, logsrvd/sendlog.c,
plugins/group_file/plugin_test.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/sesh.c,
src/sudo.c:<br>
Mark functions not returning as sudo_noreturn</p>
<p>We also put NOTREACHED where it applies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45fdfa18f"
>[45fdfa18f]</a></p>
</li>
</ul>
</dd>
<dt>2023-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l, src/limits.c:<br>
Avoid passing debug_return_size_t() a negative number.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97e574091"
>[97e574091]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #279 from AtariDreams/bison</p>
<p>Regenerate toke.c using updated flex
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a4939a1c"
>[2a4939a1c]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-29  Rose</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Regenerate toke.c using updated flex</p>
<p>Use the current version of flex to generate toke.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ea68d208"
>[6ea68d208]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/testsudoers.c:<br>
Fix a few memory leaks in the tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fbf431c4"
>[5fbf431c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/group,
plugins/sudoers/regress/testsudoers/passwd,
plugins/sudoers/regress/testsudoers/test27.out.ok,
plugins/sudoers/regress/testsudoers/test27.sh,
plugins/sudoers/testsudoers.c:<br>
Add test for runas_check_shell and check_user_shell()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac9b6c94d"
>[ac9b6c94d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test25.out.ok,
plugins/sudoers/regress/testsudoers/test25.sh,
plugins/sudoers/regress/testsudoers/test26.out.ok,
plugins/sudoers/regress/testsudoers/test26.sh,
plugins/sudoers/testsudoers.c:<br>
testsudoers: add -D and -R options to set cwd and chroot like sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdc8a7f35"
>[bdc8a7f35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/check.c,
plugins/sudoers/check_util.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Move check_user_* functions to check_util.c so testsudoers can use them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01ad570e2"
>[01ad570e2]</a></li>
</ul>
</dd>
<dt>2023-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/testsudoers.c:<br>
testsudoers: make lbuf private to dump_sudoers()</p>
<p>It is no longer used directly in main.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=689efe3cd"
>[689efe3cd]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test4.out.ok,
plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/testsudoers.c:<br>
testsudoers: display &ldquo;Parse error&rdquo; if there was a parse error.</p>
<p>Previously, we just printed &ldquo;Command unmatched&rdquo; which makes it harder to
see that an error occurred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=260c2fb83"
>[260c2fb83]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/regress/testsudoers/test1.out.ok,
plugins/sudoers/regress/testsudoers/test10.out.ok,
plugins/sudoers/regress/testsudoers/test15.out.ok,
plugins/sudoers/regress/testsudoers/test16.out.ok,
plugins/sudoers/regress/testsudoers/test17.out.ok,
plugins/sudoers/regress/testsudoers/test18.out.ok,
plugins/sudoers/regress/testsudoers/test19.out.ok,
plugins/sudoers/regress/testsudoers/test2.out.ok,
plugins/sudoers/regress/testsudoers/test20.out.ok,
plugins/sudoers/regress/testsudoers/test21.out.ok,
plugins/sudoers/regress/testsudoers/test22.out.ok,
plugins/sudoers/regress/testsudoers/test23.out.ok,
plugins/sudoers/regress/testsudoers/test24.out.ok,
plugins/sudoers/regress/testsudoers/test3.out.ok,
plugins/sudoers/regress/testsudoers/test6.out.ok,
plugins/sudoers/regress/testsudoers/test7.out.ok,
plugins/sudoers/regress/testsudoers/test8.out.ok,
plugins/sudoers/regress/testsudoers/test9.out.ok,
plugins/sudoers/testsudoers.c:<br>
testsudoers: use allowed/denied/unmatched instead of just
matched/unmatched</p>
<p>This makes it possible to tell whether an entry was rejected due to a
negative match (explicitly denied) as opposed to a non-match. Also fixes
a bug where the runas status was only printed for positive matches.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a21aec0a"
>[6a21aec0a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test20.out.ok,
plugins/sudoers/testsudoers.c:<br>
testsudoers: use sudoers_lookup() instead of a custom loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd25bfc89"
>[fd25bfc89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/lookup.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c:<br>
Add callbacks to sudoers_lookup() so we can use it in testsudoers.</p>
<p>Also pass in the time to be used for NOTBEFORE/NOTAFTER checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e025cca44"
>[e025cca44]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #278 from AtariDreams/types</p>
<p>Avoid compiler casting warnings Part 2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41b82006d"
>[41b82006d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
check_user_runcwd: only allow sudo&rsquo;s -D option if sudoers specifies a
runcwd.</p>
<p>Previously, the user could specify the runas user&rsquo;s home dir for &ldquo;sudo
-i&rdquo; or the user&rsquo;s existing cwd when -i is not specified. This behavior
was never documented and is inconsistent with how the -R option is
handled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c7a20d74"
>[1c7a20d74]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, plugins/sudoers/regress/testsudoers/test24.out.ok,
plugins/sudoers/regress/testsudoers/test24.sh,
plugins/sudoers/testsudoers.c:<br>
testsudoers: add support for NOTBEFORE and NOTAFTER</p>
<p>Also adds -T option to set the value of &ldquo;now&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c1a473dd"
>[2c1a473dd]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-18  Rose</dt>
<dd>
<ul>
<li>
<p>lib/util/mktemp.c, lib/util/regress/tailq/hltq_test.c,
lib/util/sudo_debug.c, lib/util/ttyname_dev.c,
plugins/group_file/plugin_test.c, plugins/sudoers/editor.c,
plugins/sudoers/filedigest.c, plugins/sudoers/match_addr.c,
plugins/sudoers/match_digest.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/tsdump.c, plugins/sudoers/visudo.c, src/exec_monitor.c,
src/limits.c, src/sesh.c, src/sudo.c, src/sudo.h, src/sudo_edit.c:<br>
Avoid compiler casting warnings Part 2</p>
<p>This saves instructions that are related to casting as well as compiler
warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22079c307"
>[22079c307]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/lookup.c:<br>
Rename parse.c -&gt; lookup.c now that it only contains sudoers_lookup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2a274b06"
>[f2a274b06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/display.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h:<br>
Split display_privs() and display_cmnd() out of parse.c into display.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b640329d"
>[8b640329d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
No need to round up to page size with sudo_mmap_alloc().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ba61cd13"
>[1ba61cd13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #265 from AtariDreams/types</p>
<p>Avoid compiler casting warnings by assigning to variables of the same
type where possible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f437c66a2"
>[f437c66a2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #277 from AtariDreams/debug_return_int(1);</p>
<p>We should be returning 0, not 1, when logservd finishes without errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0238ab21"
>[e0238ab21]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-28  Rose</dt>
<dd>
<ul>
<li>
<p>logsrvd/logsrvd.c:<br>
We should be returning 0, not 1, when logservd finishes without errors</p>
<p>1 is for failure, 0 is for no failure, and this does not look like a
failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c13d7130"
>[2c13d7130]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-18  Rose</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/eventlog.c, lib/eventlog/eventlog_free.c,
lib/eventlog/parse_json.c, lib/iolog/hostcheck.c,
lib/iolog/regress/iolog_path/check_iolog_path.c, lib/util/event.c,
lib/util/explicit_bzero.c, lib/util/fatal.c, lib/util/getaddrinfo.c,
lib/util/getentropy.c, lib/util/hexchar.c, lib/util/inet_ntop.c,
lib/util/json.c, lib/util/lbuf.c, lib/util/mksiglist.c,
lib/util/mksigname.c, lib/util/multiarch.c, lib/util/progname.c,
lib/util/sig2str.c, lib/util/snprintf.c, lib/util/sudo_conf.c,
lib/util/term.c, lib/util/uuid.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/sendlog.c, plugins/audit_json/audit_json.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/editor.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/iolog.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/timestr.c, plugins/sudoers/tsdump.c,
plugins/sudoers/visudo.c, src/conversation.c, src/exec_monitor.c,
src/limits.c, src/parse_args.c, src/sesh.c, src/sudo.c, src/sudo.h:<br>
Avoid compiler casting warnings by assigning to the same type where
possible</p>
<p>This saves instructions that are related to casting as well as compiler
warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54ba33ea"
>[e54ba33ea]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, src/sudo_intercept.c,
src/sudo_intercept_common.c:<br>
Fix undefined symbol on macOS for intercept mode and log_subcmds.</p>
<p>macOS does not support direct access to the environ pointer from a
shared object. We need to redirect through _NSGetEnviron() instead.
Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/276"
>GitHub issue
#276</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0b074cc9"
>[a0b074cc9]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
check_user_runcwd: allow -D option if it matches the cwd in sudoers</p>
<p>Previously, check_user_runcwd() would return true if the runcwd matched
the user&rsquo;s cwd, even if sudoers specified a different one. The
user-specified runcwd was ignored but it is better to error out in this
case. It is now also possible to use &ldquo;sudo -D&rdquo; with the directory
specified in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7d4c05ac"
>[e7d4c05ac]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #275 from AtariDreams/emergency</p>
<p>Set command_info to NULL once it is freed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2a87323e"
>[a2a87323e]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-26  Rose</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
Set command_info to NULL once it is freed</p>
<p>The lack of setting to NULL is a holdover from when command_info was a
local variable and not a global one. However, we given how other global
variables are set to NULL, it is best that we do the same here to avoid
potential issues should sudoers_policy_store_result be called again
after the first time failed, otherwise we could get a double-free.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bb41ed82"
>[0bb41ed82]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #274 from bin-ly/main</p>
<p>Modify the is_script function for match_command.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=676066e2a"
>[676066e2a]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-25  binlingyu</dt>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Modify the is_script function for match_command.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8a45e8a5"
>[f8a45e8a5]</a></li>
</ul>
</dd>
<dt>2023-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention C99 requirement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fb98a9a3"
>[7fb98a9a3]</a></li>
</ul>
</dd>
<dt>2023-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Reference SETENV-related settings in the command environment section.</p>
<p>Based on GitHub PR #273 from Ilya Kulakov.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0ee845df"
>[e0ee845df]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md:<br>
Sudo requires a C99 compiler due to the use of flexible array members.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=733d5291b"
>[733d5291b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #266 from AtariDreams/c99</p>
<p>Do variable length arrays the C99 way
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bdd2214a"
>[3bdd2214a]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #269 from trackers-lover/main</p>
<p>correct the return value type of function alias_find_used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69b486d46"
>[69b486d46]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Clarify that use_pty is on by default starting with 1.9.14.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d2b1761f"
>[5d2b1761f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Sudo runs the command in a pty by default in 1.9.14 and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afb09e004"
>[afb09e004]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Add commented out example for disabling use_pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da1f373d"
>[4da1f373d]</a></li>
</ul>
</dd>
<dt>2023-05-18  Rose</dt>
<dd>
<ul>
<li>
<p>include/sudo_event.h, lib/util/event.c, lib/util/rcstr.c,
plugins/sudoers/canon_path.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/sudo_ldap_conf.h:<br>
Do variable length arrays the C99 way</p>
<p>Variable length arrays are supported by C99, but having it denoted as
&ldquo;1&rdquo; confused the compiler and is not defined.</p>
<p>Note that because we don&rsquo;t get the inferred NULL terminator, we have to
increase the malloc size by one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fd680c98"
>[7fd680c98]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Update Xcode version from 13.2.1 to 13.4.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64b666471"
>[64b666471]</a></li>
</ul>
</dd>
<dt>2023-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
Add plugins/sudoers/regress/testsudoers/passwd to MANIFEST.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc49e11fa"
>[dc49e11fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po, po/eo.mo, po/eo.po,
po/pl.mo, po/pl.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5c589da0"
>[c5c589da0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Document recent bug fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9185f4c"
>[4f9185f4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/group,
plugins/sudoers/regress/testsudoers/passwd,
plugins/sudoers/regress/testsudoers/test22.out.ok,
plugins/sudoers/regress/testsudoers/test22.sh,
plugins/sudoers/regress/testsudoers/test23.out.ok,
plugins/sudoers/regress/testsudoers/test23.sh:<br>
Add tests to exercise recent runas user and group bug fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baf482763"
>[baf482763]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/passwd,
plugins/sudoers/regress/testsudoers/test21.out.ok,
plugins/sudoers/regress/testsudoers/test21.sh:<br>
Add test to exercise the bug that prevented the group specified via
&ldquo;sudo -g&rdquo; from matching when a Runas_Alias was used in the user or group
portion of a Runas_Spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d1732503"
>[0d1732503]</a></li>
</ul>
</dd>
<dt>2023-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/match.c:<br>
runaslist_matches: split out user_list and group_list matching.</p>
<p>This makes it possible to call the appropriate runas user or group list
match function when resolving aliases instead of calling
runaslist_matches() itself. Fixes a bug that prevented the group
specified via &ldquo;sudo -g&rdquo; from matching when a Runas_Alias was used in the
user or group portion of a Runas_Spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78e65e14e"
>[78e65e14e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match.c:<br>
runaslist_matches: fix bug when no runas list is specified in sudoers.</p>
<p>If a sudoers rule has no runas list, a user-specified runas group should
only be allowed if it matches a group that the default runas user
belongs to. Instead, a missing group check allowed the user run commands
as the default runas user with an arbitrary group.</p>
<p>This means that a rule like &ldquo;somebody host = ALL&rdquo;, which should be
equivalent to &ldquo;somebody host = (root) ALL&rdquo;, had the same effect as
&ldquo;somebody host = (root:ALL) ALL&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=471028351"
>[471028351]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/match.c:<br>
runaslist_matches: remove special case to handle &ldquo;sudo -g group&rdquo;</p>
<p>Now that we are guaranteed to have a runas user list for all sudoers
rules that contain a runas list, we can remove support for the special
case where user_matched is set in the runas group matching conditional.
This fixes a bug where &ldquo;sudo -u myuser -g mygroup&rdquo; was permitted by a
rule like &ldquo;myuser ALL = (root) ALL&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c1559e0e"
>[8c1559e0e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/sudoers/test27.json.ok,
plugins/sudoers/regress/sudoers/test27.ldif.ok,
plugins/sudoers/regress/sudoers/test27.out.ok:<br>
Populate runasusers even when only a grouplist is specified.</p>
<p>When a sudoers rule permits the user to run commands as a group, not a
user, we should set the runasusers to single member with the special
MYSELF token. This guarantees that the only time runasusers will be NULL
is when no runaslist is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64ab8cd23"
>[64ab8cd23]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.h:<br>
Python may be built with 32-bit time_t support on 32-bit platforms. We
need to undef the SIZEOF_TIME_T from pyconfig.h so it does not conflict
with our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a28d2d412"
>[a28d2d412]</a></li>
</ul>
</dd>
<dt>2023-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #272 from millert/main</p>
<p>Avoid use of variable length arrays and add ctype(3) casts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac46157e9"
>[ac46157e9]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
Avoid use of variable length arrays and add ctype(3) casts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fbdd414c"
>[8fbdd414c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #270 from moehanabi/main</p>
<p>Add %n$s support for sudo_lbuf_append_v1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee4f210f3"
>[ee4f210f3]</a></p>
</li>
</ul>
</dd>
<dt>2023-06-09  Brilliant Hanabi</dt>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
Add %n$s support for sudo_lbuf_append_v1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=932339ed9"
>[932339ed9]</a></li>
</ul>
</dd>
<dt>2023-06-09  bianguangze</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
correct the return value type of function alias_find_used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4dcac650"
>[b4dcac650]</a></li>
</ul>
</dd>
<dt>2023-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, po/cs.mo, po/cs.po,
po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fr.mo, po/fr.po, po/hr.mo,
po/hr.po, po/ko.mo, po/ko.po, po/ro.mo, po/ro.po, po/ru.mo, po/ru.po,
po/sr.mo, po/sr.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5baf817db"
>[5baf817db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.14
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c58d8075"
>[2c58d8075]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1050"
>Bug #1050</a> fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2077b5157"
>[2077b5157]</a></li>
</ul>
</dd>
<dt>2023-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.9.14
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7070b047"
>[c7070b047]</a></li>
</ul>
</dd>
<dt>2023-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/sudo_ldap_conf.h:<br>
Add NETGROUP_QUERY option for servers that can&rsquo;t match
nisNetgroupTriple. This can be used to support netgroup queries on
systems that lack the innetgr() function and where the LDAP server
cannot query the nisNetgroup by nisNetgroupTriple.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3786654db"
>[3786654db]</a></li>
</ul>
</dd>
<dt>2023-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h:<br>
sudo_ldap_check_non_unix_group: pass nss pointer to netgr_matches() This
allows us to use the LDAP-specific version of innetgr() when possible.
Also enable &ldquo;use_netgroups&rdquo; by default even on systems without innetgr()
since we can now query netgroups directly via LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fddb2875"
>[6fddb2875]</a></li>
</ul>
</dd>
<dt>2023-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Only call ptrace_verify_post_exec() for intercept, not log_subcmds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=245c56bac"
>[245c56bac]</a></li>
</ul>
</dd>
<dt>2023-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
run_command: back out changes to run editor in its own process group. It
unnecessarily complicates things to work around bugs in an OS almost no
one runs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2392ee9d7"
>[2392ee9d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/util.exp.in, plugins/sudoers/Makefile.in, src/Makefile.in,
src/sudo_exec.h, src/suspend_parent.c:<br>
Make suspend_parent.c out of lib/util and into src. Nothing else uses it
now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95cd40907"
>[95cd40907]</a></li>
</ul>
</dd>
<dt>2023-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/digestname.c, plugins/sudoers/filedigest.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_digest.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Initialize digest_type to SUDO_DIGEST_INVALID, not -1 and make it
unsigned. This makes the digest type consistently unsigned instead of a
mix of signed (for the -1 value in the tokenizer) and unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1278e36ff"
>[1278e36ff]</a></li>
</ul>
</dd>
<dt>2023-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
etc/codespell.exclude, etc/codespell.ignore, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/pivot.c,
plugins/sudoers/visudo.c:<br>
Fix typos and update excluded/ignored codespell lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d633d82f2"
>[d633d82f2]</a></li>
</ul>
</dd>
<dt>2023-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
run_command: check that ttyfd is not -1 before using it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0986a8846"
>[0986a8846]</a></li>
</ul>
</dd>
<dt>2023-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
Work around a macOS a kernel bug where tcsetpgrp() does not restart.</p>
<p>I reported this bug to Apple over 12 years ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d417b46d"
>[4d417b46d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
run_command: run editor in foreground if visudo is the foreground
process</p>
<p>The command is now always run in its own process group. If visudo is run
in the foreground, the command is run in the foreground too. Otherwise,
run the command in the background. There is a race between the
tcsetpgrp() call in the parent and the execve() in the child. If we lose
the race and the command needs the controlling terminal, it will be
stopped with SIGTTOU or SIGTTIN, which the waitpid() loop will handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be20e1592"
>[be20e1592]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
Accept carriage return for EOL in addition to newline.</p>
<p>Since visudo doesn&rsquo;t alter the terminal settings it is possible for the
terminal to have the ONLCR bit set in the output control flags. In that
case, we will get a CR, not a NL when the user presses enter/return. One
way this can happen is if visudo is run in the background from a shell
that supports line editing and the editor restores the (cbreak-style)
terminal mode when it finishes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e28e60b5"
>[7e28e60b5]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_fill.c:<br>
check_fill: sudoers_strict() is now a function, not a global variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91f100f5b"
>[91f100f5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.h, plugins/sudoers/sudoers.h,
plugins/sudoers/toke.h:<br>
Move parser prototypes / externs from sudoers.h to parse.h or toke.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f352ef5d6"
>[f352ef5d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/sudoers.c:<br>
parse.h is already included by sudoers.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01ff7c476"
>[01ff7c476]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Rename parser_conf -&gt; sudoers_conf in all but the parser itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bde363e06"
>[bde363e06]</a></li>
</ul>
</dd>
<dt>2023-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/file.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Move sudoers search path to struct sudoers_parser_config.</p>
<p>That way we can avoid passing it to init_parser() directly. We still
need sudoers_search_path to be shared between the lexer and the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cbd5462a"
>[8cbd5462a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/file.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c:<br>
Add struct sudoers_parser_config and pass it to init_parser().</p>
<p>This struct contains parser configuration such as the sudoers file
uid/gid/mode and parse flags such as verbose, strict and recovery.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d7c30c5a"
>[9d7c30c5a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
push_include_int: Avoid passing close(2) a negative value on error.
Coverity CID 314108
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb9d0d79a"
>[fb9d0d79a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Eliminate dead store. Coverity CID 315032.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f722272b7"
>[f722272b7]</a></li>
</ul>
</dd>
<dt>2023-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>include/sudo_iolog.h, lib/iolog/iolog_gets.c:<br>
iolog_gets: change size parameter to int to match fgets/gzgets</p>
<p>Return an error, setting errno to EINVAL, for negative sizes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f4b40680"
>[2f4b40680]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Rename force_umask to override_umask and make it private to sudoers.c.</p>
<p>Add getter for policy.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0fa3a4d2"
>[c0fa3a4d2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/check.h, plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.c:<br>
Make timestamp_uid and timestamp_gid private to timestamp.c.</p>
<p>Add getter (for set_perms.c) and setter (for sudoers.c).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72489d7a8"
>[72489d7a8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.h:<br>
Make login_style private to bsdauth.c</p>
<p>Add a setter for policy.c to handle auth_type from the front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5de5890f"
>[d5de5890f]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Back out last change, len must be int, not size_t, for %.*s.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cda03ed13"
>[cda03ed13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Use a &ldquo;%s&rdquo; format instead of using a translated string as the format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27ea64bac"
>[27ea64bac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #260 from AtariDreams/size_t</p>
<p>Prefer size_t over int, as casting can take extra instructions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16191bb3d"
>[16191bb3d]</a></p>
</li>
</ul>
</dd>
<dt>2023-05-03  Rose</dt>
<dd>
<ul>
<li>lib/eventlog/parse_json.c, lib/util/sudo_debug.c,
plugins/sudoers/fmtsudoers.c:<br>
Prefer size_t over int, as casting can take extra instructions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=459a49b1f"
>[459a49b1f]</a></li>
</ul>
</dd>
<dt>2023-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Rename init_parser_ext() to init_parser() and remove old wrapper.</p>
<p>There was only one consumer of the init_parser() wrapper now that
reset_parser() has been introduced.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbbaea5b2"
>[bbbaea5b2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c:<br>
Add reset_parser() and use in place of init_parser(NULL).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f258a15df"
>[f258a15df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h:<br>
Make path_ldap_conf and path_ldap_secret private to policy.c.</p>
<p>Add getters for both so the ldap code can access them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80768ed3a"
>[80768ed3a]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/file.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c:<br>
Make sudoers_file private to policy.c and visudo.c.</p>
<p>We just need a way for the policy (and visudo) to override the default
sudoers path. This adds a getter to be used in file.c when sudoers is
first opened.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f553ddc43"
>[f553ddc43]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c:<br>
Support adminconfdir for relative include paths in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5446b009e"
>[5446b009e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
Track the destination sudoers path for each parsed file.</p>
<p>When adminconfdir is enabled, the destination pathh may be different
from the path we opened. We always store an edited file in the
adminconfdir (if enabled). This makes it possible to use visudo when
/etc/sudoers is located on a read-only file system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a6ac5d26"
>[7a6ac5d26]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, Makefile.in, configure, configure.ac, docs/Makefile.in,
examples/Makefile.in, include/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in, m4/sudo.m4,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add adminconfdir and &ndash;enable-adminconf to set it. Configuration paths
in sudo are now a colon-separated list of files with the adminconfdir
instance first (if enabled), followed by a sysconfdir instance.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4c6ef122"
>[d4c6ef122]</a></li>
</ul>
</dd>
<dt>2023-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, m4/sudo.m4, pathnames.h.in,
plugins/sudoers/visudo.c:<br>
Substitute for _PATH_SUDO* variables in pathnames.h. Previously these
were hard-coded with Makefile overrides.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ad6dfa37"
>[9ad6dfa37]</a></li>
</ul>
</dd>
<dt>2023-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/file.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c:<br>
Support sudoers_file being a colon-separated path of files. The first
file found is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17b35471"
>[f17b35471]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_util.h, lib/util/Makefile.in,
lib/util/secure_path.c, lib/util/sudo_conf.c, lib/util/util.exp.in,
logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/sudoers.c, src/Makefile.in:<br>
Convert config file paths to colon-separated path list. This means that
_PATH_SUDO_CONF, _PATH_SUDOERS, _PATH_SUDO_LOGSRVD_CONF, and
_PATH_CVTSUDOERS_CONF can now specify multiple files. The first file
that exists is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4363d03ef"
>[4363d03ef]</a></li>
</ul>
</dd>
<dt>2023-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure:<br>
Regenerate with latest autoconf from git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7e906ff6"
>[a7e906ff6]</a></li>
</ul>
</dd>
<dt>2023-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>logsrvd/logsrvd_conf.c:<br>
No longer need to set AI_NUMERICSERV while fuzzing.</p>
<p>Now that getaddrinfo() is stubbed out while fuzzing we can remove the
hack that set AI_NUMERICSERV.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=978aa9002"
>[978aa9002]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
getaddrinfo stub: set sin_port
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1f2452c0"
>[d1f2452c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Avoid NULL deref in stub getaddrinfo() when nodename is NULL. Also add
support for parsing servname. We only need to support a subset of
getaddrinfo() functionality in the fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2898c8511"
>[2898c8511]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/hardening.m4:<br>
Add missing stdio.h include for the _FORTIFY_SOURCE=2 check.
Implementations of _FORTIFY_SOURCE require the header file to be
included. Also remove the useless test of an empty program with
_FORTIFY_SOURCE defined. Pointed out by Florian Weimer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=075ee0f9d"
>[075ee0f9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/ldap.m4:<br>
Use ldap_msgfree() instead of ldap_init() for the lber.h test. The
ldap_init() function is marked as deprecated and not defined by default
on some systems. This can cause an error for compilers that do not
support implicit function declarations. From Florian Weimer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b83140e0f"
>[b83140e0f]</a></li>
</ul>
</dd>
<dt>2023-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Include arpa/inet.h for inet_pton() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47ae92d03"
>[47ae92d03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Add netdb.h for struct addrinfo and EAI_* error codes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d4dc19ec"
>[3d4dc19ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Stub out getaddrinfo() and freeaddrinfo(). We may not be able have
access to DNS in the fuzzing environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64f6d6fdb"
>[64f6d6fdb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/regress/eventlog_store/store_sudo_test.c:<br>
Plug memory leaks in store_sudo_test found by LSAN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c85fefae"
>[8c85fefae]</a></li>
</ul>
</dd>
<dt>2023-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
disable_coredump: only change the soft limit, leave the hard limit as-is
This should avoid problems on Linux in cases where sudo does not have
CAP_SYS_RESOURCE which may be the case in an unprivileged container.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/42"
>GitHub issue #42</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1deffbe5"
>[b1deffbe5]</a></li>
</ul>
</dd>
<dt>2023-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Add basic support for remote power on/off via net-snmp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2243e373"
>[e2243e373]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
More accurate description of what happens for &ldquo;sudo -b&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c3c8acba"
>[6c3c8acba]</a></li>
</ul>
</dd>
<dt>2023-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_nopty.c, src/exec_pty.c, src/selinux.c, src/sudo.h,
src/ttyname.c:<br>
Avoid calling isatty()/ttyname() on std{in,out,err} if not a char dev.</p>
<p>The user controls these fds so we should avoid calling ioctl(2) on them
unless they correspond to actual character device files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab0f8dda3"
>[ab0f8dda3]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Better support for &ldquo;sudo -b&rdquo; when running the command in a pty.</p>
<p>When a command is run via &ldquo;sudo -b&rdquo; it has no access to terminal input.
In non-pty mode, the command runs in an orphaned process group and reads
from the controlling terminal fail with EIO. We cannot do the same while
running in a pty but if we set stdin to a half-closed pipe, reads from
it will get EOF. That is close enough.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe80c27de"
>[fe80c27de]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/parse_args.c, src/sudo_usage.h.in:<br>
Hard-code usage() and help() for an 80-column terminal.</p>
<p>Trying to tailor the help and usage output to the terminal width is
simply not worth it and could be abused to mark a socket as &ldquo;trusted&rdquo; on
Linux if there are additional kernel bugs like CVE-2023-2002.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b24af7b3e"
>[b24af7b3e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo.c, src/sudo_usage.h.in:<br>
Move CONFIGURE_ARGS from sudo_usage.h.in to config.h.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65c0b5a08"
>[65c0b5a08]</a></li>
</ul>
</dd>
<dt>2023-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/ttysize.c, src/sudo.c:<br>
get_user_info: call sudo_get_ttysize() even if no /dev/tty We still want
to initialize rows and cols based on the environment if possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80b85bdd5"
>[80b85bdd5]</a></li>
</ul>
</dd>
<dt>2023-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c:<br>
Get the tty size using stdout, not stderr, when printing help output.
While usage() prints to stderr, help() prints to stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ac994179"
>[4ac994179]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
get_user_info: pass sudo_get_ttysize() the fd of /dev/tty, not stderr.
Both the plugin API and the main event loop expect lines/cols to refer
to the user&rsquo;s terminal, so using /dev/tty is better here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1912957a"
>[d1912957a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>include/sudo_util.h, lib/util/ttysize.c, lib/util/util.exp.in,
plugins/sudoers/sudoreplay.c, src/parse_args.c, src/sudo.c:<br>
Add an fd argument to sudo_get_ttysize() instead of always using stderr.</p>
<p>For sudoreplay we open /dev/tty, so use that instead of stderr when
determining the terminal size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc22cca34"
>[cc22cca34]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/ttysize.c:<br>
Check whether stderr is a tty before trying TIOCGWINSZ.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5650b436e"
>[5650b436e]</a></li>
</ul>
</dd>
<dt>2023-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Use -no-undefined on macOS to avoid &ldquo;-undefined dynamic_lookup&rdquo;
warnings.</p>
<p>Starting with macOS 13, the linker warns when &ldquo;-undefined
dynamic_lookup&rdquo; is used. This is added by libtool by default on macOS
but we can suppress it by passing -no-undefined to libtool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae12d18ff"
>[ae12d18ff]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>docker/debian/latest/Dockerfile, docker/debian/testing/Dockerfile,
docker/fedora/latest/Dockerfile, docker/fedora/rawhide/Dockerfile,
docker/ubuntu/devel/Dockerfile, docker/ubuntu/latest/Dockerfile,
docker/ubuntu/rolling/Dockerfile:<br>
Add make to Dockerfile and sort packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62a2d9f94"
>[62a2d9f94]</a></li>
</ul>
</dd>
<dt>2023-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>docs/UPGRADE.md, docs/sudoers.man.in, docs/sudoers.mdoc.in,
plugins/sudoers/defaults.c:<br>
Enable the use_pty option by default for sudo 1.9.14.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/258"
>GitHub issue #258</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=894daa88f"
>[894daa88f]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Split up the monolithic sudoers_policy_main() function.</p>
<p>This splits the code to find the command, perform a sudoers lookup, ask
for a password as needed, and perform post-lokup checks out into
sudoers_check_common(). The old sudoers_policy_main() has been replaced
by sudoers_check_cmnd() (called by sudoers_policy_check()),
sudoers_validate_user() (called by sudoers_policy_validate()) and
sudoers_list() (called by sudoers_policy_list()). The list_user lookup
is now performed in sudoers_list().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7b8f3ffb"
>[d7b8f3ffb]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
Move the root_sudo check until after we apply per-command Defaults.</p>
<p>It is possible, though unlikely, for &ldquo;root_sudo&rdquo; to be used in a
per-command Defaults statement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=859a81ad2"
>[859a81ad2]</a></p>
</li>
</ul>
</dd>
<dt>2023-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
sudoers_policy_main: restore locale if sudoers_lookup() fails.</p>
<p>Previously, if sudoers_lookup() set VALIDATE_ERROR, the sudoers locale
would still be in effect instead of the original locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab4b94716"
>[ab4b94716]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/parse.c:<br>
sudoers_lookup_pseudo: remove validated function argument</p>
<p>This was always set to FLAG_NO_USER|FLAG_NO_HOST which are cleared at
the top of the fuction. Make validated a local variables, initialized to
0, instead. No change in behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb0a36c1a"
>[fb0a36c1a]</a></p>
</li>
</ul>
</dd>
<dt>2023-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/iolog.c:<br>
The I/O log file name is not just the basename of the full iolog_path.
The audit plugin already has the correct value for iolog_file, don&rsquo;t
overwrite it with basename(iolog_path). In the future we may wish to
pass in iolog_file and iolog_dir in addition to iolog_path. Fixes <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1046"
>Bug
#1046</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a4c8872a"
>[0a4c8872a]</a></li>
</ul>
</dd>
<dt>2023-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Warn with &ldquo;unknown user&rdquo; not &ldquo;unknown uid&rdquo; if user cannot be resolved.
Prior to sudo 1.8 this was after a getpwuid() but now we use getpwnam().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac12f82d8"
>[ac12f82d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set timestamp_uid and timestamp_gid via a callback. This also makes it
possible to include the location of the line in the sudoers file in the
warning message (and mail).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad890acf6"
>[ad890acf6]</a></li>
</ul>
</dd>
<dt>2023-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Fix display of escape sequencees in ldapsearch example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=493b2441d"
>[493b2441d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
White space is not allowed between Defaults and &lsquo;@&rsquo;, &lsquo;:&rsquo;, &lsquo;!&rsquo;, &lsquo;&gt;&rsquo;.
The EBNF made it appear that this is allowed when it really is not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b55de4e8"
>[3b55de4e8]</a></li>
</ul>
</dd>
<dt>2023-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/edit_open.c, src/exec.c, src/exec_intercept.c, src/exec_intercept.h,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c, src/sudo_edit.h, src/sudo_exec.h,
src/tgetpass.c:<br>
Make struct {command,user}_details pointers const where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0030cf30"
>[f0030cf30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h, src/sudo_edit.c, src/tgetpass.c:<br>
Make user_details private to main.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=554397eae"
>[554397eae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_nopty.c, src/exec_pty.c, src/parse_args.c,
src/sudo.c, src/sudo.h, src/sudo_edit.c, src/sudo_exec.h,
src/tgetpass.c:<br>
Make user_details private to sudo.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5108c279a"
>[5108c279a]</a></li>
</ul>
</dd>
<dt>2023-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c:<br>
Use sudo_get_ttysize() in help() and usage(). This eliminates a
dependency on the user_details global.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e435b158b"
>[e435b158b]</a></li>
</ul>
</dd>
<dt>2023-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, scripts/config.sub:<br>
Regenerate with the autoconf 2.72c snapshot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f95c9f839"
>[f95c9f839]</a></li>
</ul>
</dd>
<dt>2023-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/sudo.c, src/sudo.h:<br>
Store submitcwd (from user_details) in struct command_details. This
eliminates use of the user_details global from exec_setup().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86002226b"
>[86002226b]</a></li>
</ul>
</dd>
<dt>2023-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/utmp.c:<br>
utmp_fill: user is now always non-NULL, no need for user_details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51453c4f2"
>[51453c4f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Remove list_user global.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa5a28f34"
>[fa5a28f34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
No need to declare tgetpass_flags, it is already in sudo.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5b11a58b"
>[a5b11a58b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
No need for sudo_mode to be global anymore.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fd787343"
>[9fd787343]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Make command_details private to main().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11277bb92"
>[11277bb92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_iolog.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Make iobufs private to exec_iolog.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d2b9a434"
>[8d2b9a434]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_exec.h:<br>
Remove ttymode and its associated values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee3f99c88"
>[ee3f99c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/get_pty.c, src/sudo.h, src/sudo_exec.h:<br>
Move ptyname to struct exec_closure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b1beced"
>[f9b1beced]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c, src/sudo_exec.h:<br>
Move pty_make_controlling() to exec_monitor.c where it is called. We can
use details-&gt;tty to access the pty follower path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22776b0be"
>[22776b0be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo.c:<br>
Eliminate utmp_user global, just use the value in struct command
details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ac9ce001"
>[7ac9ce001]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_iolog.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Replace tty_mode global with term_raw flag in struct exec_closure.</p>
<p>The pty_cleanup hook needs access to the closure so add
pty_cleanup_init() to store a pointer to the closure for use by
pty_cleanup_hook().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=778688d4f"
>[778688d4f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c, src/sudo_exec.h:<br>
Register pty cleanup function in exec_pty(), not exec_cmnd_pty(). We
want it to execute in the main sudo process, not the monitor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b81c5e8da"
>[b81c5e8da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_iolog.c:<br>
Make ttyblock private to exec_iolog.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11739e3de"
>[11739e3de]</a></li>
</ul>
</dd>
<dt>2023-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo_exec.h:<br>
exec_pty.c: move foreground flag to struct exec_closure. Also make
pipeline flag private to exec_pty() and remove the unneeded
check_foreground() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3303dd98c"
>[3303dd98c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
On resume, always sync the pty terminal settings with /dev/tty.</p>
<p>Changes made to the terminal settings while the command is suspended are
now reflected in the pty when the command is resumed. This is more
consistent with the non-pty behavior and allows for the removal of the
&ldquo;tty_initialized&rdquo; global. One downside to this change is that if a
terminal-based program using the pty is stopped with SIGSTOP it may have
the wrong terminal settings on resume. However, this is no different
from the non-pty case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51cdb194b"
>[51cdb194b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/suspend_parent.c, lib/util/term.c:<br>
Correct a comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e734fa51"
>[3e734fa51]</a></li>
</ul>
</dd>
<dt>2023-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>.github/FUNDING.yml:<br>
GitHub sponsor settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a5d8bfea"
>[2a5d8bfea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Use built-in tests for bit types instead of using AC_CHECK_TYPES. This
should be more portable as it handles the quirks of some older systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0f5e1b5b"
>[f0f5e1b5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c, src/regress/intercept/test_ptrace.c:<br>
Quiet compiler warnings on systems where pid_t is not an int.
Historically, pid_t was a long on some 32-bit systems like Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a17491972"
>[a17491972]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Silence &ldquo;used uninitialized&rdquo; false positives with older gcc versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=775059156"
>[775059156]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
exec_pty: always copy the terminal settings from /dev/tty the pty.
Previously, we only did this when running in the foreground but this can
cause problems when running a program that reads the terminal settings
or window size in the background. If sudo is running in the background,
the terminal settings will be updated if it transitions to the
foreground process. Based on a suggestion from From Duncan Overbruck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d55ae892"
>[9d55ae892]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
check_foreground: use SFD_LEADER not SFD_FOLLOWER (which was closed).
Also use SFD_LEADER for sudo_term_copy() in exec_pty() for consistency.
From Duncan Overbruck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ec786b4"
>[98ec786b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
suspend_sudo_pty: fix cut &amp; pasto in last commit to catch SIGCONT. Also
set sa.sa_handler to SIG_DFL instead of SIG_IGN. There is no difference
for SIGCONT but it means we can re-use sa as-is later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acbe617fb"
>[acbe617fb]</a></li>
</ul>
</dd>
<dt>2023-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Catch SIGCONT and restore terminal settings on resume from SIGSTOP.
While we cannot catch SIGSTOP, we <em>can</em> catch SIGCONT and set /dev/tty
to raw mode when running in the foreground. Ignore SIGCONT in
suspend_sudo_pty() so we don&rsquo;t call resume_terminal() twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fcbcaede"
>[0fcbcaede]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c:<br>
Only convert a signal number to a name if we are going to use it. It is
mostly used for debug logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1772fc7b6"
>[1772fc7b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c, src/sudo.h:<br>
Move updating of the window size back to the main sudo process. We can
use the leader file descriptor with TIOCGWINSZ to set the window size of
the pty. Thanks to Duncan Overbruck for the hint.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adb84293a"
>[adb84293a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
visudo: restore controlling terminal after running the editor.
Otherwise, visudo will get SIGTTOU if it tries to write to the terminal
after the editor finishes. Also avoid races by setting the process group
ID in both the parent and child, and grant the controlling terminal in
the parent, not the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c64993a0b"
>[c64993a0b]</a></li>
</ul>
</dd>
<dt>2023-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/visudo.man.in, docs/visudo.mdoc.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/sudoers.h,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Warn about ignored files in sudoers.d in visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28ecbe4d5"
>[28ecbe4d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c:<br>
Replace sudoers_warnings with sudoers_verbose. This is now an int, with
values &gt; 1 reserved for visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8049e4e32"
>[8049e4e32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Split push_include() into push_include() and push_includedir(). This
moves the &ldquo;isdir&rdquo; function argument to the internal version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=738387aa4"
>[738387aa4]</a></li>
</ul>
</dd>
<dt>2023-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/ldap.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h:<br>
Pass around const struct sudo_nss pointers where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b563ea44"
>[4b563ea44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/fmtsudoers_cvt.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h:<br>
Pass around const struct sudoers_parse_tree pointers where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f19a6b72"
>[1f19a6b72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_ldap.h, plugins/sudoers/sudo_ldap_conf.h:<br>
Move non-config-related macros to from sudo_ldap_conf.h to sudo_ldap.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70c533ec7"
>[70c533ec7]</a></li>
</ul>
</dd>
<dt>2023-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/getcwd.c, scripts/mkdep.pl:<br>
Remove portable getcwd.c, nothing uses it anymore. Any operating system
supported by sudo already includes getcwd(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5d0b7abf"
>[f5d0b7abf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Use LIBPROTOBUF_C and LIBUTIL variables and use them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2f233336"
>[f2f233336]</a></li>
</ul>
</dd>
<dt>2023-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h:<br>
Remove now-unused sudo_timeval* macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14dd995b8"
>[14dd995b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/nanosleep.c:<br>
nanosleep: clear remainder on successful completion Also switch to doing
everything in terms of struct timespec except for the actual select(2)
call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=708cdc61b"
>[708cdc61b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in:<br>
Add lib dependencies for fuzzer and test targets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f5e7df3c"
>[3f5e7df3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog_free.c:<br>
eventlog_free: free peeraddr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7683ba1b8"
>[7683ba1b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_innetgr.c:<br>
sudo_ldap_netgroup_match_str: &ldquo;-&rdquo; in a netgroup can never match. We
already check for a NULL value above so &ldquo;str == NULL&rdquo; is always false.
Found by PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b965d222d"
>[b965d222d]</a></li>
</ul>
</dd>
<dt>2023-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/Makefile.in:<br>
Fix static compilation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=027b42d5a"
>[027b42d5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Replace eventlog_json.h with parse_json.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33cb885cf"
>[33cb885cf]</a></li>
</ul>
</dd>
<dt>2023-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/eventlog/Makefile.in,
lib/eventlog/regress/eventlog_store/store_json_test.c,
lib/eventlog/regress/eventlog_store/store_sudo_test.c,
lib/eventlog/regress/eventlog_store/test1.json.in,
lib/eventlog/regress/eventlog_store/test1.json.out.ok,
lib/eventlog/regress/eventlog_store/test1.sudo.out.ok,
lib/eventlog/regress/eventlog_store/test2.json.in,
lib/eventlog/regress/eventlog_store/test2.json.out.ok,
lib/eventlog/regress/eventlog_store/test2.sudo.out.ok,
lib/eventlog/regress/eventlog_store/test3.json.in,
lib/eventlog/regress/eventlog_store/test3.json.out.ok,
lib/eventlog/regress/eventlog_store/test3.sudo.out.ok,
lib/eventlog/regress/eventlog_store/test4.json.in,
lib/eventlog/regress/eventlog_store/test4.json.out.ok,
lib/eventlog/regress/eventlog_store/test4.sudo.out.ok,
lib/eventlog/regress/parse_json/check_parse_json.c:<br>
Add tests for JSON and sudo-style log output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b3991b71"
>[1b3991b71]</a></li>
</ul>
</dd>
<dt>2023-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog_free.c, lib/eventlog/parse_json.c:<br>
Add support for parsing all fields of struct eventlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f46ffa9f"
>[0f46ffa9f]</a></li>
</ul>
</dd>
<dt>2023-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Declare domain even if the system lacks innetgr(). Fixes a build error
on musl-based systems like Alpine.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8e6396c5"
>[d8e6396c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in:<br>
Add missing definition of $(SED).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=918af413f"
>[918af413f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_eventlog.h, lib/eventlog/Makefile.in,
lib/eventlog/parse_json.c, lib/eventlog/parse_json.h,
lib/eventlog/regress/parse_json/check_parse_json.c,
lib/eventlog/regress/parse_json/test1.in,
lib/eventlog/regress/parse_json/test2.in,
lib/eventlog/regress/parse_json/test2.out.ok,
lib/eventlog/regress/parse_json/test3.in,
lib/eventlog/regress/parse_json/test3.out.ok, lib/iolog/Makefile.in,
lib/iolog/iolog_json.c, lib/iolog/regress/fuzz/fuzz_iolog_json.c:<br>
Move JSON log parsing from libsudo_iolog.la to libsudo_eventlog.la It
will be used in the upcoming log output tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86ab362fd"
>[86ab362fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Add missing &quot; ; &quot; separator between environment variables and command.
This is a regression introduced in sudo 1.9.13. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/254"
>GitHub issue
#254</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12648b4e0"
>[12648b4e0]</a></li>
</ul>
</dd>
<dt>2023-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Add example to verify support for searching by nisNetgroupTriple.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24f04c8cb"
>[24f04c8cb]</a></li>
</ul>
</dd>
<dt>2023-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gc.c:<br>
Remove unused sudoers_gc_init() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34933ef9d"
>[34933ef9d]</a></li>
</ul>
</dd>
<dt>2023-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Sudo now does its own netgroup lookups if NETGROUP_BASE is set.
Previously, it only performed netgroup queries to determine the list of
netgroups a user was a member of.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=916d8b47c"
>[916d8b47c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c:<br>
sudoers_cleanup: free cached environment before running g/c. Avoids a
double free in fuzz_policy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c76ac1cab"
>[c76ac1cab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
sudoers_cleanup: run the garbage collector at the end
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd5cd4533"
>[cd5cd4533]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Plugin a memory leak in intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c09aabecd"
>[c09aabecd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Sync non-intercept version of intercept_cleanup() declaration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5a784442"
>[d5a784442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_innetgr.c:<br>
Plug memory leak if ldap_get_option() fails with LDAP_NO_MEMORY.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33c385a78"
>[33c385a78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_intercept.c, src/sudo_exec.h:<br>
Plug a memory leak with ptrace-based intercept.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c61306e58"
>[c61306e58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Plug memory leak when log_subcmds is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31dad6b17"
>[31dad6b17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/suspend_parent.c:<br>
Pass closure to callback, not the callback pointer itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb7b1dd89"
>[cb7b1dd89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, m4/ldap.m4, plugins/sudoers/Makefile.in,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_innetgr.c,
plugins/sudoers/sudo_ldap.h, scripts/mkdep.pl:<br>
Add LDAP-specific innetgr() implementation. Wheh netgroup_base is set we
now do out own netgroup lookups using LDAP. Previously, LDAP was queried
directly to get a list of the netgroups the user belongs to but other
netgroups queries went through innetgr(3). This makes it possible to use
netgroups in LDAP sudoers on systems that don&rsquo;t have an innetgr()
function. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/251"
>GitHub issue
#251</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc253048f"
>[fc253048f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/sudo_ldap.h:<br>
Move some functions from ldap.c to ldap_util.c. These will be used by
the LDAP innetgr() implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=554df8d93"
>[554df8d93]</a></li>
</ul>
</dd>
<dt>2023-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/file.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_nss.h:<br>
Add per-source innetgr function pointer and use it in netgr_matches().
This will be used to implement LDAP-specific netgroup lookups when
netgroup_base is set in ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aad96bba"
>[0aad96bba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/Makefile.in:<br>
fix typo in uninstall target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2582c2cd"
>[d2582c2cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #252 from bin-ly/main</p>
<p>fix typo in uninstall target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=954980b56"
>[954980b56]</a></p>
</li>
</ul>
</dd>
<dt>2023-03-09  bin-ly</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
fix command error for lib/util/Makefile.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec255dca1"
>[ec255dca1]</a></li>
</ul>
</dd>
<dt>2023-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/regress/digest/digest_test.c:<br>
Add tests for SHA2 digest support. This uses the NIST byte-oriented
short message test vectors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dea110a84"
>[dea110a84]</a></li>
</ul>
</dd>
<dt>2023-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.13p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df56634c"
>[0df56634c]</a></li>
</ul>
</dd>
<dt>2023-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h:<br>
A user with &ldquo;list&rdquo; privs for root may not list all users. A user with
&ldquo;sudo ALL&rdquo; for root <em>is</em> allowed to list any user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=689022978"
>[689022978]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
sudoers_policy_list: do not set runas_pw to list_pw when listing This
change introduced in sudo 1.9.13 is not actually needed. The &ldquo;list&rdquo;
pseudo-command checks are performed via runas_matches_pw() which does
not use runas_pw. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/248"
>GitHub issue
#248</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=452d63d6c"
>[452d63d6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/parse.c,
plugins/sudoers/sudoers.c:<br>
Fix &ldquo;sudo -l command args&rdquo;, broken in sudo 1.9.13. The value of
user_args should not contain the command to be run in &ldquo;sudo -l command
args&rdquo;, only the arguments of the command being checked. This restores
the pre-1.9.13 behavior. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/249"
>GitHub issue
#249</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e9307d9"
>[d9e9307d9]</a></li>
</ul>
</dd>
<dt>2023-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrv_util.c, logsrvd/logsrvd.c, logsrvd/logsrvd_journal.c,
logsrvd/sendlog.c, plugins/sudoers/log_client.c:<br>
Check for sudo_pow2_roundup() overflow. Calling
sudo_pow2_roundup(INT_MAX+2) will return since there is no power of 2
larger than INT_MAX+1 that fits in an unsigned int. This is not an issue
in practice since we restrict messages to 2Mib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b013711e4"
>[b013711e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_pty.c:<br>
write_callback: only enable /dev/tty reader if the command is running
This fixes a hang when there is /dev/tty data in a buffer to be flushed
by the final call to del_io_events(). We do not want to re-enable the
reader when flushing the buffers as part of pty_finish(). See PR #247
for analysis of the problem and how to reproduce it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19a660612"
>[19a660612]</a></li>
</ul>
</dd>
<dt>2023-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test12.out.ok,
plugins/sudoers/regress/testsudoers/test12.sh:<br>
Test non-fully qualified path name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43378de75"
>[43378de75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix removal of y.tab.[ch] when generating gram.[ch].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7356a7796"
>[7356a7796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test30.in,
plugins/sudoers/regress/sudoers/test30.json.ok,
plugins/sudoers/regress/sudoers/test30.ldif.ok,
plugins/sudoers/regress/sudoers/test30.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test30.out.ok,
plugins/sudoers/regress/sudoers/test30.sudo.ok,
plugins/sudoers/regress/sudoers/test30.toke.ok:<br>
Add test for using &ldquo;list&rdquo; as user, runas and host.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=172515c94"
>[172515c94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Move handling of the &ldquo;list&rdquo; pseudo-command from lexer to parser. The
special handling of &ldquo;list&rdquo; in the lexer meant it could not be used as a
user, group or host, which was unintentional. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/246"
>GitHub issue
#246</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0197491e9"
>[0197491e9]</a></li>
</ul>
</dd>
<dt>2023-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Make the check for HAVE_DECL_NSIG consistent with other decl checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c97b84c0"
>[6c97b84c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Plug memory leak with multiple matching CHROOT= entries. Found by
oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4f31cff2"
>[a4f31cff2]</a></li>
</ul>
</dd>
<dt>2023-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.13p2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4d241262"
>[f4d241262]</a></li>
</ul>
</dd>
<dt>2023-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/match_command.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/testsudoers/test20.out.ok,
plugins/sudoers/regress/testsudoers/test20.sh,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Fix potential double free for rules that include a CHROOT= option. If a
rule with a CHROOT= option matches the user, host and runas, the
user_cmnd variable could be freed twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87ce69246"
>[87ce69246]</a></li>
</ul>
</dd>
<dt>2023-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Include error string when formatting a SLOG_PARSE_ERROR message if
present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c52056d3"
>[6c52056d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
Add missing include of errno.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0be5a5191"
>[0be5a5191]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
sudo_lbuf_expand: check for overflow when rounding to the nearest power
of 2. Problem deteced by oss-fuzz using the fuzz_sudoers fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3281d0eec"
>[3281d0eec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix &ndash;enable-static-sudoers, broken in sudo 1.9.13.
sudo_qualify_plugin() should not try to fully-qualify the path to a
statically-compiled plugin. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/245"
>GitHub issue
#245</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91814990a"
>[91814990a]</a></li>
</ul>
</dd>
<dt>2023-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c:<br>
Add sudoers open errors to the list of parse errors sent via mail.
Previously there would be one email for the open failure and a separate
one describing the parse error. Now a single email message contains
everything.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb6740fa2"
>[fb6740fa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
visudo: quiet a compiler warning on Solaris 10. Also explicitly close
/dev/tty fd instead of relying on closefrom() in case the fd ends up
being a value 0-2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1641c30ed"
>[1641c30ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in:<br>
Replace LIBMD with LIBCRYPTO display crypto/tls libs in summary. We can
only have one of either -lmd, -lgcrypt or -lcrypto so there is no need
to have more than one variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bb116062"
>[8bb116062]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #244 from ffontaine/main</p>
<p>configure.ac: fix openssl static build
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05c866b6e"
>[05c866b6e]</a></p>
</li>
</ul>
</dd>
<dt>2023-02-22  Fabrice Fontaine</dt>
<dd>
<ul>
<li>
<p>m4/openssl.m4:<br>
configure.ac: fix openssl static build</p>
<p>Do not use AX_APPEND_FLAG as it will break static builds by removing
duplicates such as -lz or -latomic which are needed by -lssl and
-lcrypto. This will fix the following build failure with sparc which
needs -latomic:</p>
<p>Checking for X509_STORE_CTX_get0_cert configure:21215:
/home/thomas/autobuild/instance-3/output-1/host/bin/sparc-buildroot-linu
x-uclibc-gcc -o conftest -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE
-D_FILE_OFFSET_BITS=64 -Os -g0 -static -D_LARGEFILE_SOURCE
-D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -DZLIB_CONST -static
conftest.c
-L/home/thomas/autobuild/instance-3/output-1/host/bin/../sparc-buildroot
-linux-uclibc/sysroot/usr/lib -lssl -lz -pthread -latomic -lcrypto &gt;&amp;5
/home/thomas/autobuild/instance-3/output-1/host/lib/gcc/sparc-buildroot-
linux-uclibc/10.4.0/../../../../sparc-buildroot-linux-uclibc/bin/ld:
/home/thomas/autobuild/instance-3/output-1/host/bin/../sparc-buildroot-l
inux-uclibc/sysroot/usr/lib/libcrypto.a(x509cset.o): in function
<code>X509_CRL_up_ref': x509cset.c:(.text+0x108): undefined reference to </code>__atomic_fetch_add_4&rsquo;</p>
<p>[&hellip;]</p>
<p>In file included from ./hostcheck.c:38:
../../include/sudo_compat.h:342:41: error: conflicting types for
&lsquo;ASN1_STRING_data&rsquo; 342 | # define ASN1_STRING_get0_data(x)
ASN1_STRING_data(x) | ^~~~~~~~~~~~~~~~</p>
<p>Fixes: -
<a
  class="gdoc-markdown__link"
  href="http://autobuild.buildroot.org/results/8be59dd94e4916f9457cb435104e36e62"
>http://autobuild.buildroot.org/results/8be59dd94e4916f9457cb435104e36e62</a>
a28373b</p>
<p>Signed-off-by: Fabrice Fontaine &lt;fontaine.fabrice@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fed5adc1"
>[1fed5adc1]</a></p>
</li>
</ul>
</dd>
<dt>2023-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Check tcsetpgrp() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba7b12645"
>[ba7b12645]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/suspend_parent.c, lib/util/util.exp.in,
plugins/sudoers/visudo.c, src/Makefile.in, src/exec_iolog.c,
src/exec_nopty.c, src/regress/intercept/test_ptrace.c, src/sudo.h,
src/sudo_exec.h, src/tcsetpgrp_nobg.c:<br>
Run the editor in its own process group. This fixes suspending the
editor on GNU Hurd which doesn&rsquo;t seem to have proper process group
signal handling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=033933710"
>[033933710]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/stubs.c, plugins/sudoers/testsudoers.c:<br>
Stub out pivot_root() and unpivot_root() for all but the sudoers module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bcddb960"
>[1bcddb960]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Fix build when SUDOERS_NAME_MATCH is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b9c1b962"
>[8b9c1b962]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Match using canonicalized directories where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b52631e87"
>[b52631e87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/canon_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add canon_path(), a realpath() wrapper that performs caching. This also
adds a new user_cmnd_dir variable that stores the canonicalized parent
directory of the command to be run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ef537367"
>[0ef537367]</a></li>
</ul>
</dd>
<dt>2023-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/realpath.c, scripts/mkdep.pl:<br>
Add checks for realpath(3) and a version from NetBSD for those without
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0443d1457"
>[0443d1457]</a></li>
</ul>
</dd>
<dt>2023-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h:<br>
match_command: apply runchroot if set when matching the command
Previously we would prepend runchroot to the path we were checking but
that does not properly handle symbolic links.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78ff51435"
>[78ff51435]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c, plugins/sudoers/find_path.c,
plugins/sudoers/goodpath.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
set_cmnd_path: apply runchroot if set when finding the command path
Previously we would prepend runchroot to the path we were checking but
that does not properly handle symbolic links.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bff4e3ce1"
>[bff4e3ce1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/pivot.c,
plugins/sudoers/sudoers.h:<br>
Add pivot_root() and unpivot_root() to switch the root dir and restore
it. This will be used to more accurately handling command resolution and
path matching when a new root directory is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13a311bc7"
>[13a311bc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Move initial values into AC_SUBST() where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=440d9649a"
>[440d9649a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
No need to AC_SUBST() standard autoconf variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c6f37358"
>[7c6f37358]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: preserve old argv[0] after policy check. We
have to replace argv[0] with the pathname for the policy check but want
to restore it afterwards if the policy has not changed the command&rsquo;s
path name to avoid a mismatch later on.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d95992c1"
>[8d95992c1]</a></li>
</ul>
</dd>
<dt>2023-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
Document &ndash;disable-largefile and &ndash;disable-year2038.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceee445e8"
>[ceee445e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix indentation of intercept file in summary output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8c13bbe8"
>[b8c13bbe8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/starttime.c:<br>
get_starttime: add support for GNU Hurd using the mach task_info call.
This is currently Hurd-specific but could be made Mach-generic as long
as the equivalent of pid2task() is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72bc5e6b"
>[a72bc5e6b]</a></li>
</ul>
</dd>
<dt>2023-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/starttime/check_starttime.c:<br>
Only test get_starttime() on platforms where we support it. Fixes a test
failure on systems where we have no way to determine a process&rsquo;s start
time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b000aab8"
>[0b000aab8]</a></li>
</ul>
</dd>
<dt>2023-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.13p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58382028a"
>[58382028a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Use m4_bmatch, m4_case does not support shell-style globbing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42163ac0a"
>[42163ac0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Allow configure.ac to be processed by autoconf 2.69. AC_PROG_CC_STDC is
deprecated in autoconf 2.70 and above but it is necessary for autoconf
2.69.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2feea9b2f"
>[2feea9b2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Only use AC_SYS_YEAR2038 if it is defined. Otherwise, use the method
from 1.9.12. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/242"
>GitHub issue
#242</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7080afe0"
>[d7080afe0]</a></li>
</ul>
</dd>
<dt>2023-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Sudo-specific executables moved to /usr/libexec/sudo starting in Debian
12 (Bookworm) and Ubuntu 22.04 (Jammy Jellyfish). Previously, they were
stored in /usr/lib/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=439f0734f"
>[439f0734f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Handle &ldquo;locale -a&rdquo; returning both C.UTF-8 and C.utf8. It is possible to
have mutiple matches from the output of &ldquo;locale -a&rdquo;. Just take the first
one. Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/241"
>GitHub issue
#241</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2845ceafb"
>[2845ceafb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, logsrvd/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
Add some missing files to the clean and distclean targets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f50692ac"
>[4f50692ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #240 from thesamesam/c23</p>
<p>sudo_fatal: Fix build where compiler recognises [[noreturn]] attribut
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a845039de"
>[a845039de]</a></p>
</li>
</ul>
</dd>
<dt>2023-02-15  Sam James</dt>
<dd>
<ul>
<li>
<p>include/sudo_fatal.h:<br>
sudo_fatal: Fix build where compiler recognises [[noreturn]] attribute
(C23)</p>
<p>If the compiler supports [[noreturn]] as a attribute as in C23, then we
define sudo_noreturn to be it. When that&rsquo;s the case, we must place it at
the beginning of the declaration, before any other <em>extension</em>
attributes (__attribute(&hellip;)).</p>
<p>A bug has been filed with GCC regarding rejecting/accepting mixed
attribute styles.</p>
<p>sudo_dso_public is always an extension attribute, while sudo_noreturn
only might be, so put it first.</p>
<p>This only shows up with GCC 13 so far (see the linked GCC bug for a bit
more exploration). Clang 16 does support the attribute but doesn&rsquo;t let
you use it for earlier language versions (need to pass explicit
-std=c2x, unlike with GCC here).</p>
<p>This is essentially a followup to
e707ffe58b3ccfe5c72f54c38eac1d7069d5021e.</p>
<p>Tested with GCC 13.0.1 20230212 (unreleased), GCC 12.2.1 20230211, Clang
16.0.0_rc2, and Clang 15.0.7.</p>
<p>Bug: <a
  class="gdoc-markdown__link"
  href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=108796"
>https://gcc.gnu.org/bugzilla/show_bug.cgi?id=108796</a> Closes:
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/239"
>https://github.com/sudo-project/sudo/issues/239</a> Fixes:
e707ffe58b3ccfe5c72f54c38eac1d7069d5021e Fixes:
16ae61dcd7d3cd8bf6eb10a22fa742d4505da4e9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66359c2bc"
>[66359c2bc]</a></p>
</li>
</ul>
</dd>
<dt>2023-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add missing &lsquo;[&rsquo; to AS_IF() call. Fixes <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/238"
>GitHub issue
#238</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=defec5d46"
>[defec5d46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/ka.mo:<br>
Add compiled version of the sudoers Georgian translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a80dcc6ac"
>[a80dcc6ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Do not ignore .mo files. Otherwise we are likely to miss uncommitted
changes in them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eed6adb6"
>[5eed6adb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ru.mo, plugins/sudoers/po/zh_CN.mo, po/zh_CN.mo:<br>
Regenerate .mo files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1b07aed4"
>[f1b07aed4]</a></li>
</ul>
</dd>
<dt>2023-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
No longer need to define sudoers_recovery here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdef2ad6d"
>[bdef2ad6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention that a missing include file is no longer fatal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0008d1f71"
>[0008d1f71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/policy.c:<br>
Recover from missing include file unless error_recovery is disabled. It
is still treated as an error from a logging perspective, and mail is
still sent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26385b45c"
>[26385b45c]</a></li>
</ul>
</dd>
<dt>2023-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/fur.mo,
po/fur.po, po/ja.mo, po/ja.po, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8960f5096"
>[8960f5096]</a></li>
</ul>
</dd>
<dt>2023-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
plugins/sudoers/logging.c:<br>
Add eventlog_mail() to send a log message via mail. This is used by
mail_parse_errors() to send multi-line messages. Previously, the
newlines would be escaped as control characters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b333d1687"
>[b333d1687]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
send_mail: pass a single string instead of using varargs These days we
only ever pass in a const string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6caacfe4"
>[b6caacfe4]</a></li>
</ul>
</dd>
<dt>2023-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use AS_IF instead of if; then where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e1a73502"
>[2e1a73502]</a></li>
</ul>
</dd>
<dt>2023-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention the fix for GitHub #237.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfa1fee62"
>[cfa1fee62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/tgetpass.c:<br>
Display error in error message if we can&rsquo;t restore the terminal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f160e5e6c"
>[f160e5e6c]</a></li>
</ul>
</dd>
<dt>2023-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c, src/tgetpass.c:<br>
Display an error message if unable to restore terminal settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15b4cde69"
>[15b4cde69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, etc/sudo.pp, plugins/sudoers/Makefile.in:<br>
Get rid of sudoersdir and just use sysconfdir. There is no need for
sudoersdir when it is always just set to sysconfdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1758c49d3"
>[1758c49d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
pty_finish: only restore the terminal if sudo is the foreground process
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=678d6664a"
>[678d6664a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Better background job detection when running a command in a pty. If sudo
is not the process group leader and stdin is not a tty, we may be
running as a background job via a shell script. Start the command in the
background to avoid changing the terminal mode from a background
process. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/237"
>GitHub issue
#237</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cb23c85a"
>[7cb23c85a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
suspend_sudo_pty: stop the process group even if sudo is not the leader.
When sudo is not the process group leader, we still need to stop sudo&rsquo;s
process group and not just the sudo process itself. If we only send the
signal to sudo itself, the shell will not notice if it is not in monitor
mode. This can happen when sudo is run from a shell script, for example.
In this case we need to signal the shell itself. If the process group
leader is no longer present, we must kill the command since there will
be no one to resume us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fb985563"
>[4fb985563]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/term.c:<br>
Add debug tracing to tcsetattr_nobg().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e63eeee7b"
>[e63eeee7b]</a></li>
</ul>
</dd>
<dt>2023-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Avoid compilation errors if getaddrinfo() or freeaddrinfo() are macros.
If this is the case we probably can&rsquo;t stub out the functions but at
least the fuzzer will compile.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c9c8668c"
>[3c9c8668c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Initialize the integer result parameter passed to SIOCGIFANUM. It
appears that passing in a non-zero value causes the ioctl() to fail.
From Tim Rice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c5f0d305"
>[7c5f0d305]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c,
plugins/sudoers/log_client.c:<br>
Protect use of AF_INET6 with HAVE_STRUCT_IN6_ADDR guards. From Tim Rice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b2e662b2"
>[0b2e662b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Add configure test for NSIG, _NSIG or __NSIG. This is better than just
defining NSIG in sudo_compat.h if it is not defined since signal.h may
not have been included.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffb09be49"
>[ffb09be49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Avoid DNS lookups when fuzzing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49df977c2"
>[49df977c2]</a></li>
</ul>
</dd>
<dt>2023-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg,
scripts/pp:<br>
No longer need to treat Rocky or Alma Linux specially. We now treat them
the same as RHEL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23237bb00"
>[23237bb00]</a></li>
</ul>
</dd>
<dt>2023-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #230 from trackers-lover/main</p>
<p>Return value does not match
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d945448e"
>[6d945448e]</a></p>
</li>
</ul>
</dd>
<dt>2023-01-29  <a
  class="gdoc-markdown__link"
  href="mailto:bianguangze@uniontech.com"
>bianguangze@uniontech.com</a></dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Modify return value parameter
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8797f0ceb"
>[8797f0ceb]</a></li>
</ul>
</dd>
<dt>2023-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Store conf hash in vm_servers instead of vmid. Add a shutdown command
fallback to the conf file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b257df55d"
>[b257df55d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/ru.po, plugins/sudoers/po/sv.mo,
plugins/sudoers/po/sv.po, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/uk.po, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.po, po/cs.mo, po/cs.po, po/de.mo, po/de.po,
po/eo.mo, po/eo.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ko.mo,
po/ko.po, po/pl.mo, po/pl.po, po/ro.mo, po/ro.po, po/sv.mo, po/sv.po,
po/uk.mo, po/uk.po, po/zh_CN.po, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=179ad08c8"
>[179ad08c8]</a></li>
</ul>
</dd>
<dt>2023-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/ka.po:<br>
New Georgian translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab9b20be9"
>[ab9b20be9]</a></li>
</ul>
</dd>
<dt>2023-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention the recent intercept/log_subcmds fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4325e64c"
>[b4325e64c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp, scripts/mkpkg,
scripts/pp:<br>
Recognize Alma Linux and Rocky Linux (Open Source RHEL clones)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53389b574"
>[53389b574]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, scripts/config.guess, scripts/config.sub:<br>
Regen with latest autoconf git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd0021ee5"
>[fd0021ee5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/hardening.m4:<br>
Fix a typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1977f98d2"
>[1977f98d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Fix determination of the number of CPU cores on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94eafd2f0"
>[94eafd2f0]</a></li>
</ul>
</dd>
<dt>2023-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #235 from kernelmethod/apparmor_dependencies</p>
<p>Replace the Debian libselinux1 dependency with libapparmor1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b3089e4f"
>[3b3089e4f]</a></p>
</li>
</ul>
</dd>
<dt>2023-01-26  kernelmethod</dt>
<dd>
<ul>
<li>
<p>etc/sudo.pp:<br>
Replace the Debian libselinux1 dependency with libapparmor1</p>
<p>Debian &gt;= 10 uses AppArmor by default instead of SELinux, so
SELinux-related sudo features are typically going to be unusable in
Debian installs. This changes the dependency on libselinux1 to be a
dependency on libapparmor1 for .deb packages built with <code>make package</code>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c9a8933b"
>[8c9a8933b]</a></p>
</li>
</ul>
</dd>
<dt>2023-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
get_execve_info: defer setting pathname until argbuf is finalized If we
reallocate the buffer (via growbuf()) in ptrace_read_vec(), the address
of argbuf may change. If so, the value stored in pathname will no longer
be valid. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/194"
>GitHub issue
#194</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe001b6ff"
>[fe001b6ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_ptrace.c:<br>
Correct error message when command doesn&rsquo;t exist in intercept mode.
Previously, we would always use EACCES, even when ENOENT was
appropriate. This also affected log_subcmds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a32a54dce"
>[a32a54dce]</a></li>
</ul>
</dd>
<dt>2023-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.13
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de021b60d"
>[de021b60d]</a></li>
</ul>
</dd>
<dt>2023-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.9.13.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9dc472bb"
>[b9dc472bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Include elf.h, not linux/elf.h but define NT_ARM_SYSTEM_CALL if missing.
Older kernel headers are missing the definition of EM_ARM in
linux/elf.h. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/232"
>GitHub issue
#232</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3afffec7"
>[d3afffec7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/regex/regex_test.c:<br>
Add tests for escaped digits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e11bb93e2"
>[e11bb93e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regex.c:<br>
check_pattern: handle escaped digits since GNU libc accepts them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6340068d"
>[f6340068d]</a></li>
</ul>
</dd>
<dt>2023-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
plugins/sudoers/sudoreplay.c:<br>
Add eventlog_store_sudo() and use it in sudoreplay. This replaces the
custom log formatting used by &ldquo;sudoreplay -l&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d9c0d903"
>[2d9c0d903]</a></li>
</ul>
</dd>
<dt>2023-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/build_pkgs, scripts/mkpkg:<br>
Add &ndash;build-only flag to skip building packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=733303ed9"
>[733303ed9]</a></li>
</ul>
</dd>
<dt>2023-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg, scripts/pp:<br>
Suport building packages on DragonFly BSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec79bbc8e"
>[ec79bbc8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/visibility.m4:<br>
Try to link a simple shared object with -Wl,&ndash;no-undefined. This only
works for gcc-style compilers, which should not be a problem. The source
uses environ (FreeBSD) and errno (OpenBSD).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f65a51afd"
>[f65a51afd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Pass the name to the config.cache file to the build script. If
&ndash;cache-file is not specified, no config.cache file will be used. Add an
&ldquo;omit_artifacts&rdquo; setting for platforms where we don&rsquo;t publish artifacts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0010c9861"
>[0010c9861]</a></li>
</ul>
</dd>
<dt>2023-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regex.c:<br>
check_pattern: accept a backslash before the numeric bound like glibc.
This helps avoid out-of-memory conditions when fuzzing on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee2f2287a"
>[ee2f2287a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t use -Wl,&ndash;no-undefined with the sanitizers/fuzzers. It breaks
linking when using -fsanitize with clang at least.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a64275a3"
>[7a64275a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/SECURITY.md:<br>
Add a link to the sudo security advisories archive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6cc68006"
>[c6cc68006]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Eliminate usage of obsolete 2-argument AC_CHECK_TYPE macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7265f5de"
>[f7265f5de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/starttime.c,
src/regress/ttyname/check_ttyname.c, src/ttyname.c:<br>
Add support for the struct kinfo_proc on Dragonfly BSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ddae6681"
>[9ddae6681]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Elminate the $OS variable, we can just use $host_os instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d409ba67c"
>[d409ba67c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Need to link sudo and sudoers with -lutil on Dragonfly BSD. It is safer
to just search for setusercontext() in libc and libutil instead of
matching on the operating system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb56fd2ed"
>[cb56fd2ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/ldap.m4:<br>
Add -Wl,&ndash;no-undefined to LDFLAGS if it is supported. This will find
missing symbols at build-time instead of run-time. Don&rsquo;t use it on
FreeBSD where environ is filled in by the dynamic loader. We also need
to pull in -llber with -lldap where possible (instead of relying on
DT_NEEDED) to avoid undefined symbol errors when building with LDAP
support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83b4cee98"
>[83b4cee98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c:<br>
Restore the line that set errno to ENOENT when find_path() fails. This
was inadvertently removed when the &ldquo;goto bad&rdquo; was added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e0bb704c"
>[1e0bb704c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/README:<br>
The sample plugin is now built by default to avoid bit rot. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/234"
>GitHub
issue #234</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3583e01b"
>[e3583e01b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
The change from sudo_printf -&gt; sudo_plugin_printf was incomplete. Fixes
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/234"
>GitHub issue #234</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9da47e5"
>[4f9da47e5]</a></li>
</ul>
</dd>
<dt>2023-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/pie.m4:<br>
Solaris: use lt_prog_compiler_pic instead of assuming -KPIC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=544c97821"
>[544c97821]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/hardening.m4, m4/pie.m4:<br>
Solaris: the aslr, nxheap and nxstack link options are only for
executables. Move them back to PIE_LDFLAGS, which is only used when
linking a binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e72d75d38"
>[e72d75d38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/hardening.m4, m4/pie.m4:<br>
Solaris: move aslr linker option to hardening and try to build real PIEs
These flags are specific to the Solaris linker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d4666656"
>[7d4666656]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/hardening.m4, m4/pie.m4:<br>
Enable non-executable heap and stack options for Solaris ld.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b44ad49bf"
>[b44ad49bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/hardening.m4:<br>
Limit some of the hardening tests to compilers that define <strong>GNUC</strong>.
This should avoid false positives on other compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73c52e731"
>[73c52e731]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout:<br>
Update expected plugin version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ff70c09f"
>[7ff70c09f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
include/sudo_plugin.h, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/sudo.c,
src/sudo.h, src/sudo_edit.c:<br>
Pass back the number of files to edit when using sudoedit. The sudo
front-end can use this to determine where the list of files to edit
begins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0865e61d9"
>[0865e61d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/sudoreplay.man.in,
docs/sudoreplay.mdoc.in, include/sudo_lbuf.h, lib/eventlog/eventlog.c,
lib/iolog/iolog_json.c, lib/util/lbuf.c, lib/util/util.exp.in,
plugins/sudoers/sudoreplay.c:<br>
Escape control characters in log messages and &ldquo;sudoreplay -l&rdquo; output.
The log message contains user-controlled strings that could include
things like terminal control characters. Space characters in the command
path are now also escaped.</p>
<p>Command line arguments that contain spaces are surrounded with single
quotes and any literal single quote or backslash characters are escaped
with a backslash. This makes it possible to distinguish multiple command
line arguments from a single argument that contains spaces.</p>
<p>Issue found by Matthieu Barjole and Victor Cutillas of Synacktiv
(<a
  class="gdoc-markdown__link"
  href="https://synacktiv.com"
>https://synacktiv.com</a>).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=334daf92b"
>[334daf92b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Merge in sudo 1.9.12p2 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77557f8f1"
>[77557f8f1]</a></li>
</ul>
</dd>
<dt>2023-01-17  trackers-love</dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Return value does not match
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=326f013cf"
>[326f013cf]</a></li>
</ul>
</dd>
<dt>2023-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.conf.mdoc.in, docs/sudoers.ldap.man.in,
docs/sudoers.ldap.mdoc.in, docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/visudo.man.in, docs/visudo.mdoc.in:<br>
Stop using 8n width in tagged lists. Use either 4n, when the body is
expected to wrap or the width of the longest tag when no wrapping is
expected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3726e3839"
>[3726e3839]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.man.in,
docs/sudo.mdoc.in, docs/sudo_logsrvd.man.in, docs/sudo_logsrvd.mdoc.in,
docs/sudo_sendlog.man.in, docs/sudo_sendlog.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Use -width Ds for the options list, not -width Fl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=081474913"
>[081474913]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.conf.mdoc.in, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in:<br>
Reduce the offset of bullet lists to 1n.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7e8a20d0"
>[a7e8a20d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md:<br>
Shorten &ndash;with-passprompt and &ndash;with-mailsubject arguments to a single
word. The script that generates the web version of this file doesn&rsquo;t
expect options to include whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eae385af"
>[1eae385af]</a></li>
</ul>
</dd>
<dt>2023-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
Shorten &ndash;with-badpass-message argument to a single word. The
fix_install script can&rsquo;t deal with whitespace in options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0665166b"
>[f0665166b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md:<br>
Make numbered lists more markdown-friendly. Also add line breaks when
there are multiple authors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5634ae99"
>[e5634ae99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md:<br>
Make lists of directories more markdown-friendly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49ad30efa"
>[49ad30efa]</a></li>
</ul>
</dd>
<dt>2023-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c:<br>
Check for errors when removing the temp directory. If we cannot remove
the directory tree that may indicate a file or directory mode problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6725c37e3"
>[6725c37e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_mkdtemp.c:<br>
iolog_mkdtemp: fix pasto in last commit Set mode to iolog_dirmode, not
iolog_filemode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d7feb76e"
>[8d7feb76e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c, plugins/sudoers/sudoers.c,
plugins/sudoers/visudo.c:<br>
sudoedit: do not permit editor arguments to include &ldquo;&ndash;&rdquo;
(CVE-2023-22809) We use &ldquo;&ndash;&rdquo; to separate the editor and arguments from
the files to edit. If the editor arguments include &ldquo;&ndash;&rdquo;, sudo can be
tricked into allowing the user to edit a file not permitted by the
security policy. Thanks to Matthieu Barjole and Victor Cutillas of
Synacktiv (<a
  class="gdoc-markdown__link"
  href="https://synacktiv.com"
>https://synacktiv.com</a>) for finding this bug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0274a4f3b"
>[0274a4f3b]</a></li>
</ul>
</dd>
<dt>2023-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/hardening.m4:<br>
Add back the linker check for -fstack-clash-protection. This is expected
to fix <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/231"
>GitHub issue
#231</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a960d2c45"
>[a960d2c45]</a></li>
</ul>
</dd>
<dt>2023-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sha2.c:<br>
In SHA256Pad and SHA512Pad use 511 and 1023 respectively for bitwise
AND. Previously we were using 504 and 1016 which still produces the
correct result since padding is done in 8-bit bytes. However, using
size-1 for the bitwise AND makes the intent clearer and likely would
have prevented the previous bug in SHA512Pad. From Matthieu Barjole and
Victor Cutillas of Synacktiv (<a
  class="gdoc-markdown__link"
  href="https://synacktiv.com"
>https://synacktiv.com</a>)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b2f9cbe7"
>[0b2f9cbe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
env_file_next_local: change the order of the val_len check. It makes
more sense to verify that val_len &gt; 1 before using it. This is not a
problem in practice because val[val_len - 1] is guaranteed not to
underflow but it can confuse reviewers and static analyzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3878ce8d4"
>[3878ce8d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix typo in check for environment variables that start with &lsquo;=&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d781ab0a8"
>[d781ab0a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
sudo_lbuf_print: no longer need to check for lbuf-&gt;len &gt; 0. Now that
lbuf length is unsigned the earlier check for len == 0 is sufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b7604e5c"
>[1b7604e5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
Increase minimum allocation size from 256 to 1024 bytes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca297658d"
>[ca297658d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix IS_IDLOG macro, it was testing the wrong byte for the NUL. This
causes the macro to evaluate to false even for valid TSIDs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f58e5a8e"
>[1f58e5a8e]</a></li>
</ul>
</dd>
<dt>2023-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
sudoers_trace_print: this is a no-op if not debugging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8309fbb97"
>[8309fbb97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
sudo_lbuf_expand: don&rsquo;t allocate less than 256 bytes at a time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=532023f7b"
>[532023f7b]</a></li>
</ul>
</dd>
<dt>2023-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
sudo_lbuf_expand: round nearest power of two instead of multiple of 256.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc9ef6902"
>[dc9ef6902]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd934d6a2"
>[dd934d6a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_lbuf.h, lib/util/lbuf.c:<br>
sudo_lbuf_expand: check for possible integer overflow The numeric fields
in struct sudo_lbuf are now unsigned so that wraparound is defined, this
make the overflow checks simpler. Problem deteced by oss-fuzz using the
fuzz_sudoers fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13df52889"
>[13df52889]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/iolog_json.c, lib/iolog/regress/iolog_json/test3.in,
lib/iolog/regress/iolog_json/test3.out.ok:<br>
Decode \u00XX in a JSON string now that we escape control chars. We
don&rsquo;t write Unicode to the log.json file, only 8-bit ASCII.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b80ab74e"
>[6b80ab74e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in, lib/util/hexchar.c,
lib/util/regress/hexchar/hexchar_test.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h, plugins/sudoers/toke_util.c:<br>
Move hexchar() from the sudoers plugin to lib/util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5d98da01"
>[e5d98da01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
sudo_open_parent_dir: adjust loop terminating condition Checking for ep
&lt; pathend should be a bit clearer than ep != &lsquo;\0&rsquo; and has the advantage
of working when pathend doesn&rsquo;t point to a NUL byte. No intended change
in behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cb383511"
>[0cb383511]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_mkdtemp.c:<br>
iolog_mkdtemp: fix failure when the specified path contains
subdirectories. This fixes a bug introduced in sudo 1.9.12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=311d8e82d"
>[311d8e82d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c:<br>
check_iolog_mkpath: fix exit value
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfd7d586b"
>[bfd7d586b]</a></li>
</ul>
</dd>
<dt>2023-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #227 from sohomdatta1/integer_underflow</p>
<p>Prevent integer underflow due to environment variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f9485467"
>[6f9485467]</a></p>
</li>
</ul>
</dd>
<dt>2023-01-02  Sohom</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/env.c:<br>
Prevent integer underflow due to environment variable</p>
<p>Gaurd against replacing quotes when the environment variable val_len is
1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=761ffb3bf"
>[761ffb3bf]</a></p>
</li>
</ul>
</dd>
<dt>2023-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regex.c:<br>
glibc allows the &lsquo;,&rsquo; in {low,high} to be escaped with a backslash.
Adjust bound parsing to match this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b5037a21"
>[8b5037a21]</a></li>
</ul>
</dd>
<dt>2022-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix logic goof in 05781ba6f1f3, disable replacements when fuzzing. Not
the other way around.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acee3ea6e"
>[acee3ea6e]</a></li>
</ul>
</dd>
<dt>2022-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in:<br>
Substitute python plugin file name in sudo_plugin_python documentation.
Also use prefix for group plugin fallback path section in sudoers
manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b0dc2eec"
>[4b0dc2eec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/iolog/regress/fuzz/fuzz_iolog_legacy.dict,
lib/iolog/regress/fuzz/fuzz_iolog_timing.dict:<br>
Use correct dictionary file format. Also use the new dictionaries in the
Makefile fuzz target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad55f8cce"
>[ad55f8cce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/regress/corpus/seed/log_legacy/less.log,
lib/iolog/regress/corpus/seed/log_legacy/smtpctl.log,
lib/iolog/regress/corpus/seed/log_legacy/vi.log,
lib/iolog/regress/corpus/seed/timing/timing.5,
lib/iolog/regress/corpus/seed/timing/timing.6,
lib/iolog/regress/corpus/seed/timing/timing.7,
lib/iolog/regress/corpus/seed/timing/timing.8,
lib/iolog/regress/corpus/seed/timing/timing.9:<br>
Add some addition entries for the I/O log fuzzer seed corpus.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=224a3b647"
>[224a3b647]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/regress/fuzz/fuzz_iolog_legacy.dict,
lib/iolog/regress/fuzz/fuzz_iolog_timing.dict:<br>
Add dictionaries for fuzz_iolog_legacy and fuzz_iolog_timing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=148e5ad95"
>[148e5ad95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_fatal.h:<br>
Don&rsquo;t send warn/fatal output to the debug file when fuzzing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=774b3c6e6"
>[774b3c6e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Back out the genentropy.c portion of c648cfe9ff0f We don&rsquo;t need to
special-case FUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION now that we use
the glibc arc4random() where available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a3a8e37"
>[a9a3a8e37]</a></li>
</ul>
</dd>
<dt>2022-12-29  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Use initprogname(), not setprogname() in the fuzzers. This results in
better coverage for progname.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91d7592e8"
>[91d7592e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test1.out.ok,
lib/util/regress/sudo_conf/test2.out.ok,
lib/util/regress/sudo_conf/test3.out.ok,
lib/util/regress/sudo_conf/test4.out.ok,
lib/util/regress/sudo_conf/test5.out.ok,
lib/util/regress/sudo_conf/test6.out.ok,
lib/util/regress/sudo_conf/test7.out.ok:<br>
Add probe_interfaces and intercept_path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=206155e60"
>[206155e60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/fuzz/fuzz_sudo_conf.c:<br>
Exercise getter functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd9886851"
>[bd9886851]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Avoid using our function replacements when fuzzing (where possible). We
don&rsquo;t want to fuzz the function replacements themselves as this can skew
the coverage reports.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3068ec000"
>[3068ec000]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c:<br>
Disable sudo_debug tests when fuzzing. The debug code is disable when
fuzzing is enabled to avoid coverage issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f095ff1b"
>[3f095ff1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fatal.c, lib/util/getentropy.c, lib/util/sudo_conf.c:<br>
Avoid compiling some code paths that are unreachable when fuzzing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e9e1c80f"
>[2e9e1c80f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/serialize_list/check_serialize_list.c:<br>
Plug memory leak.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a5e9ffb4"
>[8a5e9ffb4]</a></li>
</ul>
</dd>
<dt>2022-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.dict:<br>
Update fuzz_policy keywords to match current policy settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47a211f19"
>[47a211f19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.dict:<br>
Add example users and groups to the dictionary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7c1b78c6"
>[a7c1b78c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.c, src/parse_args.c:<br>
parse_args: an environment variable may not start with &lsquo;=&rsquo;. Also check
VAR=val format in validate_env_vars() and add an error message if
insert_env_vars() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eabbf8fd"
>[8eabbf8fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
rebuild_env: avoid a potential NULL dereference in fuzz_policy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c82059989"
>[c82059989]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
sudoers_policy_main: plug memory leak of iolog_path on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b69ffd347"
>[b69ffd347]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
rebuild_env: avoid a potential NULL dereference in fuzz_policy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e8a22b8e"
>[8e8a22b8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
The contents of the env_add array should not include the leading &ldquo;env=&rdquo;
prefix. The previous fix for this was incomplete.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bca945f07"
>[bca945f07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
validate_env_vars: more efficient errbuf handling Also avoid appending
to errbuf if it is already full.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c4271f73"
>[9c4271f73]</a></li>
</ul>
</dd>
<dt>2022-12-27  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Document that -k does not interfere with sudo on other terminals. This
should help clarify the difference between &ldquo;sudo -k&rdquo; and &ldquo;sudo -K&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95a6c0459"
>[95a6c0459]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regex.c, lib/util/regress/regex/regex_test.c:<br>
Check for bound values larger than 255 and reject them. This is to
prevent the fuzzers from running out of memory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee5b43280"
>[ee5b43280]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Use the POSIX shell &ldquo;command -v&rdquo; instead of &ldquo;which&rdquo; to find programs.
Fix false detection of init.d/service status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adf2a432a"
>[adf2a432a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Fix example dir mode on RedHat/Fedora.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=519a00580"
>[519a00580]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Use sed instead of ed to modify the packaged sudoers file. Some Linux
distros do not include /bin/ed by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0fa2ec85"
>[e0fa2ec85]</a></li>
</ul>
</dd>
<dt>2022-12-26  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in:<br>
Use @intercept_file@ and @noexec_file@ like the example file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=048b843e6"
>[048b843e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
There is a @pam_login_service@ substitution but no @pam_service@.
Just use sudo instead of @pam_service@.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=772fc914a"
>[772fc914a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudo.conf.in:<br>
Use @sudoers_plugin@ instead of @sudoers_module@.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0354ec6a1"
>[0354ec6a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in, docs/visudo.man.in, docs/visudo.mdoc.in:<br>
Use @sudoers_plugin@ instead of @sudoers_module@.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eeea67e70"
>[eeea67e70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, NEWS, config.h.in, configure, configure.ac, docs/UPGRADE.md,
scripts/config.guess, scripts/config.sub:<br>
sudo 1.9.13 Document the changes to AIX plugins in docs/UPGRADE.md and
regenerate configure using the latest autoconf from git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e0e87ba"
>[f6e0e87ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Remove anything after whitespace in MANIFEST when building tarball. This
is consistent with how sudo&rsquo;s Makefile builds the tarball.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=702f21f7f"
>[702f21f7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Zap trailing whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4baa6e103"
>[4baa6e103]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
examples/sudo.conf.in,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.1,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.2,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.3,
lib/util/regress/fuzz/fuzz_sudo_conf.dict,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test1.in,
lib/util/regress/sudo_conf/test1.out.ok,
lib/util/regress/sudo_conf/test2.out.ok,
lib/util/regress/sudo_conf/test3.out.ok,
lib/util/regress/sudo_conf/test4.out.ok,
lib/util/regress/sudo_conf/test5.out.ok,
lib/util/regress/sudo_conf/test6.out.ok,
lib/util/regress/sudo_conf/test7.out.ok,
lib/util/regress/sudo_conf/test8.err.ok,
lib/util/regress/sudo_conf/test8.in,
lib/util/regress/sudo_conf/test8.out.ok, lib/util/sudo_conf.c:<br>
Remove developer mode from sudo.conf, it is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50958a05d"
>[50958a05d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/python_importblocker.c,
plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/sudo.conf.developer_mode,
plugins/python/regress/testdata/sudo.conf.normal_mode,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h,
plugins/python/sudo_python_module.h:<br>
Remove the Python plugin import blocker code. The sudo.conf file is
considered a trusted source of information and these checks suffer from
TOCTOU issues anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa1b86fca"
>[fa1b86fca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, src/load_plugins.c:<br>
Remove the owner and mode checks when loading a sudo plugin. The
sudo.conf file is considered a trusted source of information and these
checks suffer from TOCTOU issues anyway. The checks complicate loading
of shared objects since we need to perform fallback processing twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73abff2d0"
>[73abff2d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_dso.c, src/load_plugins.c:<br>
sudo_dso_load: add AIX fallback path from shlib.so to shlib.a(shlib.so).
If the .so file is missing but the .a file exists, try to dlopen() the
AIX .a file using the .so name as the member. We need to avoid breaking
existing configurations if the type of AIX shared library changes when
sudo is upgraded.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97fb4eae7"
>[97fb4eae7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in, examples/sudo.conf.in, pathnames.h.in,
src/load_plugins.c, src/preload.c:<br>
Use AIX-style shared libraries on AIX by default instead of SVR4-style.
This removes the need to use the -brtl linker flag which can cause
problems when there are both a .so and .a version of the same library
but with different versions. This was particularly problematic when
using the AIX freeware version of OpenSSL. The &ndash;with-aix-soname=svr4
option can be used to build SVR4-style shared libs instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=206700c3f"
>[206700c3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers_version.h:<br>
Bump SUDOERS_GRAMMAR_VERSION to 50 for the new list pseudo-command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5165fb9b2"
>[5165fb9b2]</a></li>
</ul>
</dd>
<dt>2022-12-25  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/Makefile.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in:<br>
Use &ldquo;.Sy root&rdquo; instead of &ldquo;.Em root&rdquo; when talking about the root user.
Replace MANDOCPROG with &ldquo;mandoc&rdquo; now that MANDOCPROG has been removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11aa808ef"
>[11aa808ef]</a></li>
</ul>
</dd>
<dt>2022-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_dso.c, src/load_plugins.c:<br>
Fix support for AIX-style path(module) syntax in sudo.conf Plugin lines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49f2d6707"
>[49f2d6707]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #226 from rtczza/main</p>
<p>debug_return_int use error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27aff55ac"
>[27aff55ac]</a></p>
</li>
</ul>
</dd>
<dt>2022-12-23  wanglujun</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
debug_return_int use error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c495b5fe"
>[5c495b5fe]</a></li>
</ul>
</dd>
<dt>2022-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Mention the &ldquo;list&rdquo; privilege in the description of the -U option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3040bf54c"
>[3040bf54c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, src/parse_args.c,
src/sudo_usage.h.in:<br>
Add [arg &hellip;] after command in SYNOPSIS and usage output. Use Ar markup
when referring to the command and args.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eada918bb"
>[eada918bb]</a></li>
</ul>
</dd>
<dt>2022-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_preload.c:<br>
fmtstr: call va_arg() for %c when computing length. Even though we don&rsquo;t
need to read the actual char to know its length, we do need to consume
it to get the correct value for the next format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d5ed2f9e"
>[9d5ed2f9e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sanitizer.m4:<br>
SUDO_CHECK_SANITIZER: quote &ldquo;$3&rdquo; in awk script so m4 doesn&rsquo;t eat it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e64799723"
>[e64799723]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/json/json_test.c:<br>
Add missing sudo_json_free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7b367393"
>[d7b367393]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/regex.c,
lib/util/regress/regex/regex_test.c:<br>
check_pattern: check bounds as a repetition operator too. Add regess to
verify check_pattern() via sudo_regex_compile().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0614c1f62"
>[0614c1f62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regex.c:<br>
Instead of collapsing duplicate repetition characters, reject them. This
is implementation-specific behavior&ndash;some regcomp(3) will reject
duplicate repetition characters (BSD), others will try to support them
(Glibc) but may allocate excessive amounts of memory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0530b66d"
>[f0530b66d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, docs/CONTRIBUTORS.md, po/sq.mo, po/sq.po:<br>
New Albanian translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f32b45d5"
>[2f32b45d5]</a></li>
</ul>
</dd>
<dt>2022-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_json.h, lib/eventlog/eventlog.c,
lib/iolog/iolog_loginfo.c,
lib/iolog/regress/iolog_json/check_iolog_json.c, lib/util/Makefile.in,
lib/util/json.c, lib/util/regress/json/json_test.c,
lib/util/util.exp.in, logsrvd/logsrvd_local.c,
plugins/audit_json/audit_json.c, plugins/sudoers/cvtsudoers_json.c:<br>
Add basic regress for JSON functions. Fix a bug in escaped control
character handling. Roll back changes to buffer if sudo_json_add_value()
fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=797cc917a"
>[797cc917a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/iohelpers.c,
plugins/python/regress/testhelpers.c:<br>
Add missing memory allocation failure checks. Inspired by GitHub PR #221
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e6482e82"
>[0e6482e82]</a></li>
</ul>
</dd>
<dt>2022-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/json.c:<br>
Escape control characters in strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e706204f5"
>[e706204f5]</a></li>
</ul>
</dd>
<dt>2022-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Mention the audit plugin in the &ldquo;Process model&rdquo; section. Remove
extraneous information describing how sudo may exec the command
directly, this is already included in the non-pty section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c184a241a"
>[c184a241a]</a></li>
</ul>
</dd>
<dt>2022-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c:<br>
Plug a memory leak of list_cmnd in the fuzzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62dd5734a"
>[62dd5734a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Suppress PVS Studio watning about reassigning a variable the same value.
Working around the warning would result in more fragile code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25c709c4d"
>[25c709c4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
Fix some dead stores noted by PVS Studio. Since rc is initialized to
SUDO_RC_ERROR there is no need to set it to SUDO_RC_ERROR again on
failure if rc has not been changed since initialization.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f26a2e762"
>[f26a2e762]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/multiarch/multiarch_test.c:<br>
Fix memory leak in multiarch_test to quiet leak sanitizer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a04557c3d"
>[a04557c3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/logging.c,
plugins/sudoers/match_command.c, plugins/sudoers/parse.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add &ldquo;list&rdquo; pseudo-command to allow a user to list another user&rsquo;s privs.
Previously, only root or a user with the ability to run any command as
either root or the target user on the current host could use the -U
option. For &ldquo;sudo -l [-U otheruser] command&rdquo;, NewArgv[0] is now set to
&ldquo;list&rdquo; (just like &ldquo;sudo -l&rdquo;) and the actual command to be checked starts
with NewArgv[1].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a514a6eed"
>[a514a6eed]</a></li>
</ul>
</dd>
<dt>2022-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/codespell.exclude:<br>
Adjust a line to quiet codespell warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c16c8faf"
>[8c16c8faf]</a></li>
</ul>
</dd>
<dt>2022-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Only build ChangeLog from a repo checkout, not a release tarball. The
CODEOWNERS file is not present in the release tarball so we can use that
when determining what is (or is not) a repo checkout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=934a8793b"
>[934a8793b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/CODEOWNERS:<br>
Add CODEOWNERS file, currently all owned by @millert.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95a6731ff"
>[95a6731ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore, Makefile.in:<br>
Only regenerate ChangeLog if there have been changes. Also check that
&ldquo;hg &ndash;version&rdquo; or &ldquo;git &ndash;version&rdquo; works before using hg or git. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1043"
>Bug
#1043</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=179fd3247"
>[179fd3247]</a></li>
</ul>
</dd>
<dt>2022-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix potential crash introduced in the fix for <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/134"
>GitHub issue
#134</a>. If a user&rsquo;s
sudoers entry did not have any RunAs user&rsquo;s set, running &ldquo;sudo -U
otheruser -l&rdquo; would dereference a NULL pointer. We need to compare the
default RunAs user if the sudoers entry does not specify one explicitly.
Problem reported by Andreas Mueller who also suggested a different
solution in PR #219.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5488d733"
>[f5488d733]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Defer installing the SIGCHLD handler until after non-job commands run.
Lock the socket dir to avoid races in open_persistent_connection(). Also
avoid using &ldquo;ssh -f&rdquo; since that may return before the socket is created.
Strip carriage returns from log when running in a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31684dccc"
>[31684dccc]</a></li>
</ul>
</dd>
<dt>2022-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Fix a typo in SUDO_CHECK_NET_FUNC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e322c094"
>[2e322c094]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/inet_ntop.c:<br>
Fix -Wsign-compare warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=185fe31fe"
>[185fe31fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Initialize &ldquo;found&rdquo; in SUDO_CHECK_NET_FUNC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=104a0294e"
>[104a0294e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Fix pasto introduced in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11264cd49"
>[11264cd49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Fix failure in check targets when there is no UTF-8 C locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3df7b64d8"
>[3df7b64d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/sudo.m4:<br>
Add SUDO_CHECK_NET_FUNC to check functions in the network libraries. If
a function is not found, check again with &ldquo;-lsocket&rdquo;, &ldquo;-linet&rdquo;,
&ldquo;-lsocket -lnsl&rdquo;, or &ldquo;-lresolv&rdquo;. Also display network libs in final
summary as well as the different linker flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d2082cdf"
>[3d2082cdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Make sure HAVE_MAILLOCK_H is defined on Solaris 10.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9639aca8"
>[f9639aca8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove extraneous &ldquo;(cached)&rdquo; line when the -C option is used. We do not
need to call AC_CACHE_VAL() to ensure that a variable is cached, its
name just needs to match the pattern <em><em>cv</em></em>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c97e7f47"
>[2c97e7f47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Make path checks in sudo.m4 cachable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cdd044c6"
>[3cdd044c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use AC_PATH_PROGS_FEATURE_CHECK to find mandoc/nroff. We don&rsquo;t use the
NROFFPROG or MANDOCPROG any longer so no need to set those.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b76f7612"
>[1b76f7612]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t check for _sys_siglist if sys_siglist is found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd1eb1f6c"
>[dd1eb1f6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for sys_sigabbrev.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd6484917"
>[fd6484917]</a></li>
</ul>
</dd>
<dt>2022-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Skip test for <strong>func</strong> on C99 and above, avoid extra _sys_signame test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29c36a3c1"
>[29c36a3c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/gettext.m4:<br>
Move gettext checks to m4/gettext.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38ffd03cd"
>[38ffd03cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/ldap.m4:<br>
Move LDAP library checks to m4/ldap.m4 and make more tests cacheable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12da6bd0c"
>[12da6bd0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/openssl.m4:<br>
Move OpenSSL/wolfSSL checks to m4/openssl.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00e22508a"
>[00e22508a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/pie.m4:<br>
Move PIE executable checks to m4/pie.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f515c238b"
>[f515c238b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/sanitizer.m4:<br>
Move address sanitizer and fuzzer checks to m4/sanitizer.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4220e6631"
>[4220e6631]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/visibility.m4:<br>
Move symbol visibility checks to m4/visibility.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea5668086"
>[ea5668086]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/hardening.m4:<br>
Move hardening checks to m4/hardening.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bf5a4e26"
>[5bf5a4e26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/sudo.m4:<br>
Make cpp variadic arguments check into a macro and move to sudo.m4. Also
move the PVS-Studio.cfg generation to sudo.m4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8718fc208"
>[8718fc208]</a></li>
</ul>
</dd>
<dt>2022-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
Sync with OpenBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee6420ad5"
>[ee6420ad5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #218 from sohomdatta1/snprintf</p>
<p>[snprintf] Check for &lsquo;\0&rsquo; to prevent undef memory read
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31152ba4d"
>[31152ba4d]</a></p>
</li>
</ul>
</dd>
<dt>2022-12-03  Sohom</dt>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
[snprintf] Check for &lsquo;\0&rsquo; to prevent undef memory read
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ac89f8d0"
>[8ac89f8d0]</a></li>
</ul>
</dd>
<dt>2022-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/tsdump.c, plugins/sudoers/visudo.c, src/parse_args.c,
src/regress/noexec/check_noexec.c:<br>
Place C23 attributes before keywords in function declarations. In
practice this means we must use &ldquo;sudo_noreturn static foo(void)&rdquo; instead
of &ldquo;static sudo_noreturn foo(void)&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e707ffe58"
>[e707ffe58]</a></li>
</ul>
</dd>
<dt>2022-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
Convert from using IPC::Open3 to IPC::Run. Run tests in a pty so
check_ttyname works as expected. Explicitly set short command line
options letters in GetOptions(). Add a debug flag to help see what is
going on internally. Add hook for die() to kill running jobs when we are
dying. SSH_AGENT_PID will not be present if the agent is forwarded. In
close_persistent_connections() only close active connections.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a44a005f0"
>[a44a005f0]</a></li>
</ul>
</dd>
<dt>2022-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.ac, include/sudo_compat.h:<br>
Use C23 [[<strong>fallthrough</strong>]] and [[<strong>noreturn</strong>]] attributes if
supported. If the C23 attributes are not supported, use gcc-style
attributes where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16ae61dcd"
>[16ae61dcd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Move the check for the fallthrough attribute outside the warnings block.
Use AX_APPEND_FLAG instead of addind to CFLAGS directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfdcd96b6"
>[cfdcd96b6]</a></li>
</ul>
</dd>
<dt>2022-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/build_pkgs:<br>
The distributed package build script I use to build all sudo packages.
This is not included in the release tarball because it is of limited use
to other people.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e58cbbe"
>[63e58cbbe]</a></li>
</ul>
</dd>
<dt>2022-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Pass the list of files to include in the tarball on stdin. This avoids
any limit on the size of argv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9cab46f8"
>[a9cab46f8]</a></li>
</ul>
</dd>
<dt>2022-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #214 from BornThisWay/1124_repeated_invocation</p>
<p>check_syntax(): Remove duplicate calls to init_defaults()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a3669816"
>[9a3669816]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-24  modric</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
check_syntax(): Remove duplicate calls to init_defaults()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26cf125fb"
>[26cf125fb]</a></li>
</ul>
</dd>
<dt>2022-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
build_command_info: free command_info on failure. Once upon a time,
command_info was a stack variable, now it is dynamically allocated.
Coverity CID 299987.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46d286947"
>[46d286947]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Better handling of out-of-memory conditions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb4ae10ab"
>[eb4ae10ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/group_file.c:<br>
Keep group file open until the call to myendgrent(). This restores the
previous behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fff5a5fa"
>[9fff5a5fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/json.c, plugins/group_file/getgrent.c,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/env.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/log_client.c,
plugins/sudoers/match_command.c, plugins/sudoers/strvec_join.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Eliminate a few harmless dead stores. Quiets warnings from Infer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f066ff9e0"
>[f066ff9e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
sudo_ldap_parse_option: add explicit NULL check for strchr(). This
should not be needed since we only use the returned pointer if it is
larger than the string passed to strchr(). Quiets a warning from Infer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f97da316"
>[2f97da316]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_journal.c:<br>
journal_fdopen: free journal_path and close journal before setting Fixes
a potential resource leak that currently cannot happen. Quiets a warning
from Infer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0d9963fe"
>[a0d9963fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
sudo_ldap_result_add_entry: check sudo_ldap_get_values_len() return
value. Previously, we just compared the error code with LDAP_NO_MEMORY
when checking for sudoOrder since this is the only error we care about.
We now return NULL for LDAP_NO_MEMORY and ignore other errors. Quiets a
warning from Infer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a37ecb266"
>[a37ecb266]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/getgrent.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/tsgetgrpw.h:<br>
Refactor code to open passwd/group file and add setpassent/setgroupent.
This makes the &ldquo;stayopen&rdquo; semantics match the system passwd/group
functions. The getpwent/getgrent functions now open the database if it
is not already open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c9c7bd34"
>[1c9c7bd34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/gram.h:<br>
gram.h: #line directives should reference gram.h not y.tab.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d7823e51"
>[4d7823e51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Use clang, not /usr/bin/cc on FreeBSD and macOS. While /usr/bin/cc <em>is</em>
clang on those platforms, some static analyzers get confused if we don&rsquo;t
run it as clang.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ac13204f"
>[7ac13204f]</a></li>
</ul>
</dd>
<dt>2022-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #212 from BornThisWay/1122_null_deref</p>
<p>sudo_rcstr_dup: Fix potential NULL pointer deref
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da7a5ecab"
>[da7a5ecab]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-22  modric</dt>
<dd>
<ul>
<li>lib/util/rcstr.c:<br>
sudo_rcstr_dup: Fix potential NULL pointer deref
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbfd84301"
>[dbfd84301]</a></li>
</ul>
</dd>
<dt>2022-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Add a reminder to the default lecture that the password will not echo.
This line is only displayed when the pwfeedback option is disabled.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/195"
>GitHub issue #195</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=339626729"
>[339626729]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #210 from BornThisWay/1121_typo</p>
<p>Fix some typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3f138eaa"
>[c3f138eaa]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-21  modric</dt>
<dd>
<ul>
<li>plugins/python/regress/testhelpers.h, plugins/sudoers/parse.c:<br>
Fix some typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbdc4883d"
>[cbdc4883d]</a></li>
</ul>
</dd>
<dt>2022-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #208 from BornThisWay/1121_return</p>
<p>intercept_read: Print and then return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5546b11"
>[6a5546b11]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-21  modric</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_read: Print and then return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1af59aa5"
>[b1af59aa5]</a></li>
</ul>
</dd>
<dt>2022-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #205 from BornThisWay/1119_access_null_pointer</p>
<p>sudo_mmap_strdup_v1: Fix potential NULL pointer deref
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=496ae6e6f"
>[496ae6e6f]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-19  modric</dt>
<dd>
<ul>
<li>lib/util/mmap_alloc.c:<br>
sudo_mmap_strdup_v1: Fix potential NULL pointer deref
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eabf1357"
>[1eabf1357]</a></li>
</ul>
</dd>
<dt>2022-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
copy_vector: plug memory leak in error path Only the array was being
freed, not the contents. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/202"
>GitHub issue
#202</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c694e9a6"
>[9c694e9a6]</a></li>
</ul>
</dd>
<dt>2022-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Better matching of macOS version to SDK path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=981cc2f8e"
>[981cc2f8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #200 from BornThisWay/fix_mem_leak_converse</p>
<p>Fix memory leak of pass in converse().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad220d72d"
>[ad220d72d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/passwd.c:<br>
sudo_passwd_cleanup: Set auth-&gt;data to NULL after freeing. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/201"
>GitHub
issue #201</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3834bbf2"
>[b3834bbf2]</a></li>
</ul>
</dd>
<dt>2022-11-17  modric</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix memory leak of pass in converse().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5cae905c"
>[f5cae905c]</a></li>
</ul>
</dd>
<dt>2022-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Use AC_SYS_YEAR2038 instead of setting _TIME_BITS by hand.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=004489396"
>[004489396]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/ax_append_flag.m4, m4/ax_check_compile_flag.m4,
m4/ax_func_snprintf.m4, m4/ax_prog_cc_for_build.m4:<br>
Update macros from autoconf-archive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4af5e6293"
>[4af5e6293]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/corpus/seed/ldif/pr196.ldif,
plugins/sudoers/regress/visudo/test3.sh:<br>
Fix typo; excerise -&gt; exercise
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe8e1f3d3"
>[fe8e1f3d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, scripts/config.guess, scripts/config.sub:<br>
Regenerate with the autoconf 2.72a pre-release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=920d38494"
>[920d38494]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac, m4/ax_func_getaddrinfo.m4, m4/sudo.m4:<br>
Replace <code>foo</code> in descriptions with &lsquo;foo&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03559d077"
>[03559d077]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Fix insufficient quoting in AC_CHECK_LIB() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc0615059"
>[cc0615059]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>autogen.sh:<br>
If AUTOCONF_VERSION is unset, use version 2.71 not 2.69.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=096eacb21"
>[096eacb21]</a></li>
</ul>
</dd>
<dt>2022-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -Wvla and -Walloca to &ndash;enable-warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bef72f76f"
>[bef72f76f]</a></li>
</ul>
</dd>
<dt>2022-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
sudo_debug_group_list: short-circuit if groups is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ecfa025b"
>[3ecfa025b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
configure: only check for getauxval() if getentropy() is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cfba230c"
>[3cfba230c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Remove checks for random() and lrand48(), they are no longer used. Also
remove duplicate checks for arc4random() and getentropy().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28dbad334"
>[28dbad334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Skip check for cpp variadic macro support if the compiler supports C99.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d0fcc0ff"
>[3d0fcc0ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
HI-UX/MPP is based on OSF-1, not HP-UX Completely untested.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b005e811"
>[6b005e811]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Only check for utmps.h on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a142bc183"
>[a142bc183]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Only check for sys/syscall.h on Linux. We only use it in the
Linux-specific getentropy() emulation code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3684d7f3"
>[a3684d7f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
configure: avoid running unnecessary tests on modern systems. Remove
AC_SYS_POSIX_TERMIOS, AC_TYPE_MODE_T, AC_TYPE_UID_T. Add missing checks
for int16_t, uint16_t, int32_t, and int64_t. Only check for intmax_t,
uintmax_t and bit-width types if missing both inttypes.h and stdint.h.
Remove unused clockid_t replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feba299f2"
>[feba299f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test40.out.ok,
plugins/sudoers/regress/cvtsudoers/test40.sh:<br>
Add a regress check for the cvtsudoers filter crash. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/198"
>GitHub issue
#198</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8e9fc1b1"
>[b8e9fc1b1]</a></li>
</ul>
</dd>
<dt>2022-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Fix a potential use-after-free bug with cvtsudoers filtering. In
role_to_sudoers() when merging a privilege to the previous one where the
runas lists are the same we need to re-use the runas lists of the last
command in the previous privilege, not the first. Otherwise, the check
in free_cmndspec() will not notice the re-used runas lists.
Reported/analyzed by Sohom Datta. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/198"
>GitHub issue
#198</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=264326de5"
>[264326de5]</a></li>
</ul>
</dd>
<dt>2022-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
lib/util/Makefile.in, logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
The name of the C locale w/ UTF-8 support is not always C.UTF-8. Use a
pattern to find it (if present) and use that value instead of
hard-coding C.UTF-8. This works around a leak sanitizer crash on certain
inputs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5683fc6f7"
>[5683fc6f7]</a></li>
</ul>
</dd>
<dt>2022-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/corpus/seed/ldif/invalid_b64.ldif,
plugins/sudoers/regress/corpus/seed/ldif/pr196.ldif,
plugins/sudoers/regress/corpus/seed/ldif/sample.ldif,
plugins/sudoers/regress/corpus/seed/ldif/valid_b64.ldif,
plugins/sudoers/regress/cvtsudoers/test39.sh:<br>
Copy some LDIF test data from the cvtsudoers tests to the seed corpus.
This includes a test to exercise the fix in PR #196.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75008a057"
>[75008a057]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Set LDAP base for sudoers_parse_ldif(). Without this set the fuzzer will
not exercise the dn parsing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=455f250ac"
>[455f250ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Include linux/elf.h, not elf.h to make sure we get NT_ARM_SYSTEM_CALL.
The NT_PRSTATUS define is present in both files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82150340a"
>[82150340a]</a></li>
</ul>
</dd>
<dt>2022-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Remove CMSG_* compatibility macros, they are no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e8497b5c"
>[3e8497b5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/multiarch.c, lib/util/sudo_dso.c:<br>
Add missing include of sys/stat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecb5526fc"
>[ecb5526fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h:<br>
Move forward declaration of struct stat before its first use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b06bdc12"
>[8b06bdc12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/cvtsudoers/test28.sh,
plugins/sudoers/regress/cvtsudoers/test29.sh,
plugins/sudoers/regress/cvtsudoers/test33.sh,
plugins/sudoers/regress/cvtsudoers/test39.sh:<br>
Use a consistent base when testing cvtsudoers conversion from ldif.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b1335f54"
>[0b1335f54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/cvtsudoers/test39.out.ok,
plugins/sudoers/regress/cvtsudoers/test39.sh,
plugins/sudoers/regress/harness.in:<br>
Test parsing LDIF when a backslash is the last char of the file. If run
with address sanitizer, this test will crash when the fix in
ceaf706ab74b is reverted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b898b2ca"
>[8b898b2ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #196 from sohomdatta1/main</p>
<p>Prevent cvtsudoers from reading into undefined memory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=685150586"
>[685150586]</a></p>
</li>
</ul>
</dd>
<dt>2022-11-09  Sohom</dt>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
[cvtsudoers]: Prevent sudo from reading into undefined memory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=902271f44"
>[902271f44]</a></li>
</ul>
</dd>
<dt>2022-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/passwd.c:<br>
sudo_passwd_verify: zero out des_pass before returning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f948224a"
>[9f948224a]</a></li>
</ul>
</dd>
<dt>2022-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c, src/regress/intercept/test_ptrace.c, src/sudo_exec.h,
src/suspend_nopty.c:<br>
Pass sudo&rsquo;s process ID to suspend_sudo_nopty() since we already know it.
Saves an unnecessary getpid(2) call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=045d08bec"
>[045d08bec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t kill the parent process group on suspend if it is not sudo&rsquo;s pid.
If sudo is not the process group leader we must only send the suspend
signal to sudo itself. When sudo is run via a shell script, it usually
has the same process group as the shell script interpreter. We do not
want to suspend the script itself when the command run by sudo is
suspended.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f87fac3b5"
>[f87fac3b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c:<br>
Call terminate_command() with use_pgrp = false when not running in a
pty. When sudo runs a command in the user&rsquo;s existing terminal the
command is run in the same process group as sudo itself. The proper way
to terminate it is to use kill(2), not killpg(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbe4fbaaa"
>[bbe4fbaaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Fix handling of signal forwarding when running commands in a script. We
need to forward signals from a process in the same pgrp if the pgrp
leader is not either sudo or the command itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36742deec"
>[36742deec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/intercept/test_ptrace.c:<br>
Make test_ptrace compile again after recent changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7071f6da"
>[c7071f6da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_intercept.h, src/exec_ptrace.c:<br>
Update the cwd for log_subcmds too. Fixes a problem for
intercept_method=trace when running a relative command from a different
directory than what sudo ws started from. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/194"
>GitHub issue
#194</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db1eb0c8"
>[8db1eb0c8]</a></li>
</ul>
</dd>
<dt>2022-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, aclocal.m4, configure, configure.ac:<br>
sudo 1.9.12p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3df1e9a07"
>[3df1e9a07]</a></li>
</ul>
</dd>
<dt>2022-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/host_port.c:<br>
Include time.h for struct timespec used by sudo_iolog.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ba318470"
>[7ba318470]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Display sudo_mode in hex in debug log. This makes it easier to match
against the MODE_ defines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2c8e1b1b"
>[b2c8e1b1b]</a></li>
</ul>
</dd>
<dt>2022-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c:<br>
bsdauth_verify: do not write to prompt, it is now const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ec1ee0e5"
>[7ec1ee0e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Store raw sudoers lines in the debug log. Also add a &ldquo;sudoerslex&rdquo; prefix
to the token debug info in sudoers_trace_print().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d242261dd"
>[d242261dd]</a></li>
</ul>
</dd>
<dt>2022-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
The line numbers in sudoers_trace_print() were off by one. The line
counter is incremented when a newline is seen so the output actually
refers to the previous line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=966731311"
>[966731311]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.h:<br>
Make the second arg to the sudo auth verify function const. This may be
either a plaintext password or a password prompt. Either way it should
not be modified by the verify function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da22b101"
>[4da22b101]</a></li>
</ul>
</dd>
<dt>2022-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/passwd.c:<br>
Fix CVE-2022-43995, potential heap overflow for passwords &lt; 8
characters. Starting with sudo 1.8.0 the plaintext password buffer is
dynamically sized so it is not safe to assume that it is at least 9
bytes in size. Found by Hugo Lefeuvre (University of Manchester) with
ConfFuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd209b9f1"
>[bd209b9f1]</a></li>
</ul>
</dd>
<dt>2022-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Move debugging info from hostname_matches() to host_matches().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c78e78dc5"
>[c78e78dc5]</a></li>
</ul>
</dd>
<dt>2022-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Add debugging to sudo_set_grlist() and sudo_set_gidlist().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a3fb3fd7"
>[6a3fb3fd7]</a></li>
</ul>
</dd>
<dt>2022-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
configure: better test for -fstack-clash-protection The gcc front-end
may accept -fstack-clash-protection even if the machine-specific code
does not support it. We use a test program with a large stack allocation
to try to cause the compiler to insert the stack clash protection code,
or fail if not supported. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/191"
>GitHub issue
#191</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=366217571"
>[366217571]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Check that compiler accepts -fstack-clash-protection and
-fcf-protection. Previously, we only checked that linker accepted them.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/191"
>GitHub issue #191</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a2075b67"
>[6a2075b67]</a></li>
</ul>
</dd>
<dt>2022-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Fix compilation error on Linux/mips.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=794449419"
>[794449419]</a></li>
</ul>
</dd>
<dt>2022-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Regenerate dependencies for src/sesh.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=802e500cc"
>[802e500cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/Makefile.in, plugins/sample_approval/Makefile.in:<br>
Sync clean target with other Makefile.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebd285850"
>[ebd285850]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sample/Makefile.in:<br>
Build the sample plugin but do not install it by default. We no longer
install the sample approval plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8087604e5"
>[8087604e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Adapt to current plugin API and fix warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45ea24833"
>[45ea24833]</a></li>
</ul>
</dd>
<dt>2022-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Disable admin_flag by setting to NULL, not false. Found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b9404b6f"
>[9b9404b6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1042"
>Bug #1042</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a6083f04"
>[3a6083f04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/fatal.c, lib/util/term.c,
lib/util/util.exp.in, src/conversation.c:<br>
Only add trailing carriage return to messages if output is a raw tty. If
output is being written to a terminal in &ldquo;raw&rdquo; mode, we need to add a
carriage return after the newline to avoid &ldquo;stair-step&rdquo; output. However,
we should not write the carriage return if the terminal is in &ldquo;cooked&rdquo;
mode, output to a pipe, or output redirected to a file. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1042"
>Bug
#1042</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=803998d2b"
>[803998d2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Make it clear that runas_default sets the default user for Runas_Spec.
Also use mention runas_default in other parts of the manual, use
@runas_default@ instead of root and add markup around user names.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/186"
>GitHub issue #186</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d744271a6"
>[d744271a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/multiarch.c, lib/util/sudo_dso.c:<br>
Fix a typo, muti-arch -&gt; multi-arch <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/185"
>GitHub issue
#185</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ca21f950"
>[3ca21f950]</a></li>
</ul>
</dd>
<dt>2022-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention log_servers eventlog fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82db62ec6"
>[82db62ec6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Don&rsquo;t NULL out the plugin close function when logging to a log server.
If sudo calls execve(2) directly the accept info will not be sent. We
also need the sudo front-end to wait until the command finishes to send
the exit status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7db62f64"
>[e7db62f64]</a></li>
</ul>
</dd>
<dt>2022-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
Fix numbering in &ldquo;Simple sudo installation&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d251dfd55"
>[d251dfd55]</a></li>
</ul>
</dd>
<dt>2022-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
zlib 1.2.13 update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c5ff3fda"
>[5c5ff3fda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, po/cs.mo, po/cs.po,
po/de.mo, po/de.po, po/fr.mo, po/fr.po, po/ja.mo, po/ja.po, po/ka.mo,
po/ka.po, po/ko.mo, po/ko.po, po/pl.mo, po/pl.po, po/ro.mo, po/ro.po,
po/sr.mo, po/sr.po, po/sv.mo, po/sv.po, po/uk.mo, po/uk.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dbb8ac6e"
>[5dbb8ac6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/zconf.h.in:<br>
Don&rsquo;t define _LARGEFILE64_SOURCE or _LFS64_LARGEFILE. We don&rsquo;t need them
and the missing prototype for crc32_combine_gen64() issue has been fixed
upstream.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6185c4f84"
>[6185c4f84]</a></li>
</ul>
</dd>
<dt>2022-10-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/compress.c, lib/zlib/crc32.c, lib/zlib/deflate.c,
lib/zlib/deflate.h, lib/zlib/gzlib.c, lib/zlib/gzread.c,
lib/zlib/gzwrite.c, lib/zlib/infback.c, lib/zlib/inflate.c,
lib/zlib/inftrees.c, lib/zlib/inftrees.h, lib/zlib/trees.c,
lib/zlib/uncompr.c, lib/zlib/zconf.h.in, lib/zlib/zlib.h,
lib/zlib/zutil.c, lib/zlib/zutil.h:<br>
Update embedded copy of zlib to version 1.2.13. Fixes CVE-2022-37434.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51a1a7d63"
>[51a1a7d63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fchownat.c:<br>
Add fchownat() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0be0757d6"
>[0be0757d6]</a></li>
</ul>
</dd>
<dt>2022-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update NEWS for 1.9.12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23e1d3293"
>[23e1d3293]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.12
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b205bc41"
>[3b205bc41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c, src/sesh.c, src/sudo_edit.c:<br>
Use getopt() and getopt_long() for sesh command line options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bdb58548"
>[3bdb58548]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Update the description of intercept_verify
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d5e59c8a"
>[8d5e59c8a]</a></li>
</ul>
</dd>
<dt>2022-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Silence a warning from the Solaris Studio compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbd8de027"
>[fbd8de027]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
include/sudo_eventlog.h, include/sudo_json.h, include/sudo_plugin.h,
lib/eventlog/eventlog.c, lib/iolog/iolog_loginfo.c,
lib/iolog/regress/iolog_json/check_iolog_json.c, lib/util/json.c,
logsrvd/logsrvd_local.c, plugins/audit_json/audit_json.c,
plugins/sudoers/sudoers.h, src/env_hooks.c, src/exec_intercept.c,
src/net_ifs.c, src/sudo_intercept_common.c, src/sudo_plugin_int.h:<br>
Avoid a -Wshadow warning on Solaris 9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57b5ff8e8"
>[57b5ff8e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mmap_alloc.c:<br>
Fix a build error on Solaris 9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eb136d65"
>[0eb136d65]</a></li>
</ul>
</dd>
<dt>2022-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix display of command tags and options in &ldquo;sudo -l&rdquo; when RunAs changes.
A new line is started when RunAs changes which means we need to display
the command tags and options again. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/184"
>GitHub issue
#184</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af83e3c10"
>[af83e3c10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
Fix printing of MYSELF when listing another user&rsquo;s privileges. We need
to use list_pw if it is set instead of user_name. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/183"
>GitHub issue
#183</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a0f7ccc4"
>[6a0f7ccc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update NEWS file with recent changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=282d13532"
>[282d13532]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/multiarch.c, lib/util/regress/multiarch/multiarch_test.c,
lib/util/sudo_dso.c, lib/util/util.exp.in, src/load_plugins.c:<br>
Apply multiarch rules when loading plugins too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e20e4b80"
>[7e20e4b80]</a></li>
</ul>
</dd>
<dt>2022-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_dso.c:<br>
sudo_dso_load: try multi-arch on Linux if we can&rsquo;t load the path. For
example, if loading /usr/lib/libsss_sudo.so fails, try again with
/usr/lib/x86_64-linux-gnu/libsss_sudo.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b506a2d0"
>[0b506a2d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in,
lib/util/regress/open_parent_dir/open_parent_dir_test.c:<br>
Add test for sudo open_parent_dir()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b37bf44cd"
>[b37bf44cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test19.out.ok,
plugins/sudoers/regress/testsudoers/test19.sh:<br>
Add test for matching a literal &quot;&quot; command line argument as &quot;&quot; in
sudoers. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/182"
>GitHub issue
#182</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e2dd48be"
>[2e2dd48be]</a></li>
</ul>
</dd>
<dt>2022-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/visudo.man.in, docs/visudo.mdoc.in, plugins/sudoers/visudo.c:<br>
Add -I flag to disable editing include files unless there is an error.
This can be used when you only want to edit a single sudoers file unless
there is a pre-existing syntax error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa952bfbb"
>[fa952bfbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Do not match a literal &quot;&quot; command line argument as &quot;&quot; in sudoers. If the
empty string is specified in sudoers, no user args are allowed. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/182"
>GitHub
issue #182</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=575200e73"
>[575200e73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c:<br>
sudo_secure_open_{file,dir}: always check thatreturn value is not -1.
Avoids false positives from static analyzers that can&rsquo;t figure out that
the fd is always valid when error is SUDO_PATH_SECURE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3940020c9"
>[3940020c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_mkdtemp.c:<br>
Correct return value when mkdtempat() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59765dd36"
>[59765dd36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
sudo_open_parent_dir: stop before creating the last path component Fix a
regression introduced in sudo 1.9.9 where the entire directory path was
created instead of just the parent directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=719b7f933"
>[719b7f933]</a></li>
</ul>
</dd>
<dt>2022-10-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, scripts/log2cl.pl:<br>
Use &ldquo;hg log &ndash;template&rdquo; instead of &ldquo;hg log &ndash;style&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=371b974e0"
>[371b974e0]</a></li>
</ul>
</dd>
<dt>2022-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/strlcpy_unesc.c, plugins/sudoers/sudoers.c,
src/parse_args.c:<br>
Mark code that escapes/unescapes &ldquo;sudo -s cmd args&hellip;&rdquo; for removal. A
future version of the plugin API will defer any such escaping to the
policy plugin so it can be configurable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afaeb0ed5"
>[afaeb0ed5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with recent changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63efad271"
>[63efad271]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in:<br>
Improve the description of JSON output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cd99d0b7"
>[6cd99d0b7]</a></li>
</ul>
</dd>
<dt>2022-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md, etc/codespell.ignore, lib/eventlog/eventlog.c,
plugins/group_file/getgrent.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/tsgetgrpw.h,
src/exec_nopty.c:<br>
Fix typos found by codespell 2.2.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2a13a815"
>[d2a13a815]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c:<br>
Change max user-ID and group-ID from INT_MAX to UINT_MAX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166e0e13b"
>[166e0e13b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Add support for NumberList stored in an InfoMessage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=865d3cd0b"
>[865d3cd0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd_local.c,
plugins/sudoers/log_client.c:<br>
Add missing NULL checks for mandatory fields in protobuf messages. Also
no longer reject an InfoMessage with an unknown value_case, just log and
ignore it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f2ad0ed"
>[e6f2ad0ed]</a></li>
</ul>
</dd>
<dt>2022-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Don&rsquo;t send ttyname to log server if it is NULL. Otherwise the log server
will reject the AcceptMessage because a NULL string is not allowed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=915042367"
>[915042367]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c:<br>
HP-UX has struct winsize in termios.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf95f8d5a"
>[cf95f8d5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/Makefile.in, src/Makefile.in:<br>
Regen dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f360a8006"
>[f360a8006]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, src/exec.c, src/exec_nopty.c,
src/exec_pty.c, src/regress/intercept/test_ptrace.c, src/sudo_exec.h,
src/suspend_nopty.c:<br>
Add support for logging stdin/stdout/stderr in the non-pty exec path. If
we are logging I/O but not terminal input/output (either because no
terminal is present or because that is what the plugin requested), the
non-pty exec path is now taken.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87b7209eb"
>[87b7209eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_iolog.c,
src/exec_nopty.c, src/exec_pty.c, src/regress/noexec/check_noexec.c,
src/sudo_exec.h, src/sudo_intercept_common.c:<br>
Move exec code to call into I/O log plugin to exec_iolog.c. This will be
shared with exec_nopty.c in the future to log stdin/stdout/stderr
without running the command in a pty. Both exec_pty.c and exec_nopty.c
now use the same closure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=803b4939b"
>[803b4939b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_importblocker.c:<br>
Implement find_spec, not the deprecated find_module. Fixes a test
failure due to find_module having removed from setuptools.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ca9220e5"
>[3ca9220e5]</a></li>
</ul>
</dd>
<dt>2022-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/editor.c, plugins/sudoers/regress/editor/check_editor.c:
copy_arg: fix copying an escaped backslash <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/179"
>GitHub issue
#179</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e66f34d25"
>[e66f34d25]</a></li>
</ul>
</dd>
<dt>2022-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/mktemp.c:<br>
Use mkdtempat_np() and mkostempsat_np() on macOS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d37710b0f"
>[d37710b0f]</a></li>
</ul>
</dd>
<dt>2022-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_mkdirs.c,
lib/iolog/iolog_mkdtemp.c, lib/util/mkdir_parents.c, logsrvd/logsrvd.c,
logsrvd/logsrvd_journal.c:<br>
Convert remaining uses of sudo_mkdir_parents() to
sudo_open_parent_dir().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d654482b"
>[9d654482b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, scripts/mkdep.pl:<br>
Add fchownat() systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=376d18b5d"
>[376d18b5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/mktemp.c, plugins/python/regress/iohelpers.h:<br>
Add mkdtempat() and mkostempsat() for systems without them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86c108b50"
>[86c108b50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, include/sudo_util.h,
lib/util/secure_path.c, lib/util/sudo_conf.c,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c:<br>
Use sudo_secure_open_file() instead of sudo_secure_file() where
possible. Both sudo_secure_open_file() and sudo_secure_open_dir() are
now passed a struct stat pointer like sudo_secure_file() and
sudo_secure_dir().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88ac5e09b"
>[88ac5e09b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/mkdir_parents.c, lib/util/secure_path.c,
lib/util/util.exp.in, plugins/sudoers/timestamp.c:<br>
Fix potential TOCTOU when creating time stamp directory and file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbd52e705"
>[cbd52e705]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
sudo_mkdir_parents: just use memcpy() to copy the path component. Using
snprintf() for this is overkill, we need to do the same length check
either way.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c482bfeb"
>[8c482bfeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e91620144"
>[e91620144]</a></li>
</ul>
</dd>
<dt>2022-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/digest_gcrypt.c:<br>
Quiet libgcrypt run-time warning about not being initialized. Fixes
Debian bug #1019428 and Ubuntu bug #1397663.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c823ca1e4"
>[c823ca1e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/audit.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.h,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Split log_{input,output} into log_{stdin,ttyin} and
log_{ttyout,stdout,stderr} If log_input is set, log_{stdin,ttyin} will
be set as well. If log_output is set, log_{stdout,stderr,ttyout} will be
set as well. This provides more fine-grained control over I/O logging
and makes it possible to disable logging piped or redirected intput or
output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce387a684"
>[ce387a684]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md, include/protobuf-c/protobuf-c.h,
lib/protobuf-c/protobuf-c.c:<br>
Update to protobuf-c 1.4.1 We already had all the relevant fixes so this
is just cosmetic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ee0caf07"
>[4ee0caf07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
new_container: no need to initialize container pointer in declaration.
From Li zeming.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7464b300d"
>[7464b300d]</a></li>
</ul>
</dd>
<dt>2022-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Use tcpgid if passed from sudo front-end and use it in tty_present().
This can be used as another indicator that a terminal is present without
having to open /dev/tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=498985632"
>[498985632]</a></li>
</ul>
</dd>
<dt>2022-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.ac, include/sudo_compat.h, include/sudo_debug.h,
include/sudo_fatal.h, include/sudo_lbuf.h, include/sudo_util.h,
lib/eventlog/eventlog.c, plugins/sudoers/check_aliases.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/defaults.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.h, plugins/sudoers/tsdump.c,
plugins/sudoers/visudo.c, src/parse_args.c,
src/regress/noexec/check_noexec.c, src/sudo.h:<br>
Move gcc-style <strong>attribute</strong> macros to config.h.in Renamed __malloc -&gt;
sudo_malloclike, __printflike -&gt; sudo_printflike, __printf0like -&gt;
sudo_printf0like. Add sudo_noreturn instead of
<strong>attribute</strong>((<strong>noreturn</strong>)). We do not use stdnoreturn.h since it has
been deprecated in C23 in favor of the [[noreturn]] attribute.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=304726a21"
>[304726a21]</a></li>
</ul>
</dd>
<dt>2022-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrv.proto.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_logsrvd.man.in, docs/sudo_logsrvd.mdoc.in,
docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
docs/sudo_sendlog.man.in, docs/sudo_sendlog.mdoc.in,
docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Remove most uses of the deprecated Li macro which has no effect. Also
fix some other incorrect markup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c34160807"
>[c34160807]</a></li>
</ul>
</dd>
<dt>2022-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
lib/util/Makefile.in, logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Use $(GREP) and $(EGREP) variables in Makefile.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a32641190"
>[a32641190]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #177 from a1346054/fixes</p>
<p>Makefile.in: replace <code>egrep</code> and fix target name
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f235390d1"
>[f235390d1]</a></p>
</li>
</ul>
</dd>
<dt>2022-09-12  a1346054</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix incorrect makefile target name
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c1c276e2"
>[5c1c276e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Use <code>grep -E</code> instead of <code>egrep</code>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fac1f518"
>[6fac1f518]</a></li>
</ul>
</dd>
<dt>2022-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in:<br>
Document apparmor_profile, intercept_verify, and update_ticket.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3194d1667"
>[3194d1667]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in:<br>
Fix some of the markup to be more consistent with sudo_plugin.mdoc.in.
Also reword a few awkward phrases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bcec0244"
>[5bcec0244]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in:<br>
Use correct markup of function arguments and struct members. Also remove
most uses of the deprecated Li macro which has no effect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7b200d01"
>[a7b200d01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in:<br>
Move the init_session() errstr description to where it belongs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f6ffead0"
>[3f6ffead0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Fix a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b85f95cb3"
>[b85f95cb3]</a></li>
</ul>
</dd>
<dt>2022-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
log_parse_error: make errstr const to quiet a -Wwrite-strings warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6c7abd42"
>[d6c7abd42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Add __printf0like to visudo_track_error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89a40741b"
>[89a40741b]</a></li>
</ul>
</dd>
<dt>2022-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.y:<br>
Back out unintended change in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f169da83"
>[7f169da83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.y, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
It is possibble for sudoerserrorf() to be called with a NULL format. So
log_parse_error() needs to check fmt for NULL before using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=965e2a0c0"
>[965e2a0c0]</a></li>
</ul>
</dd>
<dt>2022-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/UPGRADE.md:<br>
Mention how to restore the historic core resource limit behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67be67385"
>[67be67385]</a></li>
</ul>
</dd>
<dt>2022-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update with latest changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2815b77e4"
>[2815b77e4]</a></li>
</ul>
</dd>
<dt>2022-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Set MODE_POLICY_INTERCEPTED for log_subcmds too. This fixes a problem
where sub-commands were not being logged to the remote log server, if
configured. Since we don&rsquo;t go through sudoers_policy_main() again for
log_subcmds, we set the flag in sudoers_audit_accept() instead. The
reason this is complicated is that when I/O logging is enabled the
initial accept message gets sent as part of the remote logging
handshake. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/174"
>GitHub issue
#174</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02e92c2af"
>[02e92c2af]</a></li>
</ul>
</dd>
<dt>2022-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.mdoc.in:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21b48a303"
>[21b48a303]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only check the admin flag file once in intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49e9e5eb8"
>[49e9e5eb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in:<br>
Document cvtsudoers CSV output format
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=159bdb1cb"
>[159bdb1cb]</a></li>
</ul>
</dd>
<dt>2022-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in:<br>
Document cvtsudoers JSON output format
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37ae66062"
>[37ae66062]</a></li>
</ul>
</dd>
<dt>2022-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Zero out register struct before calling ptrace_getregs(). Quiets a
spurious valgrind warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6472710e"
>[a6472710e]</a></li>
</ul>
</dd>
<dt>2022-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
intercept_verify is fast, but the policy check is (relatively) slow.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caa0408a8"
>[caa0408a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Realloc the buffer used to store argv and envp as needed. We now store
the vector immediately after the string table. It is possible for argv
and its contents to be invalidated by realloc() when reading envp so we
store the pointers as offsets until we are done allocating.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=817f63b05"
>[817f63b05]</a></li>
</ul>
</dd>
<dt>2022-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
ptrace_verify_post_exec: use /proc/PID/cmdline and /proc/PID/environ
There is no reason to read these directly from the tracee when we rely
on /proc being mounted to access /proc/PID/exe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d2f1c4a2"
>[0d2f1c4a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Protect ptrace_readv_string() with #ifdef HAVE_PROCESS_VM_READV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=234c56b87"
>[234c56b87]</a></li>
</ul>
</dd>
<dt>2022-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Rework the intercept section in &ldquo;Preventing shell escapes&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=922772c6c"
>[922772c6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.github/workflows/codeql-analysis.yml:<br>
Update CodeQL Action to v2 using current example config.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=351175eb2"
>[351175eb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/arc4random.c:<br>
Suppress PVS-Studio false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0af393e75"
>[0af393e75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_check_policy_req: an empty argv[] is now supported
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2902ebe06"
>[2902ebe06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/exec_ptrace.c:<br>
Use process_vm_readv(2) and process_vm_writev(2) if available. This is
faster than reading/writing from/to the remote process one word at a
time using PTRACE_PEEKDATA and PTRACE_POKEDATA.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14356c194"
>[14356c194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Skip all of check_user() for intercept unless intercept_authenticate
set. Previously we were calling the PAM approval modules even in
intercept mode which can take a lot of time. We may wish to make PAM
approval configurable in intercept mode in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36747f89a"
>[36747f89a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only set MODE_POLICY_INTERCEPTED on subsequent policy checks. This fixes
a bug where MODE_POLICY_INTERCEPTED was set too early if the intercept
option was set globally in sudoers. It should only be set after the
original command has executed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22dad3f59"
>[22dad3f59]</a></li>
</ul>
</dd>
<dt>2022-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
intercept_verify also compares the environment. Also mention the
overhead involved in checking things.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=966eae6bf"
>[966eae6bf]</a></li>
</ul>
</dd>
<dt>2022-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_getregs: make compat check more generic No need to use different
checks for mips and non-mips, the compiler will optimize away the
superfluous check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d995f7e5"
>[3d995f7e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preload.c:<br>
Correct type of sudoers_audit. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/61"
>GitHub issue
#61</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d58fc904"
>[4d58fc904]</a></li>
</ul>
</dd>
<dt>2022-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c:<br>
Fix shadowed variable warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3a181df0"
>[a3a181df0]</a></li>
</ul>
</dd>
<dt>2022-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Fix shadowed variable warning on aarch64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c948717bd"
>[c948717bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/intercept/test_ptrace.c:<br>
Quiet another -Wwrite-strings warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8145ad12d"
>[8145ad12d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_getregs: try to determine compat mode if caller doesn&rsquo;t know. In
ptrace_verify_post_exec(), we don&rsquo;t know whether the executable that is
now running is a native or compat binary. In most cases ptrace_getregs()
will be able to figure it out for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eb619ac2"
>[8eb619ac2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: fail syscall rather than killing process on
error. If the execve(2) args are bogus pointers, we should just return
an error instead of killing the process. For consistency with the
kernel, convert EIO from ptrace(2) to EFAULT. Also convert some
ptrace(2) warnings to debug printfs so sudo is less chatty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2d8909c1"
>[b2d8909c1]</a></li>
</ul>
</dd>
<dt>2022-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Treat argv and closure-&gt;run_argv of different sizes as a mismatch. If
argv and closure-&gt;run_argv match up to the point where we hit a NULL
but one of them has additional entries, we still need to rewrite argv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f552471b"
>[9f552471b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Handle the case where argc is 0 when allocating space for argv. We need
to pass the pathname to the policy plugin in argv[0] so we must be sure
to allocate space for it even if argc is 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aef4a6188"
>[aef4a6188]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
copy_vector: treat a NULL pointer as an empty vector. Linux execve(2)
allows argv to be NULL so we must allocate an empty vector in this case
and not return an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76bd1bcc9"
>[76bd1bcc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c:<br>
Update debug_decl name for sudo_preload_dso -&gt; sudo_preload_dso_alloc
change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48a9126a1"
>[48a9126a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Handle the case where argc is 0 when rebuilding argv. We need to pass
the pathname to the policy plugin in argv[0] so we must be sure to
allocate space for it even if argc is 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc5016296"
>[bc5016296]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Handle sysconf(_SC_ARG_MAX) failure, Coverity CID 276504.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23fa22975"
>[23fa22975]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
Avoid a Coverity false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d65bcf2ab"
>[d65bcf2ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Remove cast from time_t to int to avoid a Coverity false positive. The
cast should not be required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a3339df"
>[81a3339df]</a></li>
</ul>
</dd>
<dt>2022-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in,
plugins/sudoers/group_plugin.c:<br>
Use multilib rules to look for a 64-bit group plugin on failure. If
sudo_dso_load() fails on a 64-bit system, try to load a 64-bit native
version of the file using system-dependent multilib rules. If we don&rsquo;t
support multilib on the platform, check for a version of the file that
ends in &ldquo;64&rdquo; before the .so suffix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=158facf6d"
>[158facf6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68b26056f"
>[68b26056f]</a></li>
</ul>
</dd>
<dt>2022-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, src/env_hooks.c:<br>
In putenv(3) replacement reject a string with no &lsquo;=&rsquo; or that starts with
one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f3afd14e"
>[2f3afd14e]</a></li>
</ul>
</dd>
<dt>2022-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE.md:<br>
Update copyright year for embedded zlib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e08fa9fb"
>[6e08fa9fb]</a></li>
</ul>
</dd>
<dt>2022-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use our own arc4random() in preference to the glibc version. The glibc
arc4random() may fail in chroot on older kernels and exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a366c623f"
>[a366c623f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_dso.c:<br>
sudo_dso_load: restore original error for AIX on failure. For AIX, if
dlopen() fails we try again with RTLD_MEMBER set and a default member
(shr.o or shr_64.o). However, if that also fails, the user will receive
a useless error message that doesn&rsquo;t correspond to the actual problem.
We now retry the original dlopen() if the fallback to RTLD_MEMBER fails,
which has the effect of restoring the original error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ebaabfdd"
>[9ebaabfdd]</a></li>
</ul>
</dd>
<dt>2022-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #165 from bdrung/xdg-current-desktop</p>
<p>Add XDG_CURRENT_DESKTOP to initial_keepenv_table
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=184f0a249"
>[184f0a249]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b422ddea7"
>[b422ddea7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.mdoc.in, include/sudo_plugin.h,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, src/exec.c:<br>
Bump the sudo plugin minor version. The &ldquo;update_ticket&rdquo; entry was added
to the settings list and the &ldquo;intercept_verify&rdquo; entry was added to the
command_info list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c61d7e6e"
>[9c61d7e6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, plugins/sudoers/check.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h, src/parse_args.c,
src/sudo.c, src/sudo.h, src/sudo_usage.h.in:<br>
Add a way to run a command without updating the cached credentials. This
can also be used to test for whether or not the user&rsquo;s credentials are
currently cached.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=556dacf1f"
>[556dacf1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #168 from likunyur/lky</p>
<p>Remove unnecessary initialization and casts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d94d329c"
>[2d94d329c]</a></p>
</li>
</ul>
</dd>
<dt>2022-08-01  Li zeming</dt>
<dd>
<ul>
<li>
<p>lib/iolog/hostcheck.c:<br>
iolog/hostcheck: These two parameters do not need to be initialized and
assigned, the following code is directly assigned</p>
<p>Signed-off-by: Li zeming &lt;zeming@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=393d9997c"
>[393d9997c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/arc4random.c:<br>
util/arc4random: (void*) type pointer passing address could remove cast</p>
<p>Signed-off-by: Li zeming &lt;zeming@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c27acf55e"
>[c27acf55e]</a></p>
</li>
</ul>
</dd>
<dt>2022-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #169 from kempstonjoystick/main</p>
<p>Fix incorrect SHA384/512 digest calculation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=210eb17cb"
>[210eb17cb]</a></p>
</li>
</ul>
</dd>
<dt>2022-08-02  Tim Shearer</dt>
<dd>
<ul>
<li>
<p>lib/util/sha2.c:<br>
Fix incorrect SHA384/512 digest calculation.</p>
<p>Resolves an issue where certain message sizes result in an incorrect
checksum. Specifically, when: (n*8) mod 1024 == 896 where n is the file
size in bytes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4f08157b"
>[e4f08157b]</a></p>
</li>
</ul>
</dd>
<dt>2022-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/selinux.c, src/sesh.c, src/sudo.c, src/sudo.h:<br>
Defer chdir(2) until sesh when running with SELinux. We need to be
running with the correct security context or the chdir(2) may fail.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/160"
>GitHub issue #160</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf250354f"
>[cf250354f]</a></li>
</ul>
</dd>
<dt>2022-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #166 from c4rlo/patch-1</p>
<p>visudo.c: add nvim (Neovim) to lineno_editor list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=555474d3a"
>[555474d3a]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-31  Carlo Teubner</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/visudo.c:<br>
visudo.c: add nvim (Neovim) to lineno_editor list</p>
<p>Neovim supports it: <a
  class="gdoc-markdown__link"
  href="https://neovim.io/doc/user/starting.html#-&#43;"
>https://neovim.io/doc/user/starting.html#-+</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b5dcf255"
>[2b5dcf255]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Document the TOCTOU issue with intercept mode. Describe how
intercept_verify attempts to reduce the risk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4de5e12dd"
>[4de5e12dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/codespell.exclude, etc/codespell.ignore:<br>
Update a codespell exclude pattern.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3eb6e7856"
>[3eb6e7856]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/policy.c, src/exec_ptrace.c,
src/sudo.c, src/sudo.h:<br>
Add intercept_verify sudoers option to control execve(2) argument
checking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ce19efca"
>[3ce19efca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Use PTRACE_EVENT_EXEC to stop execution before return from execve(2). We
can now verify that the arguments match what we accepted before the
command actually runs. If there is a mismatch, the process is killed.
Shell scripts must be handled specially since the path executed will be
the interpreter, not the script name. Linux allows interpreters to be
nested up to 4 deep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b80b012de"
>[b80b012de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only set MODE_POLICY_INTERCEPTED if we are running a command. Fixes an
error with &ldquo;sudo -l&rdquo; when intercept is enabled globally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=620a563b5"
>[620a563b5]</a></li>
</ul>
</dd>
<dt>2022-07-29  Benjamin Drung</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/env.c:<br>
Add XDG_CURRENT_DESKTOP to initial_keepenv_table</p>
<p>Qt needs <code>XDG_CURRENT_DESKTOP</code> to be set to determine the correct theme.</p>
<p>Since <code>DISPLAY</code> and <code>XAUTHORITY</code> are already in the default table of
variables to preserve in the environment, just add <code>XDG_CURRENT_DESKTOP</code>
to it.</p>
<p>Bug: <a
  class="gdoc-markdown__link"
  href="https://launchpad.net/bugs/1958055"
>https://launchpad.net/bugs/1958055</a> Signed-off-by: Benjamin Drung
&lt;bdrung@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=225feb386"
>[225feb386]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
The length returned by ptrace_read_string() include the NUL. We were
wasting a extra byte in the string table for each entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25513b4f3"
>[25513b4f3]</a></li>
</ul>
</dd>
<dt>2022-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h, include/sudo_util.h:<br>
Use gcc&rsquo;s malloc attribute for malloc-like allocation functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=882990b1b"
>[882990b1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mmap_alloc.c:<br>
Avoid a Coverity positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23ab31fce"
>[23ab31fce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c:<br>
fmtstr: add missing va_end() for the overflow case Coverity CID 275335
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c9b3c761"
>[6c9b3c761]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Fix potential NULL pointer deference found by clang-analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3421c8b6c"
>[3421c8b6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo_intercept_common.c:<br>
Quiet some harmless PVS-Studio warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5dc739ea"
>[f5dc739ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Reject relative command paths if runcwd is not set. This is now treated
as a policy rejection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de3d5fe93"
>[de3d5fe93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_check_policy: close saved_dir before returning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16ea0bb3f"
>[16ea0bb3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Change to runcwd during the policy check where possible. Otherwise,
attempts to run &ldquo;./command&rdquo; from a shell with intercept set will fail if
the current working directory is different from the main sudo process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c1f3ef10"
>[3c1f3ef10]</a></li>
</ul>
</dd>
<dt>2022-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/mmap_alloc.c, lib/util/util.exp.in,
src/sudo_intercept.c:<br>
For preload DSO make copies of cmnd, argv, envp and map them read-only.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5516cdcd5"
>[5516cdcd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c, src/sudo_exec.h, src/sudo_intercept.c,
src/sudo_intercept_common.c:<br>
Use sudo_mmap_alloc functions in DSO-based intercept code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=226a6cd75"
>[226a6cd75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
Use sudo_mmap_alloc functions instead of private versions. We no longer
need to keep track of the allocation size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e43c964c4"
>[e43c964c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/mmap_alloc.c, lib/util/util.exp.in:<br>
Add sudo_mmap_{alloc,allocarrary,strdup,free} functions. These allocate
memory via mmap anonymous regions and store the mapped size immediately
before the returned pointer as an unsigned long. They are intended to be
used in cases where malloc(3) and free(3) are unsuitable due to concerns
about corrupting global state in multi-threaded programs or signal
handlers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fccf3c9c5"
>[fccf3c9c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
resolve_path: skip non-regular files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15fd62f0d"
>[15fd62f0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Sync with schema.OpenLDAP for user/group utf8 support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=308a6c31d"
>[308a6c31d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #163 from Firstyear/20220725-sudo-ldap-schema</p>
<p>Update sudoUser to be utf8 in ldap schemas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b603aa9"
>[36b603aa9]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-25  William Brown</dt>
<dd>
<ul>
<li>
<p>docs/schema.OpenLDAP, docs/schema.iPlanet, docs/schema.olcSudo:<br>
Update sudoUser to be utf8 in ldap schemas</p>
<p>In most unix-style LDAP servers, uid is a utf8 string defined by OID
1.3.6.1.4.1.1466.115.121.1.15. However, sudoUser was defined as an IA5
String (OID 1.3.6.1.4.1.1466.115.121.1.26) which meant that sudoUser
could only represent a subset of possible values.</p>
<p>In some cases when using sudoers.ldap, the uid from the machine which
was utf8 was fed back into sudo which would then issue a search for
sudoUsers. If this uid contained utf8 characters, the ldap server would
refuse to match into sudoUsers because these were limited to IA5.</p>
<p>This is a safe-forward upgrade as IA5 is a subset of UTF8 meaning that
this change will not impact existing deployments and their rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f9ea23e7"
>[7f9ea23e7]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c, src/sudo.c:<br>
Make sure the plugin provides a command, argv and envp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75e97fd5b"
>[75e97fd5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c, src/exec_intercept.c, src/exec_preload.c,
src/exec_ptrace.c, src/sudo_intercept.c, src/sudo_intercept_common.c:<br>
Linux execve(2) allows argv or envp to be NULL. Add checks to make sure
we don&rsquo;t deference a NULL pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5652fc65"
>[e5652fc65]</a></li>
</ul>
</dd>
<dt>2022-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_check_policy: add oom label and fix approval failure case. If
the approval plugin fails we need to set the state to POLICY_REJECT just
like we do if the policy rejected the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5ac29219"
>[a5ac29219]</a></li>
</ul>
</dd>
<dt>2022-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_csv.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/def_data.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c, src/apparmor.c:<br>
Fix a few whitespace issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2b0a8330"
>[a2b0a8330]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Increase the realloc increment from 128 to 1024. The contents of the
env_add array should not include the leading &ldquo;env=&rdquo; prefix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7b7fbaf6"
>[e7b7fbaf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
sudo_putenv_nodebug: require that the environment string include a &lsquo;=&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=224d78993"
>[224d78993]</a></li>
</ul>
</dd>
<dt>2022-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
If update_defaults() fails, treat it as a parse error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fba81260a"
>[fba81260a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Add additional PVS-studio suppression comments for generated code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dc8497b4"
>[3dc8497b4]</a></li>
</ul>
</dd>
<dt>2022-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Fix compilation error when SUDOERS_NAME_MATCH is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7f9c8162"
>[a7f9c8162]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Fix a NOPASSWD issue with a non-existent command when fdexec=always In
command_matches_all(), if the command is fully-qualified and open_cmnd()
return false, only treat it as an error if we are able to stat(2) the
command. For &ldquo;sudo ALL&rdquo; a non-existent command is not an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a59ce159"
>[5a59ce159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test18.sh:<br>
Quote ^foo$ on command line to protect it from the shell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41e7532c9"
>[41e7532c9]</a></li>
</ul>
</dd>
<dt>2022-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/regress/logwrap/check_wrap.c,
lib/util/regress/closefrom/closefrom_test.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/regress/uuid/uuid_test.c,
logsrvd/regress/logsrvd_conf/logsrvd_conf_test.c,
plugins/python/regress/check_python_examples.c, src/exec_ptrace.c:<br>
Add explicit include of unistd.h for getopt(3) and related variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e4d2765"
>[f6e4d2765]</a></li>
</ul>
</dd>
<dt>2022-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/timegm.c:<br>
In timegm() initialize tm_isdst to 0 like tzcode does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42c6d9fb5"
>[42c6d9fb5]</a></li>
</ul>
</dd>
<dt>2022-07-04  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #161 from likunyur/lky</p>
<p>sudoers/cvtsudoers: Remove the repeated &lsquo;;&rsquo; from code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd0c5566a"
>[fd0c5566a]</a></p>
</li>
</ul>
</dd>
<dt>2022-07-04  Li kunyu</dt>
<dd>
<ul>
<li>
<p>src/sudo_intercept_common.c:<br>
src/send: Remove the repeated &lsquo;;&rsquo; from code</p>
<p>Signed-off-by: Li kunyu &lt;kunyu@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a164e71"
>[a9a164e71]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers.c:<br>
sudoers/cvtsudoers: Remove the repeated &lsquo;;&rsquo; from code</p>
<p>Signed-off-by: Li kunyu &lt;kunyu@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a311180bb"
>[a311180bb]</a></p>
</li>
</ul>
</dd>
<dt>2022-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>include/intercept.pb-c.h, include/sudo_event.h, src/exec_intercept.c,
src/exec_intercept.h, src/intercept.pb-c.c, src/intercept.proto,
src/sudo_intercept_common.c:<br>
Stop sending an InterceptResponse to a PolicyCheckRequest for
log_subcmds. There&rsquo;s no real reason for the command to wait for sudo
send back a response that will always be a PolicyAcceptMessage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cd9c5f5e"
>[3cd9c5f5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
sudoers_main: defer setting return value until the end when running a
command Otherwise, we could return success when there was an error from
a system call or memory allocation failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=985a2261b"
>[985a2261b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Save the initial command run via sudo and use it when logging exit
status. Otherwise, if we are in intercept mode or logging sub-commands
the exit status will be logged with the wrong command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=885abf48d"
>[885abf48d]</a></li>
</ul>
</dd>
<dt>2022-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/zconf.h.in:<br>
Define _LARGEFILE64_SOURCE if _FILE_OFFSET_BITS == 64. Fixes a
-Wwrite-strings warning on 32-bit systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3badff39c"
>[3badff39c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strsignal.c:<br>
Quiet another -Wwrite-strings warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50813f816"
>[50813f816]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/protobuf-c/protobuf-c.c:<br>
Fix a clang analyzer 14 warning about a possible NULL deref.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfc624990"
>[bfc624990]</a></li>
</ul>
</dd>
<dt>2022-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_preload.c, src/sudo_exec.h, src/sudo_intercept_common.c:<br>
sudo_preload_dso: make the envp function argument const This lets us fix
an inappropriate cast in sudo_intercept_common.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=424fa7f2b"
>[424fa7f2b]</a></li>
</ul>
</dd>
<dt>2022-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
Regenerate dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f534979e"
>[5f534979e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkdep.pl:<br>
Do not check files generated by protbuf-c with PVS-Studio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a14bef6a4"
>[a14bef6a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c, logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_queue.c, logsrvd/sendlog.c, logsrvd/tls_client.c,
plugins/sudoers/log_client.c, src/sudo_intercept_common.c:<br>
Quiet some harmless PVS Studio warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6151781c"
>[b6151781c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c, logsrvd/sendlog.c:<br>
Use &ldquo;unable to allocate memory&rdquo; warning on malloc failure. This is
consistent with the rest of the sudo source code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54ed54d94"
>[54ed54d94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/iolog/host_port.c, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/util/Makefile.in, lib/util/getentropy.c,
lib/util/roundup.c, logsrvd/iolog_writer.c, logsrvd/logsrv_util.c,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/sendlog.c, logsrvd/tls_client.c,
logsrvd/tls_init.c, plugins/sudoers/log_client.c, src/Makefile.in,
src/apparmor.c:<br>
Add missing PVS Studio Open Source comments. Also avoid checking
protobuf-c source and protobuf-c generated files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e21c8da5"
>[3e21c8da5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/host_port.c, lib/iolog/hostcheck.c, lib/util/roundup.c,
logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/sendlog.c, logsrvd/sendlog.h,
logsrvd/tls_client.c, logsrvd/tls_common.h, logsrvd/tls_init.c,
plugins/python/pyhelpers.h, plugins/python/regress/iohelpers.h,
plugins/sudoers/log_client.c:<br>
Use #include &lt;config.h&gt; not #include &ldquo;config.h&rdquo; for consistency.
Otherwise, some compilers may do the wrong thing in a build dir if there
is a config.h file in the source dir too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5834bd40"
>[e5834bd40]</a></li>
</ul>
</dd>
<dt>2022-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Update group_plugin_load() stub to match its prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38278640c"
>[38278640c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_iolog.h, lib/eventlog/eventlog.c,
lib/eventlog/logwrap.c, lib/iolog/host_port.c,
lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c, lib/util/aix.c,
lib/util/getgrouplist.c, lib/util/getopt_long.c, lib/util/lbuf.c,
lib/util/logfac.c, lib/util/logpri.c,
lib/util/regress/progname/progname_test.c, lib/util/snprintf.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
plugins/audit_json/audit_json.c, plugins/python/python_convmessage.c,
plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/sudo_python_module.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/exptilde.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/insults.h,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/log_client.c,
plugins/sudoers/logging.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/pwutil.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/serialize_list/check_serialize_list.c,
plugins/sudoers/regress/unescape/check_unesc.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_hooks.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/edit_open.c, src/exec_common.c, src/parse_args.c,
src/regress/noexec/check_noexec.c, src/selinux.c, src/sudo.c,
src/sudo_edit.c, src/sudo_intercept.c:<br>
Make sudo pass -Wwrite-strings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13672f28d"
>[13672f28d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
A typo prevented -Wno-deprecated-declarations from being used on macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3a8cad34"
>[b3a8cad34]</a></li>
</ul>
</dd>
<dt>2022-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/preload.c:<br>
Fix missing prototype warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0efd61620"
>[0efd61620]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/zconf.h.in:<br>
Define _LFS64_LARGEFILE, _LARGEFILE64_SOURCE if 64-bit or _LARGE_FILES
set. autoconf does not define _LARGEFILE64_SOURCE by default but zlib
expects it (its own configure script will define it). Fixes a missing
prototype for crc32_combine_gen64() on AIX and HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89666e7c3"
>[89666e7c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_iolog.h, include/sudo_util.h,
lib/iolog/host_port.c, lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_timing/check_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
lib/util/regress/glob/globtest.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/strtoid.c, logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c, logsrvd/sendlog.c,
plugins/python/pyhelpers.c, plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_approval_multi.inc,
plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_audit_multi.inc,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_io_multi.inc,
plugins/python/python_plugin_policy.c,
plugins/python/regress/check_python_examples.c,
plugins/python/sudo_python_module.c, plugins/sudoers/audit.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/stubs.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestr.c, plugins/sudoers/tsgetgrpw.h,
plugins/sudoers/unesc_str.c, src/copy_file.c, src/exec_ptrace.c,
src/load_plugins.c, src/net_ifs.c, src/sudo.h, src/sudo_intercept.c,
src/sudo_intercept_common.c, src/sudo_noexec.c:<br>
Make sudo pass -Wmissing-prototypes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5ac1317c"
>[f5ac1317c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Include inttypes.h if stdint.h is not present. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1035"
>Bug
#1035</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f43220930"
>[f43220930]</a></li>
</ul>
</dd>
<dt>2022-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_write: remove unused CD_USE_PTRACE code. It is not possible to
end up in intercept_write when CD_USE_PTRACE is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9c269526"
>[e9c269526]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
readlink(2) does NUL-terminate the buffer, do it manually. Fixes a bug
where the current working directory could include garbage in intercept
mode using ptrace(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33547702f"
>[33547702f]</a></li>
</ul>
</dd>
<dt>2022-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.11p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01a9e5a15"
>[01a9e5a15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/sudo_intercept_common.c:<br>
Set TCP_NODELAY on the socket used for intercept IPC to reduce latency.
On some systems, Nagle&rsquo;s algorithm was delaying receipt of the data,
causing commands with intercept or log_subcmds to run slowly. Related to
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1034"
>Bug #1034</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=332a6afe7"
>[332a6afe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept_common.c:<br>
Use blocking I/O when talking to the sudo process. Also check for
EAGAIN/EINTR when reading the message size. Fixes a problem seen on AIX
where recv_intercept_response() could fail unexpectedly. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1034"
>Bug
#1034</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b10201bdc"
>[b10201bdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Add debug printfs when send/recv return EAGAIN or EINTR. These are not
actually errors but can help gain insight into what is going on and, in
the case of EAGAIN, whether or not there may be a kernel resource
starvation problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8829c028d"
>[8829c028d]</a></li>
</ul>
</dd>
<dt>2022-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
log_exit_status: make local variables match struct evlog members.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49c27f527"
>[49c27f527]</a></li>
</ul>
</dd>
<dt>2022-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Quiet a compiler warning on macOS. The getgrouplist() groups array on
macOS is int * instead of gid_t *.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5787da7b2"
>[5787da7b2]</a></li>
</ul>
</dd>
<dt>2022-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.11p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04746d0e6"
>[04746d0e6]</a></li>
</ul>
</dd>
<dt>2022-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Fix compilation on Linux/x32; <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/158"
>GitHub issue
#158</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfee181d1"
>[dfee181d1]</a></li>
</ul>
</dd>
<dt>2022-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix pasto in comment after HAVE_PRIV_SET #endif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c00c7c23"
>[1c00c7c23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix typo, we should define SSIZE_MAXif it is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=169e04982"
>[169e04982]</a></li>
</ul>
</dd>
<dt>2022-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Change black list -&gt; blocklist This was missed in the previous
conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6525436db"
>[6525436db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c, plugins/sudoers/log_client.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/policy.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoers.h:<br>
Save a pointer to the event_alloc parameter in the plugin open function.
That way we don&rsquo;t need to pass event_alloc around to the log client
functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d04810c4f"
>[d04810c4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/protobuf-c/protobuf-c.c:<br>
Fix regression with zero-length messages introduced in protobuf-c PR
500.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6a645148"
>[b6a645148]</a></li>
</ul>
</dd>
<dt>2022-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.11p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2bf3aad0"
>[d2bf3aad0]</a></li>
</ul>
</dd>
<dt>2022-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Make read and write events persistent and disable as needed. For the
read callback, disable reader when the buffer is full. For the write
callback, disable writer when the buffer is consumed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=964bcfa2d"
>[964bcfa2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_exec.h,
src/sudo_noexec.c:<br>
Check for SECCOMP_MODE_FILTER not SECCOMP_SET_MODE_FILTER. This matches
the actual prctl() call we use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7689b8718"
>[7689b8718]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #157 from 0x2b3bfa0/improve-tag-spec-ebnf-docs</p>
<p>Improve Tag_Spec EBNF documentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fedcb99ee"
>[fedcb99ee]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c:<br>
Treat EINTR in a callback like we do EAGAIN. We shouldn&rsquo;t get EINTR in
practice since we set SA_RESTART when registering signal handlers but it
doesn&rsquo;t hurt to be consistent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=161b01fcc"
>[161b01fcc]</a></li>
</ul>
</dd>
<dt>2022-06-07  Helio Machado</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Improve Tag_Spec EBNF documentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d60b6c618"
>[d60b6c618]</a></li>
</ul>
</dd>
<dt>2022-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #156 from delroth/aarch64-build</p>
<p>exec_ptrace: fix missing sudo_pt_regs on aarch64
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f98ae7d2"
>[7f98ae7d2]</a></p>
</li>
</ul>
</dd>
<dt>2022-06-07  Pierre Bourdon</dt>
<dd>
<ul>
<li>
<p>src/exec_ptrace.h:<br>
exec_ptrace: fix missing sudo_pt_regs on aarch64</p>
<p>AArch64 already had an existing &ldquo;user_pt_regs&rdquo; struct and didn&rsquo;t need a
struct alias before the renaming to &ldquo;sudo_pt_regs&rdquo;. Make the code build
again by adding the now missing alias.</p>
<p>Fixes: 2eb8ff17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d549adf04"
>[d549adf04]</a></p>
</li>
</ul>
</dd>
<dt>2022-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #154 from 0x2b3bfa0/fix-tag-spec-docs</p>
<p>Add missing colon in Tag_Spec documentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4b2012c1"
>[a4b2012c1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #152 from particleflux/fix-sudoers-typo</p>
<p>Fix typo in sudoers comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab00d29ec"
>[ab00d29ec]</a></p>
</li>
</ul>
</dd>
<dt>2022-06-07  Helio Machado</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Add missing colon in Tag_Spec documentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3405fac05"
>[3405fac05]</a></li>
</ul>
</dd>
<dt>2022-06-07  Stefan Linke</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.in:<br>
Fix typo in sudoers comment</p>
<p>Fix a typo in the sudoers comment about <code>maxseq</code> param.</p>
<p>Introduced by 906eb19ece47023c659b4b3db2e7a6bb57dff0d9 in 1.9.11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a074d058e"
>[a074d058e]</a></p>
</li>
</ul>
</dd>
<dt>2022-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/protobuf-c/protobuf-c.c:<br>
Only shift unsigned values to avoid implementation-specific behavior.
This converts the arithmetic shifts to logical shifts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4ea5ad8a"
>[e4ea5ad8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/protobuf-c/protobuf-c.c:<br>
Fix issue protobuf-c#499: unsigned integer overflow Signed-off-by:
10054172 &lt;hui.zhang@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=263fdc6b0"
>[263fdc6b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event_select.c:<br>
Fix building with select (not poll) when fd_set is not defined in
sys/types.h. We can use a void * for the fd_set arrays and just add a
cast when using the FD_SET macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b77cbb2e6"
>[b77cbb2e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Reinstall the event handler if we get EAGAIN from read/write callback.
The read and write events do not set SUDO_EV_PERSIST so we need to
explicitly re-enable the event if there is still data to be read. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=963"
>Bug
#963</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2a131714"
>[c2a131714]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c:<br>
If write(2) returns EAGAIN just re-enter the event loop. This is
consistent with how we handle EAGAIN for read(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db6fc237c"
>[db6fc237c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in:<br>
Document how setting ModulePath affects the Python search path. Also
advise the user to use a unique prefix to avoid name space collisions
with installed Python modules. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1031"
>Bug
#1031</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fcb5867f1"
>[fcb5867f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in:<br>
Add EXAMPLES variables for use in the man pages for the examples
directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96c3c2819"
>[96c3c2819]</a></li>
</ul>
</dd>
<dt>2022-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24522fb4e"
>[24522fb4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/hr.mo, po/hr.mo:<br>
Rebuild Croatian message catalog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=258b504be"
>[258b504be]</a></li>
</ul>
</dd>
<dt>2022-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add new test binaries to the ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4386be3d6"
>[4386be3d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/cs.mo, po/cs.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cb94eb25"
>[5cb94eb25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/protobuf-c/protobuf-c.c:<br>
Define WORDS_BIGENDIAN on big endian systems. Instead of a configure
check, we use endian.h (or a fallback).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac06fb7f2"
>[ac06fb7f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/intercept.pb-c.h, include/log_server.pb-c.h,
include/protobuf-c/protobuf-c.h, lib/protobuf-c/protobuf-c.c,
scripts/unanon:<br>
Update to protobuf-c 1.4.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71c07579b"
>[71c07579b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, plugins/sudoers/cvtsudoers_csv.c:<br>
Quiet two clang analyzer false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aee276ea6"
>[aee276ea6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Move a comment to the correct location.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f19a71a3d"
>[f19a71a3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
union sockaddr_union: pass in sockaddr_union * instead of sockaddr *.
This eliminates the need for a few casts and is consistent with how
create_listener() is written.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5012c7f97"
>[5012c7f97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Eliminate some dead stores that clang-analyzer complains about.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=898ca5054"
>[898ca5054]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_read_vec: don&rsquo;t try to free memory on the error path This is
leftover from when ptrace_read_string() allocated its own memory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e6973ad"
>[63e6973ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_intercept.c:<br>
Avoid using vfork(2) in the DSO system(3) wrapper. Traditional vfork(2)
semantics make it unsafe for use for more than just vfork(2) +
execve(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25a26f504"
>[25a26f504]</a></li>
</ul>
</dd>
<dt>2022-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>po/vi.mo, po/vi.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06bf1be67"
>[06bf1be67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention sudo_logsrvd.conf &ldquo;log_server&rdquo; parsing fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66909a483"
>[66909a483]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in,
logsrvd/regress/logsrvd_conf/sudo_logsrvd.conf.1.in,
logsrvd/regress/logsrvd_conf/sudo_logsrvd.conf.2.in,
logsrvd/regress/logsrvd_conf/tls/sudo_logsrvd.conf.1.in,
logsrvd/regress/logsrvd_conf/tls/sudo_logsrvd.conf.2.in:<br>
For logsrvd_conf_test include both tls and non-tls configs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d6b9d22e"
>[2d6b9d22e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/regress/logsrvd_conf/cacert.pem,
logsrvd/regress/logsrvd_conf/logsrvd_cert.pem,
logsrvd/regress/logsrvd_conf/logsrvd_conf_test.c,
logsrvd/regress/logsrvd_conf/logsrvd_dhparams.pem,
logsrvd/regress/logsrvd_conf/logsrvd_key.pem,
logsrvd/regress/logsrvd_conf/sudo_logsrvd.conf.1.in,
logsrvd/regress/logsrvd_conf/sudo_logsrvd.conf.2.in:<br>
Add a simple regression test for logsrvd.conf parser. Unlike the parser
fuzzer, this includes sample certs and keys. This test would have
detected the BIO_new_file() bug in set_dhparams().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7b2ff321"
>[d7b2ff321]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Fix inverted logic when setting server_log. A value that starts with a
&lsquo;/&rsquo; should be treated as a path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ca222aa8"
>[0ca222aa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/Makefile.in, plugins/sample_approval/Makefile.in:<br>
Use abs_top_builddir instead of <code>pwd</code>/$(top_builddir).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bec9603f3"
>[bec9603f3]</a></li>
</ul>
</dd>
<dt>2022-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/parse_gids/parse_gids_test.c:<br>
Plug a memory leak.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51b64780c"
>[51b64780c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Fix bug in last commit, need to reinitialize role to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89b80ea69"
>[89b80ea69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Simplify the check for when we can reuse the previous user and host
specs. This makes the code easier to read and quiets a cppcheck false
positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb0135a93"
>[eb0135a93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/Makefile.in:<br>
Install the plugin man pages in section 5 (or 4 for System V). The
manual had the correct section in the text but was installed in the
wrong directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77a47affb"
>[77a47affb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, po/de.mo, po/de.po,
po/eo.mo, po/eo.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ko.mo,
po/ko.po, po/pl.mo, po/pl.po, po/ro.mo, po/ro.po, po/uk.mo, po/uk.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3074f64bd"
>[3074f64bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo now supports intercepting system(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5ee47e0"
>[4b5ee47e0]</a></li>
</ul>
</dd>
<dt>2022-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Only display &ldquo;unable to connect to log server&rdquo; warning once. Previously,
in intercept mode, if the log server is unreachable the message would be
printed for each sub-command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c20c3b563"
>[c20c3b563]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_monitor.c, src/exec_nopty.c, src/sudo_exec.h:<br>
When using ptrace(2), push the point where we suspend into exec_cmnd().
This should reduce the amount of time the child has to wait for the
parent to use PTRACE_SEIZE to seize control and then PTRACE_CONT to
continue the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de4d53e48"
>[de4d53e48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_intercept.c:<br>
Add configure check for vfork(2) and fall back to fork(2) if missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cec83a05a"
>[cec83a05a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in, src/intercept.exp.in, src/sudo_intercept.c:<br>
Add support for intercepting the system(3) function. This also means we
can log system(3) with log_subcmds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f52342031"
>[f52342031]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat/endian.h:<br>
Newer compilers define <strong>BYTE_ORDER</strong> and <em><em>ORDER</em>{BIG,LITTLE}<em>ENDIAN</em></em>
Also add riscv the little endian list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=436deda08"
>[436deda08]</a></li>
</ul>
</dd>
<dt>2022-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
On AIX, fmemopen(3) has a bug where feof() returns false at EOF. See
<a
  class="gdoc-markdown__link"
  href="https://www.ibm.com/support/pages/apar/IJ11845"
>https://www.ibm.com/support/pages/apar/IJ11845</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c8316162"
>[1c8316162]</a></li>
</ul>
</dd>
<dt>2022-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix potential signed integer overflow on 32-bit CPUs. Converting
fractional minutes to nanoseconds could overflow a 32-bit integer, use
long long instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc8311dae"
>[dc8311dae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix path to example sudoers file, it is now in the build dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93916fde4"
>[93916fde4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
init_options: initialize apparmor_profile to NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b497d7454"
>[b497d7454]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with latest 1.9.11 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1934a636"
>[c1934a636]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6eda28ef5"
>[6eda28ef5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/CONTRIBUTORS.md:<br>
Update contributors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=789bc6ec8"
>[789bc6ec8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Fix uninitialized use of ca_store when building with wolfSSL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15f167c3a"
>[15f167c3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docker/debian/testing/Dockerfile, docker/ubuntu/devel/Dockerfile,
docker/ubuntu/latest/Dockerfile, docker/ubuntu/rolling/Dockerfile:<br>
Newer Debian/Ubuntu uses libsepol-dev not libsepol1-dev.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7125a9cc2"
>[7125a9cc2]</a></li>
</ul>
</dd>
<dt>2022-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=346e63cd7"
>[346e63cd7]</a></li>
</ul>
</dd>
<dt>2022-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/def_data.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/toke.c,
src/Makefile.in:<br>
Regenerate files after merging AppArmor integration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bb288d10"
>[9bb288d10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #148 from kernelmethod/apparmor_support</p>
<p>Add AppArmor support to sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=402fc832f"
>[402fc832f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Merge branch &lsquo;main&rsquo; into apparmor_support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f16754a1d"
>[f16754a1d]</a></li>
</ul>
</dd>
<dt>2022-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
Pass envp, not environ, to real execve() from exec_wrapper() if
possible. The replacement execve() function was passing the global
environ to exec_wrapper() instead of the envp parameter. This caused the
command to be run with the wrong environment on AIX systems, and
possibly others, when intercept or log_subcmds was enabled. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1030"
>Bug
#1030</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc2b28d3e"
>[dc2b28d3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Consolidate some translatable strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6ddf3db6"
>[b6ddf3db6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_journal.c, logsrvd/logsrvd_relay.c,
logsrvd/sendlog.c, plugins/sudoers/log_client.c, src/exec_intercept.c:<br>
Standardize protobuf &ldquo;unable to unpack&rdquo; warning messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38c6e1bff"
>[38c6e1bff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
include/sudo_plugin.h,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, src/exec.c:<br>
Bump plugin minor version and document new intercept-related settings.
There should have been a minor version bump for sudo 1.9.8 when
intercept was originally implemented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ac42292d"
>[9ac42292d]</a></li>
</ul>
</dd>
<dt>2022-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Reset intercept_allow_setid if intercept_type changes from trace to dso.
But only reset intercept_allow_setid if the user didn&rsquo;t explicitly set
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ced49a34"
>[6ced49a34]</a></li>
</ul>
</dd>
<dt>2022-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
CentOS Stream only uses a major version number, no minor version. This
prevents the packages from being created as foo.el.arch.rpm since we
were assuming that the version number was two digits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deef5e57f"
>[deef5e57f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
Add support for running o32 and n32 binaries on mips64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6be44db0"
>[d6be44db0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h, src/sudo_exec.h:<br>
Enable ptrace support for MIPS but only for log_subcmds. It is not
possible to change the syscall return value on MIPS so we cannot support
full intercept mode. Another complication on MIPS is that if a system
call is invoked via syscall(_<em>NR</em>###), v0 holds __NR_O32_Linux and the
real syscall is in the first arg (a0) and other args are shifted by one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc6a0e1a1"
>[bc6a0e1a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, src/exec_ptrace.c, src/parse_args.c,
src/sudo.c, src/sudo.h, src/sudo_exec.h:<br>
Add intercept_type sudoers option to set intercept/log_subcmds
mechanism.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f053f174b"
>[f053f174b]</a></li>
</ul>
</dd>
<dt>2022-05-23  kernelmethod</dt>
<dd>
<ul>
<li>
<p>INSTALL.md, docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Add documentation for AppArmor support</p>
<ul>
<li>Document the AppArmor userspec option in the sudoers man pages. - Add
information about the &ndash;with-apparmor build configuration option to
INSTALL.md.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8184fdb6"
>[d8184fdb6]</a></li>
</ul>
</li>
</ul>
</dd>
<dt>2022-05-22  kernelmethod</dt>
<dd>
<ul>
<li>
<p>docker/debian/latest/Dockerfile, docker/debian/testing/Dockerfile,
docker/ubuntu/devel/Dockerfile, docker/ubuntu/latest/Dockerfile,
docker/ubuntu/rolling/Dockerfile:<br>
Add libapparmor-dev to the Debian and Ubuntu Dockerfiles</p>
<p>Install libapparmor-dev on Debian- and Ubuntu-based Docker images so
that they can build sudo with AppArmor support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58ce33aba"
>[58ce33aba]</a></p>
</li>
</ul>
</dd>
<dt>2022-05-23  kernelmethod</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/check.c, plugins/sudoers/cvtsudoers_csv.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gram.y,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers.dict,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/toke.l:<br>
Add an APPARMOR_PROFILE user spec option to sudoers</p>
<p>sudoers now supports an APPARMOR_PROFILE option, which can be specified
as e.g.</p>
<p>alice ALL=(ALL:ALL) APPARMOR_PROFILE=foo ALL</p>
<p>The line above says &ldquo;user alice can run any command as any user/group,
under confinement by the AppArmor profile &lsquo;foo&rsquo;.&rdquo; Profiles can be
specified in any way that complies with the rules of
aa_change_profile(2). For instance, the sudoers configuration</p>
<p>alice ALL=(ALL:ALL) APPARMOR_PROFILE=unconfined ALL</p>
<p>allows alice to run any command unconfined (i.e., without an AppArmor
profile), while</p>
<p>alice ALL=(ALL:ALL) APPARMOR_PROFILE=foo//&amp;bar ALL</p>
<p>tells sudoers that alice can run any command under the stacked AppArmor
profiles &lsquo;foo&rsquo; and &lsquo;bar&rsquo;.</p>
<p>The intention of this option is to give sysadmins on Linux distros
supporting AppArmor better options for fine-grained access control.
Among other things, this option can enforce mandatory access control
(MAC) over the operations that a privileged user is able to perform to
ensure that they cannot privesc past the boundaries of a specified
profile. It can also be used to limit which users are able to get
unconfined system access, by enforcing a default AppArmor profile on all
users and then specifying &lsquo;APPARMOR_PROFILE=unconfined&rsquo; for a privileged
subset of users.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c20859d55"
>[c20859d55]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, include/sudo_debug.h, src/Makefile.in, src/apparmor.c,
src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Add an apparmor_profile sudo setting</p>
<p>Define a new sudo setting, <code>apparmor_profile</code>, that can be used to pass
in an AppArmor profile that should be used to confine commands. If
apparmor_profile is specified, sudo will execute the command using the
new <code>apparmor_execve</code> function, which confines the command under the
provided profile before exec&rsquo;ing it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd25b85a6"
>[bd25b85a6]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure.ac, scripts/mkdep.pl, scripts/mkpkg:<br>
Add a &ndash;with-apparmor build flag</p>
<p>Add a new build flag, &ndash;with-apparmor, that builds sudo with AppArmor
support. Modify the build script for Debian and Ubuntu to enable this
flag by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b541c202"
>[0b541c202]</a></p>
</li>
</ul>
</dd>
<dt>2022-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_pty.c:<br>
Pass the WUNTRACED flag to waitpid() even if __WALL is present.
Otherwise, we won&rsquo;t get the wait status of a suspended command that is
not being traced.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20375301"
>[b20375301]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
logsrvd/Makefile.in, plugins/sudoers/Makefile.in:<br>
Use explicit library dependencies instead of implicit. We now include
all the dependent libraries when linking. Fixes a linking problem on
CentOS Stream 9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=583e8bf53"
>[583e8bf53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
mail_parse_errors: allocate the correct amount of space for mail body.
Use strlen(), not sizeof(), on &ldquo;problem parsing sudoers&rdquo; since it is a
tranlated string and not a constant. This was caught by the existing
overflow checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b63af91b"
>[0b63af91b]</a></li>
</ul>
</dd>
<dt>2022-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_nopty.c, src/exec_pty.c,
src/regress/intercept/test_ptrace.c, src/sudo_exec.h,
src/suspend_nopty.c:<br>
Move code to suspend sudo when no pty is in use to separate file. Use
this in test_ptrace.c to be able to suspend just like sudo does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea431e39"
>[0ea431e39]</a></li>
</ul>
</dd>
<dt>2022-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_ptrace.c, src/exec_pty.c,
src/regress/intercept/test_ptrace.c, src/sudo_exec.h:<br>
Fix suspending a sudo-run shell in ptrace intercept mode with no pty.
When ptracing a process, we receive the signal-delivery-stop signal
before the group-stop signal. If sudo is running the command in the same
terminal, we need to wait until the stop signal is actually delivered to
the command before we can suspend sudo itself. If we suspend sudo before
receiving the group-stop, the command will be restarted with
PTRACE_LISTEN too late and will miss the SIGCONT from sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a52e3776f"
>[a52e3776f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/TROUBLESHOOTING.md, docs/sudo_logsrvd.man.in,
docs/sudo_logsrvd.mdoc.in:<br>
OpenSSL 3.x requires the key usage extension be present in CA and certs.
Certificates generated with a CA that doesn&rsquo;t set the key usage
extension will fail to validate if &ldquo;tls_verify&rdquo; is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bcfe6184"
>[0bcfe6184]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Include the cert or ca file in error messages where applicable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69fa04f06"
>[69fa04f06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Add missing include of string.h for strerror(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a82fe9aa0"
>[a82fe9aa0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
logsrvd/tls_client.c, logsrvd/tls_init.c, plugins/sudoers/log_client.c:<br>
If ERR_reason_error_string() returns NULL, fall back on strerror(errno).
That way we get reasonable error messages for missing files, etc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7df7abf8"
>[d7df7abf8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
set_dhparams: pass BIO_new_file() &ldquo;r&rdquo; for the file mode, not O_RDONLY.
Unlike BIO_new_fp(), BIO_new_file() takes an fopen-style mode string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ba807b70"
>[3ba807b70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
The set_sc_arg3, get_sc_arg3 and set_sc_arg4 functions are not used. Use
ifdef notyet to disable for now since they may be used in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=161a97260"
>[161a97260]</a></li>
</ul>
</dd>
<dt>2022-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.h, src/sudo_exec.h:<br>
Use <strong>x86_64</strong> preprocessor symbol, not <strong>amd64</strong> Also clarify a comment
about MIPS ptrace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bfbef016"
>[0bfbef016]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h, src/sudo_exec.h:<br>
ptrace support has been tested on Debian/s390x. It should also work on
s390 but this has not been tested. I have not added a compat mode to
trace 31-bit binaries on s390x due to the lack of a test system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7329a4a86"
>[7329a4a86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Define sudo_pt_regs instead of user_pt_regs and include the struct
keyword. On s390, the struct is typedef&rsquo;d without a name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eb8ff17b"
>[2eb8ff17b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h, src/sudo_exec.h:<br>
ptrace support has been tested on Debian/riscv64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74c6353a8"
>[74c6353a8]</a></li>
</ul>
</dd>
<dt>2022-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Add maxseq setting to log_output example. This should make it more
obvious that you need to adjust maxseq unless you have (virtually)
unlimited disk space.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=906eb19ec"
>[906eb19ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Fix dependency check for libssl on Debian/Ubuntu with OpenSSL 3. Also
add check for python 3.10 and 3.11 and remove versions &lt; 3.4. Fixes
building on Ubuntu 22.04.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b61a55eb1"
>[b61a55eb1]</a></li>
</ul>
</dd>
<dt>2022-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Tracing 32-bit arm binaries from a 64-bit sudo works.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55bd6272c"
>[55bd6272c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_write_string: the terminating NUL fix was reverted by mistake.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3238c43f9"
>[3238c43f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h, src/sudo_exec.h:<br>
ptrace-based intercept has now been tested on 32-bit arm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb95b75ff"
>[cb95b75ff]</a></li>
</ul>
</dd>
<dt>2022-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Don&rsquo;t use PTRACE_SET_SYSCALL for 32-bit arm binaries running on aarch64.
Use PTRACE_SETREGSET with NT_ARM_SYSTEM_CALL instead just like we would
for a 64-bit binary. Newer Linux headers don&rsquo;t define PTRACE_SET_SYSCALL
for aarch64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb3c4ba07"
>[bb3c4ba07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/intercept/test_ptrace.c:<br>
Replace verbose flag with debug flag. This is more accurate since it
actually uses the debug subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a196190c"
>[6a196190c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.h:<br>
Initial cut at MIPS support, untested. Mips is a bit different in that
most Linux distros appear to use the n32 ABI on 64-bit CPUs. We don&rsquo;t
currently support tracing a 64-bit binary from a 32-bit sudo. We could
suport tracing o32 ABI binaries in compat mode, though.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3226c2df4"
>[3226c2df4]</a></li>
</ul>
</dd>
<dt>2022-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/intercept/test_ptrace.c:<br>
Add have_seccomp_action(&ldquo;trap&rdquo;) call to check for SECCOMP_MODE_FILTER.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4cc99c06"
>[f4cc99c06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
Add arm-specific code to set the system call number. Fixes rejection of
commands due to policy on arm when in intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b99debf92"
>[b99debf92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Fix OS major version detection on CentOS Stream
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a7d26c38"
>[4a7d26c38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: read back the updated syscall args in test
mode. This makes it easier to detect problems with the syscall rewrite
code when testing with test_ptrace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea2bf7f1f"
>[ea2bf7f1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Repair ptrace_write_vec() for compat binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ecada04a"
>[4ecada04a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/intercept/test_ptrace.c:<br>
Fix a crash when not run in verbose mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f104d2ff"
>[0f104d2ff]</a></li>
</ul>
</dd>
<dt>2022-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Fix compilation error on systems with no compat arch. Currently only
affects i386.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f94e5d40d"
>[f94e5d40d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Move code to write a string vector to ptrace_write_vec().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64aba8f88"
>[64aba8f88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Fix tracing compat binaries on big endian systems. We need to swap the
order of the two 32-bit addresses for big-endian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55f5e389b"
>[55f5e389b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h, src/sudo_exec.h:<br>
Enable ptrace intercept on powerpc. Tested on ppc64 and ppc64le.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31e8506c8"
>[31e8506c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_intercept.h, src/exec_ptrace.c,
src/regress/intercept/test_ptrace.c, src/sudo_exec.h:<br>
Add test_ptrace program to test ptrace-based intercept support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=040e75a07"
>[040e75a07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Use unsigned long for addresses so we don&rsquo;t have to worry about sign
extension.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=532e8218b"
>[532e8218b]</a></li>
</ul>
</dd>
<dt>2022-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_write_string: make sure we always write the terminating NUL. We
can&rsquo;t check *str for NUL since it may not have been written yet.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cd461d9f"
>[6cd461d9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Fix compilation error when SECCOMP_AUDIT_ARCH_COMPAT is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fe123867"
>[8fe123867]</a></li>
</ul>
</dd>
<dt>2022-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
It is now safe to make WORDALIGN use compat (not native) aligment. We
allocate space for an extra pointer between argv and the string table
for compat binaries so there is no need to align address to
sizeof(long).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40d62b3d"
>[a40d62b3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
Use the entire word in ptrace_get_vec_len() and ptrace_read_vec(). For
compat binaries, use the upper 32-bits as the next word instead of
calling ptrace(2) to get it. This reduces the number of ptrace(2) calls
when reading argv and envp for compat binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f82aa334c"
>[f82aa334c]</a></li>
</ul>
</dd>
<dt>2022-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
We don&rsquo;t need to align strings in the string table. We align the start
of the string table to a word boundary to help prevent overlap when
writing the pointers. However, the actual strings themselves don&rsquo;t need
to be aligned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9a481506"
>[c9a481506]</a></li>
</ul>
</dd>
<dt>2022-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Avoid potentially overwriting string table when writing argv. In compat
mode, if argc is odd, writing the last pointer of argv will overlap with
the address of argv[0], so leave an extra word in between. Also remove
incorrect comments about PTRACE_PEEKDATA unaligned access.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=206cd10ed"
>[206cd10ed]</a></li>
</ul>
</dd>
<dt>2022-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: rewrite path to exec if changed by the policy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a2975367"
>[0a2975367]</a></li>
</ul>
</dd>
<dt>2022-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c, src/exec_ptrace.h:<br>
Use native word size for padding and when reading/writing strings. If we
try to use the compat word size we can end up in a situation where a
subsequent PTRACE_POKEDATA overwrites part of what we&rsquo;ve already written
since it always writes in sizeof(long) units.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a15ca9c85"
>[a15ca9c85]</a></li>
</ul>
</dd>
<dt>2022-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
ptrace_intercept_execve: plug memory leak of get_execve_info() buffer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=339746730"
>[339746730]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_intercept.h, src/exec_ptrace.c,
src/exec_ptrace.h:<br>
Move register definitions to exec_ptrace.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35ea534b3"
>[35ea534b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Add support for intercepting 32-bit binaries on 64-bit systems. We need
to define the ptrace register struct ourselves for the 32-bit system
since there is no good way to get it from the system headers. Currently
only implemented for x86_64 and aarch64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3a1bf421"
>[d3a1bf421]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Add setters and getters for ptrace(2) register access. This will be used
when running 32-bit binaries from a 64-bit sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de678ba77"
>[de678ba77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
exec_ptrace_handled: don&rsquo;t return early if ptrace_intercept_execve()
fails. We need to continue the traced process even if there is a fatal
error. Otherwise, sudo will appear to hang as the running process is
left in PTRACE_EVENT stop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f53053a66"
>[f53053a66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Don&rsquo;t use PTRACE_GETREGS, it is too complicated when runing compat
binaries. Unlike PTRACE_GETREGSET, PTRACE_GETREGS requires that we
manually map registers from 64-bit to 32-bit layouts when running, e.g.
a 32-bit binary from a 64-bit sudo process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbbb6e2ac"
>[bbbb6e2ac]</a></li>
</ul>
</dd>
<dt>2022-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/defaults.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h, src/exec_nopty.c,
src/exec_pty.c, src/parse_args.c, src/sudo.c, src/sudo.h,
src/sudo_exec.h:<br>
Initialize intercept_allow_setid to true if we use ptrace(2) and
seccomp(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ab6a87b9"
>[4ab6a87b9]</a></li>
</ul>
</dd>
<dt>2022-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_ptrace.c, src/exec_pty.c, src/sudo_exec.h:<br>
If the process is already being traced, just resume it and clear flags.
This makes it possible to run sudo in ptrace intercept mode from within
a shell (or other process) that is already being traced by sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e84fdd99f"
>[e84fdd99f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
exec_ptrace_handled: fix delivery of non-stop signals. We need to
deliver signals to the tracee as long as it is not a group stop. Fixes a
hang while tracing another sudo process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc52ab770"
>[cc52ab770]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c:<br>
Make SIGCHLD handler more consistent with the pty version. No real
change other than a few debug statements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cac34b86"
>[4cac34b86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
sudoers_lookup_check: preserve intercepted flag when reinitializing
cmnd_info Otherwise we may not reject an attempt to run a set-user-ID
command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d75b3279"
>[4d75b3279]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_pty.c:<br>
Kill the command if intercept_setup() or ptrace_seize() fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ee8bcefb"
>[3ee8bcefb]</a></li>
</ul>
</dd>
<dt>2022-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Add support for intercepting x32 binaries on Linux x64_64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d17415b6"
>[1d17415b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Move intercept setid check out of do_stat() and into its own function.
For command_matches_all() we should only perform the setid check if the
file exists and intercept is enabled. Otherwise, we can end up returning
an error if the fully-qualified command does not exist. Fixes a
regression introduced in sudo 1.9.0 with the support for digests in
conjunction with &ldquo;sudo ALL&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42117a1ce"
>[42117a1ce]</a></li>
</ul>
</dd>
<dt>2022-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ac1237bd"
>[4ac1237bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c, src/exec_ptrace.c:<br>
Fix typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=307b4f69b"
>[307b4f69b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, docs/CONTRIBUTORS.md, po/ka.mo, po/ka.po:<br>
New Georgian translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77979932b"
>[77979932b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Short-circuit the policy check if the command doesn&rsquo;t exist. Otherwise,
both sudo and the shell will report the error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdc35afff"
>[cdc35afff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Use PTRACE_GETREGS/PTRACE_SETREGS on platforms that support it. This has
a better chance of working on things like user-mode Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b75a8be34"
>[b75a8be34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_ptrace.c:<br>
In ptrace(2) intercept mode, add execveat to the seccomp(2) filter. This
allows us to avoid logging the initial command twice regardless of
whether the kernel supports execveat(2) or not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4010d06ed"
>[4010d06ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudoers.man.in,
docs/sudoers.mdoc.in:<br>
Update intercept documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=052d3d1d9"
>[052d3d1d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_intercept.h, src/exec_ptrace.c,
src/sudo.c, src/sudo.h:<br>
For ptrace intercept mode, do not do a policy check for the initial
command. We can skip the policy check for the execve(2) of the initial
command since it has already been check. Otherwise, we would log the
command twice. When using fexecve(2) due to a digest check, there should
be no need to skip the initial command since it will be executed via
execveat(2) not execve(2). However, on older kernels without
execveat(2), glibc will emulate fexecve(2) using /proc which will result
in the extra log entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52cacfc30"
>[52cacfc30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c, src/exec.c, src/selinux.c, src/sudo.h:<br>
Enable intercept and log_subcmds for SELinux using ptrace and seccomp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d385b3c5"
>[5d385b3c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_ptrace.c:<br>
Suspend the child process and wait for SIGUSR when using ptrace. This
fixes a race condition in ptrace-based intercept mode when running the
command in a pty. It was possible for the monitor to receive SIGCHLD
when the command sent itself SIGSTOP before the main sudo process did.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=423fbedb6"
>[423fbedb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Check architecture in the seccomp filter. Currently only supports the
native architecture.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe80dc0bc"
>[fe80dc0bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Add support for replacing argv in ptrace intecept mode. The new argv is
written below the tracee&rsquo;s stack and the system call argument is
replaced with the new argv address.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e7ead57f"
>[8e7ead57f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_intercept.c, src/exec_intercept.h,
src/exec_nopty.c, src/exec_ptrace.c, src/exec_pty.c, src/sudo_exec.h:<br>
Check the policy for ptrace-based intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e375445f"
>[8e375445f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_ptrace.c:<br>
Add support for getting the execve(2) arguments via ptrace(2). This will
be used to perform a policy check in intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e73644cd"
>[3e73644cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_common.c,
src/exec_intercept.c, src/exec_nopty.c, src/exec_ptrace.c,
src/exec_pty.c, src/sudo.h, src/sudo_exec.h:<br>
Add scaffolding for ptrace-based intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01733a521"
>[01733a521]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_nopty.c, src/exec_pty.c:<br>
Handle multiple child processes in the SIGCHLD handler. This is required
by the uncoming ptrace intercept code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22866f242"
>[22866f242]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c:<br>
Stop using the WCONTINUED flag with waitpid(2). We don&rsquo;t use it for
anything other than a debug message and it will cause problems when
intercept mode starts using ptrace(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46edc4e19"
>[46edc4e19]</a></li>
</ul>
</dd>
<dt>2022-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd_journal.c,
plugins/sudoers/log_client.c:<br>
sudo_logsrvd: update elapsed time for winsize and suspend in journal
mode Fixes a bug in store-first relay mode where the commit point
messages sent by the server were incorrect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7ed03c98"
>[c7ed03c98]</a></li>
</ul>
</dd>
<dt>2022-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/visudo.man.in, docs/visudo.mdoc.in:<br>
Fix typo; <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/144"
>GitHub issue
#144</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72794ecd7"
>[72794ecd7]</a></li>
</ul>
</dd>
<dt>2022-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_monitor.c:<br>
Add struct command details * to struct monitor_closure. This will be
used in the future by the ptrace intercept code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2da56dac"
>[d2da56dac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_intercept.c:<br>
Don&rsquo;t require a pty for intercept or log_subcmmds. The code to take back
control of the tty before a policy check doesn&rsquo;t appear to be needed. If
the command is run in its own pty, sudo has control over the user&rsquo;s tty.
If the command is run in the user&rsquo;s tty, sudo should be in the
foreground process group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=841375783"
>[841375783]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Translate &ldquo;unable to set limit privileges&rdquo; strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=839c18937"
>[839c18937]</a></li>
</ul>
</dd>
<dt>2022-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Define _TIME_BITS=64 on systems that define __TIMESIZE, like GNU libc.
This should be replaced by a specialized autoconf macro when one becomes
available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec5164ced"
>[ec5164ced]</a></li>
</ul>
</dd>
<dt>2022-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>ABOUT-NLS, MANIFEST, docs/CONTRIBUTING.md:<br>
Remove ABOUT-NLS file, it is no longer maintained as part of GNU
gettext. Expand the Translations section in CONTRIBUTING.md.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c414a89eb"
>[c414a89eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/TROUBLESHOOTING.md:<br>
Expand section about expired accounts to include /etc/shadow info.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/143"
>GitHub issue #143</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c51b81fa5"
>[c51b81fa5]</a></li>
</ul>
</dd>
<dt>2022-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log, plugins/python/regress/testhelpers.c:<br>
clean_output: prune lines that consisting of &lsquo;^&rsquo; characters and
whitespace. Starting with Python 3.11, backtraces may contain a line
with &lsquo;^&rsquo; characters to bring attention to the important part of the
line. Also replace &ldquo;REJECT&rdquo; with &ldquo;0&rdquo; in backtrace output for Python
3.11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=930271847"
>[930271847]</a></li>
</ul>
</dd>
<dt>2022-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for EVP_MD_CTX_new() when -pthread is in Libs.private.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1e20ddd9"
>[a1e20ddd9]</a></li>
</ul>
</dd>
<dt>2022-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, lib/eventlog/Makefile.in,
lib/fuzzstub/Makefile.in, lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/util/Makefile.in, lib/zlib/Makefile.in,
logsrvd/Makefile.in, plugins/audit_json/Makefile.in,
plugins/group_file/Makefile.in, plugins/python/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_approval/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Rename SSP_(C|LD)FLAGS -&gt; HARDENING_(C|LD)FLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcb2fb26a"
>[dcb2fb26a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md:<br>
Mention other hardening compilation and linker options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a8877beb"
>[4a8877beb]</a></li>
</ul>
</dd>
<dt>2022-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/libtool.m4, m4/ltoptions.m4, m4/ltsugar.m4,
m4/ltversion.m4, m4/lt~obsolete.m4, scripts/ltmain.sh:<br>
Update to libtool 2.4.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc4d7196f"
>[cc4d7196f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for EVP_MD_CTX_new using static libcrypto with dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90501b700"
>[90501b700]</a></li>
</ul>
</dd>
<dt>2022-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
&ndash;enable-openssl: don&rsquo;t add non-existent directories to
PKG_CONFIG_LIBDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c77cba373"
>[c77cba373]</a></li>
</ul>
</dd>
<dt>2022-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Fix a typo in the AIX section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfd8ef293"
>[dfd8ef293]</a></li>
</ul>
</dd>
<dt>2022-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/crc32.c, lib/zlib/crc32.h, lib/zlib/deflate.c,
lib/zlib/deflate.h, lib/zlib/gzguts.h, lib/zlib/gzlib.c,
lib/zlib/gzread.c, lib/zlib/gzwrite.c, lib/zlib/infback.c,
lib/zlib/inffast.c, lib/zlib/inflate.c, lib/zlib/inflate.h,
lib/zlib/inftrees.c, lib/zlib/trees.c, lib/zlib/zlib.exp,
lib/zlib/zlib.h, lib/zlib/zutil.c, lib/zlib/zutil.h:<br>
Update embedded copy of zlib to version 1.2.12. Fixes CVE-2018-25032
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c0436f0b"
>[5c0436f0b]</a></li>
</ul>
</dd>
<dt>2022-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c:<br>
Minor style nit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6af2b4188"
>[6af2b4188]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #138 from dfskoll/main</p>
<p>If we&rsquo;re using Kerberos, don&rsquo;t overwrite a custom prompt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6143dcae9"
>[6143dcae9]</a></p>
</li>
</ul>
</dd>
<dt>2022-03-16  Dianne Skoll</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/kerb5.c:<br>
If we&rsquo;re using Kerberos, don&rsquo;t overwrite a custom prompt if one was
given with -p</p>
<p>Thanks to @thend20 for testing this patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11c6cdc02"
>[11c6cdc02]</a></p>
</li>
</ul>
</dd>
<dt>2022-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/conversation.c:<br>
Write the \r\n pair to ttyfp if possible, falling back on fp. This is
consistent with the vfprintf() call and fixes a problem introduced by
the last commit where the newline could be written before the message
instead of after.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2692f109"
>[e2692f109]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h,
plugins/sudoers/regress/starttime/check_starttime.c:<br>
Adjust starttime test when run under Debian faketime. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1026"
>Bug
#1026</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=753771390"
>[753771390]</a></li>
</ul>
</dd>
<dt>2022-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/conversation.c:<br>
sudo_conversation_printf: convert trailing nl to cr + nl combo. This
fixes output when the terminal is in raw mode and is consistent with how
sudo_conversation() behaves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=210875796"
>[210875796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Do not warn, log or send mail for errors when reinitializing defaults.
If there is a problem, we would have already warned, logged or mailed
it. The one exception is the initial defaults, which should never fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff1731798"
>[ff1731798]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c, src/tgetpass.c:<br>
Block SIGCHLD when forking the mailer. Otherwise, it may be picked up by
the signal handler instead of our waitpid(2) call. Don&rsquo;t warn if
waitpid() returns 0 in a SIGCHLD handler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de4738035"
>[de4738035]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/parse.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c:<br>
If there are multiple parse errors, send them in a single mail message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5a50ae42"
>[e5a50ae42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Unset LANGUAGE when running tests, otherwise it may override LC_ALL.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1025"
>Bug #1025</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f64aca22"
>[1f64aca22]</a></li>
</ul>
</dd>
<dt>2022-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Looser owner/permission checks for an uninstalled sudoers file. We don&rsquo;t
check the owner or permissions on a sudoers file that is specified as an
argument to visudo by default. However, the owner and mode of files
included via @includedir were still checked. This commit makes the
owner and permissions checks for filed included via @includedir follow
the same as for the original sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef4ce5c08"
>[ef4ce5c08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/getdelim/getdelim_test.c:<br>
getdelim_test: increase longstr to check end pointer after realloc This
would have caught the recent bug in our getdelim replacement when run
under address-sanitizer or valgrind.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2a32f95e"
>[b2a32f95e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check_aliases.c:<br>
Add missing va_start/va_end around call to sudoers_error_hook().
Coverity CID 250885
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e7c004c7"
>[8e7c004c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getdelim.c:<br>
Correctly update the end pointer when we expand the buffer. From Robert
Manner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c48c511e9"
>[c48c511e9]</a></li>
</ul>
</dd>
<dt>2022-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/secure_path.c:<br>
sudo_secure_path: pass the struct stat * argument directly to stat(2)
Set the pointer to a struct stat on the stack if st is NULL. Avoids a
needless memcpy() at the end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ff33922f"
>[6ff33922f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Fix off-by-one when storing line number in userspec. We store the line
number <em>after</em> parsing the newline so we need to subtract one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dae0ba06"
>[8dae0ba06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
For alert messages, the command or runuser may not be set. This fixes
the logging of parse errors when JSON logging is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb2803c3e"
>[eb2803c3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Pass file, line and column to sudoers defaults callbacks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65e5b89f1"
>[65e5b89f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/check_aliases.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/defaults.c,
plugins/sudoers/file.c, plugins/sudoers/gram.c, plugins/sudoers/gram.h,
plugins/sudoers/gram.y, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/sudoers/test18.toke.ok,
plugins/sudoers/regress/visudo/test2.err.ok, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c:<br>
Add a hook for sudoers parse errors (including defaults and aliases).
The hook can be used to log parser errors (sudoers module) or keep track
of which files have an error (visudo). Previously, we only kept track of
a single parse error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7ddff2a3"
>[d7ddff2a3]</a></li>
</ul>
</dd>
<dt>2022-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/ldap.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/sudoers/test18.out.ok, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Add a source to struct sudo_nss and use it if getdefs() fails. Also
remove useless &ldquo;Problem with defaults entries&rdquo; warning in testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ec279532"
>[6ec279532]</a></li>
</ul>
</dd>
<dt>2022-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/util/regress/getgrouplist/getgrouplist_test.c:<br>
Plug a few test memory leaks now that they return from main().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31ab2e229"
>[31ab2e229]</a></li>
</ul>
</dd>
<dt>2022-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/regress/logwrap/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c:<br>
Remove extra newline in sudo_warnx() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=346dce435"
>[346dce435]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check_aliases.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/file.c, plugins/sudoers/gram.c, plugins/sudoers/gram.h,
plugins/sudoers/gram.y, plugins/sudoers/sudoers.h,
plugins/sudoers/visudo.c:<br>
Preserve the column and error message when there is a syntax error. This
information is now included in the error mail sent to root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d3f9293c"
>[7d3f9293c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
Deinit python subinterpreters in reverse order (last to first). This
appears to work around a crash on OpenBSD with Python 3.9.10.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfda098ae"
>[dfda098ae]</a></li>
</ul>
</dd>
<dt>2022-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
For &lsquo;make check-verbose&rsquo; run fuzzers with -verbose=1 This is the default
for libFuzzer but not for the stub fuzzer lib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c131b2747"
>[c131b2747]</a></li>
</ul>
</dd>
<dt>2022-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
INSTALL.md: Mention &ldquo;make check&rdquo; and &ldquo;make check-verbose&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecaa8ab42"
>[ecaa8ab42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/generate_test_coverage.sh:<br>
Repair generate_test_coverage.sh after move to scripts directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f47ea5cb"
>[9f47ea5cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, docs/Makefile.in, examples/Makefile.in,
include/Makefile.in, lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/util/Makefile.in, lib/zlib/Makefile.in,
logsrvd/Makefile.in, plugins/audit_json/Makefile.in,
plugins/group_file/Makefile.in, plugins/python/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_approval/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Add check-verbose Makefile target that runs tests in verbose mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdee5d48d"
>[cdee5d48d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/regress/logwrap/check_wrap.c,
lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_filter/check_iolog_filter.c,
lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_timing/check_iolog_timing.c,
lib/util/regress/closefrom/closefrom_test.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/getgrouplist/getgids.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/regress/uuid/uuid_test.c:<br>
Add -v option parsing to regress tests, currently a no-op. This will be
used by a &ldquo;check-verbose&rdquo; target in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43cc80d79"
>[43cc80d79]</a></li>
</ul>
</dd>
<dt>2022-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/regress/testhelpers.h:<br>
Less verbose output unless the -v option is used. Also display a test
summary at the end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dda14cb57"
>[dda14cb57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/net_ifs/check_net_ifs.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c:<br>
verbose flag is boolean, not int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c329dbe4"
>[2c329dbe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=908ae9510"
>[908ae9510]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Regenerate dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9155a067"
>[e9155a067]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, lib/util/Makefile.in,
lib/util/regress/closefrom/closefrom_test.c:<br>
Add sudo_closefrom() regression test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75a0e5159"
>[75a0e5159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, config.h.in, configure, configure.ac, lib/util/closefrom.c:<br>
Use close_range(2) in closefrom() emulation if available. On Linux,
prefer our own closefrom() emulation since the glibc version may fail if
/proc is not present and close_range() is not supported. On FreeBSD,
closefrom(3) will either call the closefrom or close_range system call,
depending on which is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1a697a8f"
>[f1a697a8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Repair &ndash;enable-pvs-studio on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3177ce83"
>[c3177ce83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Mention apple radar 3710161 in the comment about broken macOS poll(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10ca59097"
>[10ca59097]</a></li>
</ul>
</dd>
<dt>2022-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/net_ifs/check_net_ifs.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c:<br>
Only display test totals unless run in verbose mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a199abe0e"
>[a199abe0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/harness.in, plugins/sudoers/regress/harness.in:<br>
Allow test harness to be run from any directory. Also add missing
copyright notice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2bd52edf"
>[c2bd52edf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/harness.in:<br>
Adapt test harness for lib/util and move to regress directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4f847b1d"
>[a4f847b1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore, MANIFEST, configure, configure.ac,
lib/util/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/harness.in:<br>
Adapt test harness for lib/util and move to regress directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a57e97996"
>[a57e97996]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
Make fuzzer stub main() quiet by default. LLVM LibFuzzer displays the
input and running time by default but we don&rsquo;t care about that for the
stub fuzzer library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a8452367"
>[6a8452367]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore, MANIFEST, configure, configure.ac,
plugins/sudoers/Makefile.in, plugins/sudoers/harness.in:<br>
Move the cvtsudoers/sudoers/testsudoers/visudo tests into a script. It
is easier to maintain these tests in script form. The output now more
closely matches that of the other tests. The harness script can be
invoked directly and supports running specific tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f35bbd5a3"
>[f35bbd5a3]</a></li>
</ul>
</dd>
<dt>2022-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7b7c902d"
>[e7b7c902d]</a></li>
</ul>
</dd>
<dt>2022-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
sudo_regex_compile_v1 stub: set errstr on error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e703feeae"
>[e703feeae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
fuzz_logsrvd_conf: add stub version of sudo_regex_compile_v1(). We want
to fuzz our parser, not the libc regular expression code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=590c4cf62"
>[590c4cf62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test18.out.ok,
plugins/sudoers/regress/testsudoers/test18.sh:<br>
testsudoers/test18: don&rsquo;t rely on /usr/bin/w being present Fixes a test
failure on Alpine Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5bbd3383"
>[e5bbd3383]</a></li>
</ul>
</dd>
<dt>2022-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add configure check for gzclearerr() when using system zlib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42f735c8d"
>[42f735c8d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix PVS-Studio platform check for macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68bc030c0"
>[68bc030c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
sudo_ldap_parse_options: fix memory leak of sudoRole cn string. Coverity
CID 249976
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22a01410b"
>[22a01410b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept_common.c:<br>
command_allowed: plug memory leak on strdup() failure. Coverity CID
249972
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f793042be"
>[f793042be]</a></li>
</ul>
</dd>
<dt>2022-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
display_lecture: just return if callback is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1fd1ec0f"
>[b1fd1ec0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
For alert messages it is possible for evlog to be NULL. Coverity CID
238641
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=330b4e821"
>[330b4e821]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c:<br>
iolog_seekto: initialize struct timing_closure before using. Coverity
CID 249977
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8290a1e57"
>[8290a1e57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c:<br>
iolog_rewrite: initialize struct timing_closure before using. Coverity
CID 249971
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2315c0b3b"
>[2315c0b3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Allow ARCH_FLAGS to be overridden and handle macOS 12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79d850034"
>[79d850034]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Prefer if [ &hellip; ]; then over if test &hellip;; then.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f427b017"
>[9f427b017]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Do not build with -Werror on macOS. Some macOS warnings are bogus, for
instance it has an incorrect getgrouplist(3) definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77164836f"
>[77164836f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Build and test macos with circleci.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf8451127"
>[cf8451127]</a></li>
</ul>
</dd>
<dt>2022-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention lecture behavior change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7fb51359"
>[c7fb51359]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/iolog_filter/check_iolog_filter.c:<br>
Fix compilation on systems without a real openat(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eaf76278e"
>[eaf76278e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
Better warning message when the digest in sudoers is the wrong length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0fa76950"
>[b0fa76950]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Do not disable fuzzer output if SUDO_FUZZ_VERBOSE env variable is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41bc52302"
>[41bc52302]</a></li>
</ul>
</dd>
<dt>2022-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/afs.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/check.h, plugins/sudoers/timestamp.c:<br>
Display the lecture immediately before prompting for a password. This
means we no longer display the lecture unless the user is going to enter
a password. Authentication methods that don&rsquo;t interact with the user via
the terminal don&rsquo;t trigger the lecture.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2911c31dd"
>[2911c31dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/logging.c:<br>
Add back warning when a user is not allowed to run a command.
Previously, the warning was displayed when a user was not in the sudoers
file, or was present but not listed for the local host. The new behavior
is to display the warning if a command is denied and mail is sent to the
administrator. Whether or not mail is sent is controlled by the &ldquo;mail_*&rdquo;
flags in sudoers. The warning text is now &ldquo;This incident has been
reported to the administrator.&rdquo; which is hopefully less confusing. The
message will not be printed if either the &ldquo;mailto&rdquo; or &ldquo;mailerpath&rdquo;
sudoers settings are disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9757d29a2"
>[9757d29a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Document that negating mailto or mailerpath disables sending mail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=973a8f08f"
>[973a8f08f]</a></li>
</ul>
</dd>
<dt>2022-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Don&rsquo;t try to send mail if mailto not set or the mailer is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ac09de3"
>[98ac09de3]</a></li>
</ul>
</dd>
<dt>2022-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
Remove obsolete TODO file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81d63244e"
>[81d63244e]</a></li>
</ul>
</dd>
<dt>2022-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ja.mo, po/ja.po, po/ko.mo,
po/ko.po, po/pl.mo, po/pl.po, po/ro.mo, po/ro.po, po/sr.mo, po/sr.po,
po/uk.mo, po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo, po/zh_CN.po,
po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bde48fb4c"
>[bde48fb4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in,
lib/iolog/regress/iolog_filter/check_iolog_filter.c,
lib/iolog/regress/iolog_filter/test1/log,
lib/iolog/regress/iolog_filter/test1/timing,
lib/iolog/regress/iolog_filter/test1/ttyin,
lib/iolog/regress/iolog_filter/test1/ttyin.filtered,
lib/iolog/regress/iolog_filter/test1/ttyout,
lib/iolog/regress/iolog_filter/test2/log,
lib/iolog/regress/iolog_filter/test2/timing,
lib/iolog/regress/iolog_filter/test2/ttyin,
lib/iolog/regress/iolog_filter/test2/ttyin.filtered,
lib/iolog/regress/iolog_filter/test2/ttyout,
lib/iolog/regress/iolog_filter/test3/log,
lib/iolog/regress/iolog_filter/test3/timing,
lib/iolog/regress/iolog_filter/test3/ttyin,
lib/iolog/regress/iolog_filter/test3/ttyin.filtered,
lib/iolog/regress/iolog_filter/test3/ttyout:<br>
Add tests for iolog filtering. This is the functionality used by the
log_passwords and passprompt_regex options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cadfbfedb"
>[cadfbfedb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_filter.c:<br>
iolog_pwfilt_run: apply regex on ttyout even if we disabled filtering.
The heuristic used to decide when to disable filtering is when we see
another ttyout buffer or find a cr or nl in the ttyin buffer. However,
we should also check the buffer that caused us to disable filtering for
a matching regex that would re-enable filtering. Programs that prompt
for a password twice might otherwise not have the second password
filtered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b19bd9853"
>[b19bd9853]</a></li>
</ul>
</dd>
<dt>2022-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md, README.LDAP.md, docs/TROUBLESHOOTING.md, docs/UPGRADE.md,
docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudo.man.in,
docs/sudo.mdoc.in, docs/sudo_logsrv.proto.man.in,
docs/sudo_logsrv.proto.mdoc.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.conf.mdoc.in, docs/sudo_plugin.man.in,
docs/sudo_plugin.mdoc.in, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in, docs/sudoers.ldap.man.in,
docs/sudoers.ldap.mdoc.in, docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in, examples/sudo_logsrvd.conf.in:<br>
Avoid using &ldquo;note that&rdquo; and &ldquo;note: &quot; in documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f5615e5b"
>[9f5615e5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, README.LDAP.md, README.md, docs/CONTRIBUTING.md,
docs/CONTRIBUTORS.md, docs/SECURITY.md, docs/TROUBLESHOOTING.md,
docs/UPGRADE.md, docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in,
docs/sudo.conf.man.in, docs/sudo.conf.mdoc.in, docs/sudo.man.in,
docs/sudo.mdoc.in, docs/sudo_logsrv.proto.man.in,
docs/sudo_logsrv.proto.mdoc.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.conf.mdoc.in, docs/sudo_logsrvd.man.in,
docs/sudo_logsrvd.mdoc.in, docs/sudo_plugin.man.in,
docs/sudo_plugin.mdoc.in, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in, docs/sudo_sendlog.man.in,
docs/sudo_sendlog.mdoc.in, docs/sudoers.ldap.man.in,
docs/sudoers.ldap.mdoc.in, docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Remove &ldquo;please&rdquo; from the documentation, it is considered bad style.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=917595489"
>[917595489]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/UPGRADE.md:<br>
Mention regular expressions and &ldquo;sudo -l -U user&rdquo; behavior change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4fc9b695"
>[c4fc9b695]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
Add security notes about regular expressions in sudoers rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=339ef82d6"
>[339ef82d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update NEWS for <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/134"
>GitHub issue
#134</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03484c0c1"
>[03484c0c1]</a></li>
</ul>
</dd>
<dt>2022-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
fmt_authfail_message: compute the exact amount of space needed. Instead
of truncating on overflow, warn and return NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de52b8e44"
>[de52b8e44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
do_logfile_sudo: plug memory leak of full_line Coverity CID 249329
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=274468d7d"
>[274468d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
log_server_alert: plug potential memory leak Coverity CID 249328
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f01b04401"
>[f01b04401]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix potential NULL deref if getpwuid(0) fails. Coverity CID 249326
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72961fe43"
>[72961fe43]</a></li>
</ul>
</dd>
<dt>2022-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in, plugins/sudoers/parse.c,
plugins/sudoers/policy.c:<br>
Restrict &ldquo;sudo -U other -l&rdquo; to users with sudo ALL for root or &ldquo;other&rdquo;.
Having &ldquo;sudo ALL&rdquo; permissions in no longer sufficient to be able to list
another user&rsquo;s privileges. The invoking user must now have &ldquo;sudo ALL&rdquo;
for root or the target user. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/134"
>GitHub issue
#134</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f695f0fc"
>[9f695f0fc]</a></li>
</ul>
</dd>
<dt>2022-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Reword some of the NEWS items for 1.9.10.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df1bb3814"
>[df1bb3814]</a></li>
</ul>
</dd>
<dt>2022-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, lib/util/regex.c,
po/sudo.pot:<br>
Limit regular expressions to 1024 characters each. Avoids a problem with
the fuzzer creating large regular expressions that blow up the glibc
regcomp().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33f54c853"
>[33f54c853]</a></li>
</ul>
</dd>
<dt>2022-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore, MANIFEST, configure, configure.ac,
examples/Makefile.in, examples/sudo.conf.in, examples/syslog.conf.in:<br>
Substitute values in the example syslog.conf too. Also update ignore
files for example changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63b2a62f8"
>[63b2a62f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, examples/Makefile.in,
examples/sudo_logsrvd.conf.in, examples/sudoers.in:<br>
Substitute paths set by configure in examples. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1023"
>Bug
#1023</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bbe4b181"
>[0bbe4b181]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update Project-Id-Version to 1.9.10.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2e4b688"
>[0e2e4b688]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
Update .pot files for 1.9.10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=541c165e6"
>[541c165e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85f9f2beb"
>[85f9f2beb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, include/sudo_util.h,
lib/iolog/iolog_filter.c, lib/util/Makefile.in, lib/util/regex.c,
lib/util/util.exp.in, plugins/sudoers/defaults.c,
plugins/sudoers/match_command.c,
plugins/sudoers/regress/sudoers/test28.in,
plugins/sudoers/regress/sudoers/test28.json.ok,
plugins/sudoers/regress/sudoers/test28.ldif.ok,
plugins/sudoers/regress/sudoers/test28.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test28.out.ok,
plugins/sudoers/regress/sudoers/test28.toke.ok,
plugins/sudoers/sudoreplay.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Add helper function to compile a regex that supports (?i).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c17f84a3"
>[7c17f84a3]</a></li>
</ul>
</dd>
<dt>2022-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, docs/sudoers.man.in,
docs/sudoers.mdoc.in, examples/sudoers, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/match_command.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/sudoers/test28.in,
plugins/sudoers/regress/sudoers/test28.json.ok,
plugins/sudoers/regress/sudoers/test28.ldif.ok,
plugins/sudoers/regress/sudoers/test28.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test28.out.ok,
plugins/sudoers/regress/sudoers/test28.toke.ok,
plugins/sudoers/regress/sudoers/test29.in,
plugins/sudoers/regress/sudoers/test29.json.ok,
plugins/sudoers/regress/sudoers/test29.ldif.ok,
plugins/sudoers/regress/sudoers/test29.out.ok,
plugins/sudoers/regress/sudoers/test29.toke.ok,
plugins/sudoers/regress/testsudoers/test18.out.ok,
plugins/sudoers/regress/testsudoers/test18.sh, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Add support for matching command and args using regular expressions.
Either the command, its arguments or both may be (separate) regular
expressions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86d217393"
>[86d217393]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Clear sudoers_errstr after it is used. This way we avoid printing the
same error message more than once if there are multiple ERROR tokens
returned from the lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8bf59104"
>[c8bf59104]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
store_iobuf_local: fix potential double free on the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c1ce4bf7"
>[3c1ce4bf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrv.proto.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_logsrvd.man.in, docs/sudo_logsrvd.mdoc.in,
docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudo_sendlog.man.in, docs/sudo_sendlog.mdoc.in,
docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in,
docs/sudoers_timestamp.man.in, docs/sudoers_timestamp.mdoc.in,
docs/sudoreplay.man.in, docs/sudoreplay.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Update links to sudo web site and reference markdown docs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b6f620e3"
>[3b6f620e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrvd.man.in, docs/sudo_logsrvd.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/sudoreplay.man.in,
docs/sudoreplay.mdoc.in, docs/visudo.man.in, docs/visudo.mdoc.in:<br>
Use a 4n indent for code blocks instead of the default 6n.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b5f0dfaf"
>[7b5f0dfaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
testsudoers: disable argument permutation in GNU getopt This makes it
easier to test commands with arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e3a48f2d"
>[4e3a48f2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_filter.c:<br>
iolog_pwfilt_run: fix types in error return
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6a2fcf59"
>[b6a2fcf59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_filter.c, plugins/sudoers/iolog.c:<br>
Free potential leaks of passprompt_regex_handle. Coverity CID 249057
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5027c796"
>[c5027c796]</a></li>
</ul>
</dd>
<dt>2022-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #133 from Dzejrou/main</p>
<p>Do not unset user timeout when no default timeout is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dc2dc8bb"
>[8dc2dc8bb]</a></p>
</li>
</ul>
</dd>
<dt>2022-02-09  Jaroslav Jindrak</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Do not unset user timeout when no default timeout is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f3815c4f"
>[1f3815c4f]</a></li>
</ul>
</dd>
<dt>2022-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/sudoers/test2.in,
plugins/sudoers/regress/sudoers/test2.json.ok,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test2.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test2.out.ok,
plugins/sudoers/regress/sudoers/test2.toke.ok:<br>
Don&rsquo;t escape double quotes (&rdquo;) in a command when printing it.
Previously, cvtsudoers and &ldquo;sudo -l&rdquo; would escape double quotes in a
command or command line argument, which is not valid sudoers syntax.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10ad934b7"
>[10ad934b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in:<br>
A few minor (mostly cosmetic) fixes. Add missing ALL to Runas_Member and
Host. Replace some tabs with spaces. Fix the syntax of a sudoedit
example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8adad85b4"
>[8adad85b4]</a></li>
</ul>
</dd>
<dt>2022-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #132 from ninedotnine/patch-1</p>
<p>Sync example sudoers with default sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53d3e2009"
>[53d3e2009]</a></p>
</li>
</ul>
</dd>
<dt>2022-02-04  dan soucy</dt>
<dd>
<ul>
<li>
<p>examples/sudoers:<br>
Sync example sudoers with default sudoers</p>
<p><code>sudoers.in</code> was changed by 1d13533
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8130dc9cb"
>[8130dc9cb]</a></p>
</li>
</ul>
</dd>
<dt>2022-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>ABOUT-NLS, INSTALL.md, NEWS, README.LDAP.md, docs/CONTRIBUTING.md,
plugins/sudoers/po/README, po/README:<br>
Upgrade http links to https where possible and fix some broken links.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5133d84e"
>[c5133d84e]</a></li>
</ul>
</dd>
<dt>2022-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Remove &ldquo;This incident will be reported.&rdquo; from user warnings. This used
to indicate that email had been sent to the administrator telling them
that someone tried to run sudo. Whether or not sudo sends email is now
configurable, so the warning may not be accurate. It is also confusing
to the user since they will not know who the incident is being reported
to. See also <a
  class="gdoc-markdown__link"
  href="https://xkcd.com/838/"
>https://xkcd.com/838/</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6aa320c96"
>[6aa320c96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Log fn_get_values() return code in the debug log on error. Also move a
nested switch() statement out of &lsquo;case 0&rsquo; for improved readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d0aeea68"
>[4d0aeea68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Do not return an error if we cannot connect to the SSSD connector. This
may simply mean that nsswitch.conf lists sss as a sudoers source but
SSSD is not configured for sudo. Otherwise, the user will receive a
useless &ldquo;problem with defaults entries&rdquo; when the sssd backend tries to
fetch the global defaults. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1022"
>Bug
#1022</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de0f4398e"
>[de0f4398e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c, plugins/sudoers/logging.c:<br>
Set client_closure to NULL after freeing it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c236d58b5"
>[c236d58b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
client_closure_alloc: init write_bufs/free_bufs before other
allocations. We must initialize the tail queues before any possible call
to client_closure_free(), such as due to malloc() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f1bb7bc9"
>[3f1bb7bc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_journal.c:<br>
Add missing default return in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4e67624e"
>[c4e67624e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_journal.c:<br>
sudo_logsrvd: make sure journal exists before writing the alert message.
Fixes a potential NULL dereference when journaling an alert message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d18ee7935"
>[d18ee7935]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix compilation on Debian kFreeBSD. The configure script correctly
detects that utimensat() and futimens() are missing but the headers
define stub versions of the functions. Including sys/stat.h pulls in the
system definitions so we can override them safely. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1021"
>Bug
#1021</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e957cd43"
>[2e957cd43]</a></li>
</ul>
</dd>
<dt>2022-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Add fallback if /proc/self/stat or /proc/pid/psinfo is missing or
invalid. If the /proc file indicates no terminal is present there is no
fallback. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1020"
>Bug #1020</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a29940629"
>[a29940629]</a></li>
</ul>
</dd>
<dt>2022-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/check.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add sudoers option to perform authentication even in non-interative
mode. If noninteractive_auth is set, authentication methods that do not
require input from the user&rsquo;s terminal may proceed. It is off by
default, which restores the pre-1.9.9 behavior of &ldquo;sudo -n&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85fef8b50"
>[85fef8b50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/iolog_filter.c,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.7:<br>
Work around a glibc regcomp() bug with repeated &lsquo;+&rsquo; operators. Glibc
regcomp() has a bug where it uses excessive memory for repeated &lsquo;+&rsquo; ops.
Collapse them to avoid running the fuzzer out of memory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6564f1ae4"
>[6564f1ae4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.1,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.2,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.3,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.4,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.5,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.6:<br>
Rebase seed corpus on updated sudo_logsrvd.conf example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac555d454"
>[ac555d454]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Fix parsing of &ldquo;retry_interval&rdquo; in the relay section. The setting was
present but the callback was missing so it could not be parsed in the
conf file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad719d06b"
>[ad719d06b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Use TIME_T_MAX as the upper limit when parsing timeouts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2df2276d5"
>[2df2276d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
converse: don&rsquo;t set response pointer on error Linux pam_conv(3) says not
to set the pointer on PAM_CONV_ERR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46ca28821"
>[46ca28821]</a></li>
</ul>
</dd>
<dt>2022-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/sudoers4:<br>
Add missing sudoers4 test file for new cvtsudoers test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c84aef90"
>[3c84aef90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/test38.out.ok,
plugins/sudoers/regress/cvtsudoers/test38.sh:<br>
defaults_check_conflict: it is only really a conflict if the binding
match If the Defaults name matched but the binding does not, we can
simply leave it be. Fixes a problem where given two sudoers sources that
have a host specified, if they contain conflicting Defaults entries we
would drop one of the Defaults instead of keeping both after making them
host-specific.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=960bf9965"
>[960bf9965]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/sudoers1,
plugins/sudoers/regress/cvtsudoers/sudoers2,
plugins/sudoers/regress/cvtsudoers/sudoers3,
plugins/sudoers/regress/cvtsudoers/test34.out.ok,
plugins/sudoers/regress/cvtsudoers/test34.sh,
plugins/sudoers/regress/cvtsudoers/test35.out.ok,
plugins/sudoers/regress/cvtsudoers/test35.sh,
plugins/sudoers/regress/cvtsudoers/test36.out.ok,
plugins/sudoers/regress/cvtsudoers/test36.sh,
plugins/sudoers/regress/cvtsudoers/test37.out.ok,
plugins/sudoers/regress/cvtsudoers/test37.sh:<br>
Make it possible to merge a host-based Defaults with a global one. We
convert the global Defaults to a host-based one with a single &ldquo;ALL&rdquo;
member. Later, when we simplify the host list, we&rsquo;ll convert this back
to a global Defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f4351a89"
>[8f4351a89]</a></li>
</ul>
</dd>
<dt>2022-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Check for garbage after [section] in sudo_logsrvd.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be4d62e9a"
>[be4d62e9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers.dict:<br>
Sync fuzzing dictionary with current configuration keyword list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9303aec0d"
>[9303aec0d]</a></li>
</ul>
</dd>
<dt>2022-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c,
plugins/sudoers/regress/serialize_list/check_serialize_list.c,
plugins/sudoers/regress/unescape/check_unesc.c,
plugins/sudoers/serialize_list.c, plugins/sudoers/sudoers.h,
plugins/sudoers/unesc_str.c:<br>
Escape/unescape commas when serializing/deserializing a stringlist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ea0bf4ee"
>[5ea0bf4ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_local.c:<br>
Add new log_passwords and passprompt_regex settings. When logging
terminal input, if log_passwords is false and any of the regular
expressions in the passprompt_regex list are found in the terminal
output, terminal input will be replaced with &lsquo;*&rsquo; characters until a
newline or carriage return is found in the input or an output character
is received.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b93961b3"
>[9b93961b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Add a flag to avoid splitting list entries on white space.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c58a080dd"
>[c58a080dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/Makefile.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Add a new sudoers settings log_passwords and passprompt_regex. When
logging terminal input, if log_passwords is disabled and any of the
regular expressions in the passprompt_regex list are found in the
terminal output, terminal input will be replaced with &lsquo;*&rsquo; characters
until a newline or carriage return is found in the input or an output
character is received.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0efe28003"
>[0efe28003]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, lib/iolog/Makefile.in,
lib/iolog/iolog_filter.c:<br>
lib/iolog: add support for filtering password out of tty input If a
password regex is found in the tty output, tty input will be replaced
with &lsquo;*&rsquo; chars until a newline or another tty output character is
received.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=946404434"
>[946404434]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Pass the operator to the Defaults callback too. That way we can tell
what to do in callbacks for lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86f123cd9"
>[86f123cd9]</a></li>
</ul>
</dd>
<dt>2022-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
&ldquo;plain text&rdquo; -&gt; &ldquo;plaintext&rdquo; for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be45d8fef"
>[be45d8fef]</a></li>
</ul>
</dd>
<dt>2022-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>po/ro.mo, po/ro.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc5eb2bc4"
>[cc5eb2bc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.configure:<br>
Sync with autoconf git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4dd59049"
>[f4dd59049]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkdep.pl:<br>
Fix potential infinite loop when trying to format long lines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ada7d4382"
>[ada7d4382]</a></li>
</ul>
</dd>
<dt>2022-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Document how commands are passed to the shell for the -i and -s options.
The concatenation of command and arguments and escaping of special
characters was not documented. Text adapted from <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/121"
>GitHub issue
#121</a> from Kris
Rinzwind
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f45fd907"
>[5f45fd907]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/TROUBLESHOOTING.md:<br>
Also mention no_new_privs error in the troubleshooting guide.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=805e1b947"
>[805e1b947]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, docs/TROUBLESHOOTING.md, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/visudo.man.in,
docs/visudo.mdoc.in:<br>
Replace uid and gid with user-ID and group-ID in more places.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4ee1a850"
>[e4ee1a850]</a></li>
</ul>
</dd>
<dt>2022-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
PAM is enabled on NetBSD by default too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdae9843a"
>[bdae9843a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md, README.LDAP.md, docs/HISTORY.md, docs/TROUBLESHOOTING.md,
docs/UPGRADE.md:<br>
Use the Oxford comma consistently, it is helpful in technical documents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d79a0767"
>[9d79a0767]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
Document the error message when no_new_privs is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78e74c605"
>[78e74c605]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in:<br>
Sudo now recovers from sudoers syntax errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17b7ac346"
>[17b7ac346]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/sudo.conf.man.in,
docs/sudo.conf.mdoc.in, docs/sudo.man.in, docs/sudo.mdoc.in,
docs/sudo_logsrv.proto.man.in, docs/sudo_logsrv.proto.mdoc.in,
docs/sudo_logsrvd.conf.man.in, docs/sudo_logsrvd.conf.mdoc.in,
docs/sudo_plugin.man.in, docs/sudo_plugin.mdoc.in,
docs/sudo_plugin_python.man.in, docs/sudo_plugin_python.mdoc.in,
docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
docs/sudoers.man.in, docs/sudoers.mdoc.in, docs/sudoreplay.man.in,
docs/sudoreplay.mdoc.in, docs/visudo.man.in, docs/visudo.mdoc.in,
examples/sudo.conf.in, examples/sudo_logsrvd.conf:<br>
Use the Oxford comma consistently, it is helpful in technical documents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d0e7de45"
>[0d0e7de45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.md:<br>
Mention docker configuration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=144e57832"
>[144e57832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Quiet a cppcheck false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368e5d49e"
>[368e5d49e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/CONTRIBUTING.md:<br>
Mention <a
  class="gdoc-markdown__link"
  href="https://www.sudo.ws/security/fuzzing/"
>https://www.sudo.ws/security/fuzzing/</a> in the fuzzing section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a013b79b"
>[9a013b79b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix logic inversion when setting negated flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08abeb94a"
>[08abeb94a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Quiet a PVS-Studio format string warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e30d0120"
>[5e30d0120]</a></li>
</ul>
</dd>
<dt>2022-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Regen .pot files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8b9f4ad1"
>[c8b9f4ad1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1016"
>Bug #1016</a>, #1017 and
negated sudoUser in LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f8b7f6ea"
>[3f8b7f6ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/defaults.c:<br>
Don&rsquo;t set/run early Defaults if a custom defaults_list is specified.
Defaults settings passed in by the front end are already &ldquo;early&rdquo; so
there is no need to treat any of them as special.</p>
<p>Otherwise, we end up running the early defaults callbacks before sudoers
has been parsed. This means that, for instance, it is not possible to
disable the fqdn flag before its callback is run if sudo is build with
the &ndash;with-fqdn option. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1016"
>Bug
#1016</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1c2288fb"
>[e1c2288fb]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Mark is_early_default(), run_early_defaults(), set_early_default()
static. They are not used outside of defaults.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28cfe868e"
>[28cfe868e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Add support in SSSD for negated users.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bb3df748"
>[9bb3df748]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudoers.ldap.man.in, docs/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c:<br>
Add support in the LDAP filter for negated users. Based on a diff from
Simon Lees
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e88087721"
>[e88087721]</a></li>
</ul>
</dd>
<dt>2022-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
Use PATH_MAX, not NAME_MAX+1 for the directory entry length. On some
systems, such as Solaris, the max length of a directory entry is
filesystem-dependent. We could use fpathconf() and dynamically allocate
the name but it is simpler to just use PATH_MAX here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1afce22f7"
>[1afce22f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
Only emulate Py_FinalizeEx for Python 3.[0-5].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=853e710f4"
>[853e710f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getcwd.c, lib/util/mkdir_parents.c:<br>
Use POSIX NAME_MAX, not the obsolete MAXNAMLEN define. Fixes compilation
with musl libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f098a202"
>[1f098a202]</a></li>
</ul>
</dd>
<dt>2022-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
When applying fallback limits, make sure we don&rsquo;t reduce rlim_max. Fixes
a problem where sudo could reduce the max stack size on some systems if
the original limit was higher than the fallback limit, but not
unlimited/infinity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=757c3a1d3"
>[757c3a1d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Don&rsquo;t modify the stack limit if it is &gt;= SUDO_STACK_MIN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c95ab885"
>[1c95ab885]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
The pre-install target requires visudo, add an explicit dependency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fdaa4822"
>[5fdaa4822]</a></li>
</ul>
</dd>
<dt>2022-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
If sudo is not set-user-ID root, check for the no_new_privs flag on
Linux. This flag disables set-user-ID at execve(2) time and may be set
by default for some containers. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/129"
>GitHub issue
#129</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e08db369"
>[2e08db369]</a></li>
</ul>
</dd>
<dt>2022-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/sudoers.man.in, docs/sudoers.mdoc.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, src/parse_args.c:<br>
Add pam_askpass_service sudoers setting for &ldquo;sudo -A&rdquo;. This makes it
possible to use a different PAM configuration for when &ldquo;sudo -A&rdquo; is
used. The main use case is to only use PAM modules that can interact
with the askpass program. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/112"
>GitHub issue
#112</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48bc498a6"
>[48bc498a6]</a></li>
</ul>
</dd>
<dt>2022-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_loginfo.c:<br>
Improve debugging info when fdopen() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=763256e46"
>[763256e46]</a></li>
</ul>
</dd>
<dt>2022-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
sss_sudo_free_values() checks for NULL, no need to do it manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b7d32b25"
>[3b7d32b25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Quiet a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aec6c2a8"
>[8aec6c2a8]</a></li>
</ul>
</dd>
<dt>2022-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Quiet a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de7171ab6"
>[de7171ab6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Fix return value for non-interactive mode for non-standalone auth
methods. AUTH_NONINTERACTIVE was being stored in the wrong variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2d27bc9e"
>[a2d27bc9e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po, po/fi.mo, po/fi.po,
po/ko.mo, po/ko.po, po/tr.mo, po/tr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=513574ce1"
>[513574ce1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c:<br>
defaults_var_matches() should return bool, not enum match_result. Remove
enum match_result as it is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6ff97d83"
>[d6ff97d83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/sudo_auth.c:<br>
Quiet two PVS-studio warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72989bf83"
>[72989bf83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Remove PAM_TTY workaround for old, buggy PAM modules. In the past, some
PAM modules assumed that PAM_TTY was set and would misbehave (or crash)
if not. This was primarily obsolete versions of Linux-PAM, so it should
now be safe to remove this. Setting PAM_TTY to an empty string can cause
its own set of issues. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/74"
>GitHub issue
#74</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b72f138e"
>[1b72f138e]</a></li>
</ul>
</dd>
<dt>2022-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=956"
>Bug #956</a>
and <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/83"
>GitHub issue #83</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c42a29a1"
>[8c42a29a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/logging.c, plugins/sudoers/sudoers.h:<br>
Push non-interactive mode checking down into the auth methods. For &ldquo;sudo
-n&rdquo; we only want to reject a command if user input is actually required.
In the case of PAM at least, we may not need to interact with the user.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=956"
>Bug #956</a>, <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/83"
>GitHub issue
#83</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=521ef37ae"
>[521ef37ae]</a></li>
</ul>
</dd>
<dt>2022-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/sudoers1,
plugins/sudoers/regress/cvtsudoers/sudoers2,
plugins/sudoers/regress/cvtsudoers/sudoers3,
plugins/sudoers/regress/cvtsudoers/test34.out.ok,
plugins/sudoers/regress/cvtsudoers/test35.out.ok,
plugins/sudoers/regress/cvtsudoers/test36.out.ok:<br>
userspec_overridden: fix checks when there is more than one userspec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=296d876b7"
>[296d876b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/test35.out.ok,
plugins/sudoers/regress/cvtsudoers/test36.out.ok,
plugins/sudoers/regress/cvtsudoers/test36.sh:<br>
Fix merging of global/ALL entries when each input file has a host. If a
host is specified for the input file, cvtsudoers will bind global
Defaults to that host and change host &ldquo;ALL&rdquo; in a userspec to the host
name. However, if all the input files have matching hosts we can
simplify the merged file by converting back to ALL after resolving
conflicts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=835079fa3"
>[835079fa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md:<br>
Welcome to 2022.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d02ba52fa"
>[d02ba52fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/Makefile.in:<br>
LICENSE.md moved to the top-level src dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59d55c530"
>[59d55c530]</a></li>
</ul>
</dd>
<dt>2021-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #127 from Tyler887/main</p>
<p>Typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dabd8d80a"
>[dabd8d80a]</a></p>
</li>
</ul>
</dd>
<dt>2021-12-22  Tyler887</dt>
<dd>
<ul>
<li>INSTALL.md:<br>
Typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9594cb21"
>[d9594cb21]</a></li>
</ul>
</dd>
<dt>2021-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, docs/UPGRADE.md, plugins/sudoers/policy.c, src/selinux.c,
src/sudo.c:<br>
Back out changes to enable SELinux by default. This may return in a
future release in a different form.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e22cc7253"
>[e22cc7253]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE.md, MANIFEST, README.md:<br>
Move LICENSE.md out of docs and back to the top-level. GitHub expects it
to be in the top-level directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ed92e616"
>[0ed92e616]</a></li>
</ul>
</dd>
<dt>2021-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/test35.out.ok,
plugins/sudoers/regress/cvtsudoers/test35.sh:<br>
cvtsudoers: fix a regression when merging matching Defaults. If a host
is specified with a sudoers file, we have to treat Defaults as
Defaults@host checking for duplicates.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=149e8208b"
>[149e8208b]</a></li>
</ul>
</dd>
<dt>2021-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
add_defaults: add defs == NULL check to quiet coverity false positive
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ffc3142c"
>[4ffc3142c]</a></li>
</ul>
</dd>
<dt>2021-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/test34.out.ok,
plugins/sudoers/regress/cvtsudoers/test34.sh:<br>
When merging Defaults, allow a subsequent global Defaults (no binding)
to override a prior Defaults setting with a binding.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfc11d748"
>[dfc11d748]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
add_defaults: defs can never be NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a2c5043a"
>[6a2c5043a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c:<br>
Plug memory leak when making a default host-specific. We don&rsquo;t need to
allocate new space for the binding list, just the members of the list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=546d4f624"
>[546d4f624]</a></li>
</ul>
</dd>
<dt>2021-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, examples/Makefile.in, examples/cvtsudoers.conf:<br>
Add an example cvtsudoers.conf file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d95345e6"
>[5d95345e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h:<br>
Add group_file, match_local, and passwd_file to cvtsudoers.conf.
Previously, these were only settable via command line options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=991ef3250"
>[991ef3250]</a></li>
</ul>
</dd>
<dt>2021-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/TROUBLESHOOTING.md:<br>
Remove question about running Solaris 11 binaries on Solaris 10. Current
versions of sudo use many APIs that are not present on Solaris 10. If
you want a sudo Solaris 10 binary, build it on Solaris 10, not 11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=537f75dc7"
>[537f75dc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test34.out.ok,
plugins/sudoers/regress/cvtsudoers/test34.sh:<br>
Add simple test for cvtsudoers merge functionality.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7158b03b5"
>[7158b03b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fr.mo, po/fr.po,
po/hr.mo, po/hr.po, po/ja.mo, po/ja.po, po/pl.mo, po/pl.po, po/sr.mo,
po/sr.po, po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po, po/zh_TW.mo,
po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=955359af5"
>[955359af5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/es.mo, plugins/sudoers/po/es.po:<br>
Add sudoers Spanish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=869994433"
>[869994433]</a></li>
</ul>
</dd>
<dt>2021-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Bugs #1013 and #1014
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d7e24d16"
>[7d7e24d16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
sudo_mkdir_parents: make sure the path we created is a directory For
extra paranoia, verify that the directory we created is still a
directory before we fchown() it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c53192eb7"
>[c53192eb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/sudo.man.in, docs/sudo.mdoc.in:<br>
In SECURITY NOTES, clarify that PATH may be overridden by the policy.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1014"
>Bug #1014</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e66e1ca38"
>[e66e1ca38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
include/sudo_util.h, lib/util/Makefile.in, lib/util/mkdir_parents.c,
lib/util/mkdirat.c, logsrvd/logsrvd.c, plugins/sudoers/timestamp.c,
scripts/mkdep.pl:<br>
Avoid TOCTOU in sudo_mkdir_parents() using openat(2) and mkdirat(2).
This also allows us to make path const as it should be.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c13b21c19"
>[c13b21c19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_conf.c, plugins/sudoers/sudo_ldap_conf.h:<br>
Sudo parsed &ldquo;deref&rdquo; and &ldquo;tls_reqcert&rdquo; in ldap.conf but didn&rsquo;t set the
options. The switch() in the sudo_ldap_set_options_table() function
needed to be updated to treat CONF_DEREF_VAL and CONF_REQCERT_VAL data
types as int. Fix from Dennis Filder. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1013"
>Bug
#1013</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55db23924"
>[55db23924]</a></li>
</ul>
</dd>
<dt>2021-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/SECURITY.md:<br>
Minor formatting tweak so we can import into the sudo web site.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2aa70970"
>[a2aa70970]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/pwutil_impl.c:<br>
Fix CodeQL &ldquo;Multiplication result converted to larger type&rdquo; warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83defd3a6"
>[83defd3a6]</a></li>
</ul>
</dd>
<dt>2021-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/SECURITY.md:<br>
Surround email addresses with angle brackets, not square backets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=014339948"
>[014339948]</a></li>
</ul>
</dd>
<dt>2021-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/fa.mo, po/fa.po,
po/fi.mo, po/fi.po, po/ja.mo, po/ja.po, po/sr.mo, po/sr.po, po/zh_CN.mo,
po/zh_CN.po, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cd0ffade"
>[3cd0ffade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27121cff6"
>[27121cff6]</a></li>
</ul>
</dd>
<dt>2021-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP.md, docs/CONTRIBUTING.md, docs/TROUBLESHOOTING.md,
docs/UPGRADE.md:<br>
Minor formatting tweaks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d324a5306"
>[d324a5306]</a></li>
</ul>
</dd>
<dt>2021-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, INSTALL.md, MANIFEST, README, README.LDAP.md, README.md,
docs/CONTRIBUTING.md, docs/CONTRIBUTORS.md, docs/HISTORY.md,
docs/LICENSE, docs/LICENSE.md, docs/Makefile.in, docs/TROUBLESHOOTING,
docs/TROUBLESHOOTING.md, docs/UPGRADE, docs/UPGRADE.md,
etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
Convert README and docs files to markdown. This makes things look better
on GitHub and we can use the markdown version directly in the new sudo
web site.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bd572ba8"
>[3bd572ba8]</a></li>
</ul>
</dd>
<dt>2021-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/SECURITY.md:<br>
Policy -&gt; Disclosure Policy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c754a8d4"
>[2c754a8d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #124 from juspence/main</p>
<p>Allow sudo -g anyone and sudo -u anyone -g anytwo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9497ab99c"
>[9497ab99c]</a></p>
</li>
</ul>
</dd>
<dt>2021-12-04  juspence</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.in:<br>
Allow sudo -g anyone and sudo -u anyone -g anytwo</p>
<p>When only the user (ALL) is specified explicitly, and the group is
implied, only sudo -u works. Specifying both the user and group, like
(ALL:ALL), is required to:</p>
<ol>
<li>Use sudo -g by itself (with no -u user) 2) Use sudo -u and -g
together, with a -g group that is different from the -u user&rsquo;s primary
group
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d13533ea"
>[1d13533ea]</a></li>
</ol>
</li>
</ul>
</dd>
<dt>2021-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Add build dir to include search path for mksiglist.h and mksigname.h
Fixes out of tree builds on systems without sys_siglist[] or
sys_signame[]. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/123"
>GitHub issue
#123</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aae130eb7"
>[aae130eb7]</a></li>
</ul>
</dd>
<dt>2021-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_merge.c,
plugins/sudoers/regress/cvtsudoers/sudoers1,
plugins/sudoers/regress/cvtsudoers/sudoers2,
plugins/sudoers/regress/cvtsudoers/sudoers3:<br>
cvtsudoers: better merging of lists that are not exact duplicates When
merging rules, if one list would be overridden by another, remove the
overridden rule and continue merging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0608a4ea6"
>[0608a4ea6]</a></li>
</ul>
</dd>
<dt>2021-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update NEWS with latest changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9f3032b5"
>[a9f3032b5]</a></li>
</ul>
</dd>
<dt>2021-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/edit_open.c:<br>
dir_is_writable: don&rsquo;t treat EPERM from faccessat() as a fatal error. We
can get EPERM on Linux with SELinux. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/122"
>GitHub issue
#122</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9f39cde2"
>[f9f39cde2]</a></li>
</ul>
</dd>
<dt>2021-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_merge.c:<br>
cvtsudoers: add -l option to log merge actions The &ldquo;-l logfile&rdquo; option
can be used to store a log of what actions cvtsudoers took when merging
multiple files. For example, which aliases were renamed, which entries
were overriden or removed as duplicated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=003f9550f"
>[003f9550f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce9c6d17c"
>[ce9c6d17c]</a></li>
</ul>
</dd>
<dt>2021-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, docs/CONTRIBUTORS, po/fa.mo, po/fa.po:<br>
New Persian (Farsi) translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=409410b02"
>[409410b02]</a></li>
</ul>
</dd>
<dt>2021-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_csv.c:<br>
Quiet a PVS Studio warning. The warning that need_comma is always false
is correct but in this case it is better to use a consistent construct
so that if the code is re-ordered no bugs are introduced.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d83321388"
>[d83321388]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Pass correct size to free_zero(). Coverity CID 241233
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc5ac7424"
>[dc5ac7424]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_csv.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/defaults.c,
plugins/sudoers/fmtsudoers_cvt.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/parse_ldif.c:<br>
Add reference counting to Defaults bindings. Previously, we checked that
the previous entry&rsquo;s binding pointer was not the same while freeing.
However, to be able to merge Defaults records we cannot rely on Defaults
entries with the same binding being immediately adjacent. This removes
the prev_binding checks in favor of a reference count which allows us to
plug the memory leak in cvtsudoers when merging Defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e64a089ae"
>[e64a089ae]</a></li>
</ul>
</dd>
<dt>2021-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_merge.c:<br>
cvtsudoers: use init_parse_tree() to initialize a parse tree. Also free
the parse tree before exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aed51033e"
>[aed51033e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sssd.c:<br>
init_parse_tree() now takes ownership of lhost and shost, if any. This
means that lhost and shost in struct sudoers_parse_tree are no longer
const and that free_parse_tree() will free lhost/shost. The only
consumer that passed in lho.st/shost was the SSSD back-end which has
been updated to avoid a double-free.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=730ebabdb"
>[730ebabdb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in:<br>
Document how to merge sudoers files with cvtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc7903873"
>[cc7903873]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c:<br>
cvtsudoers: merge userspecs when multiple sudoers files are specified If
a hostname is specified with the sudoers file, it will be used to make
the userspec host-specific, if possible. Duplicate userspecs are removed
but conflicting entries are not currently pruned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5c6e2df7"
>[f5c6e2df7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_merge.c:<br>
cvtsudoers: merge Defaults when multiple sudoers files are specified If
a hostname is specified with the sudoers file, it will be used to make
the Defaults setting host-specific, if possible. Duplicate Defaults
settings are removed and conflicts are warned about. It is not possible
to resolve all conflicts automatically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d31109ded"
>[d31109ded]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_merge.c, plugins/sudoers/parse.h:<br>
cvtsudoers: merge aliases when multiple sudoers files are specified
Duplicate aliases are remove. If there are conflicting alias names, the
conflicts are renamed by appending a numerical suffix. For example, if
there are two SERVERS Host_Aliases, the second one will be renamed to
SERVERS_1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab9e44a6c"
>[ab9e44a6c]</a></li>
</ul>
</dd>
<dt>2021-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Add support for specifying the hostname as a prefix to the sudoers file.
If present, the host name is copied into the struct sudoers_parse_tree.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33fbf5946"
>[33fbf5946]</a></li>
</ul>
</dd>
<dt>2021-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
cvtsudoers: parse multiple sudoers files and store them in a tail queue
In the future the parsed files will be merged before they are output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cb34a201"
>[4cb34a201]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/parse.h:
Add sudoers_parse_tree_list, a tail queue of struct sudoers_parse_tree.
This will be used to store multiple parse trees and merge them into a
single sudoers_parse_tree.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1309f76d"
>[b1309f76d]</a></li>
</ul>
</dd>
<dt>2021-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, etc/macos-background.png, etc/sudo-logsrvd.pp,
etc/sudo-python.pp, etc/sudo.pp:<br>
Add a background image for the macOS installer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7baee707b"
>[7baee707b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Update PolyPkg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b0b18699"
>[7b0b18699]</a></li>
</ul>
</dd>
<dt>2021-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
mkpkg: handle a macOS SDK that just uses the major version. For example,
MacOSX11.sdk instead of MacOSX11.3.sdk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a89b87a3"
>[0a89b87a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Add missing dependencies for timegm.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70c0d35fa"
>[70c0d35fa]</a></li>
</ul>
</dd>
<dt>2021-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>docs/CONTRIBUTING.md:<br>
Fix formatting of links.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ab280fc6"
>[3ab280fc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, docs/CONTRIBUTING.md:<br>
Add contributing guide.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=781a4fb69"
>[781a4fb69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.github/workflows/codeql-analysis.yml:<br>
Create codeql-analysis.yml
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=658eba7ee"
>[658eba7ee]</a></li>
</ul>
</dd>
<dt>2021-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, docs/SECURITY.md:<br>
Add security doc, inspired by the Microsoft template.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85325a7d2"
>[85325a7d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore, INSTALL, MANIFEST, Makefile.in, README,
configure, configure.ac, docs/CONTRIBUTORS, docs/HISTORY, docs/LICENSE,
docs/Makefile.in, docs/TROUBLESHOOTING, docs/UPGRADE,
docs/cvtsudoers.man.in, docs/cvtsudoers.mdoc.in, docs/fixman.sh,
docs/fixmdoc.sed, docs/schema.ActiveDirectory, docs/schema.OpenLDAP,
docs/schema.iPlanet, docs/schema.olcSudo, docs/sudo.conf.man.in,
docs/sudo.conf.man.in.sed, docs/sudo.conf.mdoc.in, docs/sudo.man.in,
docs/sudo.man.in.sed, docs/sudo.mdoc.in, docs/sudo_logsrv.proto.man.in,
docs/sudo_logsrv.proto.mdoc.in, docs/sudo_logsrvd.conf.man.in,
docs/sudo_logsrvd.conf.mdoc.in, docs/sudo_logsrvd.man.in,
docs/sudo_logsrvd.mdoc.in, docs/sudo_plugin.man.in,
docs/sudo_plugin.mdoc.in, docs/sudo_plugin_python.man.in,
docs/sudo_plugin_python.mdoc.in, docs/sudo_sendlog.man.in,
docs/sudo_sendlog.mdoc.in, docs/sudoers.ldap.man.in,
docs/sudoers.ldap.mdoc.in, docs/sudoers.man.in, docs/sudoers.man.in.sed,
docs/sudoers.mdoc.in, docs/sudoers_timestamp.man.in,
docs/sudoers_timestamp.mdoc.in, docs/sudoreplay.man.in,
docs/sudoreplay.mdoc.in, docs/visudo.man.in, docs/visudo.mdoc.in,
etc/codespell.skip:<br>
Rename &ldquo;doc&rdquo; directory to &ldquo;docs&rdquo; for better GitHub compatibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=289a045a4"
>[289a045a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Use $(SED), not sed, when generating mksiglist.h/mksigname.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5faf46de6"
>[5faf46de6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/sudoers/Makefile.in:<br>
Add configure check for sha1sum and use &ldquo;openssh dgst -sha1&rdquo; if missing.
Only needed when building the seed corpus zip files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09b82a22c"
>[09b82a22c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
sudo_compat.h: include unistd.h regardless of OS type This helps to
avoid issues with mismatched headers and libraries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2d03f7cc"
>[c2d03f7cc]</a></li>
</ul>
</dd>
<dt>2021-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
install_sudoers: fix return value when there is no temp file to install
This can happen when no changes were made. Also preserve the edited temp
file on error if we are unable to move it into place.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55d17eaa3"
>[55d17eaa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout:<br>
Bump plugin version in test data to 1.18.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=def7a51f4"
>[def7a51f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
free_defs_val: free rlimits like strings (which they are).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e656b63c"
>[8e656b63c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Rename {check,set}_perms variable to {check,set}_mode. Avoids a name
clash with the set_perms() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=288bb8254"
>[288bb8254]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/edit_open.c:<br>
Avoid symbol name clash with is_writable() function variable. Rename
&ldquo;is_writable&rdquo; variable to &ldquo;writable&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7085a6447"
>[7085a6447]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention that the core dump size resource limit now defaults to 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03927f998"
>[03927f998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document new resource limit settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f7f8601e"
>[6f7f8601e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_plugin.h,
src/exec.c:<br>
Document resource limit support in command_info[] and Bump plugin API
minor. This is supported beginning with sudo 1.9.9 and plugin API 1.17.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c8746bc7"
>[7c8746bc7]</a></li>
</ul>
</dd>
<dt>2021-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/defaults.c,
src/limits.c:<br>
Use strtoul() on systems without strtoull(). We can assume that systems
without strtoull() have 32-bit resource limits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19065cb22"
>[19065cb22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/limits.c, src/sudo.c, src/sudo.h:<br>
Add front-end support for setting resouce limits. The special value
&ldquo;user&rdquo; means preserve the invoking user&rsquo;s limit. The value &ldquo;default&rdquo;
means don&rsquo;t override the default limit for the user as assigned by the
system (PAM, loging.conf, userdb, etc).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74ef983f6"
>[74ef983f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/mkdefaults,
plugins/sudoers/policy.c:<br>
Add basic support for setting resource limits in sudoers. The default
for rlimit_core is &ldquo;0,0&rdquo; Resource limits are passed back to the
front-end in command_info[] when set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f279df5e1"
>[f279df5e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/edit_open.c:<br>
switch_user_nonfatal: only define if using faccessat()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c465f84a"
>[9c465f84a]</a></li>
</ul>
</dd>
<dt>2021-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.man.in, doc/visudo.mdoc.in, plugins/sudoers/visudo.c:<br>
visudo: add -O and -P options to check/set owner and permissions. This
can be used in conjunction with the -c option to check that the sudoers
file ownership and permissions are correct. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1007"
>Bug
#1007</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdd41af66"
>[cdd41af66]</a></li>
</ul>
</dd>
<dt>2021-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE:<br>
UPGRADE: mention SELinux behavior change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78709eaee"
>[78709eaee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c, src/sudo.h, src/sudo_edit.c:<br>
Rename selinux_setcon -&gt; selinux_setexeccon
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22d624c02"
>[22d624c02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
In the SELinux role is &ldquo;unconfined_r&rdquo;, disable SELinux support. We only
want to apply SELinux to confined users. This is a bit of a hack as
unconfined_r is specific to the targeted policy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e92c3d841"
>[e92c3d841]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c, src/selinux.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c:<br>
Separate out the code to compute the context from selinux_setup(). This
makes it possible to determine whether we really need to execute the
command via the sesh helper. What was left of selinux_setup() is now
selinux_relabel_tty() and selinux_audit_role_change().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e97fb5fd0"
>[e97fb5fd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, src/selinux.c, src/sudo.c:<br>
Pass status of selinux sudoers setting to front-end as selinux-rbac. The
front-end uses this to decide whether or not to enable SELinux. If
selinux-rbac is true <em>or</em> if it is not present and selinux_role or
selinux_type are set, SELinux support is enabled. Previously, SELinux
support was only enabled if a role was specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a336a8422"
>[a336a8422]</a></li>
</ul>
</dd>
<dt>2021-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>src/selinux.c:<br>
Make get_exec_context static, it is unused outside selinux.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=680463259"
>[680463259]</a></li>
</ul>
</dd>
<dt>2021-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/edit_open.c:<br>
dir_is_writable: add fallback if changing UIDs fails The SELinux policy
may not allow uid/gid changes which will break the writability checks
and cause sudoedit to fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a527d6dfd"
>[a527d6dfd]</a></li>
</ul>
</dd>
<dt>2021-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build python package on Fedora
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=733fe4bd1"
>[733fe4bd1]</a></li>
</ul>
</dd>
<dt>2021-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.mdoc.in:<br>
Fix lint warning: skipping paragraph macro: Pp before Bd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff888e700"
>[ff888e700]</a></li>
</ul>
</dd>
<dt>2021-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
Escape some minus signs (&rsquo;-&rsquo;) as required by newer groff.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e1e07b88"
>[4e1e07b88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/timegm.c, plugins/sudoers/Makefile.in,
plugins/sudoers/gentime.c, plugins/sudoers/parse.h, scripts/mkdep.pl:<br>
parse_gentime: use timegm() to generate time since the epoch The
timegm() function is non-standard but widely available. Provide an
implementation for those systems that lack it. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1006"
>Bug
#1006</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eebd53bc"
>[4eebd53bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/Makefile.in, scripts/mkdep.pl:<br>
Fix pasto in gmtime_r and localtime_r macros. Also add missing Makefile
targets for them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b506497fe"
>[b506497fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gmtoff.c:<br>
Take daylight saving time into consideration when computing offset.
Otherwise, the resulting time may be off by and hour, depending on
whether DST is currently active compared to the target time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcd2199f7"
>[dcd2199f7]</a></li>
</ul>
</dd>
<dt>2021-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Back out f2d82771e7dd, arm64e on macOS is still in preview state. Until
arm64e on macOS is finalized, continue to build arm64 packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12c8dba4c"
>[12c8dba4c]</a></li>
</ul>
</dd>
<dt>2021-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build arm64e ABI binaries on macOS 11 and above. We originally used
arm64 here but the correct ABI is arm64e. The arm64 arch will be removed
in a future release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=491aee866"
>[491aee866]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Use iolog_openat() when opening the log.json file in the I/O log dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c4c61be0"
>[7c4c61be0]</a></li>
</ul>
</dd>
<dt>2021-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Use BIO_new_file() not BIO_new_fd() to read dhparams file. Older
versions of OpenSSL and wolfSSL lack BIO_new_fd(). Also explicitly
include openssl/bio.h and openssl/dh.h for wolfSSL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed13faf9f"
>[ed13faf9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.ac:<br>
wolfSSL not WolfSSL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc5fa1bbd"
>[fc5fa1bbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Add wolfSSL variant to continuous integration tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77048c119"
>[77048c119]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docker/debian/latest/Dockerfile, docker/debian/testing/Dockerfile,
docker/ubuntu/devel/Dockerfile, docker/ubuntu/latest/Dockerfile,
docker/ubuntu/rolling/Dockerfile:<br>
Add libwolfssl-dev to Debian and Ubuntu Dockerfiles Fedora does not
appear to have an official wolfssl package.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21c240d80"
>[21c240d80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
White space in an include file path supported by sudo 1.9.1 or higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=094f4dac5"
>[094f4dac5]</a></li>
</ul>
</dd>
<dt>2021-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/iolog/hostcheck.c, lib/util/digest_openssl.c, lib/util/getentropy.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c,
logsrvd/sendlog.c, logsrvd/sendlog.h, logsrvd/tls_client.c,
logsrvd/tls_common.h, logsrvd/tls_init.c, plugins/sudoers/log_client.c,
plugins/sudoers/log_client.h:<br>
Add support for WolfSSL&rsquo;s OpenSSL compatibility layer. Based on changes
from Hayden Roche
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc6157d7d"
>[cc6157d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/sudoers/Makefile.in:<br>
regenerate dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=465bfbba7"
>[465bfbba7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Move include of log_server.pb-c.h into logsrvd.h and sendlog.h This way
there is no include file order issue with the PROTOBUF_C_VERSION_NUMBER
check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87c1dd9d7"
>[87c1dd9d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docker/debian/latest/Dockerfile, docker/debian/testing/Dockerfile,
docker/fedora/latest/Dockerfile, docker/fedora/rawhide/Dockerfile,
docker/ubuntu/devel/Dockerfile, docker/ubuntu/latest/Dockerfile,
docker/ubuntu/rolling/Dockerfile:<br>
Add pkg-config to all Dockerfile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dbf95645"
>[1dbf95645]</a></li>
</ul>
</dd>
<dt>2021-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Use SSL_FILETYPE_PEM with SSL_CTX_use_PrivateKey_file, not
X509_FILETYPE_PEM While they are defined to the same value in OpenSSL
one should not rely on this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a9c8794d"
>[8a9c8794d]</a></li>
</ul>
</dd>
<dt>2021-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix setting _PATH_ASAN_LIB, need to double up the square brackets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a808f8e7e"
>[a808f8e7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
sudo_sendlog: send runenv, rungid and runuid from log.json too With this
change, sudo_sendlog can now round-trip sudo-style I/O logs that use the
newer log.json format without losing any information.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e73e9d5e4"
>[e73e9d5e4]</a></li>
</ul>
</dd>
<dt>2021-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/arc4random.c:<br>
arc4random: need to include sys/random.h on Solaris too. This was
removed when Linux genentropy() was disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef3eb25a1"
>[ef3eb25a1]</a></li>
</ul>
</dd>
<dt>2021-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/hostcheck.c, lib/util/inet_ntop.c, logsrvd/logsrv_util.h,
plugins/sudoers/log_client.h:<br>
Make sure INET_ADDRSTRLEN and INET6_ADDRSTRLEN are defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88c577171"
>[88c577171]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c, plugins/sudoers/log_client.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h:<br>
Only include log_client.h if SUDOERS_LOG_CLIENT is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00f0c233b"
>[00f0c233b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #118 from larb0b/main</p>
<p>Define MAP_FAILED where relevant if undefined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf47187eb"
>[cf47187eb]</a></p>
</li>
</ul>
</dd>
<dt>2021-10-21  Larkin Nickle</dt>
<dd>
<ul>
<li>
<p>lib/util/getentropy.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/snprintf.c:<br>
Define MAP_FAILED where relevant if undefined</p>
<p>On systems such as HP-UX 10.20, MAP_FAILED is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07bdfeedb"
>[07bdfeedb]</a></p>
</li>
</ul>
</dd>
<dt>2021-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/libtool.m4:<br>
Improve macOS version detection to support macOS 11 and simplify legacy
logic From Jeremy Huddleston Sequoia
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cccefb962"
>[cccefb962]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
sudo_sendlog: send multiple I/O log records together if possible Try to
fill the write buffer and then send to the server instead of sending
records one at a time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14873832c"
>[14873832c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
sudo_sendlog: support multiple write buffers like sudo_logsrvd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a26d2c88"
>[1a26d2c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in:<br>
Always link libsudo_util.so with libcrypto.so if using OpenSSL. We may
need to use RAND_bytes() in the getentropy() emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fbbca7b7"
>[9fbbca7b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/getentropy.c,
plugins/sudoers/boottime.c:<br>
Add an explicit check for sys/sysctl.h. This test needs to be done after
AC_LANG_WERROR to avoid including sys/sysctl.h on systems where it is
marked as deprecated via a #warning directive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23eef895f"
>[23eef895f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/arc4random.c:<br>
Use our own getentropy() by default on Linux. The glibc getentropy()
emulation will fail on older kernels that don&rsquo;t support getrandom().
Also use sudo_fatal() instead of sending SIGKILL on getentropy()
failure. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/117"
>GitHub issue
#117</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00e53b32e"
>[00e53b32e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Use the OpenSSL RAND_bytes() function if getrandom() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de4fd4a31"
>[de4fd4a31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/arc4random_buf.c, scripts/mkdep.pl:<br>
Fix compilation of standalone arc4random_buf(). Apparently this code was
never compiled anywhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=badd6267b"
>[badd6267b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/uuid.c:<br>
sudo_uuid_create: no longer need a union for the uuid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dd630494"
>[9dd630494]</a></li>
</ul>
</dd>
<dt>2021-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog_free.c:<br>
eventlog_free: free signal_name too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=803fc56be"
>[803fc56be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.dict:<br>
Add new log.json keywords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f49c7ac5a"
>[f49c7ac5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c:<br>
fuzz_iolog_json: initialize exit_value to -1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89b53d5ed"
>[89b53d5ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Fix potential use-after-free when calling iolog_flush_all(). We need to
call iolog_flush_all() <em>before</em> scheduling the commit point. If we fail
to schedule to commit point, the closure will be freed. Coverity CID
220557
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02e77e656"
>[02e77e656]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
sendlog: use runargv from log.json if available
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eebc3098"
>[5eebc3098]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
sudo_sendlog: send exit data in eventlog if present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71d1f7ce"
>[a71d1f7ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/logsrvd_local.c, plugins/sudoers/logging.c:<br>
No longer need to pass exit params to eventlog_exit(), use struct
eventlog. Now that struct eventlog includes the exit parameters we can
simplify how eventlog_exit() is called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bddf03fe4"
>[bddf03fe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/iolog/iolog_json.c,
lib/iolog/iolog_loginfo.c, logsrvd/iolog_writer.c:<br>
Read command run_time, signal and exit_value from I/O log log.json file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d415624ff"
>[d415624ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Log the command run-time and exit status in the I/O log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d21c935a1"
>[d21c935a1]</a></li>
</ul>
</dd>
<dt>2021-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, logsrvd/logsrvd_local.c:<br>
Handle a missing run_time in an ExitMessage. It is now possible to pass
a NULL run_time to eventlog_exit().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77c339858"
>[77c339858]</a></li>
</ul>
</dd>
<dt>2021-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
format_json: fix pasto when setting dumped_core boolean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f73bc6dee"
>[f73bc6dee]</a></li>
</ul>
</dd>
<dt>2021-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
logsrvd/logsrvd.c:<br>
No need to flush logs before commit point if we flush after each write.
Also document that logs are flushed before sending a commit point even
when flushing is disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15b4427b9"
>[15b4427b9]</a></li>
</ul>
</dd>
<dt>2021-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, lib/iolog/Makefile.in,
lib/iolog/iolog_conf.c, lib/iolog/iolog_flush.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Flush I/O logs before we send a commit point. The commit point message
means we have written the data to disk so we should not be buffering it
any longer. We do not currently fsync(2) the data after flushing,
perhaps we should.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a554629d8"
>[a554629d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c:<br>
Do not treat a resume point of [0, 0] as an error. If the connecton is
interrupted before sudo sends back a commit_point message, resuming at
[0, 0] is correct. Also add a warning on unexpected EOF parsing the
timing file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e4f6aa2e"
>[3e4f6aa2e]</a></li>
</ul>
</dd>
<dt>2021-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Display a more helpful message if the user tries to run &ldquo;sudo cd&rdquo;. Since
&ldquo;cd&rdquo; is a shell built-in command it cannot be run directly via sudo. The
user either needs to spawn a shell via &ldquo;sudo -s&rdquo; or use the -D option to
run a command in a specific directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=369d21323"
>[369d21323]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t install sudoers.a when configured with &ndash;enable-static-sudoers. We
already avoid installing it when &ndash;disable-shared-util is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64e579831"
>[64e579831]</a></li>
</ul>
</dd>
<dt>2021-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
mkpkg: preserve make exit value on exit Fixes a problem where the exit
value from mkpkg was 0 even on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a56c9871"
>[7a56c9871]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_csv.c:<br>
Fix typos in SELinux and Solaris priv support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b7b3c05e"
>[4b7b3c05e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_csv.c:<br>
cvtsudoers: initial support for CSV output For CSV output we double
quotes strings that contain commas. For each literal double quote
character present inside the string, two double quotes are output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=430048d16"
>[430048d16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/sudoers/Makefile.in:<br>
regenerate dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de5ca187b"
>[de5ca187b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>docker/README, etc/codespell.ignore:<br>
Fix typo and avoid a codespell false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4fb31aa0"
>[a4fb31aa0]</a></li>
</ul>
</dd>
<dt>2021-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Add build-nointercept and test-nointercept
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=032575f57"
>[032575f57]</a></li>
</ul>
</dd>
<dt>2021-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>.circleci/config.yml:<br>
circleci: test multiple build options We now do separate builds with
LDAP/SSSD enabled, logsrv client/server disabled, and static-sudoers
enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25129cb77"
>[25129cb77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/Makefile.in:<br>
Fix fuzzer build with when &ndash;enable-static-sudoers is used. This
introduces a sudoers-specific version of LT_STATIC instead of appending
the &ndash;tag=disable-shared to SUDOERS_LDFLAGS. I&rsquo;ve also removed the
-static flag as it should not be needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eaee7a0eb"
>[eaee7a0eb]</a></li>
</ul>
</dd>
<dt>2021-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>docker/README:<br>
Mention &ndash;security-opt=seccomp=unconfined workaround for bleeding edge.
May be needed for Fedora rawhide and Ubuntu testing, among others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6fc70e5d"
>[f6fc70e5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Try to handle the case where libasan.so is a linker script. Fixes
check_noexec with ASAN on Fedora where libasan.so just includes the
actual library file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8350307a2"
>[8350307a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml, docker/README, docker/fedora/latest/Dockerfile,
docker/fedora/rawhide/Dockerfile:<br>
Enable address and undefined behavior sanitizers in CI builds. We need
to disable leak sanitizer during &ldquo;make check&rdquo; because it uses ptrace
which is not allowed for unprivileged containers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=850804472"
>[850804472]</a></li>
</ul>
</dd>
<dt>2021-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>.circleci/config.yml:<br>
Switch to Ubuntu latest for circleci build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49611d6cc"
>[49611d6cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml, docker/debian/latest/Dockerfile,
docker/debian/testing/Dockerfile, docker/fedora/latest/Dockerfile,
docker/fedora/rawhide/Dockerfile, docker/ubuntu/devel/Dockerfile,
docker/ubuntu/latest/Dockerfile, docker/ubuntu/rolling/Dockerfile:<br>
Add build user for circleci instead of running as root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fa025281"
>[3fa025281]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.circleci/config.yml, MANIFEST, docker/README,
docker/debian/latest/Dockerfile, docker/debian/testing/Dockerfile,
docker/fedora/latest/Dockerfile, docker/fedora/rawhide/Dockerfile,
docker/ubuntu/devel/Dockerfile, docker/ubuntu/latest/Dockerfile,
docker/ubuntu/rolling/Dockerfile:<br>
Use circleci for continuous integegration. Build container descriptions
are in the new docker directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d98a447c"
>[8d98a447c]</a></li>
</ul>
</dd>
<dt>2021-10-03  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Update ignore file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a02af3a45"
>[a02af3a45]</a></li>
</ul>
</dd>
<dt>2021-10-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Sync &ldquo;sudo -l&rdquo; output with normal sudo log format. It now prints
runchroot and runcwd (falling back on cwd). As a result, submithost is
now printed first, matching sudo. Also avoid printing NULL pointers and
skip entries that don&rsquo;t have at least command, submituser and runuser
set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e4b506f2"
>[4e4b506f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
iolog_parse_json_object: optimize for large argv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3575e995a"
>[3575e995a]</a></li>
</ul>
</dd>
<dt>2021-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add &ldquo;-fcf-protection&rdquo; to SSP_CFLAGS and SSP_LDFLAGS if supported. Can be
disabled via &ndash;disable-hardening.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5f983c64"
>[c5f983c64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add &ldquo;-z now&rdquo; to hardened link options if supported. Can be disabled via
&ndash;disable-hardening.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edf30c727"
>[edf30c727]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/editor.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/visudo.c:<br>
find_editor: remove the env_error argument There is no case where we
should fail to find an editor just because the values of EDITOR, VISUAL
and SUDO_EDITOR are unavailable. Both sudoedit and the &ldquo;env_editor&rdquo;
sudoers setting are documented as falling back on the hard-coded list of
editors in the &ldquo;editors&rdquo; sudoers setting. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=1000"
>Bug
#1000</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d15e117c2"
>[d15e117c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check_aliases.c:<br>
Use sudo_printf(SUDO_CONV_ERROR_MSG) instead of fprintf(stderr). Avoids
extraneous output in the fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde951a09"
>[dde951a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Stub out sudo_printf() and avoid other use of stderr in fuzzers. This
makes it possible to parse sudoers without using quiet mode, resulting
in better coverage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aa6cb13a"
>[2aa6cb13a]</a></li>
</ul>
</dd>
<dt>2021-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Use a consistent version of fuzz_conversation() with all fuzzers. Also
undo a change to fuzz_sudoers.c that snuck in to the last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eefb7b0d5"
>[eefb7b0d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Fuzzers should not produce output. Excessive output makes the fuzzer
runs much less efficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d964875d"
>[7d964875d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c:<br>
expand_buf: fix conditional for when we need to preserve existing data
It is possible for the buffer offset to be zero when the length is
non-zero. The proper value to use is the same as is used for the
memcpy/memmove size. Fixes buffer corruption caused by a very long
command line that usually results in a dropped connection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dea7e6aef"
>[dea7e6aef]</a></li>
</ul>
</dd>
<dt>2021-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/closefrom.c:<br>
Emulate closefrom() on macOS using proc_pidinfo(). This avoids relying
on /dev/fd which may not exist in a chroot jail. Adapted from a change
in OpenSSH by likan_999.student AT sina.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=476f00b82"
>[476f00b82]</a></li>
</ul>
</dd>
<dt>2021-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/edit_open.c:<br>
Handle EMLINK and EFTYPE errno values for O_NOFOLLOW failure. FreeBSD
returns EMLINK and NetBSD returns EFTYPE instead of ELOOP. This is only
used to present the user with a more appropriate error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73e9256f9"
>[73e9256f9]</a></li>
</ul>
</dd>
<dt>2021-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Fix typo in last commit, use boolean AND not bitwise.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d203c834"
>[1d203c834]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h:
Add the ability to filter/match by command via the -m option. For
example &ldquo;cvtsudoers -m cmd=/bin/ls&rdquo; would only display entries that
would allow /bin/ls to be allowed or denied.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1831176a1"
>[1831176a1]</a></li>
</ul>
</dd>
<dt>2021-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/pwutil.c:<br>
Add &ndash;group-file and &ndash;passwd-file options to cvtsudoers. These are
based on the code in testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41f116050"
>[41f116050]</a></li>
</ul>
</dd>
<dt>2021-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
Move cppcheck suppression annotation to where it needs to be.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7367ce47"
>[a7367ce47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mksigname.c:<br>
format string fix: print signal number as unsigned. Quiets a cppcheck
warning; mksiglist.c already has this fixed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99655f28d"
>[99655f28d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix memory leak on error path if snprintf() overflows. Coverity CID
188804
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86df86ed9"
>[86df86ed9]</a></li>
</ul>
</dd>
<dt>2021-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c:<br>
Avoid reinitializing other auth methods.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9b845183"
>[b9b845183]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
expand_include: add bounds checking when expanding %h escape.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a49f1696"
>[4a49f1696]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/ldap.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Check snprintf() return values even if we preallocated the correct
amount. There are no remaining unchecked snprintf() that can actually
overflow.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc90df8de"
>[dc90df8de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_nextid.c:<br>
iolog_nextid(): make iolog_dir argument const. We make a copy of the
directory so there&rsquo;s no real reason that parameter can&rsquo;t be const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23d04dde2"
>[23d04dde2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Amend truncation fix, the real problem was the size passed to
snprintf(). sudo_rcstr_alloc() takes a length (not a size) parameter so
when calling snprintf() we need to add one to the length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f2252f89"
>[0f2252f89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix truncation of the last char of the sudoRole cn passed to
append_default(). This string is primarily used for warning messages.
Also check the snprintf() return value to avoid silent truncation.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/115"
>GitHub issue #115</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e23874d0f"
>[e23874d0f]</a></li>
</ul>
</dd>
<dt>2021-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.8p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fef09e1c"
>[4fef09e1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/codespell.exclude:<br>
Standardize on &ldquo;front-end&rdquo; not &ldquo;front end&rdquo; in the man pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0340a9056"
>[0340a9056]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a036cb025"
>[a036cb025]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_journal.c:<br>
Reuse existing journal file for an accepted/rejected sub-command.
Otherwise we end up with zero-length files in the incoming queue dir and
may end up relaying one of those instead of the actual journal file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a78d3cc25"
>[a78d3cc25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Re-enable error output for the sudoers parser. It is only the alias and
defaults warnings we need to suppress.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6561831b"
>[b6561831b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Add intercept_cleanup() stub for when building w/o intercept support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5421c6182"
>[5421c6182]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:
Add intercept_cleanup() to free the closure used by
intercept_accept_cb().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8c4d9800"
>[a8c4d9800]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Don&rsquo;t re-initialize PAM for sub-commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=328bc282e"
>[328bc282e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
sudo_logsrvd: only send log ID for first command of a session There is
no need to send the log ID for each sub-command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cc7e4bb5"
>[8cc7e4bb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Only store the first log id received from the server. Plugs a small
memory leak in intercept mode if the log server sends the log ID again
for sub-commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eb677b74"
>[0eb677b74]</a></li>
</ul>
</dd>
<dt>2021-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
fuzz_sudoers: don&rsquo;t warn about unknown defaults entries Some fuzzing
inputs cause a huge number of warnings and displaying them all can
result in the fuzz run timing out. If we disable the warnings we can
avoid the timeout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77ef8baa9"
>[77ef8baa9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/policy.c:<br>
Limit paths for command, cwd and chroot to PATH_MAX bytes. This helps
prevent the fuzzer from going off the rails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea561ca6"
>[0ea561ca6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
sudo -i: missing NULL terminator when moving argv to make room for
&ndash;login Fixes a potential crash for &ldquo;sudo -i&rdquo; when the target user has
bash as the shell (which needs the &ndash;login option). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=998"
>Bug
#998</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ab66eb3a"
>[7ab66eb3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Only append argv[] to the log line if argv[0] is not NULL. It should not
be possible to reach this point with a command defined but argv[] empty
but it doesn&rsquo;t hurt to check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=518bc1b25"
>[518bc1b25]</a></li>
</ul>
</dd>
<dt>2021-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check_aliases.c:<br>
Only warn about an undefined alias or a cycle a single time. There&rsquo;s no
point in warning about the same problem multiple times. This
implementation assumes a small number of warnings and so just uses a
simple listed link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=613468e4d"
>[613468e4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove now-unused CHECK_INTERCEPT variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d2512ae1"
>[1d2512ae1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Quiet pvs-studio false positive: V557 Array overrun is possible. Make
the zero length check explicit so as not to confuse static (or human)
analyzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e8c852b"
>[d9e8c852b]</a></li>
</ul>
</dd>
<dt>2021-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test17.out.ok,
plugins/sudoers/regress/testsudoers/test17.sh:<br>
Test that digest matching works with LDAP sudoCommand: ALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=292916f43"
>[292916f43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Allow a digest to be specified with the &ldquo;ALL&rdquo; command for ldap/sssd
back-ends. This has been possible with sudoers file entries since sudo
1.9.0 but no corresponding change was made for ldap/sssd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=702746f96"
>[702746f96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Use localtime_r() not gmtime_r() when formatting the local time. This is
consistent with how sudo formatted time stamps prior to the logging code
being split off into libeventlog. We only need to use gmtime_r() for ISO
8601 time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49bf0cc84"
>[49bf0cc84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c,
lib/iolog/regress/iolog_path/check_iolog_path.c, lib/util/sudo_debug.c,
plugins/audit_json/audit_json.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/timestr.c:<br>
Check strftime(3) return value in all cases. Old versions of strftime(3)
didn&rsquo;t guarantee to NUL-terminate the buffer so we explicitly clear the
last byte of the buffer and check it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55171df5e"
>[55171df5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudo.man.in,
doc/sudo.mdoc.in, doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in,
doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Standardize on &ldquo;front-end&rdquo; not &ldquo;front end&rdquo; in the man pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=698481492"
>[698481492]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Plugin lines are for approval and audit plugins too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c550c5d1"
>[7c550c5d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, lib/iolog/iolog_path.c,
lib/iolog/regress/iolog_path/check_iolog_path.c, lib/util/sudo_debug.c,
plugins/audit_json/audit_json.c,
plugins/sample_approval/sample_approval.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/gmtoff.c,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/timestr.c:<br>
Use gmtime_r() and localtime_r() instead of gmtime() and localtime().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18f1884dd"
>[18f1884dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/gmtime_r.c, lib/util/localtime_r.c:<br>
Add gmtime_r and localtime_r tests and compat if missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa71679b5"
>[fa71679b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Store milliseconds in the debug file timestamp. Sometime second
granularity is not enough.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46d71c436"
>[46d71c436]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
When using pkg-config, don&rsquo;t assume the names of the ssl and crypto
libs. On the HP-UX build machines these are named libssl_pic.a and
libcrypto_pic.a to avoid conflicting with the system libs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78eb24064"
>[78eb24064]</a></li>
</ul>
</dd>
<dt>2021-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/python/Makefile.in, scripts/mkdep.pl,
src/Makefile.in:<br>
Teach mkdep.pl about &ndash;tag=disable-static in LTFLAGS. If static objs are
disabled we need to add explicit dependencies for .o files. The OpenBSD
libtool doesn&rsquo;t use a pic object file when linking executables so we
need to build the non-pic objects too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4289e9609"
>[4289e9609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use SUDO_APPEND_LIBPATH when appending to LIBTLS and LIBMD. The OpenSSL
pkgconfig files only include -L paths, not -R paths. Using
SUDO_APPEND_LIBPATH ensures the rpath is set correctly so the binaries
will run (not just link).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=229dfe175"
>[229dfe175]</a></li>
</ul>
</dd>
<dt>2021-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, lib/util/digest_openssl.c:<br>
Use the EVP digest routines instead of calling SHA2 functions directly.
Avoids compiler warnings with OpenSSL 3.0. EVP_MD_CTX_new() is only
available for OpenSSL 1.1 and higher&ndash;we will fall back to sudo&rsquo;s SHA2
code if necessary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=921bc1c69"
>[921bc1c69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, logsrvd/tls_init.c:<br>
tls_init.c: use SSL_CTX_set0_tmp_dh_pkey if present. Fixes a warning on
OpenSSL 3.0 and plugs a memory leak of dhparams on config reload.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e0b77be4"
>[4e0b77be4]</a></li>
</ul>
</dd>
<dt>2021-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add &ndash;enable-openssl-pkgconfig-template option. This can be used to find
the correct openssl pkg-config file if it is not named &ldquo;openssl&rdquo; (also
libcrypto).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=052391da9"
>[052391da9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Some POSIX yacc fixes for bison 3.8 yyerror() must be extern void
declare tokens with type instead of using separate %type lines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecc3aeffc"
>[ecc3aeffc]</a></li>
</ul>
</dd>
<dt>2021-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
mkpkg: limit the number of cores used to 16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18613eee2"
>[18613eee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test16.out.ok,
plugins/sudoers/regress/testsudoers/test16.sh:<br>
Add a test to exercise <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=994"
>Bug
#994</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf225d2f1"
>[cf225d2f1]</a></li>
</ul>
</dd>
<dt>2021-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2445576e9"
>[2445576e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=994"
>Bug #994</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eab915ae9"
>[eab915ae9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Always allocate a struct sudo_command for the command, even for ALL.
This was missed in the previous set of changes, resulting in a crash for
LDAP and SSSD rules that give sudo &ldquo;ALL&rdquo; privileges. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=994"
>Bug
#994</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c30976ae"
>[0c30976ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add SUDOERS_LDFLAGS to FUZZ_LDFLAGS Fixes a fuzzer link error when
building with ldap if the ldap libs are not in the default library
search path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31e4a0a0a"
>[31e4a0a0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix the OpenSSL link order for the non-pkg-config case. Since -lssl
depends on -lcrypto, -lcrypto must be listed after -lssl. Fixes linking
of non-dynamic OpenSSL libs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d632937e"
>[2d632937e]</a></li>
</ul>
</dd>
<dt>2021-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.8p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1653be43"
>[e1653be43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept_common.c:<br>
sudo_interposer_init: verify message type from sudo We should only get a
HelloResponse from sudo at this point.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51d5f05e6"
>[51d5f05e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/intercept.pb-c.h, src/exec_intercept.c, src/intercept.pb-c.c,
src/intercept.proto, src/sudo_intercept_common.c:<br>
Avoid symbol name clash to fix &ndash;enable-static-sudoers linking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db750232c"
>[db750232c]</a></li>
</ul>
</dd>
<dt>2021-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/policy.c:<br>
append_defaults() should not be passed a value for boolean flags. The
operation should simply be set to true/false. Also treat a NULL file as
coming from the front-end. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=993"
>Bug
#993</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7cdf1e47"
>[d7cdf1e47]</a></li>
</ul>
</dd>
<dt>2021-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add src/intercept.exp to ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5a67cf8"
>[4b5a67cf8]</a></li>
</ul>
</dd>
<dt>2021-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=197d4ced3"
>[197d4ced3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention &ndash;enable-static-sudoers fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02966f059"
>[02966f059]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix typo introduced in 1.9.7 that set SUDO_LDFLAGS to SUDOERS_LDFLAGS.
Copy pasta is not always the best kind of pasta.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b365300a"
>[4b365300a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, m4/sudo.m4, src/Makefile.in,
src/intercept.exp.in, src/sudo_intercept.c:<br>
sudo_intercept.so: only replace execvpe() if it is present. execvpe() is
a GNU extension also found on *BSD (but not macOS).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a4aec7a6"
>[3a4aec7a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
We now intercept more than just execve().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d5f450a6"
>[6d5f450a6]</a></li>
</ul>
</dd>
<dt>2021-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
Implement simple PATH resolution for execvp(). We want to use PATH from
the current value of the environment, not the initial value of PATH when
the policy was opened. This is a little different from how real execvp()
works since we use stat() instead of just execve().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c456127b"
>[6c456127b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, src/intercept.exp, src/sudo_intercept.c:<br>
Add support for execl, execle, execlp, execvp, and execvpe. Currently,
PATH traversal is handled by sudoers which uses the original PATH, not
the one updated by the shell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ae62866e"
>[7ae62866e]</a></li>
</ul>
</dd>
<dt>2021-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y:<br>
Remove conditional include of alloca.h, we don&rsquo;t define HAVE_ALLOCA_H.
The configure check for alloca() was removed long ago but this got
missed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf6045184"
>[bf6045184]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Define RBAC and mention incompatibility with intercept/log_subcmds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aac09cf7b"
>[aac09cf7b]</a></li>
</ul>
</dd>
<dt>2021-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Fix computation of the token address when handling a partial read. We
want to treat it as an array of bytes, not an array of tokens. Coverity
CID 240011
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=157ceadfa"
>[157ceadfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Quiet a PVS-Studio format string warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64d71674"
>[f64d71674]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Regen .pot files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a9a22e93"
>[9a9a22e93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f6cacd1e"
>[2f6cacd1e]</a></li>
</ul>
</dd>
<dt>2021-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=967bcab4d"
>[967bcab4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/sudo_conf.c, scripts/mkdep.pl,
src/Makefile.in, src/exec_common.c, src/exec_intercept.c:<br>
Do not compile intercept code if &ndash;disable-intercept is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38d884a62"
>[38d884a62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
We now intercept execv() too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c2f1ebbc"
>[5c2f1ebbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
INSTALL: &ndash;disable-intercept will also disable &ldquo;log_subcmds&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=190e495b6"
>[190e495b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/parse.c:<br>
Can&rsquo;t use intercept or log_subcmds with SELinux RBAC. SELinux policy
will prevent the inherited socket from sudo from being used and may also
restrict the ability to connect back to the sudo process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f40afd73f"
>[f40afd73f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>m4/ax_prog_cc_for_build.m4:<br>
Fix typo in comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=242e4d070"
>[242e4d070]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/cs.mo, po/cs.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ca5c7d64"
>[4ca5c7d64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/intercept.pb-c.h, src/exec_intercept.c, src/intercept.pb-c.c,
src/intercept.proto, src/sudo_exec.h, src/sudo_intercept_common.c:<br>
Switch to a 128-bit token instead of a 64-bit secret. Protobuf doesn&rsquo;t
have a 128-bit type so use two u64s. We now support partial reads of the
token.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a690a898"
>[9a690a898]</a></li>
</ul>
</dd>
<dt>2021-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/regress/uuid/uuid_test.c,
lib/util/uuid.c:<br>
Fix random uuid generation, no need to convert between byte order. Also
add regression test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bff82cab"
>[4bff82cab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/intercept.pb-c.h, src/exec_intercept.c, src/intercept.pb-c.c,
src/intercept.proto, src/sudo_intercept_common.c:<br>
sudo_intercept.so: send the secret immediately after connecting. Sending
the secret out of band, before the message size is read, should make it
harder to mount a DoS attack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9137909c7"
>[9137909c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept_common.c:<br>
Handle reading large messages that don&rsquo;t fit in a single recv(). We know
the length of what we are receiving so just loop until we have it all,
get EOF or an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26938012f"
>[26938012f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add checks for -fstack-clash-protection and -Wl,-z,noexecstack We use
-Wc,-fstack-clash-protection as the linker flag to prevent libtool from
removing it from the link line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0630a36c"
>[c0630a36c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Make the sudo side of the intercept socket non-blocking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a078bc64b"
>[a078bc64b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Handle partial read/write by dropping back into the event loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c26b92a7"
>[3c26b92a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_check_policy: Fix double free introduced in last commit If the
command is not accepted we don&rsquo;t rebuild command_info[] and must not
free it. It will be freed by the policy instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33d1b26c6"
>[33d1b26c6]</a></li>
</ul>
</dd>
<dt>2021-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>include/intercept.pb-c.h, src/exec_intercept.c, src/intercept.pb-c.c,
src/intercept.proto, src/sudo_intercept_common.c:<br>
Update runcwd in command_info[] before passing it to the audit plugin.
Since sudoers does rejected commands itself the runcwd will still not be
correct for those.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=168d5c47c"
>[168d5c47c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c:<br>
Fix LD_PRELOAD formatting when there is an existing LD_PRELOAD var.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22de92b0d"
>[22de92b0d]</a></li>
</ul>
</dd>
<dt>2021-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_check_policy: fix potential NUL dereference on the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75bac8dee"
>[75bac8dee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/policy.c, src/exec.c,
src/exec_common.c, src/exec_nopty.c, src/exec_pty.c, src/sudo.c,
src/sudo.h:<br>
Rename log_children -&gt; log_subcmds
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba171724f"
>[ba171724f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/eo.mo,
po/eo.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ko.mo, po/ko.po,
po/pl.mo, po/pl.po, po/pt.mo, po/pt.po, po/pt_BR.mo, po/pt_BR.po,
po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po,
po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8d402333"
>[d8d402333]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Add sudo_debug_register_v2() stub for fuzzing build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcab17900"
>[dcab17900]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Fix use-after-free on error. Also remove useless free of a ptr that is
always NULL on the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d8b327c6"
>[3d8b327c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c:<br>
No longer need to remap intercept fd but we do need to remap debug fd.
The intercept fd is closed in the ctor but the debug fd will still be
open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc30c842b"
>[dc30c842b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c, lib/util/util.exp.in,
logsrvd/logsrvd.c, logsrvd/sendlog.c, plugins/audit_json/audit_json.c,
plugins/python/sudo_python_debug.c,
plugins/sample_approval/sample_approval.c,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
src/sesh.c, src/sudo.c, src/sudo_intercept_common.c:<br>
sudo_debug_register: add minfd argument to specify lowest fd number Use
this in sudo_intercept.so to avoid allocating a low-numbered fd which
the shell reserves for use by scripts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70aef0eb2"
>[70aef0eb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Fix command name of sub-command in logs when log_children is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6a71fe32"
>[d6a71fe32]</a></li>
</ul>
</dd>
<dt>2021-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
log_allowed: pass struct eventlog * instead of argv[] and envp[]. This
lets us log based on the command_info[] list passed in from the
front-end. Previously, much of the struct eventlog was constructed from
internal sudoers state instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec751c63e"
>[ec751c63e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
sudo_compat.h: include unistd.h on HP-UX to safely redefine pread/pwrite
HP-UX 11.31 defines static functions for pread() and pwrite() which will
conflict with our macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e199dd825"
>[e199dd825]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Add a state variable to intercept_closure, replaces policy_result.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=438a0cf07"
>[438a0cf07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/intercept.pb-c.h,
src/exec_intercept.c, src/exec_nopty.c, src/exec_pty.c,
src/intercept.pb-c.c, src/intercept.proto, src/sudo_exec.h,
src/sudo_intercept_common.c:<br>
Change intercept IPC to use a localhost socket instead of inherited fd.
This allows intercept mode to work with shells that close all open fds
upon startup. The ctor in sudo_intercept.so requests the port number and
secret over the socket inherited from the parent then closes it. For
each policy request, a TCP connection is made to the sudo parent process
to perform the policy check. Child processes re-use the TCP socket to
request the port number and secret just like the initial process started
by sudo does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c465d8971"
>[c465d8971]</a></li>
</ul>
</dd>
<dt>2021-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Fold intercept_closure_reset() into intercept_close().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=448536e0f"
>[448536e0f]</a></li>
</ul>
</dd>
<dt>2021-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
command_matches: avoid printf(&quot;%s&quot;) of NULL in debug for sudo ALL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aedc965f"
>[0aedc965f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #111 from commodo/fix-cflags</p>
<p>lib/util/Makefile.in: use host CFLAGS and CPPFLAGS for mksig{name,list}
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9980357a7"
>[9980357a7]</a></p>
</li>
</ul>
</dd>
<dt>2021-08-25  Alexandru Ardelean</dt>
<dd>
<ul>
<li>
<p>lib/util/Makefile.in:<br>
lib: util: Makefile.in: use host CFLAGS and CPPFLAGS for
mksig{name,list}</p>
<p>When cross-build support was added for mkig{name,list} was added, the
CFLAGS and CPPFLAGS should have been updated to the
HOSTCFLAGS/HOSTCPPFLAGS vars.</p>
<p>In a cross-build scenario, some of these flags don&rsquo;t match what the
compiler can understand (because they may be architecture specific) and
may fail the build.</p>
<p>Using the HOSTCFLAGS/HOSTCPPFLAGS works and builds successfully. Also
the output binary works on the target.</p>
<p>This is in continuation of -
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/pull/104"
>https://github.com/sudo-project/sudo/pull/104</a> -
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/pull/109"
>https://github.com/sudo-project/sudo/pull/109</a></p>
<p>Signed-off-by: Alexandru Ardelean &lt;ardeleanalex@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a12b15b43"
>[a12b15b43]</a></p>
</li>
</ul>
</dd>
<dt>2021-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_preload.c:<br>
Fix typo that caused SUDO_INTERCEPT_FD to overwrite LD_PRELOAD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=222d6f94c"
>[222d6f94c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c:<br>
Fix off-by-one that could result in duplicate SUDO_INTERCEPT_FD vars.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=139181344"
>[139181344]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_intercept.c:<br>
Fix typo in macOS execv change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df68f4c8d"
>[df68f4c8d]</a></li>
</ul>
</dd>
<dt>2021-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, src/intercept.exp, src/sudo_intercept.c:<br>
Add execv(3) support to sudo_intercept.so. This allows intercept to work
with csh which uses execv(3) not execve(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98401c058"
>[98401c058]</a></li>
</ul>
</dd>
<dt>2021-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Sync the list of functions trapped by sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02b78c38e"
>[02b78c38e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Add a Debug example for sudo_intercept.so Don&rsquo;t try to enumerate all the
sudo programs that support debugging since all of them do.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e795b548"
>[1e795b548]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Update sudoers Debug example to match the debug changes from sudo
1.8.12.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb40491c9"
>[bb40491c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
sudo_intercept.so only intercepts execve(2) for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ccb7f009"
>[8ccb7f009]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix formatting for bound defaults with multiple entries in the binding.
The entries in the binding were separated with &quot; ,&quot; instead of &ldquo;, &ldquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7df245dc9"
>[7df245dc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/intercept.exp:<br>
Add exports file for sudo_intercept.so that only exports execve()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ccd966e2"
>[4ccd966e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in, src/sudo_intercept.c, src/sudo_intercept_common.c:<br>
Add some debugging to the sudo_intercept.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc281f036"
>[dc281f036]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Use AC_FUNC_FSEEKO instead of AC_CHECK_FUNCS_ONCE([fseeko]). This will
define _LARGEFILE_SOURCE, if needed, to make the prototype visible on
older systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=680fd4a62"
>[680fd4a62]</a></li>
</ul>
</dd>
<dt>2021-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
We still need the pread/pwrite hack for HP-UX 11.11 at least. This time
around, avoid defining _LARGEFILE64_SOURCE and just declare
pread64/pwrite64 ourselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad28b90c4"
>[ad28b90c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix prototypes for sudo_pread() and sudo_pwrite().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23e5304b7"
>[23e5304b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
intercept_fd_cb: store the passed fd in newfd, not fd only affects the
old BSD-style fd passing code, not POSIX-style.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d3ab032f"
>[5d3ab032f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Fix mksiglist and mksigname dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d333f484e"
>[d333f484e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
set-user-ID and set-group-ID not set user-ID and set group-ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52e7594ae"
>[52e7594ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
The fix for bug #989 will make sudo 1.9.8. Also mention
intercept_authenticate and intercept_allow_setid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09f160779"
>[09f160779]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90aee138b"
>[90aee138b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c, plugins/sudoers/check.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/exptilde.c,
plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/mkdefaults, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/tsdump.c:<br>
Replace messages like &ldquo;unknown foo: %s&rdquo; with &ldquo;unknown foo %s&rdquo;. The colon
really doesn&rsquo;t belong there; we generally use a colon to separate a
message from the warning detail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb5843055"
>[bb5843055]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore, MANIFEST, aclocal.m4, configure, configure.ac,
lib/util/Makefile.in, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/sys_siglist.h, lib/util/sys_signame.h,
m4/ax_prog_cc_for_build.m4:<br>
Cross-build support for mksigname and mksiglist We must build these with
the host C compiler but use the target preprocessor to generate the
output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b40f74cb2"
>[b40f74cb2]</a></li>
</ul>
</dd>
<dt>2021-08-19  a1346054</dt>
<dd>
<ul>
<li>
<p>.clang-format, INSTALL, MANIFEST, autogen.sh, doc/LICENSE, etc/sudo.pp,
examples/Makefile.in:<br>
Minor cleanup (#110)</p>
<ul>
<li>fix trivial shell script issues * remove trailing whitespace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf7d20b48"
>[bf7d20b48]</a></li>
</ul>
</li>
</ul>
</dd>
<dt>2021-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
log_server_peer_cert and log_server_peer_key are not required by
default. They are only required if sudo_logsrvd has tls_checkpeer
enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c52c24a9"
>[1c52c24a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Sync warning messages with sudoers/logging.c Avoids 3 translation
strings that were effectively duplicated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17003b35"
>[e17003b35]</a></li>
</ul>
</dd>
<dt>2021-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/protobuf-c/Makefile.in, src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad5feeb40"
>[ad5feeb40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/match_command.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Add intercept_allow_setid sudoers option, disabled by default. With this
change, a shell in intercept mode cannot run a setuid or setgid binary
by default. On most systems, the dynamic loader will ignore LD_PRELOAD
for setuid/setgid binaries such as sudo which would effectively disable
intercept mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9d3f46fa"
>[f9d3f46fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/match.c:
Always allocate a struct sudo_command for the command, even for ALL.
Previously we special-cased handling of ALL but this complicates some
upcoming changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53a95e3a5"
>[53a95e3a5]</a></li>
</ul>
</dd>
<dt>2021-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/codespell.exclude:<br>
Update TAGS_CHANGED macro based on parse.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dad40a50a"
>[dad40a50a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Better document the limitations of intercept mode. Also mention
log_children under &ldquo;Preventing shell escapes&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc9a01936"
>[fc9a01936]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4809d634"
>[e4809d634]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Try to clarify log_server_peer_key and log_server_peer_cert. These are
client-side not server-side.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a85cf1f3f"
>[a85cf1f3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Print the section when warning about an illegal key in the conf file.
This should make it easier to tell when a setting is present in the
wrong section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfcc31b19"
>[bfcc31b19]</a></li>
</ul>
</dd>
<dt>2021-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
new_logline: limit offset to two significant digits after the decimal
Now instead of TSID=0001L3@5.168230749 we would log TSID=0001L3@5.16.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5902c0e21"
>[5902c0e21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_journal.c:<br>
Set umask to be less restrictive before creating parent directories.
Otherwise we could end up creating them with a more restrictive mode
than indended. Coverity CID 221592
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9248ea6bb"
>[9248ea6bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
new_logline: handle case where evlog is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=babb498c6"
>[babb498c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
store_alert_local: fix memory leak on error path Coverity CID 238642
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d3cf0ffd"
>[6d3cf0ffd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
log_server_accept: fix memory leak of evlog when logging a sub-command.
Coverity CID 238643
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2abcd6cb"
>[e2abcd6cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c:<br>
Fix memory leak when client requests secret. Move closure allocation
closer to where it is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=340d75394"
>[340d75394]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
store_accept_local: fix return value on error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4add9c2c0"
>[4add9c2c0]</a></li>
</ul>
</dd>
<dt>2021-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Cast iolog_offset.tv_sec to long long for %lld printf format. Quiets a
compiler warning on systems where tv_sec in struct timeval is not long
long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f6a74f18"
>[0f6a74f18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/logsrvd_local.c, plugins/sudoers/logging.c:<br>
For intercepted commands, log an offset into the current I/O log. This
can be used with sudoreplay to jump to when a specific command was
executed within a session log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aefd4394"
>[4aefd4394]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in, lib/iolog/iolog_timing.c,
plugins/sudoers/sudoreplay.c:<br>
Add support for an optional offset when parsing the ID to replay. The
offset is a suffix in the form of @sec[.nanosec]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=695f4bea0"
>[695f4bea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Don&rsquo;t overwrite closure-&gt;evlog for sub-commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064981fb1"
>[064981fb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Older Solaris has getusershell() et al but does not declare it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62aca803c"
>[62aca803c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_intercept.c, src/exec_nopty.c, src/exec_pty.c,
src/sudo_intercept_common.c:<br>
Add missing stdint.h and sudo_rand.h includes. Needed for arc4random()
and uin64_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a55b54329"
>[a55b54329]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/intercept.pb-c.h, src/exec_intercept.c, src/exec_nopty.c,
src/exec_pty.c, src/intercept.pb-c.c, src/intercept.proto,
src/sudo_exec.h, src/sudo_intercept_common.c:<br>
Pass a secret value to sudo_intercept.so and verify after policy check.
The goal is to make it harder for someone to have a fake policy checker.
This will not stop a determined adversary since the secret is present in
the address space of the running process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eaf03a382"
>[eaf03a382]</a></li>
</ul>
</dd>
<dt>2021-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_intercept.c:<br>
Split off intercept code into exec_intercept.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9d922546"
>[c9d922546]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Add trivial support for FreeBSD packages. The actual FreeBSD port
supports multiple options but this is sufficient for testing purposes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f30704ab"
>[3f30704ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
FreeBSD: Set default directory and file mode if not specified in %files
Otherwise, a mode of 0 will be used, potentially rendering the system
unusable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=374d49981"
>[374d49981]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Use same check for intercepted commands as log_server_accept().
Previously, log_server_reject() and log_server_alert() just checked
whether client_closure has been set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f327a19f3"
>[f327a19f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
plugins/sudoers/log_client.c:<br>
Call shutdown() on sockets before closing() if they are connected. This
should ensure that the other side sees any queued data before the
connection is dropped.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2094471"
>[0e2094471]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c, logsrvd/sendlog.c,
plugins/sudoers/log_client.c:<br>
If SSL_shutdown() returns 0 it needs to be called one more time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79129613e"
>[79129613e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c:<br>
resolve_editor: sudoers_gc_remove(editor) before freeing it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffdd7920c"
>[ffdd7920c]</a></li>
</ul>
</dd>
<dt>2021-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/mksigname.h, lib/util/siglist.in:<br>
Sync siglist.in with the generated files. The change to prefer SIGSYS
over SIGUNUSED wasn&rsquo;t made to siglist.in. Also, mksigname.c doesn&rsquo;t need
to explicitly set sudo_sys_signame[0].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef91b90ad"
>[ef91b90ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/editor.c,
plugins/sudoers/gc.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add garbage collection to resolve_editor(). Fixes a leak when evaluating
the policy multiple times if sudoedit is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9798fd86b"
>[9798fd86b]</a></li>
</ul>
</dd>
<dt>2021-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_common.c:<br>
Fix compilation when configure option &ndash;disable-shared is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abac06956"
>[abac06956]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa20eccad"
>[aa20eccad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Avoid some double frees in the fuzzer Now that sudoers free old values
of NewArgv and command_info the fuzzer needs to reset those values.
Otherwise we end up with stashed values that have already been garbage
collected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=462e8ab47"
>[462e8ab47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Use a separate uuid for intercepted commands. We use the uuid to match
the command with its exit status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dae370fb7"
>[dae370fb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/iolog.c,
plugins/sudoers/log_client.c, plugins/sudoers/log_client.h,
plugins/sudoers/logging.c:<br>
Fix logging intercepted commands to a log server in sudoers. Only
available when the server supports the subcommands capability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e99450d4"
>[2e99450d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Plug some memory leaks when sudoers_policy_main is called multiple
times. These would get cleaned up a policy close time but we don&rsquo;t want
to bloat sudo&rsquo;s memory footprint when running a shell with multiple
commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a090dcdc"
>[3a090dcdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, pathnames.h.in, src/Makefile.in,
src/exec_preload.c:<br>
If building with address sanitizer make sure its DSO is first. Address
sanitizer requires that it be preloaded before any other DSO in
LD_PRELOAD. This should not be required for clang, which links in asan
statically by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfe26f8c3"
>[dfe26f8c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, src/exec_preload.c:<br>
Require that our dso be first in the list to make sure it takes effect.
Otherwise, another dso could take precedence and ours would not be run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f8a9c37b"
>[8f8a9c37b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/exec.c,
src/sudo_intercept_common.c:<br>
If msg_control is not present in struct msghdr use msg_accrights
instead. Fixes building on Solaris and probably others. It is possible
to expose msg_control on Solaris but this requires a specific set of
feature flag defines which can cause other complications.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea5efd8b"
>[0ea5efd8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/check.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add intercept_authenticate sudoers option, defaults to false. By
default, sudoers will not require authentication of commands run via an
intercepted session. To require authenticaton of subsequent commands,
enable intercept_authenticate in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=788708c9f"
>[788708c9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_nopty.c, src/exec_pty.c:<br>
Make the log_children option only log and not check policy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13b89e910"
>[13b89e910]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_preload.c, src/sudo_intercept_common.c:<br>
Add debug support to sudo_intercept.so
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=258fa9d4f"
>[258fa9d4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_common.c, src/exec_preload.c,
src/sudo_exec.h, src/sudo_intercept.c, src/sudo_intercept_common.c:<br>
Move preload_dso() to its own file and rename to sudo_preload_dso(). It
now takes an intercept fd as an optional argument instead of a list of
extra variables to add. This lets us check whether it is already set to
the expected value (and add it if not). sudo_intercept.so now uses
sudo_preload_dso() to make sure that LD_PRELOAD and SUDO_INTERCEPT_FD
are set properly before executing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c3df47da"
>[9c3df47da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Take control of the tty and save its settings before doing a policy
check. Otherwise the policy plugin won&rsquo;t be able to read the password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60e76e3e3"
>[60e76e3e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/sudo.c, src/sudo.h:<br>
Call the approval plugin after the policy plugin accepts a command.
Previously, for intercepted commands we only called the policy plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42598735d"
>[42598735d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Reduce the number of function args passed to plugin wrappers. This makes
sudo_settings, user_info, submit_argv, submit_envp and submit_optind
global. This will be required for calling the wrapper from outside of
sudo.c where we may not have access to those variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ff3f7604"
>[4ff3f7604]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h:<br>
Add return values for most of the plugin function wrappers that returned
void. Previously, they would just exit if there was an error. Now the
error is passed back up the stack so we can use them in
sudo_intercept.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=840bf4b09"
>[840bf4b09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_common.c,
src/sudo_exec.h, src/sudo_intercept.c, src/sudo_intercept_common.c:<br>
Implement sudo_intercept.so. Uses protobuf to talk to main sudo process
over a socketpair.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cf3d1c41"
>[4cf3d1c41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/sudo.c, src/sudo.h:<br>
Implement the sudo side of the sudo_intercept.so communication.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7380bb27"
>[d7380bb27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/intercept.pb-c.h, src/Makefile.in,
src/intercept.pb-c.c, src/intercept.proto:<br>
Define protocol for sudo &lt;-&gt; sudo_intercept.so communication. Uses
google protocol buffers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cede7dd92"
>[cede7dd92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, lib/logsrv/Makefile.in,
lib/protobuf-c/Makefile.in, lib/protobuf-c/protobuf-c.c:<br>
Add separate convenience lib for protobuf-c We need to use it for sudo
&lt;-&gt; sudo_intercept.so communication.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d4120fa5"
>[5d4120fa5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in,
include/log_server.pb-c.h, lib/logsrv/log_server.pb-c.c,
lib/logsrv/log_server.proto, logsrvd/logsrvd.c:<br>
Allow multiple accept/reject messages during a logsrv conversation. The
log server now advertises a subcommands flag if it supports logging
subcommands (e.g. commands run from a sudo-spawned program like a
shell). The client should only log additional commands during a session
if this flag is set in the ServerHello message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d776b4e7"
>[9d776b4e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Use run_argv and run_envp passed into the audit plugin for event
logging. Previously we used NewArgv[] and env_get() but now that logging
is performed via an audit plugin we should use the values passed in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae9954c6"
>[1ae9954c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Allow set_perms(PERM_INITIAL) to be called more than once. If the perm
stack depth is non-zero when set_perms(PERM_INITIAL) is called, rewind
it first and re-initialize the stack depth to 0. Fixes a user-after-free
bug if set_perms(PERM_INITIAL) is called multiple times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e3ce532f"
>[5e3ce532f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/file.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_ldap.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Make it possible to call the sudoers policy check function multiple
times. We need to reset the Defaults values to their original state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=132936f8f"
>[132936f8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, src/exec.c, src/exec_common.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/selinux.c,
src/sesh.c, src/sudo_exec.h:<br>
Allocate a socketpair to communicate with sudo_intercept.so over. This
is used for the intercept and log_children options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a556b373c"
>[a556b373c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, examples/sudo.conf.in, include/sudo_conf.h,
lib/util/sudo_conf.c, lib/util/util.exp.in, pathnames.h.in,
src/Makefile.in, src/exec.c, src/exec_common.c, src/selinux.c,
src/sesh.c, src/sudo.c, src/sudo.h, src/sudo_exec.h:<br>
Add support for loading the sudo_intercept.so DSO.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6287e8ca7"
>[6287e8ca7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Add &ldquo;intercept&rdquo; Defaults setting to allow interception of sub-commands.
This causes &ldquo;intercept&rdquo; to be set to true in command_info[] which the
sudo front-end will use to determine whether or not to intercept
attempts to run further commands, such as from a shell. Also add
&ldquo;log_children&rdquo; which will use the same mechanism but only log (audit)
further commands.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=786e5865c"
>[786e5865c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/prompt.c:<br>
expand_prompt: use correct strlcpy() size parameter The available size
passed to strlcpy() was computed incorrectly. Switch to updating the
length after writing to the new prompt instead of computing it each
time. The actual buffer size is computed and allocated correctly so
there is no real consequence to this bug. Found by Qualys.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3e86c65b"
>[b3e86c65b]</a></li>
</ul>
</dd>
<dt>2021-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf:<br>
The tls_verify setting only affects server behavior, not the client.
Originally, there was a flag in the ServerHello message to indicate that
the client should verify the server cert, but this was removed TLS was
moved to a separate port. Client validation of the server certificate is
now configured in the sudoers file instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14ffa00c0"
>[14ffa00c0]</a></li>
</ul>
</dd>
<dt>2021-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
On macOS, don&rsquo;t disable tty tickets and set password timeout to 0. This
more closely matches the options used by the macOS version of sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57cb62d7d"
>[57cb62d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/find_path.c:<br>
Add some debugging info to find_path()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1c29fb00"
>[d1c29fb00]</a></li>
</ul>
</dd>
<dt>2021-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_mkdtemp.c:<br>
iolog_mkdtemp: umask must not be more restrictive than the file modes.
We need this even though we will be calling mkdtemp() since the umask
affects the mode of any parent directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4568ceaf"
>[e4568ceaf]</a></li>
</ul>
</dd>
<dt>2021-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Plug memory leak in error path when sudoers cannot be opened.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b009f62e"
>[8b009f62e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Trying to use &ldquo;+=&rdquo; or &ldquo;-=&rdquo; operators on a non-list is an error.
Previously, they were simply treated as &ldquo;=&rdquo; for non-lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1032fca5b"
>[1032fca5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/net_ifs/check_net_ifs.c:<br>
Plug a memory leak in check_net_ifs found by address sanitizer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ea773ed1"
>[2ea773ed1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Prefix sanitizer and fuzzer options with -XCClinker in ASAN_LDFLAGS.
Otherwise libtool may ignore the options when linking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40496f510"
>[40496f510]</a></li>
</ul>
</dd>
<dt>2021-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Display the correct error message if X509_verify_cert() fails. We must
use X509_STORE_CTX_get_error() and X509_verify_cert_error_string()
instead of the generic OpenSSL error functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aee82efe4"
>[aee82efe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
In new_logline check for NULL args-&gt;reason for EVLOG_RAW. This can&rsquo;t
happen in practice since we never set EVLOG_RAW without passing in a
reason. Coverity CID 237142 237143
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d109cd61d"
>[d109cd61d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
format_json: don&rsquo;t dereference evlog if it is NULL. Also silence a PVS
Studio false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e00ed390d"
>[e00ed390d]</a></li>
</ul>
</dd>
<dt>2021-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Bump version to 1.9.7p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=625ab9d29"
>[625ab9d29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.9.7p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d23e2611"
>[8d23e2611]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, include/sudo_compat.h,
logsrvd/tls_client.c, logsrvd/tls_init.c, plugins/sudoers/log_client.c:<br>
Use TLS_method() instead of TLS_client_method() throughout. OpenSSL
returns an error for SSL_accept() if TLS_client_method() was used to
generate the context (LibreSSL doesn&rsquo;t care).</p>
<p>Prior to sudo 1.9.7, TLS_client_method() and TLS_server_method() were
used in the TLS client and server initialization code respectively. This
was refactored in sudo 1.9.7 to allow the code to be shared. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=988"
>Bug
#988</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36fbb13c4"
>[36fbb13c4]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Only replace getaddrinfo for FUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION.
This works around an issue on SCO which uses inline functions in the
header files which call the actual, versioned, library function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=532e00aa2"
>[532e00aa2]</a></li>
</ul>
</dd>
<dt>2021-07-26  MertsA</dt>
<dd>
<ul>
<li>
<p>src/utmp.c:<br>
Rewind utmp file pointer after searching for entry (#108)</p>
<p>getutline() advances the file pointer until it matches or reaches EOF.
pututline() starts from the current position in utmp. This rewinds the
file pointer to the beginning to avoid allocating additional spurious
utmp entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a506b380"
>[0a506b380]</a></p>
</li>
</ul>
</dd>
<dt>2021-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, m4/sudo.m4:<br>
Use AC_CACHE_CHECK in place of AC_MSG_CHECKING + AC_CACHE_VAL where
possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8e05dd98"
>[f8e05dd98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Add configure check for va_copy instead of using #ifdef This prevents
the va_copy compat #define from being used if sudo_compat.h is somehow
included before stdarg.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a90deb2a"
>[4a90deb2a]</a></li>
</ul>
</dd>
<dt>2021-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
Avoid using RLIM_INFINITY for the nofile soft limit to prevent
closefrom_fallback() from closing too many file descriptors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0ae7a566"
>[b0ae7a566]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Include signal.h for SIG2STR_MAX and sig2str().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b48cd11a4"
>[b48cd11a4]</a></li>
</ul>
</dd>
<dt>2021-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/logsrvd_local.c, plugins/sudoers/logging.c:<br>
Remove unused info_cb and info arguments from eventlog_exit()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c234bab7b"
>[c234bab7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/iolog_writer.c, plugins/sudoers/logging.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h:<br>
Create a UUID and log it in the JSON version of the event log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa7250ead"
>[fa7250ead]</a></li>
</ul>
</dd>
<dt>2021-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_local.c:<br>
Add log_exit setting in the sudo_logsrvd.conf eventlog stanza This
causes sudo_logsrvd to log a record with the exit status or terminating
signal in response to an ExitMessage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0dd2b6442"
>[0dd2b6442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Add log_exit_status sudoers option to log when a command exits. This
option defaults to off.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17a415ae7"
>[17a415ae7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c:<br>
Add support for logging exit status events. For sudo-formatted logs,
this is a record with &ldquo;EXIT=number&rdquo; and potentially &ldquo;SIGNAL=name&rdquo; after
the command. For JSON-format logs, a new &ldquo;exit&rdquo; record is logged which
contains an &ldquo;exit_value&rdquo; and potentially &ldquo;signal&rdquo; and &ldquo;core_dumped&rdquo;.
JSON-format logs now incude a UUID to associate the &ldquo;exit&rdquo; record with
the &ldquo;accept&rdquo; record.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b54a16e17"
>[b54a16e17]</a></li>
</ul>
</dd>
<dt>2021-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
Check that the python module we actually loaded is what we intended.
This is intended to provide a more useful error message if the user
defines a module which conflicts with a system python module. For
example, a module called test.py would conflicts with the system python
test module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=657897b8b"
>[657897b8b]</a></li>
</ul>
</dd>
<dt>2021-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Mention that xkcd inspired the sandwich logo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16f78f59b"
>[16f78f59b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/HISTORY:<br>
Mention log server and fuzzers under Quest contributions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86680255b"
>[86680255b]</a></li>
</ul>
</dd>
<dt>2021-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c, src/sudo.c, src/sudo_edit.c:<br>
Don&rsquo;t assume that the number of groups returned by getgroups() is
static. On systems where getgroups() returns results based on more than
just the per-process group vector in the kernel it is possible for the
number of groups to change in between invocations. Based on GitHub PR
#106 from Pierre-Olivier Martel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a309d70b"
>[7a309d70b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Use &ldquo;mandoc -Tlint -Wwarning&rdquo; instead of -Wstyle. The style checks now
include &ldquo;referenced manual not found&rdquo; warnings which is not helpful.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=555596e57"
>[555596e57]</a></li>
</ul>
</dd>
<dt>2021-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/Makefile.in, src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b809cdaf"
>[0b809cdaf]</a></li>
</ul>
</dd>
<dt>2021-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
Change ms from size_t to long. Avoids a spurious test failure on Solaris
9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90b4f4c4f"
>[90b4f4c4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c, src/net_ifs.c:<br>
Move definition of INADDR_NONE from interfaces.c to net_ifs.c. Fixes
compilation on Solaris 9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae0e25cf2"
>[ae0e25cf2]</a></li>
</ul>
</dd>
<dt>2021-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Fix dead store found by clang analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=030746ce5"
>[030746ce5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Fix prefix skipping when the prefix is embedded and not separate. This
doesn&rsquo;t currently matter since the progname and the &ldquo;: &quot; are stored in
separate messages. Found by clang analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=442778aee"
>[442778aee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Remove dead store found by clang analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3deb3737"
>[f3deb3737]</a></li>
</ul>
</dd>
<dt>2021-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
Make sure we store an octal number (like umask) as a string. JSON
doesn&rsquo;t (portably) support octal numbers with a leading zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7e81c46b"
>[b7e81c46b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Replace logsrvd_is_early() with logsrvd_warn_stderr(). This is now
defined in logsrvd_conf.c which removes a dependency on another
compilation unit for the fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efaa173fb"
>[efaa173fb]</a></li>
</ul>
</dd>
<dt>2021-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Silence a compiler warning on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d41937ca"
>[1d41937ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Reduce scope of errstr variable so it is only declared for OpenSSL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74f034cbf"
>[74f034cbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=024f4475b"
>[024f4475b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrvd.c,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_local.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c, logsrvd/sendlog.c, logsrvd/tls_init.c:<br>
Use sudo_warnx?() instead of sudo_debug_printf for errors. We now hook
the warn functions so the messages are logged. The messages still show
up in the debug log too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a3bbba12"
>[5a3bbba12]</a></li>
</ul>
</dd>
<dt>2021-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/regress/vsyslog/vsyslog_test.c,
lib/util/vsyslog.c, scripts/mkdep.pl:<br>
Remove vsyslog(3) emulation, it is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc3b4ffb0"
>[cc3b4ffb0]</a></li>
</ul>
</dd>
<dt>2021-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
If logsrvd_config not set fall back to using stderr for warnings. Also
fix fuzz_logsrvd_conf link error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d311c7b2e"
>[d311c7b2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
Add support for logging server warning/error messages. We can use
sudo_warn_set_conversation() to set a conversation function that either
writes to a log file or calls syslog().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c1988410"
>[2c1988410]</a></li>
</ul>
</dd>
<dt>2021-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.7p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df1895f66"
>[df1895f66]</a></li>
</ul>
</dd>
<dt>2021-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
Check arrays that are passed in for NULL before using them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f7cae69c"
>[8f7cae69c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Disable nss_search()-based group lookups on HP-UX for now. There is a
crash when &ldquo;group: compat&rdquo; is used in /etc/nsswitch.conf that I haven&rsquo;t
been able to debug. Since HP-UX doesn&rsquo;t ship the appropriate headers it
is likely that there is a mismatch between include/compat/nss_dbdefs.h
and what HP actually uses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f161782"
>[f7f161782]</a></li>
</ul>
</dd>
<dt>2021-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Remove logsrvd closure ERROR state and use a boolean flag instead. Fixes
a bug where we would not insert a journal file that failed to relay into
the queue because its state was changed from CONNECTING to ERROR after
failing to connect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b33974f2"
>[7b33974f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat/nss_dbdefs.h, lib/util/getgrouplist.c:<br>
Add NSS_TRYAGAIN and correct buflen in struct nss_XbyY_buf_t. Add some
function argument names. Also use struct nss_db_state * instead of void
<ul>
<li>in nss_db_root_t. We don&rsquo;t define struct nss_db_state but since it is
a pointer all we need is a forward declaration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5247845a"
>[c5247845a]</a></li>
</ul>
</li>
</ul>
</dd>
<dt>2021-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in:<br>
Make sure we link with libsudo_util <em>after</em> libfuzzstub. This only
affects builds with a static libsudo_util. Also fix a warning on HP-UX
about main not being public.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b913a832e"
>[b913a832e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/regress/getgrouplist/getgids.c:
Add getgids utility to simular &ldquo;id -G&rdquo; using sudo_getgrouplist2()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfaa9b95f"
>[dfaa9b95f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Make sure we don&rsquo;t read or write past the end of the group buffer. We
need to leave room for the terminating NULL in gr_mem. It is possible
for gbm-&gt;numgids &gt; gbm-&gt;maxgids if we ran out of room.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3104d8ba0"
>[3104d8ba0]</a></li>
</ul>
</dd>
<dt>2021-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Add some debugging to sudo_getgrouplist2().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b73c98c0"
>[4b73c98c0]</a></li>
</ul>
</dd>
<dt>2021-04-07  Radovan Sroka</dt>
<dd>
<ul>
<li>
<p>src/sudo_edit.c:<br>
Fixed bad condition for sesh args</p>
<p>In selinux_edit_copy_tfiles() when there is only one file and the open()
fails then number of arguments is lower than expected. Sudo should
return error with or without &ldquo;Defaults !sudoedit_checkdir&rdquo; set.</p>
<p>This was found with regression testing of CVE-2021-23240.</p>
<p>Signed-off-by: Radovan Sroka &lt;rsroka@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f44adcdf3"
>[f44adcdf3]</a></p>
</li>
</ul>
</dd>
<dt>2021-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix some debug_decl typos and remove an unneeded cast.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97f6fc259"
>[97f6fc259]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.h:<br>
T_TIMEOUT is not a bitwise flag so doesn&rsquo;t need to be a power of 2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82f5592d6"
>[82f5592d6]</a></li>
</ul>
</dd>
<dt>2021-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c:<br>
sudo_stat_plugin(): set errno but do not warn if plugin path too long.
The caller will display the warning (using errno) so there is no need to
do it twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d4a02ea"
>[b1d4a02ea]</a></li>
</ul>
</dd>
<dt>2021-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
sudoreplay does not parse sudoers to find the value of iolog_dir. The
default value for the I/O log directory is set at build time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5087f6885"
>[5087f6885]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix group list ref leak in sudoers_policy_store_result() on error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc647c32e"
>[cc647c32e]</a></li>
</ul>
</dd>
<dt>2021-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Update comment to match reality.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=958066edd"
>[958066edd]</a></li>
</ul>
</dd>
<dt>2021-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, scripts/ltmain.sh, src/Makefile.in:<br>
Build sudo_noexec.so as a module on systems other then Darwin. On
Darwin, shared modules and shared libraries are not interchangable and
since we preload sudo_noexec.so via DYLD_INSERT_LIBRARIES it must be a
library, not a module. We must relax the requirement that libraries
begin with a &ldquo;lib&rdquo; prefix to work around this difference. This does mean
you must use sudo&rsquo;s libtool on Darwin (macOS) but that is already a
requirement on other systems (notably HP-UX and SCO) due to a number of
libtool patches we require that haven&rsquo;t be accepted upstream. This is a
different fix for PR #102.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e492267e"
>[2e492267e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use -Wno-deprecated-declarations on macOS This quiets warnings about
LDAP and audit libraries being deprecated. We will use them until they
are removed in a future version of macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31e613811"
>[31e613811]</a></li>
</ul>
</dd>
<dt>2021-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Use /usr/bin/cc on FreeBSD and macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0645a2ade"
>[0645a2ade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Don&rsquo;t include errno in &ldquo;unable to connect to log server&rdquo; message. There
should be a more specific message, usually with an error string,
displayed earlier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78849e672"
>[78849e672]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Fix compiler warning on FreeBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9b831112"
>[d9b831112]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/hostcheck.c:<br>
Explicitly include netinet/in.h for struct sockaddr_in and
sockaddr+_in6. Fixes a compilation problem on FreeBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96fb72e7c"
>[96fb72e7c]</a></li>
</ul>
</dd>
<dt>2021-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec0dcab3c"
>[ec0dcab3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Better warning when close function is passed a non-terminal signal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2155c704"
>[f2155c704]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_local.c:<br>
Remove line causing store_suspend_local() to return false on success.
This is something that should have been removed as part of the local I/O
logging refactor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f5c8fe12"
>[0f5c8fe12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t set the command status in the closure when the command is
suspended. This should only be set for signals that terminate the
process. Fixes a bug where the sudo front-end could call the plugin
close function with a non-terminal signal argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3147bbeb2"
>[3147bbeb2]</a></li>
</ul>
</dd>
<dt>2021-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/python_plugin_policy.c:<br>
Quiet -Wshadow warnings from gcc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cdf49d33"
>[6cdf49d33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
The -g option may also be used with any group the target user belongs
to. The description in the Runas_Spec section incorrectly stated that
the -g option could not be used if no runas group was set. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=975"
>Bug
#975</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7033f1c1d"
>[7033f1c1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove redundant &ldquo;configuring Sudo version X.YY&rdquo; line. We now display
this along with the summary info at the end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2efa90352"
>[2efa90352]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t check for -Wl,-z,relro twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=841e1b33f"
>[841e1b33f]</a></li>
</ul>
</dd>
<dt>2021-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfc17bc66"
>[bfc17bc66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build python plugin for RHEL 6 as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3018c1cd2"
>[3018c1cd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove shell-style quotes in configure warning/error/notice messages.
Square bracket quotes are used, no need for shell-style double quotes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b33594a4"
>[9b33594a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Summarize configure settings after all tests have run. This makes it a
lot easier to see what features have been enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96436787a"
>[96436787a]</a></li>
</ul>
</dd>
<dt>2021-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Remove &ndash;with-efence option, there are better options available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d71731e50"
>[d71731e50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Move misplaced changes into the 1.9.7 section where they belong.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2081f902"
>[f2081f902]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/sudo_conf/conf_test.c:<br>
Awful hack to pass on macOS where group_source=dynamic by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=468e9c7f4"
>[468e9c7f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, po/ca.mo, po/ca.po,
po/it.mo, po/it.po, po/sr.mo, po/sr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e9a5e4f9"
>[0e9a5e4f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Document late stage 1.9.7 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f1adcb2"
>[e6f1adcb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in, logsrvd/sendlog.c,
logsrvd/sendlog.h:<br>
sudo_sendlog: rename -m (max-time) to -s (stop-after).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d734d57e"
>[9d734d57e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrv_util.c, logsrvd/logsrvd.c, logsrvd/logsrvd_journal.c:<br>
Update closure-&gt;elapsed_time in journal_seek(). Otherwise the commit
point messages won&rsquo;t be accurate when restarting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf096e1a"
>[caf096e1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in, logsrvd/sendlog.c,
logsrvd/sendlog.h:<br>
Add &ldquo;-m elapsed&rdquo; option to specify the max elapsed time of records to
send. Useful for testing the ability of the server to handle restarted
log transfers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7376fa632"
>[7376fa632]</a></li>
</ul>
</dd>
<dt>2021-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c:<br>
Disable reading from client or relay when sending error to client. We
treat an error from the relay as fatal and must stop processing data
from both client and relay to make sure we don&rsquo;t get out of sync.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a3906634"
>[5a3906634]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd_local.c:<br>
Fix I/O log restart of locally-store logs. This got broken a while ago
when evlog in struct connection_closure was changed to a pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3534712d"
>[c3534712d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Fix detection of the volatile flag when other flags are present.
Otherwise flags fields like &ldquo;volatile,ignore-other&rdquo; will be ignored by
the Debian and BSD back ends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5542f8b2"
>[b5542f8b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Fix debug message when prctl(PR_SET_DUMPABLE, 0, 0, 0, 0) fails. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/101"
>GitHub
issue #101</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51cbc626f"
>[51cbc626f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c, logsrvd/sendlog.c, logsrvd/tls_client.c,
logsrvd/tls_common.h, plugins/sudoers/log_client.c:<br>
Don&rsquo;t hard-code the TLS connect timeout, use normal connect timeout. For
sudo_logsrvd, this is the relay connect_timeout setting. For sudoers,
this is the log_server_timeout setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109a0331a"
>[109a0331a]</a></li>
</ul>
</dd>
<dt>2021-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_queue.c:<br>
Add missing closedir(3) in logsrvd_queue_scan(). Coverity CID 221591
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06cb6459c"
>[06cb6459c]</a></li>
</ul>
</dd>
<dt>2021-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d883213f5"
>[d883213f5]</a></li>
</ul>
</dd>
<dt>2021-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention &ldquo;log_server_verify&rdquo; bug fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d204d4120"
>[d204d4120]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, doc/sudo_logsrvd.conf.man.in,
doc/sudo_logsrvd.conf.mdoc.in, examples/sudo_logsrvd.conf, m4/sudo.m4,
pathnames.h.in:<br>
Rename logsrvd log dir to /var/log/sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fda17ecfd"
>[fda17ecfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_queue.c:<br>
Make the failed relay retry interval configurable. This is the amount of
time to wait before trying to resend a journal to the relay server after
a connection error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f49930c62"
>[f49930c62]</a></li>
</ul>
</dd>
<dt>2021-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_journal.c, logsrvd/logsrvd_queue.c,
logsrvd/logsrvd_relay.c:<br>
Send outgoing messages to the relay server on startup. Also attempt to
retry messages that could not be relayed periodically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=177816b78"
>[177816b78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Avoid clobbering errno in warning().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9077daee9"
>[9077daee9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Set relay name string to NULL after dropping the reference. Otherwise it
is possible to decrement the reference more than once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc82430a6"
>[bc82430a6]</a></li>
</ul>
</dd>
<dt>2021-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix cut &amp; pasto that prevented the verify_server option from being set.
The &ldquo;log_server_verify&rdquo; setting passed from the policy plugin was
applied to the &ldquo;keepalive&rdquo; option instead of &ldquo;verify_server&rdquo;. From
Krisztian Kovacs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0345e23"
>[af0345e23]</a></li>
</ul>
</dd>
<dt>2021-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in, logsrvd/logsrvd.c:<br>
Write client and server information to debug file on SIGUSR1 This can be
used to debug client problems such as a connection not being closed as
expected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01bdfd3be"
>[01bdfd3be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in:<br>
Document journal file directories in store_first mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cefa72c6a"
>[cefa72c6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_journal.c:<br>
Create journal files in an incoming directory, move to outgoing when
complete. This will make it possible to process completed journal files
periodically if the relay server is down.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f92bb8840"
>[f92bb8840]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Add missing connection_close() call for relay-only connections. For an
immediate relay we will close the connection when the client disconnects
(or there is a timeout). However, for store-and-forward mode the client
has already disconnected at the time we are relaying.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c593d5a4"
>[5c593d5a4]</a></li>
</ul>
</dd>
<dt>2021-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Replace non-ascii characters in warning string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4bdc85d7"
>[d4bdc85d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/tailq/hltq_test.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/editor/check_editor.c,
plugins/sudoers/regress/exptilde/check_exptilde.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/regress/unescape/check_unesc.c:<br>
Quiet clang analyzer false positive in regress tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac878d3e2"
>[ac878d3e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_local.c:<br>
Move local iolog log functions to logsrvd_local.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84a01d3a9"
>[84a01d3a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Better client error reporting on relay server connection error. More
detailed error messages may be found in the debug log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d8942e82"
>[6d8942e82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Update debug pid string when sudo_logsrvd becomes a daemon.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e55991f24"
>[e55991f24]</a></li>
</ul>
</dd>
<dt>2021-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Must call SSL_shutdown() before closing the underlying socket. This got
broken by some code rearrangement when relay mode was added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f25275ad5"
>[f25275ad5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c:<br>
Recover if the client or relay server closes the TLS connection
uncleanly. The other end of the connection should perform a proper TLS
shutdown but as long as we are in the correct state there is no need to
treat this as a user-visible error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67029f3cc"
>[67029f3cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, aclocal.m4, configure, configure.ac:<br>
Sudo 1.9.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66c6edada"
>[66c6edada]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in, plugins/python/lsan_suppr.txt:<br>
Add a suppression file for the libpython leaks. This is a big hammer but
it seems like the best we can do for now. Allows &ldquo;make check&rdquo; to succeed
when address sanitizer is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a6589343"
>[8a6589343]</a></li>
</ul>
</dd>
<dt>2021-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/editor.c,
plugins/sudoers/regress/editor/check_editor.c:<br>
When spliting EDITOR check for escaped quote characters. Also add
check_editor to sudoers &ldquo;make check&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6907376ae"
>[6907376ae]</a></li>
</ul>
</dd>
<dt>2021-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/editor.c,
plugins/sudoers/regress/editor/check_editor.c:<br>
Treat a lone backslash at the end of a string as a literal backslash.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/99"
>GitHub issue #99</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e5131dec"
>[5e5131dec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6d2e3488"
>[d6d2e3488]</a></li>
</ul>
</dd>
<dt>2021-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c:<br>
Avoid a potential NULL dereference when mutating args_str. Coverit CID
221401
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a85c6b41a"
>[a85c6b41a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_journal.c:<br>
Avoid calling fread() with a NUL buffer if msg_len is 0. Coverity CID
221399
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65a55497e"
>[65a55497e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Set a restrictive umask so new files are only read/write by owner.
Coverity CID 221402
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9f0eba1f"
>[d9f0eba1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
In connection_closure_free() only close sock if it is not -1. When
relaying from a journal there will be no socket. Coverity CID 221403
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfd5803bd"
>[bfd5803bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Avoid potential NULL dereference in get_free_buf(). Coverity CID 221400
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57b8122cf"
>[57b8122cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_relay.c:<br>
Remove some now-dead code in the error path. Coverity CID 221397 and
221398
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21641a27e"
>[21641a27e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_relay.c:<br>
Use function pointers for each client message type instead of
conditionals. This separats out the message handler from the functions
that store or relay the message contents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=761b02d34"
>[761b02d34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c:<br>
Add enqueue_error_message() helper function. Formats and enqueues an
error message and enables the write event.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64ac63918"
>[64ac63918]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_journal.c,
logsrvd/logsrvd_relay.c:<br>
Forward the journaled entry after it has been stored locally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=050e91f8d"
>[050e91f8d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_journal.c:<br>
Stash the value of the store_first config setting in connection_closure.
If the configuration changes it should not affect a connection that is
already in progress.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=280fabac3"
>[280fabac3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_journal.c, logsrvd/logsrvd_relay.c:<br>
Journal messages to disk when store_first is set in the relay section.
Instead of forwarding messages immediately, they are journaled locally
in wire format. This will be used to implement relay store-and-forward
mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2d3070fa"
>[c2d3070fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, doc/sudo_logsrvd.conf.man.in,
doc/sudo_logsrvd.conf.mdoc.in, doc/sudo_logsrvd.mdoc.in,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c, m4/sudo.m4, pathnames.h.in:<br>
Add configuration for sudo_logsrvd store-and-forward mode. Adds
&ldquo;relay_dir&rdquo; and &ldquo;store_first&rdquo; settings to sudo_logsrvd.conf in the
[relay] section. Also adds a &ndash;with-relaydir configure argument to
change the default value (usually /var/log/logsrvd-relay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f5b353e8"
>[6f5b353e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/signal.c:<br>
Make sure SIGCHLD is not ignored when sudo is executed. If SIGCHLD is
ignored there is a race condition between when the process is executed
and when the SIGCHLD handler is installed. This fixes the bug described
by GitHub PR #98
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=727056e0c"
>[727056e0c]</a></li>
</ul>
</dd>
<dt>2021-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Remove the HP-UX 11.0 pread64() hack, it causes problems on modern
HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0a32fe73"
>[b0a32fe73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/limits.c:<br>
Add minimum value to consider when overriding resource limits. Currently
only used for RLIMIT_DATA and RLIMIT_AS.</p>
<p>This works around a problem on HP-UX where setting RLIMIT_DATA changes
the resource limits for both 32-bit and 64-bit processes. HP-UX
processes start out with RLIMIT_DATA set based on the values of the
maxdsiz and maxdsiz_64bit kernel tunables, depending on whether they are
32-bit or 64-bit. By default this limit is 1GB for 32-bit processes and
4GB for 64-bit. However, once RLIMIT_DATA is changed, it does not appear
to be possible to restore the old values. This can result in a 64-bit
process that is executed by a 32-bit shell getting the 32-bit
RLIMIT_DATA instead of the 64-bit one. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=973"
>Bug
#973</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6717415e7"
>[6717415e7]</a></p>
</li>
</ul>
</dd>
<dt>2021-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Don&rsquo;t use msg_len as a length after converting it to network byte order.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32f742389"
>[32f742389]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c:<br>
Use the packed message buffer when relaying if possible. There&rsquo;s no need
to rebuild the message buffer for anything but RestartMessage and
ClientHello.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=110d9667e"
>[110d9667e]</a></li>
</ul>
</dd>
<dt>2021-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c:<br>
Allocate the data buffer in get_free_buf() too. We always know the size
of the data buffer we need at allocation time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=935daf6b7"
>[935daf6b7]</a></li>
</ul>
</dd>
<dt>2021-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c:<br>
Relay ChangeWindowSize and CommandSuspend events too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dce67ec1"
>[3dce67ec1]</a></li>
</ul>
</dd>
<dt>2021-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log:<br>
Regenerate test output with python 3.10a7 Also adjust debug tests so
they pass on older python versions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c2224584"
>[7c2224584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/python.m4:<br>
determine Python (3.10) version number correctly. from upstream automake
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ffa915c9"
>[5ffa915c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, m4/python.m4, m4/runlog.m4:<br>
Move python.m4 and runlog.m4 to the m4 directory. Previously they were
inline in aclocal.m4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbbf60266"
>[fbbf60266]</a></li>
</ul>
</dd>
<dt>2021-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add hiuxmpp where we have hpux for special cases. Also move the HP-UX
11.00 pread(2) workaround into the section where pread(2) is tested for,
not before it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d76cc96af"
>[d76cc96af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp:<br>
Only replace the last instance of &ldquo;sudo&rdquo; in example and doc dir.
Otherwise we end up with weird paths for a prefix like /opt/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=620b0dec8"
>[620b0dec8]</a></li>
</ul>
</dd>
<dt>2021-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.mdoc.in:<br>
Fix lint warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1323ba43"
>[a1323ba43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in:<br>
Mention relay mode and update TLS example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=556b8f62c"
>[556b8f62c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo.pp:<br>
If libssl_dep was not passed in, use ldd to determine its value.
Normally, mkpkg will figure this out, but if the user does &ldquo;make
package&rdquo; outside of the mkpkg script, libssl_dep will not be set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d028410bf"
>[d028410bf]</a></li>
</ul>
</dd>
<dt>2021-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, doc/UPGRADE:<br>
Enable the use of OpenSSL if log client/server not disabled. This adds a
dependency on OpenSSL unless it is explicitly disabled
(&ndash;disable-openssl) or the sudo log client and server are disabled
(&ndash;disable-log-client and &ndash;disable-log-server).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28d41ceca"
>[28d41ceca]</a></li>
</ul>
</dd>
<dt>2021-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/codespell.skip:<br>
configure aux scripts moved to the scripts directory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8fda5b0a"
>[b8fda5b0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/logsrvd_conf.c:<br>
Set logsrvd_config to NULL in logsrvd_conf_cleanup() after freeing it.
Fixes a double free in fuzz_logsrvd_conf (but not sudo_logsrvd itself).
Also fix linking fuzz_logsrvd_conf with OpenSSL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e9baba2b"
>[4e9baba2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.1,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.2,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.3,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.4,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.5,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.6,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.dict:<br>
Update sudo_logsrvd.conf fuzzer to match configuration changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4e0e734b"
>[e4e0e734b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf:<br>
Document relay configuration changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae77355ed"
>[ae77355ed]</a></li>
</ul>
</dd>
<dt>2021-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_relay.c:<br>
Move relay configuration into its own section and add TLS options. TLS
options in the relay section will be used if specified, otherwise the
TLS options from the server section are used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=163a5f08b"
>[163a5f08b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_relay.c:<br>
Add &ldquo;server&rdquo; and &ldquo;relay&rdquo; to getters/callbacks specific to server and
relay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25d4dd8e6"
>[25d4dd8e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_relay.c:<br>
Remove struct logsrvd_tls_config. Now that the SSL context is
initialized in logsrvd_conf.c there&rsquo;s no need to export TLS
configuration other than tls_check_peer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90770794d"
>[90770794d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/logsrvd_relay.c:<br>
No longer need struct logsrvd_tls_runtime, use SSL_CTX instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9779996c3"
>[9779996c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c:<br>
Move allocation of the TLS context to logsrvd_conf_apply(). This way we
get certificate errors at configuration time, not after. It also means
that a change to the config file that renders the TLS settings invalid
will no longer cause the server to exit. The new config will just be
ignored as if there was a syntax error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=990fa4f5a"
>[990fa4f5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Only initialize the SSL library once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f0c16f06"
>[8f0c16f06]</a></li>
</ul>
</dd>
<dt>2021-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Sanity check struct timespec in timestamp file. Coverity CID 220564
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2909e20e"
>[c2909e20e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Check lseek(fd, 0, SEEK_CUR) for -1 return value. Not actually possible
in practice. Coverity CID 220568.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394673cbf"
>[394673cbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Check for NULL ifa-&gt;ifa_addr and ifa-&gt;ifa_netmask in both loops.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42865567d"
>[42865567d]</a></li>
</ul>
</dd>
<dt>2021-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Plug memory leak on overflow; Coverity CID 220556
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52c29aa7a"
>[52c29aa7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
In schedule_commit_point() do not free the closure on error. It is the
caller&rsquo;s responsibility to free resources on error. Coverity CID 220557
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37e8b5868"
>[37e8b5868]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Cast NULL terminator argument to char * when calling sudo_mkgrent().
Avoids a portability issue on systems where NULL is not a pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2e4f5364"
>[a2e4f5364]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_init.c:<br>
Rename LOGSRVD_DEFAULT_CIPHER_LST13 to DEFAULT_CIPHER_LST13
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d92610ee4"
>[d92610ee4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/tls_client.c:<br>
Include string.h for strerror(3) prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cb5a45ba"
>[5cb5a45ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_relay.c:<br>
Move connect_relay_tls() so we don&rsquo;t need a prototype for it. Fixes a
warning when sudo is not configured to use OpenSSL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f1a76cb8"
>[3f1a76cb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf:<br>
Document relay and connect_timeout server settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3aec794b7"
>[3aec794b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Add logsrvd_conf_cleanup() to free the conf data structures on exit.
There is no longer a need to do anything in shutdown_cb() other than
break out of the event loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86c815fd6"
>[86c815fd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Don&rsquo;t allow a wildcard address for the relay parameter.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec52810c0"
>[ec52810c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c, logsrvd/logsrvd_relay.c:<br>
Add sa_host to struct server_address as a ref counted string. Also
convert sa_str to ref counted string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30f57bcdc"
>[30f57bcdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in, lib/util/rcstr.c,
lib/util/util.exp.in, plugins/sudoers/Makefile.in,
plugins/sudoers/alias.c, plugins/sudoers/check_aliases.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c:<br>
Move reference-counted string code from sudoers to libsudo_util. It will
be used by sudo_logsrvd too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2db9e6421"
>[2db9e6421]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/logsrvd.h, logsrvd/logsrvd_relay.c,
logsrvd/sendlog.c, logsrvd/tls_common.h:<br>
Add support for relaying to another sudo_logsrvd via TLS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1c4de208"
>[b1c4de208]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, logsrvd/logsrvd_relay.c:<br>
Add a relay mode to sudo_logsrvd where it forwards instead of stores.
Relay hosts are be specified in the server section of sudo_logsrvd.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d60b8a791"
>[d60b8a791]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Split most of server_commit_cb() out into schedule_commit_point(). This
allows it to be used by the relay code too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=343100307"
>[343100307]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Try to send an error message to client for some client_msg_cb()
failures.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=533fcc3f0"
>[533fcc3f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Rename listen_address -&gt; server_address and add reference counting.
This will be used by the upcoming relay mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8101b23e5"
>[8101b23e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/logsrv_util.h, logsrvd/sendlog.c,
logsrvd/sendlog.h, logsrvd/tls_client.c, logsrvd/tls_common.h:<br>
Move common TLS client code to tls_client.c and use it in sendlog.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72c40ae0e"
>[72c40ae0e]</a></li>
</ul>
</dd>
<dt>2021-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/sendlog.c, logsrvd/sendlog.h, logsrvd/tls_common.h,
logsrvd/tls_init.c:<br>
Move common TLS initialization code to tls_init.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71e5275a1"
>[71e5275a1]</a></li>
</ul>
</dd>
<dt>2021-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrv_util.h, logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Use a tailq of write buffers instead of a single one per connection.
This allows us to queue up multiple messages for writing like the
sudoers client supports. Currently, each connection has its own free
list. In the future we may want a single free list with low and high
water marks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bb5eef9d"
>[7bb5eef9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/tgetpass.c:<br>
Set user group list when executing the askpass helper. Under normal
circumstances the existing group list will match the list fetched by
sudo. However, if sudo is executed by a process that has changed the
group list via setgroups(2) and &ldquo;group_source&rdquo; in sudo.conf is set to
&ldquo;dynamic&rdquo; it is possible for them to be different.</p>
<p>If group_source in sudo.conf is set to &ldquo;dynamic&rdquo; it is possible for the
group list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3ff4e663"
>[e3ff4e663]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Increase autoconf minimum version to 2.70. Some of the macros deprecated
in 2.70 are required by older versions. For example, AC_PROG_CC now does
the work of AC_PROG_CC_STDC. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=972"
>Bug
#972</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1f8515bd"
>[f1f8515bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, doc/Makefile.in,
examples/Makefile.in, include/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, scripts/config.guess,
scripts/config.sub, scripts/install-sh, scripts/ltmain.sh,
src/Makefile.in:<br>
Move autoconf auxiliary files to the scripts directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4517e0a1"
>[d4517e0a1]</a></li>
</ul>
</dd>
<dt>2021-04-01  Radovan Sroka</dt>
<dd>
<ul>
<li>
<p>src/selinux.c:<br>
Removed depricated security_context_t</p>
<p>Signed-off-by: Radovan Sroka &lt;rsroka@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2a63690c"
>[c2a63690c]</a></p>
</li>
</ul>
</dd>
<dt>2021-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:<br>
Document SUCCESS=return support in sudoers nsswitch.conf entries. Based
on a patch from Dennis Filder. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=971"
>Bug
#971</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28d65159e"
>[28d65159e]</a></li>
</ul>
</dd>
<dt>2021-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Move log_server_accept() out from under the #ifdef SUDOERS_LOG_CLIENT
Fixes a link error when sudo is configured with &ndash;disable-log-client.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa897d3a"
>[8fa897d3a]</a></li>
</ul>
</dd>
<dt>2021-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Return NULL if init_tls_client_context() fails. Otherwise, we will call
SSL_new with a freed SSL context. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=970"
>Bug
#970</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a7984120"
>[5a7984120]</a></li>
</ul>
</dd>
<dt>2021-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp, etc/sudo.pp:<br>
Do not include parent directories in rpm and deb files. Fixes a
directory conflict with the AIX sudo rpm package. Other deb/rpm packages
were not affected because parent dirs are omitted for a prefix of /usr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9d2374c"
>[4f9d2374c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Use separate getopt config for sudoedit. Avoids a problem where the user
gets an exclusive usage error message when using a sudo-specific option.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/95"
>GitHub issue #95</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40e4b386"
>[a40e4b386]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo_usage.h.in:<br>
Add -h and -V to sudoedit usage and customize help output for sudoedit.
Also add missing -B option to usage strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4c710ccf"
>[a4c710ccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Don&rsquo;t report a usage error for &ldquo;sudo -V&rdquo;. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/95"
>GitHub issue
#95</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9a0c72fd"
>[b9a0c72fd]</a></li>
</ul>
</dd>
<dt>2021-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
SCO OpenServer uses SIOCGIFANUM, not SIOCGIFNUM. On OpenServer,
SIOCGIFNUM is the number of network interfaces, not the number of ifreq
structs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce1f0da84"
>[ce1f0da84]</a></li>
</ul>
</dd>
<dt>2021-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Add support for HP-UX SIOCGLIFNUM and SIOCGLIFCONF ioctls. We need to
use both SIOCGIFCONF and SIOCGLIFCONF since SIOCGLIFCONF only returns
IPv6 addresses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b269da75b"
>[b269da75b]</a></li>
</ul>
</dd>
<dt>2021-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Move get_net_ifs stub to the top and remove unused INET_ADDRSTRLEN def.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00cdc83cb"
>[00cdc83cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
No longer need ifr_tmp variable, just reuse ifr. Now that we store the
string version of the address before fetching the netmask we can just
re-use ifr. This simplifies things and is safer since if there is space
for the address there must also be space for the mask.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e49dd238"
>[0e49dd238]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
SCO OpenServer 5 returns a bogus value for SIOCGIFNUM. Gleaned from
sendmail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=423e23122"
>[423e23122]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Use SIOCGSIZIFCONF or SIOCGIFNUM where available. Still falls back to a
loop if not but now maxes out at 2048 interfaces instead of potentially
looping forever.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45ca46d73"
>[45ca46d73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, src/net_ifs.c:<br>
Remove support for obsolete ISC UNIX and MIPS RISC/OS systems. They were
getting in the way of net_its.c simplification.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf8feb287"
>[cf8feb287]</a></li>
</ul>
</dd>
<dt>2021-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Use SIOCGLIFCONF to get interface list where supported (Solaris). HP-UX
has a SIOCGLIFCONF but it is incompatible (and appears to only return
IPv6 addresses). Also add IPv6 support using SIOCGIFCONF (probably AIX
only) and make sure ifr_tmpbuf[] is properly aligned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d6a37a49"
>[9d6a37a49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/regress/net_ifs/check_net_ifs.c:<br>
Add simple regress check to display the network interfaces found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06df3a1b4"
>[06df3a1b4]</a></li>
</ul>
</dd>
<dt>2021-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Suggest clang 11 or higher, some fuzzers may hang when used with clang
10.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=009069115"
>[009069115]</a></li>
</ul>
</dd>
<dt>2021-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.dict:<br>
Add dictionary file for fuzz_logsrvd_conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=977f238d3"
>[977f238d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add a new &ldquo;fuzz&rdquo; target that executes the fuzzers for 8192 runs each. To
run indefinately, set FUZZ_RUNS=-1, e.g. &ldquo;make FUZZ_RUNS=-1 fuzz&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfff13212"
>[dfff13212]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in,
lib/iolog/regress/corpus/seed/log_json/id.json,
lib/iolog/regress/corpus/seed/log_json/ls.json,
lib/iolog/regress/corpus/seed/log_json/mailq.json,
lib/iolog/regress/corpus/seed/log_json/make.json,
lib/iolog/regress/corpus/seed/log_json/pkg_add.json,
lib/iolog/regress/corpus/seed/log_json/pkg_delete.json,
lib/iolog/regress/corpus/seed/log_json/printenv.json,
lib/iolog/regress/corpus/seed/log_legacy/id.log,
lib/iolog/regress/corpus/seed/log_legacy/ls.log,
lib/iolog/regress/corpus/seed/log_legacy/mailq.log,
lib/iolog/regress/corpus/seed/log_legacy/make.log,
lib/iolog/regress/corpus/seed/log_legacy/pkg_add.log,
lib/iolog/regress/corpus/seed/log_legacy/pkg_delete.log,
lib/iolog/regress/corpus/seed/log_legacy/printenv.log,
lib/iolog/regress/corpus/seed/timing/timing.1,
lib/iolog/regress/corpus/seed/timing/timing.2,
lib/iolog/regress/corpus/seed/timing/timing.3,
lib/iolog/regress/corpus/seed/timing/timing.4, lib/util/Makefile.in,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.1,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.2,
lib/util/regress/corpus/seed/sudo_conf/sudo.conf.3, logsrvd/Makefile.in,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.1,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.2,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.3,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.4,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.5,
logsrvd/regress/corpus/seed/logsrvd_conf/logsrvd.conf.6,
plugins/sudoers/Makefile.in,
plugins/sudoers/regress/corpus/seed/policy/policy.1,
plugins/sudoers/regress/corpus/seed/policy/policy.2,
plugins/sudoers/regress/corpus/seed/policy/policy.3,
plugins/sudoers/regress/corpus/seed/policy/policy.4,
plugins/sudoers/regress/corpus/seed/policy/policy.5:<br>
Move corpus files to a seed subdirectory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6eff3b313"
>[6eff3b313]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
We can now rely on LLVMFuzzerTestOneInput to flush stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5498c6a93"
>[5498c6a93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix fuzz_sudoers output comparison when fuzzing is enabled. libFuzzer
outputs additional info to stderr that our stub doesn&rsquo;t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bac057913"
>[bac057913]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Flush stdout before successful return from LLVMFuzzerTestOneInput().
Fixes a problem with diag lines from libFuzzer being interspersed with
test output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95bfd65fe"
>[95bfd65fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use &ndash;allow-multiple-definition to work around an issue with ld.lld. For
fuzz_policy we redefine getaddrinfo/freeaddrinfo to work around a DNS
timeout problem with name resolution and CIfuzz. However, this causes a
link failure when sanitizers are enabled on systems that use ld.lld as
their linker. Use a big hammer to avoid the link error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d03805c41"
>[d03805c41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/testsudoers.c,
plugins/sudoers/testsudoers_pwutil.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/tsgetgrpw.h:<br>
Do not redefine system group and passwd functions for testsudoers.
Instead, prefix the replacements with &ldquo;testsudoers_&rdquo; and use a custom
pwutil backend so they get used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e5cf7baa"
>[3e5cf7baa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Rename &ldquo;fuzz&rdquo; makefile target to &ldquo;check-fuzzer&rdquo;. It&rsquo;s purpose is to run
the fuzzers are part of a normal &ldquo;make check&rdquo; to avoid bit rot, not to
perform a fuzzer run. The fuzz_logsrvd_conf fuzzer was not wired up to
&ldquo;make check&rdquo; previously.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c182c90f"
>[4c182c90f]</a></li>
</ul>
</dd>
<dt>2021-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.6p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85d77fb3d"
>[85d77fb3d]</a></li>
</ul>
</dd>
<dt>2021-03-15  Alexandru Ardelean</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/policy.c:<br>
plugins: sudoers: policy: add MODE_IMPLIED_SHELL to RUN_VALID_FLAGS</p>
<p>Since this flag isn&rsquo;t set, the sudo_mode variable gets invalidated and
running the &lsquo;sudo&rsquo; command seems to error out with message
&lsquo;sudoers_policy_check: invalid mode flags from sudo front end: 0x80001&rdquo;&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=058fde925"
>[058fde925]</a></p>
</li>
</ul>
</dd>
<dt>2021-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f57ab1a63"
>[f57ab1a63]</a></li>
</ul>
</dd>
<dt>2021-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=968"
>Bug #968</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc32789af"
>[bc32789af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po, po/tr.mo, po/tr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=843c4b632"
>[843c4b632]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/gram.c:<br>
Use HAVE_STDINT_H instead of trying to guess based on <strong>STDC_VERSION</strong>.
Fixes compilation with pre-C99 headers when the compiler supports C99.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7d80e703"
>[d7d80e703]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/secure_path.c:<br>
Remove compatibility defines for POSIX sys/stat.h macros. Modern systems
have them and we no longer support pre-POSIX systems. This fixes
potential redefinition of the macros if sys/stat.h is included after
sudo_compat.h. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=968"
>Bug #968</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9d450292"
>[d9d450292]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/logwrap.c, plugins/python/python_plugin_approval_multi.inc,
plugins/python/python_plugin_audit_multi.inc,
plugins/python/python_plugin_io_multi.inc, src/get_pty.c:<br>
Quiet a few Solaris Studio compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f11e8d9a"
>[3f11e8d9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -Wno-unknown-pragmas along with -Wall. We don&rsquo;t want warnings about
unknown pragmas in system headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8e588565"
>[b8e588565]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Solaris 11.4 removed /usr/bin/optisa, use /usr/bin/isainfo instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42fbc185a"
>[42fbc185a]</a></li>
</ul>
</dd>
<dt>2021-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Compare OS name against freebsd* and netbsd* not freebsd and netbsd.
Fixes an issue on NetBSD where host_os starts with netbsdelf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2ba920e"
>[0e2ba920e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add @SUDOERS_LIBS@ to FUZZ_LIBS for -lutil on FreeBSD and NetBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07af7caf7"
>[07af7caf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/python/Makefile.in, src/Makefile.in:<br>
Set locale for all &ldquo;make check&rdquo; targets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cf7c3a95"
>[0cf7c3a95]</a></li>
</ul>
</dd>
<dt>2021-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
AIX 6.1 may have a broken fmemopen(). We only use it for the fuzzers so
ignore it for AIX &lt; 7.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bce330ff"
>[7bce330ff]</a></li>
</ul>
</dd>
<dt>2021-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/pp:<br>
Only put specific directories in the ROOT section of the AIX package.
Previously, /usr and /opt were placed in USR and everything else went in
ROOT. Now, only /dev, /etc, /sbin and /var go in ROOT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b564cd7b"
>[2b564cd7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ja.mo, po/ja.po, po/ko.mo,
po/ko.po, po/pl.mo, po/pl.po, po/pt.mo, po/pt.po, po/pt_BR.mo,
po/pt_BR.po, po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po, po/zh_TW.mo,
po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce497bf30"
>[ce497bf30]</a></li>
</ul>
</dd>
<dt>2021-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c:<br>
Remove unused tls parameter, we now use a per-address tls flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c6080f13"
>[1c6080f13]</a></li>
</ul>
</dd>
<dt>2021-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document double escaping of backslashes. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=961"
>Bug
#961</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2759920b8"
>[2759920b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
No longer need to define _DARWIN_UNLIMITED_GETGROUPS on macOS. We now
define _DARWIN_C_SOURCE which accomplishes the same thing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06beb6f06"
>[06beb6f06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix a potential use-after-free in conversation function. The prompt
passed in to sudo_pam_verify() will be freed later by
check_user_interactive() so we need to reset the stashed value. From
Pavel Heimlich. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=967"
>Bug
#967</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08b0b626f"
>[08b0b626f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
No need to update cp after storing gr-&gt;gr_name, it is not used,
Coverity CID 219314
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0761a981"
>[f0761a981]</a></li>
</ul>
</dd>
<dt>2021-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/56"
>GitHub issue
#56</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a31bbbfbb"
>[a31bbbfbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=428515327"
>[428515327]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Log peer address in sudo_logsrvd JSON-format logs. The peer that
connected to us might not be the same host where the log entry
originated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d45267878"
>[d45267878]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, lib/util/sudo_conf.c:
Make &ldquo;group_source=dynamic&rdquo; the default on macOS. Recent versions of
macOS do not reliably return all of a user&rsquo;s non-local groups via
getgroups(2), even when _DARWIN_UNLIMITED_GETGROUPS is defined. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=946"
>Bug
#946</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ffa0ce05"
>[5ffa0ce05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/sudoers/Makefile.in:<br>
For regess/fuzz set LC_ALL to C.UTF-8 if possible, falling back on C.
Works around a crash in leak sanitizer when the locale is set to C and
TLS support is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bbf120bd"
>[9bbf120bd]</a></li>
</ul>
</dd>
<dt>2021-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Initialize the lbuf used by sudoers_trace_print() in init_lexer(). Free
the old buffer if there is one, otherwise it would never be freed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac8f23ef9"
>[ac8f23ef9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
In sudo_lbuf_destroy(), reset error, len and size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f27b0461"
>[7f27b0461]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention the integer overflow check in store_timespec().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8a8afba7"
>[c8a8afba7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
In find_path() stub only make a copy in outfile if returning FOUND.
Fixed a recently-introduced memory leak in the fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a28b5d58"
>[4a28b5d58]</a></li>
</ul>
</dd>
<dt>2021-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Disable debug code for FUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION It will
not be used and just confuses the coverage stats.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79dbf9f17"
>[79dbf9f17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Expand stub getaddrinfo() to resolve &ldquo;localhost&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c944576e"
>[0c944576e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Improve fuzz_policy coverage and set defaults in setdefs not parse. Now
exercises session open/close and set additional defaults to exercise
more code paths.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfcbc42ec"
>[cfcbc42ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:<br>
Improve SUDOERS_NAME_MATCH support. Now supports digests and performs
better directory matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f34a3072e"
>[f34a3072e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Add MODE_CHECK to LIST_VALID_FLAGS, fixes &ldquo;sudo -l command&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f86c11c4a"
>[f86c11c4a]</a></li>
</ul>
</dd>
<dt>2021-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, lib/iolog/Makefile.in,
lib/iolog/iolog_clearerr.c, lib/iolog/iolog_close.c,
lib/iolog/iolog_eof.c, lib/iolog/iolog_fileio.c, lib/iolog/iolog_gets.c,
lib/iolog/iolog_mkdirs.c, lib/iolog/iolog_mkdtemp.c,
lib/iolog/iolog_mkpath.c, lib/iolog/iolog_nextid.c,
lib/iolog/iolog_open.c, lib/iolog/iolog_openat.c,
lib/iolog/iolog_read.c, lib/iolog/iolog_seek.c,
lib/iolog/iolog_swapids.c, lib/iolog/iolog_util.c,
lib/iolog/iolog_write.c, lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
logsrvd/iolog_writer.c, logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Split iolog_fileio.c into multiple files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=851247e58"
>[851247e58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test27.ldif2sudo.ok:<br>
Update file that was missed in test27 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc9170d80"
>[fc9170d80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, lib/iolog/Makefile.in,
lib/iolog/iolog_conf.c, lib/iolog/iolog_fileio.c,
lib/iolog/iolog_loginfo.c:<br>
Break out I/O log config handling into iolog_conf.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d51d4af7a"
>[d51d4af7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/Makefile.in, lib/iolog/Makefile.in, logsrvd/Makefile.in,
plugins/sudoers/Makefile.in:<br>
regen Makefile.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7144955b0"
>[7144955b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/Makefile.in, lib/eventlog/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Add some missing files to the clean target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdfc07f33"
>[bdfc07f33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Correct the integer overflow check in store_timespec(). Fixes oss-fuzz
issue #31463
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1cc1c59e"
>[d1cc1c59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test27.in,
plugins/sudoers/regress/sudoers/test27.json.ok,
plugins/sudoers/regress/sudoers/test27.ldif.ok,
plugins/sudoers/regress/sudoers/test27.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test27.out.ok,
plugins/sudoers/regress/sudoers/test27.toke.ok:<br>
Add netgroup check to sudoers test27
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=963ea4151"
>[963ea4151]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok:<br>
Sync with fuzz_sudoers changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddb1350b7"
>[ddb1350b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Fuzz with runuser and rungroup specified too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=963475a9b"
>[963475a9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test27.in,
plugins/sudoers/regress/sudoers/test27.json.ok,
plugins/sudoers/regress/sudoers/test27.ldif.ok,
plugins/sudoers/regress/sudoers/test27.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test27.out.ok,
plugins/sudoers/regress/sudoers/test27.toke.ok:<br>
Add test to exercise RunasSpec without a RunasUser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d160dac35"
>[d160dac35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test22.sudo.ok,
plugins/sudoers/regress/sudoers/test23.sudo.ok,
plugins/sudoers/regress/sudoers/test24.sudo.ok,
plugins/sudoers/regress/sudoers/test26.sudo.ok:<br>
Remove unused regress files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e0ca52b5"
>[2e0ca52b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Don&rsquo;t try to run getters if we failed to parse the config file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3ef60312"
>[b3ef60312]</a></li>
</ul>
</dd>
<dt>2021-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Add a stub getaddrinfo(3) to avoid a DNS timeout in CIfuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fc5932be"
>[3fc5932be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Fix runchroot, runcwd, tty_tickets. Add timestampowner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b545e561"
>[8b545e561]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Only add command_info to garbage collector on successful return.
Otherwise it will be freed on failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65b598602"
>[65b598602]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Add user millert to group sudo, which is often the exempt group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3595fd550"
>[3595fd550]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Add some defaults settings in sudo_file_parse(). We don&rsquo;t have a real
policy file but we still want to exercise callbacks in sudoers.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d75db837b"
>[d75db837b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Do not free sudo_user.iolog_{file,path} in sudo_user_free(). They are
not dynamically allocated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48669edd3"
>[48669edd3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_timing.c:<br>
Remove unnecessary warnings, we want to fail silently.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80e223b6c"
>[80e223b6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
No longer need to stub out eventlog config functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df1b43111"
>[df1b43111]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.4,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.5,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.6,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Call public getters in logsrvd.conf fuzzer and add to corpus. Now
exercises the syslog config erorr path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5d7db56e"
>[f5d7db56e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Add more passes to policy fuzzer Now execises list, list other user and
show_version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65df01dd7"
>[65df01dd7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Implement sudoers_policy_deregister_hooks() Register/deregister hooks in
fuzz_policy and also call show_version().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3b80fe6d"
>[b3b80fe6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Add sudoers debug register/deregister.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6dc13229"
>[e6dc13229]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Remove unnecessary break statement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bafd52fa"
>[7bafd52fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok,
plugins/sudoers/regress/sudoers/test14.in,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test14.ldif.ok,
plugins/sudoers/regress/sudoers/test14.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test14.toke.ok:<br>
Include a sha384 digest in the test corpus.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d04bbdbe"
>[0d04bbdbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Parse sudoers file in the C locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea341e2d3"
>[ea341e2d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test26.in,
plugins/sudoers/regress/sudoers/test26.json.ok,
plugins/sudoers/regress/sudoers/test26.ldif.ok,
plugins/sudoers/regress/sudoers/test26.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test26.out.ok,
plugins/sudoers/regress/sudoers/test26.sudo.ok,
plugins/sudoers/regress/sudoers/test26.toke.ok:<br>
Add regress test with all current Defaults settings. Currently skips
SELinux and Solaris privilege settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24e1774ce"
>[24e1774ce]</a></li>
</ul>
</dd>
<dt>2021-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_hooks.c:<br>
Move env hooks into sudoers_hooks.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7b414ce4"
>[e7b414ce4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
No need to call check_defaults() and check_aliases() in quiet mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f82890e5d"
>[f82890e5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gc.c:<br>
sudoers_gc_init() is not currently used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4e86a911"
>[b4e86a911]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/fmtsudoers_cvt.c:<br>
Split fmtsudoers.c into the parts used by sudoers plugin and cvtsudoers.
Only testsudoers and cvtsudoers use the full set of formatting
functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38c381a0c"
>[38c381a0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Check defaults settings too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39e80e47b"
>[39e80e47b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_stubs.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Add fuzzer-specific stubs source file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05767145b"
>[05767145b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Do not overwrite existing ChangeLog file if there is no hg/git dir. We
don&rsquo;t want &ldquo;make install&rdquo; from a source tarball to nuke the ChangeLog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=792407fbe"
>[792407fbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Remove fuzzer targets in &ldquo;make clean&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae4c1bf6"
>[1ae4c1bf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Ignore fuzzer targets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39774e238"
>[39774e238]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
lib/util/regress/fuzz/fuzz_sudo_conf.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Set program name in fuzzers so we get consisten warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3f38fac0"
>[a3f38fac0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/regress/fuzz/fuzz_policy.c:
Use real eventlog config fuctions instead of stubs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d27880af"
>[9d27880af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c,
lib/iolog/iolog_loginfo.c:<br>
Move iolog info log writing to iolog_loginfo.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b93aad4e9"
>[b93aad4e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in, lib/iolog/iolog_loginfo.c,
lib/iolog/iolog_timing.c,
lib/iolog/regress/iolog_timing/check_iolog_timing.c:<br>
Split iolog_util.c into iolog_loginfo.c and iolog_timing.c. Also rename
check_iolog_util -&gt; check_iolog_timing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a56f7daee"
>[a56f7daee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in, lib/iolog/iolog_legacy.c,
lib/iolog/iolog_util.c:<br>
Move legacy I/O log info file parsing to iolog_legacy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a657e2a1"
>[2a657e2a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_eventlog.h, lib/eventlog/Makefile.in,
lib/eventlog/eventlog.c, lib/eventlog/eventlog_conf.c:<br>
Move eventlog config code into eventlog_conf.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=412858272"
>[412858272]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/eventlog/Makefile.in, lib/eventlog/eventlog.c,
lib/eventlog/eventlog_free.c:<br>
Move eventlog_free() into its own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f399c449a"
>[f399c449a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Stub out eventlog and iolog configuration setters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dba37768b"
>[dba37768b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/defaults.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok:<br>
Update Defaults settings after parsing sudoers. Also stub out
dump_defaults when fuzzing as it is not used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbd11c44d"
>[cbd11c44d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/b64_decode.c,
plugins/sudoers/b64_encode.c:<br>
Split base64 encode/decode functions into separate source files. They
are independent functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33551acd1"
>[33551acd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
fuzz_printf and fuzz_conversation can be stubs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f35d9c8be"
>[f35d9c8be]</a></li>
</ul>
</dd>
<dt>2021-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Exercise tilde expansion if used in runcwd or runchroot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f5aed70a"
>[9f5aed70a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check_aliases.c:<br>
Move alias checking code out of visudo.c and into check_aliases.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c70295787"
>[c70295787]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Check aliases in fuzz_sudoers if the policy parsed correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a0ba4008"
>[2a0ba4008]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/parse.h,
plugins/sudoers/visudo.c:<br>
Move alias checking code out of visudo.c and into check_aliases.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a85543c1"
>[5a85543c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
We don&rsquo;t need to link fuzz_sudoers with file.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c71a39736"
>[c71a39736]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.dict,
lib/util/regress/fuzz/fuzz_sudo_conf.dict,
plugins/sudoers/regress/fuzz/fuzz_policy.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.dict:<br>
Strings in dictionary files need to be quoted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03e610dab"
>[03e610dab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in,
lib/iolog/regress/fuzz/fuzz_iolog_json.dict, lib/util/Makefile.in,
lib/util/regress/fuzz/fuzz_sudo_conf.dict, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_policy.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers.dict,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.dict:<br>
Add dictionary files for fuzzers where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=081e219e2"
>[081e219e2]</a></li>
</ul>
</dd>
<dt>2021-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Also free safe_cmnd so it doesn&rsquo;t leak.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0761b9e3"
>[e0761b9e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/stubs.c, plugins/sudoers/testsudoers.c:<br>
Return NOT_FOUND from the set_cmnd_path() stub since we don&rsquo;t set
user_cmnd. The purpose of set_cmnd_path() is to reset user_cmnd based on
a new runchroot. For the stub version we don&rsquo;t modify user_cmnd and so
must not return a status of FOUND. Fixes oss-fuzz issue #31250 which
only affected the fuzzer and not sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=322e0b369"
>[322e0b369]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok:<br>
Fix fuzz_sudoers output matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fc6b8c17"
>[5fc6b8c17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
Print &ldquo;running&rdquo; and &ldquo;executed&rdquo; lines to stderr like libfuzzer does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4adc11e33"
>[4adc11e33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c:<br>
Support passing sudo_make_gidlist_item() an array of gids. The gids are
formatted as strings, not gid_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39db44b04"
>[39db44b04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok:<br>
Prime user/group cached and set the interface list. Also match parsed
policy against multiple users.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f92080be6"
>[f92080be6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.h:<br>
Add sudo_mkgrent(), to be used to prime the group cache in
tests/fuzzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7463a1989"
>[7463a1989]</a></li>
</ul>
</dd>
<dt>2021-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Perform matching in fuzz_sudoers for inputs that parse correctly. The
fuzzer now exercised the normal match code as well as the pseudo-command
(list, validate, etc) match code. Privileges are also listed for
well-formed sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df42c0c1d"
>[df42c0c1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h:<br>
Add back SUDOERS_NAME_MATCH and enable it when fuzzing. This avoids the
test environment from influencing sudoers matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=921097cb6"
>[921097cb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Add missing globfree(3) in command_matches_glob() when matching a
directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecbe95589"
>[ecbe95589]</a></li>
</ul>
</dd>
<dt>2021-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_dso.c:<br>
Add support on AIX for loading plugins that are .a (not .so) files. It
is possible to specify the member name in parens after the path, e.g.
sudoers.a(shr.o) for 32-bit or sudoers.a(shr_64.o) for 64-bit. If no
member is specified in the path and dlopen() fails with ENOEXEC, try
again with an explicit member, either shr.o or shr_64.o.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=387169ac6"
>[387169ac6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add clean rules to .PHONY target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14c71eaa8"
>[14c71eaa8]</a></li>
</ul>
</dd>
<dt>2021-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add install-fuzz Makefile target to install the fuzzers and seed corpus.
The FUZZ_DESTDIR make variable needs to be set in the environment or on
the command line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f1e016cd"
>[9f1e016cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Only display fuzz_policy output if the fuzzer exits with an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ea2acc4c"
>[5ea2acc4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/corpus/policy/policy.1,
plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Call list, validate and invalidate entry points too. We need a separate
open/close for each one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d02cc9c3a"
>[d02cc9c3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add &ndash;disable-ssp configure option. This allows for disabling
-fstack-protector without turning off the other hardening options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90534b5b2"
>[90534b5b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/getdelim/getdelim_test.c:<br>
Test the error case by closing the underlying fd. Note that we don&rsquo;t use
ferror() here since our getdelim() has no way to set the error flag if
there is a memory allocation error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7e2dd15e"
>[a7e2dd15e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/getdelim/getdelim_test.c:<br>
Test the case where getdelim() must reallocate the buffer. Reproduces
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=960"
>Bug #960</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db70a70d0"
>[db70a70d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
When logging JSON to syslog, wrap the contents in a &ldquo;sudo&rdquo; object. This
makes it easier for log parsers to identify what is a sudo log entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5c1778e7"
>[e5c1778e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Restore the check for sudoers_policy.close == NULL. The fuzzers run as
part of &ldquo;make check&rdquo; too in which case NO_LEAKS won&rsquo;t be defined and the
close function will be set to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f76c59fc8"
>[f76c59fc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Use %td when printing the difference of two pointers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e047e9930"
>[e047e9930]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Don&rsquo;t print a NULL as a string if role/type/privs/limitprivs is not set.
We can&rsquo;t rely on printf(&quot;%s&rdquo;, NULL) not crashing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5813358b2"
>[5813358b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix compilation error on Solaris introduced with sudo_user_free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaf3d5643"
>[aaf3d5643]</a></li>
</ul>
</dd>
<dt>2021-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=960"
>Bug #960</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac45fba89"
>[ac45fba89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Distinguish between EOF and error using feof(3), not ferror(3). Our
getdelim(3) emulation won&rsquo;t set the error flag if the error is due to an
allocation failure. This explains the premature EOF without error seen
in <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=960"
>Bug #960</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9937d0803"
>[9937d0803]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getdelim.c:<br>
Reset end pointer when reallocing the line buffer in getdelim(). Fixes
excessive memory allocations for long lines. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=960"
>Bug
#960</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75004b705"
>[75004b705]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Remove duplicated MALLOC_OPTIONS and MALLOC_CONF env variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abdef93f7"
>[abdef93f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
On parse error, display line and column instead of the offending line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc45ac5bc"
>[dc45ac5bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79a18cb41"
>[79a18cb41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b736804cf"
>[b736804cf]</a></li>
</ul>
</dd>
<dt>2021-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_json.c, lib/iolog/iolog_util.c:<br>
Pass I/O log memory allocation errors up to the caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a279d576"
>[4a279d576]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.ac, doc/sudoers.man.in,
doc/sudoers.mdoc.in, pathnames.h.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/timestamp.c:<br>
Add admin_flag sudoers option and make &ndash;enable-admin-flag take a path.
It is now possible to disable the Ubuntu admin flag in sudoers or change
its location. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/56"
>GitHub issue
#56</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5504148a"
>[a5504148a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/exptilde.c,
plugins/sudoers/regress/exptilde/check_exptilde.c:<br>
Fix tilde expansion of paths with no user like ~/foo. The &lsquo;/&rsquo; separator
was missing in the resulting path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ec59cddc"
>[5ec59cddc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, lib/util/sudo_conf.c,
plugins/sudoers/policy.c:<br>
Limit max_groups in sudo.conf to 1024. The max_groups setting should no
longer be needed anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a18b2a9dd"
>[a18b2a9dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
In sudoers_policy_close() call sudoers_cleanup() instead of
sudo_user_free(). If we didn&rsquo;t call sudoers_policy_main() due to an
early error there may be more things to clean up.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df91e15b8"
>[df91e15b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Check for invalid flag combinations from front-end for all cases. The
checks are now performed in the check_policy, list, validate and
invalidate functions instead of as part of the open function. We can&rsquo;t
perform the checks in open because we don&rsquo;t yet know what operation is
going to be performed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecdf732ad"
>[ecdf732ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.c:<br>
Always dynamically allocate user_cmnd, it is freed in sudo_user_free().
Instead of setting user_cmnd in the policy functions, always set argv.
Calling sudoers_policy_main() with argc of 0 is no longer allowed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae3a098d2"
>[ae3a098d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
No need for sudoers_cleanup() in sudoers_policy_invalidate(). The
sudoers close() function is now called even for &ldquo;sudo -k&rdquo;. Also no need
to set user_cmnd, it is not used in this code path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c09169e81"
>[c09169e81]</a></li>
</ul>
</dd>
<dt>2021-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/logsrvd_conf.c,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.1,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.2,
logsrvd/regress/corpus/logsrvd_conf/logsrvd.conf.3,
logsrvd/regress/fuzz/fuzz_logsrvd_conf.c:<br>
Add simple fuzzer for sudo_logsrvd.conf parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d23508334"
>[d23508334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in,
lib/util/regress/corpus/sudo_conf/sudo.conf.1,
lib/util/regress/corpus/sudo_conf/sudo.conf.2,
lib/util/regress/corpus/sudo_conf/sudo.conf.3,
lib/util/regress/fuzz/fuzz_sudo_conf.c:<br>
Add simple fuzzer for sudo.conf parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25f50e2f0"
>[25f50e2f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_timing.c:<br>
Fix unlinking of timing temp file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d81d7e0cf"
>[d81d7e0cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
plugins/python/Makefile.in, plugins/sudoers/Makefile.in:<br>
Set MALLOC_OPTIONS and MALLOC_CONF for all regress targets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de2a47f27"
>[de2a47f27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Free struct sudo_user in sudoers_policy_close() and sudoers_cleanup().
Also, do not NULL out the close function if NO_LEAKS is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52e3fcc79"
>[52e3fcc79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in,
lib/iolog/regress/corpus/log_legacy/id.log,
lib/iolog/regress/corpus/log_legacy/ls.log,
lib/iolog/regress/corpus/log_legacy/mailq.log,
lib/iolog/regress/corpus/log_legacy/make.log,
lib/iolog/regress/corpus/log_legacy/pkg_add.log,
lib/iolog/regress/corpus/log_legacy/pkg_delete.log,
lib/iolog/regress/corpus/log_legacy/printenv.log,
plugins/sudoers/Makefile.in:<br>
For &ldquo;make fuzz&rdquo; only fuzz the seed corpus. This way we avoid files
generated by the fuzzer itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea7a70e85"
>[ea7a70e85]</a></li>
</ul>
</dd>
<dt>2021-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/gc.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Fix sudoers garbage collection and run it in policy fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f3c670a1"
>[7f3c670a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.github/workflows/main.yml:<br>
Rename master -&gt; main
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ade1c253"
>[5ade1c253]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Do not include errno string for invalid params from front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f0b26923"
>[7f0b26923]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
Always dynamically allocate user_role, user_type, user_privs,
user_limitprivs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=561740cd5"
>[561740cd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Remove dead code, front-end does not set runas_privs or runas_limitprivs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c0454495"
>[5c0454495]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Plug memory leak if there are duplicate user_info or command_info
entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1969b4f0"
>[d1969b4f0]</a></li>
</ul>
</dd>
<dt>2021-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>.github/workflows/main.yml:<br>
Add CIFuzz workflow to run fuzzers on push or PR.
<a
  class="gdoc-markdown__link"
  href="https://google.github.io/oss-fuzz/getting-started/continuous-integration"
>https://google.github.io/oss-fuzz/getting-started/continuous-integration</a>
/
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96d1dc8ab"
>[96d1dc8ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.h, plugins/sudoers/regress/fuzz/fuzz_policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/timestamp.c:<br>
Move create_admin_success_flag() to timestamp.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=776c57a81"
>[776c57a81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Error out if fuzzer/sanitizer enabled but not supported by the compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=440febff8"
>[440febff8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_policy.c:<br>
The push() function was not updating the size after reallocating.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=651a225a4"
>[651a225a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c, src/sudo.c:<br>
If sudo_getgrouplist2() returns -1, clamp ngroups based on max_groups.
The ngroups parameter is an out parameter that is filled in with the
actual number of groups, which may be less than the static number
allocated when max_groups is set in sudo.conf. Fixes a potential out of
bounds read found by LLVM libFuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41eae9120"
>[41eae9120]</a></li>
</ul>
</dd>
<dt>2021-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Reset sudoers path, owner and mode before parsing plugin arguments. This
is only needed when calling sudoers_policy_deserialize_info() more than
once, which is true for the policy fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e89a8133a"
>[e89a8133a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Cleanup sudoers sources on denial and error too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=197d6600f"
>[197d6600f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Fix sudo_getgrgid reference count bug when gid doesn&rsquo;t exist. This one
was missed when the other user/group lookup functions were fixed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=520db741b"
>[520db741b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/corpus/policy/policy.1,
plugins/sudoers/regress/corpus/policy/policy.2,
plugins/sudoers/regress/corpus/policy/policy.3,
plugins/sudoers/regress/corpus/policy/policy.4,
plugins/sudoers/regress/corpus/policy/policy.5,
plugins/sudoers/regress/fuzz/fuzz_policy.c, plugins/sudoers/sudoers.c:<br>
Fuzz sudoers policy module API. Includes a test case to reproduce
CVE-2021-3156.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df2931588"
>[df2931588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Plug memory leak if there are duplicate user_info entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed7962769"
>[ed7962769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, plugins/sudoers/Makefile.in:<br>
Make fuzz targets depend on fuzzer stub library. We really want a
dependency on $(LIB_FUZZING_ENGINE) but that could be a flag like
&ldquo;-fsanitize=fuzzer&rdquo; instead of a path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eedc72d7b"
>[eedc72d7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9f204aef"
>[a9f204aef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in:<br>
Move audit.c from libparsesudoers to the sudoers module itself. Now that
audit.c contains the audit module it doesn&rsquo;t belong in libparsesudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f97ef92b"
>[1f97ef92b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Do not pass AX_APPEND_FLAG more than a single flag. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/92"
>GitHub issue
#92</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=942b11149"
>[942b11149]</a></li>
</ul>
</dd>
<dt>2021-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/Makefile.in, lib/iolog/Makefile.in, logsrvd/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Fix up some .la file library dependencies. libsudo_iolog.la already
depends on libsudo_util.la and libsudo_eventlog.la so we don&rsquo;t need to
list those explicitly when libsudo_iolog.la is listed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53e3dca7a"
>[53e3dca7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, lib/util/Makefile.in, lib/util/progname.c,
lib/util/regress/progname/progname_test.c, lib/util/sudo_conf.c,
lib/util/util.exp.in, plugins/sudoers/audit.c,
plugins/sudoers/find_path.c, plugins/sudoers/iolog.c,
plugins/sudoers/match_command.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/sudo_edit.c, src/sudo_noexec.c:<br>
Use sudo_basename() instead of doing the equivalent manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0663ffbc3"
>[0663ffbc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/basename.c, lib/util/util.exp.in:<br>
Add a GNU-compatible version of basename(3). Unlike POSIX basename(3),
the GNU variant does not modify its argument. Note that basename of a
path ending in &ldquo;/&rdquo; returns an empty string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41fa461fe"
>[41fa461fe]</a></li>
</ul>
</dd>
<dt>2021-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c:<br>
feof(3) returns non-zero at EOF, not necessarily 1. On Illumos at least
it returns a value other than 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbfd430cf"
>[bbfd430cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Portable workaround for getdelim(3) implementations modify buf on EOF.
We should assume that the contents of buf are undefined when getdelim(3)
returns -1. We now peek ahead one char and skip the getdelim(3) call if
EOF is detected. This will preserve the original value of the last line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbf73e19b"
>[cbf73e19b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Some getdelim(3) implementations write a NUL to the buffer on EOF. AIX
and Illumos appear to have this behavior. We now preserve the first
character of the buffer on EOF to work around this. Fixes reporting of
syntax errors on the last line of a file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf1801146"
>[cf1801146]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fuzz the example sudoers file, not the default one. The default sudoers
uses @includedir which can result in different output, depending on the
permissions of /etc/sudoers.d.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1412695a4"
>[1412695a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
illumos has a broken fmemopen(3), don&rsquo;t use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a527c583d"
>[a527c583d]</a></li>
</ul>
</dd>
<dt>2021-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Add configure check for SSIZE_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e392646ed"
>[e392646ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Suppress PVS Studio false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91351d57f"
>[91351d57f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Silence a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63d043fae"
>[63d043fae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
Silence a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d55bca8a"
>[3d55bca8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/fuzzstub/fuzzstub.c:<br>
Fix CID 217123, size check always false on 64-bit systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=722759d0b"
>[722759d0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Make open_sudoers() always return NULL like fuzz_sudoers.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aae168c48"
>[aae168c48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test4.toke.ok,
plugins/sudoers/regress/sudoers/test5.toke.ok,
plugins/sudoers/regress/sudoers/test7.toke.ok,
plugins/sudoers/regress/sudoers/test8.toke.ok:<br>
Update *.toke.ok now that lexer doesn&rsquo;t call sudoerserror() itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19d8d4a54"
>[19d8d4a54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
The lexer now sets an error string before returning ERROR. The parser
will use that when reporting on an ERROR state. This prevents the lexer
from reporting errors about tokens that are not actually consumed by the
parser and we don&rsquo;t have to worry about both the lexer and the parser
reporting errors. It also means we only get one error per sudoers line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04de04f54"
>[04de04f54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Go back to storing the last error file/line in sudoerserrorf(). This is
still the best way to avoid displaying more than one error per line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9325a342b"
>[9325a342b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -fsanitize=fuzzer-no-link to ASAN_LDFLAGS too, not just ASAN_CFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a046e3bbb"
>[a046e3bbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, doc/Makefile.in, examples/Makefile.in,
include/Makefile.in, lib/eventlog/Makefile.in, lib/fuzzstub/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.out.ok,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add fuzz Makefile target and run fuzzer corpus in make check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63a3f6254"
>[63a3f6254]</a></li>
</ul>
</dd>
<dt>2021-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac,
lib/fuzzstub/Makefile.in, lib/fuzzstub/fuzzstub.c,
lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Add stub library that just feeds files to the fuzzing target. This will
allow the fuzzers to be run as part of &ldquo;make check&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30d9497eb"
>[30d9497eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Append to CFLAGS and LDFLAGS instead of overriding them when adding
-m64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db4ee0a90"
>[db4ee0a90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac,
lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Fall back to a temp file if fmemopen() is not available().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72d743ec"
>[a72d743ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Add missing return statement when NO_LEAKS is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c19cb388b"
>[c19cb388b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/Makefile.in:<br>
Remove remnants of liblogsrv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c140b5942"
>[c140b5942]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, lib/iolog/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Add &ndash;enable-fuzzer-linker and &ndash;enable-fuzzer-engine options. These
will allow the fuzzers to be built as part of oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55df5efdc"
>[55df5efdc]</a></li>
</ul>
</dd>
<dt>2021-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Sync ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38f1e55cd"
>[38f1e55cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix linking of sudoers fuzzers with static libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3dae6f2c"
>[a3dae6f2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, lib/iolog/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Add &ndash;enable-fuzzer option to use when building fuzzers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6216fb3cc"
>[6216fb3cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Replace &ndash;enable-asan with &ndash;enable-sanitizer It is not possible to set
the sanitizer flags at configure time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a2a211df"
>[7a2a211df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/iolog/regress/fuzz/fuzz_iolog_json.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c,
lib/iolog/regress/fuzz/fuzz_iolog_timing.c, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Build (but don&rsquo;t run) fuzzers as part of &ldquo;make check&rdquo;. Uses a stub to
make it possible to link w/o libfuzzer. The goal is to ensure the
fuzzers are always buildable and avoid bit rot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4480e2697"
>[4480e2697]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, plugins/sudoers/Makefile.in:<br>
Add libsudo_eventlog.la as a dependency of libsudo_iolog.la No longer
need to link against libsudo_eventlog.la in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecaa9cd08"
>[ecaa9cd08]</a></li>
</ul>
</dd>
<dt>2021-02-06  Anton Bershanskiy</dt>
<dd>
<ul>
<li>src/copy_file.c:<br>
Fix comment typo in src/copy_file.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fecb68617"
>[fecb68617]</a></li>
</ul>
</dd>
<dt>2021-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/iolog/regress/corpus/log_json/id.json,
lib/iolog/regress/corpus/log_json/ls.json,
lib/iolog/regress/corpus/log_json/mailq.json,
lib/iolog/regress/corpus/log_json/make.json,
lib/iolog/regress/corpus/log_json/pkg_add.json,
lib/iolog/regress/corpus/log_json/pkg_delete.json,
lib/iolog/regress/corpus/log_json/printenv.json,
lib/iolog/regress/corpus/log_legacy/id,
lib/iolog/regress/corpus/log_legacy/ls,
lib/iolog/regress/corpus/log_legacy/mailq,
lib/iolog/regress/corpus/log_legacy/make,
lib/iolog/regress/corpus/log_legacy/pkg_add,
lib/iolog/regress/corpus/log_legacy/pkg_delete,
lib/iolog/regress/corpus/log_legacy/printenv,
lib/iolog/regress/corpus/timing/timing.1,
lib/iolog/regress/corpus/timing/timing.2,
lib/iolog/regress/corpus/timing/timing.3,
lib/iolog/regress/corpus/timing/timing.4:<br>
Add more test files for fuzzers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c02c14c3"
>[1c02c14c3]</a></li>
</ul>
</dd>
<dt>2021-02-05  Daniel Milnes</dt>
<dd>
<ul>
<li>doc/sudo.mdoc.in:<br>
Fix the typo in the mdoc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d51c49789"
>[d51c49789]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in:<br>
Fix a tiny typo in the Sudo manpage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b2e5d0c4"
>[2b2e5d0c4]</a></li>
</ul>
</dd>
<dt>2021-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/iolog/regress/fuzz/fuzz_iolog_timing.c:<br>
fuzzer for I/O log timing files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c2a21350"
>[5c2a21350]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
In JSON, name/value pairs must be separated by a comma. Previously we
didn&rsquo;t require the comma to be there.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47f08e986"
>[47f08e986]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Detect integer overflow when converting JSON_ARRAY to string vector.
Extremely unlikely to happen but better safe than sorry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92cf172ed"
>[92cf172ed]</a></li>
</ul>
</dd>
<dt>2021-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Only strip double quotes from an include path if len &gt;= 2. Found
locally using libfuzzer/oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=665f8d2e3"
>[665f8d2e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Don&rsquo;t allow the sudoers fuzzer to open include files. If we allow the
fuzzer to choose include paths it will include random files in the file
system. This leads to bug reports that cannot be reproduced.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e675f4c07"
>[e675f4c07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
If getdelim() returns a string with embedded NULs, truncate on first
one. This should avoid some issues with the fuzzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5fc5d641"
>[f5fc5d641]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Reallocate the buffer correctly when appending a newline. Fixes a
potential buffer overflow introduced in the last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10e37223b"
>[10e37223b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y:
Don&rsquo;t free the alias name in alias_add() if the alias already exists. We
need to be able to display it using alias_error(). Only free what we
actually allocated in alias_add() on error and let the caller handle
cleanup. Note that we cannot completely fill in the alias until it is
inserted. Otherwise, we will have modified the file and members
parameters even if there was an error. As a result, we have to remove
those from the leak list after alias_add(), not before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4cabdb39"
>[b4cabdb39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix NUL termination when parsing a sudoers file with no ending newline.
oss-fuzz issue #30252
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=884b2fb86"
>[884b2fb86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
sudoersrestart() does not reset state to INITIAL, do it in init_lexer().
Fixes spurious errors from fuzz_sudoers, which calls the parser multiple
times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=077c9b0c7"
>[077c9b0c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Push lexer leak tracking down into check_fill.c. This lets us track
things correctly when buffers are realloc()d. Rewrote fill() and
append() to be more readable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63a63680b"
>[63a63680b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/visudo.c:<br>
Use sudoersrestart() in fuzz_sudoers.c Since we run the parser multiple
times we need to restart it each time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3237a18ee"
>[3237a18ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Parser needs user_shost for the %h escape in @include expansion. Fixes
oss-fuzz issue #30238
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e66b132d7"
>[e66b132d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
The &ndash;disable-leaks option is not recommended for production use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bde441186"
>[bde441186]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Remove options from the leak list before freeing them. Should fix
oss-fuzz issue #30236
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd4e8bc69"
>[bd4e8bc69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, lib/iolog/iolog_util.c,
lib/iolog/regress/fuzz/fuzz_iolog_legacy.c:<br>
Add fuzzer for legacy I/O log info file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2901f412"
>[d2901f412]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, plugins/sudoers/Makefile.in:<br>
Fix uninstall target; there were missing line continuation chars.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/87"
>GitHub issue #87</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29f5f3c53"
>[29f5f3c53]</a></li>
</ul>
</dd>
<dt>2021-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/parse_ldif.c:<br>
Don&rsquo;t close fp in sudoers_parse_ldif() The caller should be the one to
handle this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaa2e8dde"
>[aaa2e8dde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Update ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68939adee"
>[68939adee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y:
Got back to calling alias_free() on alias_add() failure. We now need to
remove the name and members from the leak list <em>before</em> calling
alias_add() since alias_add() will consume them for both success and
failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdb02b1ef"
>[bdb02b1ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
close sudoersin, not fp, and reset it to be safe
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f2254594"
>[8f2254594]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/fuzz/fuzz_iolog_json.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Add missing fclose(3) of fmemopen(3) stream; it does not modify the
data.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20b3904f4"
>[20b3904f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Check for unexpected value after checking the name, not before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fd4a2ad7"
>[2fd4a2ad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Fix potential leak of evlog-&gt;runuser. Also warn if we find an
unexpected JSON type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71997da16"
>[71997da16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/progname.c:<br>
Allow getprogname() to succeed as long as __progname is present. Also
simplify the progname code so we only need a single implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eec4f4236"
>[eec4f4236]</a></li>
</ul>
</dd>
<dt>2021-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Parse into a local parse_tree and add missing cleanup. Since
parsed_policy is for the sudoers parser we should declare our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d34fa428"
>[0d34fa428]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/fuzz/fuzz_sudoers.c:<br>
Call init_parser() after parsing to clean up completely.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3735b98e"
>[d3735b98e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/sudoers/test25.in,
plugins/sudoers/regress/sudoers/test25.json.ok,
plugins/sudoers/regress/sudoers/test25.ldif.ok,
plugins/sudoers/regress/sudoers/test25.out.ok,
plugins/sudoers/regress/sudoers/test25.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c:<br>
Plug a few more parser leaks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f30670a42"
>[f30670a42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Make parser_leak_remove(type, NULL) a no-op.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f59a8f303"
>[f59a8f303]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/regress/fuzz/fuzz_iolog_json.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers.c,
plugins/sudoers/regress/fuzz/fuzz_sudoers_ldif.c:<br>
Add initial fuzzers to be used by oss-fuzz. These are not yet hooked up
to the sudo build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e3cecc60"
>[1e3cecc60]</a></li>
</ul>
</dd>
<dt>2021-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h:<br>
Move new_member_all to ldap_util.c, it is only used by ldap/sssd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=568931035"
>[568931035]</a></li>
</ul>
</dd>
<dt>2021-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gc.c, plugins/sudoers/sudoers.h:<br>
Garbage collect unused gc_remove() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a74e8502c"
>[a74e8502c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test11.sh,
plugins/sudoers/regress/testsudoers/test12.sh,
plugins/sudoers/regress/testsudoers/test13.sh,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
The parser should be leak free, re-enable leak detection in ASAN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66cd61a9b"
>[66cd61a9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.h,
plugins/sudoers/gram.y, plugins/sudoers/parse.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c:<br>
Add garbage collection to the sudoers parser to clean up on error. This
makes it possible to avoid memory leaks when there is a parse error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ed14870c"
>[9ed14870c]</a></li>
</ul>
</dd>
<dt>2021-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Fix crashes trying to parse invalid JSON. Found locally using
libfuzzer/oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cd6350ca"
>[4cd6350ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Plug memory leak if a key is listed more than once in the log.json file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de82d08e7"
>[de82d08e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/regress/iolog_json/check_iolog_json.c:<br>
Fix crash when file does not exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dc297d30"
>[5dc297d30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gentime.c:<br>
Strict tz offset parsing. Fixes an out of bounds read found locally
using libfuzzer/oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=439660c7f"
>[439660c7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Don&rsquo;t leak memory for duplicate command options. The last option wins
but we also now warn about the duplicate. Found locally using
libfuzzer/oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f81e8a10"
>[9f81e8a10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Copy command options when converting a sudoRole with multiple
sudoCommands. A sudoRole with multiple sudoCommands is converted to a
privilege with multiple cmndspecs. However, we were not copying some of
the command options to subsequent cmndspecs in the list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eb591c6f"
>[4eb591c6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Fix memory leak if the last line is folded. Fixes issue 30080 by
ClusterFuzz-External
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75f76eba8"
>[75f76eba8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add &ndash;disable-leaks configure option. This enables the extra freeing of
memory before exit also enabled by &ndash;enable-asan. To be used by
oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd10bb5cf"
>[bd10bb5cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gentime.c:<br>
Stricter parsing of generalized time. Fixes potential out of bounds read
found by libfuzzer/oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=995601c62"
>[995601c62]</a></li>
</ul>
</dd>
<dt>2021-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Don&rsquo;t bother calling ldif_to_sudoers() if there are no roles to convert.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=419c89524"
>[419c89524]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
In json_stack_push() treat stack exhaustion like memory allocation
failure. Return NULL instead of treating as a fatal error. This should
make life a little easier for oss-fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8781560e1"
>[8781560e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Update comment about return values for resolve_host().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c8242c35"
>[6c8242c35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/policy.c:<br>
Fix NO_ROOT_MAILER, broken by the eventlog refactor in sudo 1.9.4.
init_eventlog_config() is called immediately after initializing the
Defaults settings, which is before struct sudo_user is setup. This adds
a call to eventlog_set_mailuid() if NO_ROOT_MAILER is defined after the
invoking user is determined. Reported by Roman Fiedler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5ad88488"
>[e5ad88488]</a></li>
</ul>
</dd>
<dt>2020-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.h.in, config.sub, configure, configure.ac:<br>
Regenerate configure script with autoconf 2.71. Also fix some warnings
from the new version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da5c6c6c4"
>[da5c6c6c4]</a></li>
</ul>
</dd>
<dt>2021-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
Add plugins/sudoers/strvec_join.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f114c2aa"
>[8f114c2aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/strvec_join.c, plugins/sudoers/sudoers.c:<br>
Fix compilation on systems without a native strlcpy() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca47cc99"
>[8ca47cc99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Break up the long help string into multiple printf() statements. AIX xlc
compiler doesn&rsquo;t like cpp directives in between strings. Also fixes a
complaint from cppcheck and makes translation easier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dceab7d75"
>[dceab7d75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/unescape/check_unesc.c,
plugins/sudoers/strvec_join.c, plugins/sudoers/sudoers.h:<br>
strvec_join: free result on error and actually use separator char
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9eff9385"
>[c9eff9385]</a></li>
</ul>
</dd>
<dt>2021-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/unescape/check_unesc.c:<br>
Test strvec_join() using strlcpy_unesc(). Emulates an overflow like:
sudoedit -s &lsquo;' <code>perl -e 'print &quot;A&quot; x 65536'</code>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=888f63a9c"
>[888f63a9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/strvec_join.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Refactor code to flatten an argument vector into a string. This is used
when building up the user_args string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29acc6419"
>[29acc6419]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/unescape/check_unesc.c,
plugins/sudoers/strlcpy_unesc.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add strlcpy_unescape() function to undo escaping from front-end.
Includes unit test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2804c2c78"
>[2804c2c78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Add missing check for reallocarray() failure. Found by OSS-Fuzz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa50aaf8d"
>[aa50aaf8d]</a></li>
</ul>
</dd>
<dt>2021-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/python_convmessage.c,
plugins/python/sudo_python_module.c:<br>
Remove Py_SSIZE2SIZE to quiet cppcheck warnings. Tuple size cannot be
negative and we already handle the case where it is zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bca213959"
>[bca213959]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
The program name may now only be &ldquo;sudo&rdquo; or &ldquo;sudoedit&rdquo;. We no longer need
to check for any string that ends in &ldquo;edit&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19d5845f8"
>[19d5845f8]</a></li>
</ul>
</dd>
<dt>2021-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.5p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98d5cc2a8"
>[98d5cc2a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Don&rsquo;t assume that argv is allocated as a single flat buffer. While this
is how the kernel behaves it is not a portable assumption. The
assumption may also be violated if getopt_long(3) permutes arguments.
Found by Qualys.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0eecf85c"
>[c0eecf85c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix the memset offset when converting a v1 timestamp to TS_LOCKEXCL. We
want to zero the struct starting at flags, not type (which was just
set). Found by Qualys.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0754533d2"
>[0754533d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix potential buffer overflow when unescaping backslashes in user_args.
Also, do not try to unescaping backslashes unless in run mode <em>and</em> we
are running the command via a shell. Found by Qualys, this fixes
CVE-2021-3156.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f8638577"
>[1f8638577]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Add sudoedit flag checks in plugin that are consistent with front-end.
Don&rsquo;t assume the sudo front-end is sending reasonable mode flags. These
checks need to be kept consistent between the sudo front-end and the
sudoers plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4d384082"
>[c4d384082]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Reset valid_flags to MODE_NONINTERACTIVE for sudoedit. This is
consistent with how the -e option is handled. Also reject -H and -P
flags for sudoedit as was done in sudo 1.7. Found by Qualys, this is
part of the fix for CVE-2021-3156.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b301b46b7"
>[b301b46b7]</a></li>
</ul>
</dd>
<dt>2021-01-18  Pavel Bezina</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/pam.c:<br>
pam: pass KRB5CCNAME to pam_authenticate environment if available</p>
<p>If a PAM module wants to authenticate user using GSSAPI, the
authentication is broken if non-default ccache name is used in
KRB5CCNAME environment variable.</p>
<p>One way to mitigate this would be to add this to env_keep, but this also
makes the variable available in the executed command which may not be
always desirable.</p>
<p>This patch sets KRB5CCNAME for pam_authenticate only, if it is available
and not yet set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b7977a42"
>[3b7977a42]</a></p>
</li>
</ul>
</dd>
<dt>2021-01-22  Fabrice Fontaine</dt>
<dd>
<ul>
<li>
<p>lib/eventlog/Makefile.in:<br>
lib/eventlog/Makefile.in: fix static build without closefrom</p>
<p>Since version 1.9.4 and
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/commit/bd1ca79cca827a92e904f022e49d"
>https://github.com/sudo-project/sudo/commit/bd1ca79cca827a92e904f022e49d</a>
f121931d4ff5, when closefrom is not available, libsudo_eventlog.a
depends on libsudo_util.a. So reflect this dependency in the libtool
file to avoid the following static build failure of logsrvd:</p>
<p>/bin/bash ../libtool &ndash;tag=disable-static &ndash;mode=link
/home/buildroot/autobuild/instance-1/output-1/host/bin/powerpc-linux-gcc
-o sudo_logsrvd logsrv_util.o iolog_writer.o logsrvd.o logsrvd_conf.o
-static -Wl,&ndash;enable-new-dtags -Wl,-z,relro
../lib/iolog/libsudo_iolog.la ../lib/eventlog/libsudo_eventlog.la
../lib/logsrv/liblogsrv.la /bin/bash ../libtool &ndash;tag=disable-static
&ndash;mode=link
/home/buildroot/autobuild/instance-1/output-1/host/bin/powerpc-linux-gcc
-o sudo_sendlog logsrv_util.o sendlog.o -static -Wl,&ndash;enable-new-dtags
-Wl,-z,relro ../lib/iolog/libsudo_iolog.la
../lib/eventlog/libsudo_eventlog.la ../lib/logsrv/liblogsrv.la libtool:
link:
/home/buildroot/autobuild/instance-1/output-1/host/bin/powerpc-linux-gcc
-o sudo_logsrvd logsrv_util.o iolog_writer.o logsrvd.o logsrvd_conf.o
-static -Wl,&ndash;enable-new-dtags -Wl,-z -Wl,relro
../lib/iolog/.libs/libsudo_iolog.a
/home/buildroot/autobuild/instance-1/output-1/build/sudo-1.9.5p1/lib/uti
l/.libs/libsudo_util.a -lpthread -lz
../lib/eventlog/.libs/libsudo_eventlog.a ../lib/logsrv/.libs/liblogsrv.a
/home/buildroot/autobuild/instance-1/output-1/host/opt/ext-toolchain/bin
/../lib/gcc/powerpc-buildroot-linux-uclibc/8.3.0/../../../../powerpc-bui
ldroot-linux-uclibc/bin/ld:
../lib/eventlog/.libs/libsudo_eventlog.a(eventlog.o): in function
<code>send_mail.constprop.1': eventlog.c:(.text+0x149c): undefined reference to </code>sudo_closefrom&rsquo; collect2: error: ld returned 1 exit status</p>
<p>Fixes: -
<a
  class="gdoc-markdown__link"
  href="http://autobuild.buildroot.org/results/515b45f876fa9de03c9235f86017f4dc1"
>http://autobuild.buildroot.org/results/515b45f876fa9de03c9235f86017f4dc1</a>
0eb3b54</p>
<p>Signed-off-by: Fabrice Fontaine &lt;fontaine.fabrice@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c05fe9366"
>[c05fe9366]</a></p>
</li>
</ul>
</dd>
<dt>2021-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Do not add an unfinished write buffer to the queue if it is already
present. In client_msg_cb() we only remove a buffer from the queue when
it is finished. Inserting the buf again can cause a cycle in the queue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=376ad5e6b"
>[376ad5e6b]</a></li>
</ul>
</dd>
<dt>2021-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Fix problem when SSL_read() returns SSL_ERROR_WANT_WRITE. This can
happen when the socket cannot be written to immediately. We need to set
the read_instead_of_write flag in that case, <em>not</em>
write_instead_of_read. Also sync comments with sendlog.c. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=954"
>Bug
#954</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb536d8b7"
>[eb536d8b7]</a></li>
</ul>
</dd>
<dt>2021-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/progname.c:<br>
Fix setprogname() emulation on systems without it. For fully-qualified
paths, store the string starting after the last slash, not at the slash
itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d98dd5f98"
>[d98dd5f98]</a></li>
</ul>
</dd>
<dt>2021-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.5p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e60ff9058"
>[e60ff9058]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Run the editor with the user&rsquo;s real and effective uid and gid. Fixes a
bug introduced in sudo 1.9.5 where the editor was run setuid root unless
SELinux RBAC was in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a13f1bf0"
>[3a13f1bf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea150d591"
>[ea150d591]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/copy_file.c, src/edit_open.c:<br>
Add casts to quiet two warnings on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01d0bbfb8"
>[01d0bbfb8]</a></li>
</ul>
</dd>
<dt>2021-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac, doc/LICENSE, etc/sudo-logsrvd.pp,
etc/sudo-python.pp, etc/sudo.pp:<br>
Sudo 1.9.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e111eae5"
>[9e111eae5]</a></li>
</ul>
</dd>
<dt>2021-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.5.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=250cccfe4"
>[250cccfe4]</a></li>
</ul>
</dd>
<dt>2021-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.man.in.sed, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/policy.c:<br>
Allow SELinux support to be disabled via the sudoers file. Defaults to
true if sudo is built with SELinux support and SELinux is not disabled
on the system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b72d6a5c"
>[1b72d6a5c]</a></li>
</ul>
</dd>
<dt>2021-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/python_importblocker.c:<br>
Add a comment to verify_import() to clarify its purpose.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4603da02a"
>[4603da02a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, lib/util/arc4random.c, lib/util/sudo_debug.c,
plugins/audit_json/audit_json.c, plugins/python/python_convmessage.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/rcstr.c, plugins/sudoers/redblack.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c,
src/exec_common.c, src/sesh.c, src/sudo.c, src/sudo_edit.c:<br>
Suppress PVS Studio false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e11bc0e2"
>[4e11bc0e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Plug a memory leak in sudoerserrorf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=108e29446"
>[108e29446]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.h,
plugins/sudoers/starttime.c, plugins/sudoers/tsgetgrpw.c, src/ttyname.c:
Quiet a few harmless cppcheck warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92c88d410"
>[92c88d410]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
lib/logsrv/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Remove the &ndash;force option from the cppcheck args, it causes errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84b3a1dae"
>[84b3a1dae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c, src/sudo_edit.c:<br>
Split up sesh_sudoedit() so it is organized more like sudo_edit.c. The
new sesh_edit_create_tfiles() and sesh_edit_copy_tfiles() functions are
analogous to sudo_edit_create_tfiles() and sudo_edit_copy_tfiles(). Also
use &ldquo;sudoedit&rdquo; in the warning/error messages from sesh_sudoedit().
Otherwise, the user gets a mix of messages from sudoedit and sesh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83ff16469"
>[83ff16469]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, lib/util/progname.c:<br>
Add setprogname(3) for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e068c15e"
>[9e068c15e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/edit_open.c, src/sesh.c, src/sudo_edit.c, src/sudo_edit.h:<br>
Rename run_cred -&gt; cur_cred and stash existing creds in set_tmpdir().
For sudo_edit_open() et al what we need is a copy of the current cred to
restore after dir_is_writable() changes to the user cred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=778858147"
>[778858147]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/edit_open.c, src/exec.c, src/exec_pty.c, src/sesh.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c, src/sudo_edit.h, src/tgetpass.c:<br>
Add struct sudo_cred to hold the invoking or runas user credentials. We
can use this when we need to pass around credential info instead of the
user_details and command_details structs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ece5adc66"
>[ece5adc66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in, src/edit_open.c, src/sesh.c, src/sudo_edit.c,
src/sudo_edit.h:<br>
Add directory writability checks for SELinux RBAC sudoedit. These were
never added to the SELinux RBAC path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e2d7290"
>[46e2d7290]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/edit_open.c, src/sesh.c, src/sudo_edit.c,
src/sudo_edit.h, src/sudo_exec.h:<br>
Move safe open code out of sudo_edit.c and into edit_open.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5be62c68"
>[a5be62c68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/copy_file.c, src/sudo_edit.c:<br>
In sudoedit, use sudo_check_temp_file() for non-SELinux too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=397a07e86"
>[397a07e86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/copy_file.c, src/sesh.c, src/sudo_edit.c, src/sudo_exec.h:<br>
Add security checks before using temp files for SELinux RBAC sudoedit.
Otherwise, it may be possible for the user running sudoedit to replace
the newly-created temporary files with a symbolic link and have sudoedit
set the owner of an arbitrary file. Problem reported by Matthias
Gerstner of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cd36222e"
>[7cd36222e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix potential directory existing info leak in sudoedit. When creating a
new file, sudoedit checks to make sure the parent directory exists so it
can provide the user with a sensible error message. However, this could
be used to test for the existence of directories not normally accessible
to the user by pointing to them with a symbolic link when the parent
directory is controlled by the user. Problem reported by Matthias
Gerstner of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db1f27c03"
>[db1f27c03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c, lib/util/sudo_debug.c,
plugins/group_file/getgrent.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/tsgetgrpw.c:<br>
Check the return value of fcntl() when setting FD_CLOEXEC. This should
never fail unless the fd is invalid. Problem reported by Matthias
Gerstner of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71339c574"
>[71339c574]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/progname.c, lib/util/util.exp.in,
src/sudo.c:<br>
For sudo, only allow &ldquo;sudo&rdquo; or &ldquo;sudoedit&rdquo; as the program name. The
program name is also used when matching Debug lines in sudo.conf. We
don&rsquo;t want the user to be able to influence sudo.conf Debug matching.
The string &ldquo;sudoedit&rdquo; is treated the same as &ldquo;sudo&rdquo; in sudo.conf.
Problem reported by Matthias Gerstner of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b132def0b"
>[b132def0b]</a></li>
</ul>
</dd>
<dt>2020-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Fix the buffer size parameter when serializing the interface list.
Problem reported by Matthias Gerstner of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a29cac8bd"
>[a29cac8bd]</a></li>
</ul>
</dd>
<dt>2021-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po, po/ko.mo, po/ko.po,
po/sr.mo, po/sr.po, po/sv.mo, po/sv.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=295f099cf"
>[295f099cf]</a></li>
</ul>
</dd>
<dt>2021-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Use debug_return_int() not debug_return_bool() to return -1. Found by
PVS Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=741cf082a"
>[741cf082a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix a crash introduced in 1.9.4 when running &ldquo;sudo -i&rdquo; as an unknown
user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ea6f7306"
>[4ea6f7306]</a></li>
</ul>
</dd>
<dt>2021-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Make sure lecture file is a regular file before reading it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f34b8bbb"
>[7f34b8bbb]</a></li>
</ul>
</dd>
<dt>2021-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c, plugins/sudoers/match_command.c,
plugins/sudoers/timestamp.c:<br>
Remove #ifdefs around code using pread(3) and pwrite(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e1986e91"
>[6e1986e91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/pread.c, lib/util/pwrite.c,
scripts/mkdep.pl:<br>
Add emulation of pread(3) and pwrite(3) for systems without them. This
makes it possible to remove some ugly #ifdefs and only affects very old
systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06bfbecd6"
>[06bfbecd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Cannot do direct exec of a command when SELinux RBAC is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=267b9a8a2"
>[267b9a8a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Avoid potential use after free with eventlog-only connections. Coverity
CID 215884.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6452c7ca"
>[f6452c7ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, lib/eventlog/Makefile.in, lib/iolog/Makefile.in,
lib/logsrv/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/group_file/plugin_test.c, plugins/python/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_approval/Makefile.in,
plugins/sudoers/Makefile.in, plugins/sudoers/parse.h,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Minor fixes pointed out by cppcheck. Also add
compareBoolExpressionWithInt to suppression list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=861783338"
>[861783338]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Regen now that ldap.c and sssd.c no longer need gram.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ea19e294"
>[8ea19e294]</a></li>
</ul>
</dd>
<dt>2020-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Fix deregistration of a callback that is not at the head of the list.
The SLIST_FOREACH_PREVPTR macro doesn&rsquo;t work the way I thought it did.
Just store our own prev pointer and use that instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9547755c3"
>[9547755c3]</a></li>
</ul>
</dd>
<dt>2020-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.4p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4151d8fc8"
>[4151d8fc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
The runas user must be set before applying runas-based Defaults. This
effectively backs out changeset f738f5ac5350, which made it possible to
log the command when an invalid user was specified. The policy plugin
API doesn&rsquo;t supply the command until the check function, at which point
we&rsquo;ve already denied the command due to the invalid user. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=951"
>Bug
#951</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3173fded"
>[b3173fded]</a></li>
</ul>
</dd>
<dt>2020-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/uncrustify-small.cfg, etc/uncrustify.cfg:<br>
Don&rsquo;t enable mod_remove_empty_return We like to use an empty return for
stub functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c00a4e5b"
>[4c00a4e5b]</a></li>
</ul>
</dd>
<dt>2020-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.4p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4949fd291"
>[4949fd291]</a></li>
</ul>
</dd>
<dt>2020-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
The lower bounds for the &ldquo;closefrom&rdquo; option is 3, not 4. This is a
regression introduced in sudo 1.8.9 with the strtonum() conversion. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=950"
>Bug
#950</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4551b19f6"
>[4551b19f6]</a></li>
</ul>
</dd>
<dt>2020-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Direct execution of a command is incompatible with using a log server.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f41b2c1f5"
>[f41b2c1f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Set sudoers_audit.close to NULL if not using a log server.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c66e9532"
>[5c66e9532]</a></li>
</ul>
</dd>
<dt>2020-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo.c:<br>
Define _DARWIN_UNLIMITED_GETGROUPS on macOS to suport &gt; 16 groups. On
macOS 10.6 and above, getgroups(2) can return more than NGROUPS_MAX if
_DARWIN_UNLIMITED_GETGROUPS or _DARWIN_C_SOURCE is defined. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=946"
>Bug
#946</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e3e13d87"
>[0e3e13d87]</a></li>
</ul>
</dd>
<dt>2020-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, examples/sudo.conf.in:<br>
Comment out the default plugin lines in the example sudo.conf. Fixes a
problem when there are multiple versions of sudo installed and not all
suport the audit plugin, such as on macOS. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/75"
>GitHub issue
#75</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cdc4716c"
>[1cdc4716c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Store the user-provided runas user and group name in struct sudo_user.
This makes it available for event logging in case the name doesn&rsquo;t
resolve.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63739dd32"
>[63739dd32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Log submit group to event log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bac76512f"
>[bac76512f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Store iolog_path in struct sudo_user for use in the event log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=008a0e8dc"
>[008a0e8dc]</a></li>
</ul>
</dd>
<dt>2020-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.c:<br>
Defer lookup of runas user until sudoers_main() for better logging. The
log message now includes user info and the command attempted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd39e2d7d"
>[fd39e2d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Don&rsquo;t assume that just because command is non-NULL, argv is non-NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=567e5167d"
>[567e5167d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix a crash introduced in 1.9.4 when running command as an unknown user.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=948"
>Bug #948</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7d670ee3"
>[a7d670ee3]</a></li>
</ul>
</dd>
<dt>2020-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
When shutting down the server, close non-I/O log connections
immediately. Avoids a timeout during server shutdown while the server
waits for active connections to close.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5a7f0eb4"
>[c5a7f0eb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Audit errors from policy_init_session(), audit_accept(), and
audit_reject().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbb7b4afa"
>[cbb7b4afa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Do not run the command if the audit accept function fails. Also add
warnings if the audit reject or error functions fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02ebdfd7f"
>[02ebdfd7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Reduce the number of error messages when we can&rsquo;t connect to the audit
server. Add the error string to &ldquo;unable to connect to log server&rdquo;
instead of using an extra error message for the connect(2) failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67e6e2085"
>[67e6e2085]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
Use correct error message when the TLS connection is dropped. Was:
&ldquo;recv: Unknown error 0&rdquo;, now: &ldquo;lost connection to log server&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a19f24279"
>[a19f24279]</a></li>
</ul>
</dd>
<dt>2020-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.h,
plugins/sudoers/gram.y, plugins/sudoers/parse.h:<br>
Change alias_add() to return bool and set errno on failure. This fixes a
localization problem where the error message could have been reported in
the wrong locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d98374753"
>[d98374753]</a></li>
</ul>
</dd>
<dt>2020-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Fix build when configured using &ndash;without-sendmail <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=947"
>Bug
#947</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e22817e3a"
>[e22817e3a]</a></li>
</ul>
</dd>
<dt>2020-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/hr.mo,
po/hr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=833e273ad"
>[833e273ad]</a></li>
</ul>
</dd>
<dt>2020-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sudo_logsrvd.conf pid_file change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ac951bb6"
>[7ac951bb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Don&rsquo;t try to unlink a NULL pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=293911eed"
>[293911eed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c:<br>
If pid_file is set to an empty value, disable the use of a pid file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f6d581ab"
>[0f6d581ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
logsrvd/logsrvd.c:<br>
Don&rsquo;t overwrite sudo_logsrvd.pid if it is a symbolic link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0042eda9"
>[d0042eda9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, etc/codespell.exclude,
plugins/sudoers/env.c:<br>
Fix typo detected by codespell 2.0.0 Also avoid some new false positives
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94c5052eb"
>[94c5052eb]</a></li>
</ul>
</dd>
<dt>2020-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/uncrustify-small.cfg, etc/uncrustify.cfg,
plugins/python/regress/testhelpers.h, plugins/sudoers/env.c,
plugins/sudoers/sudo_ldap_conf.h:<br>
Set pp_ignore_define_body=false in uncrustify config. Need to work
around a bug that produces closed brace errors, see
<a
  class="gdoc-markdown__link"
  href="https://github.com/uncrustify/uncrustify/issues/2569"
>https://github.com/uncrustify/uncrustify/issues/2569</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdf553001"
>[bdf553001]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/hr.mo,
po/hr.po, po/it.mo, po/it.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bbd7c8e0"
>[7bbd7c8e0]</a></li>
</ul>
</dd>
<dt>2020-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Fix calling sudo_conf_read() multiple times with different conf_types.
The change to reinitialize the configuration data when sudo_conf_read()
is called again didn&rsquo;t take into account that sudo calls
sudo_conf_read() twice&ndash;once for the debug info and once for everything
else.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a6ca4ba2"
>[4a6ca4ba2]</a></li>
</ul>
</dd>
<dt>2020-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Don&rsquo;t free the private copy of the environment until the close function.
We may need to use it when logging from the audit reject function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d0b19d2a"
>[7d0b19d2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/log_client.c:<br>
It is possible for evlog-&gt;argv or evlog-&gt;envp to be NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb87253d1"
>[cb87253d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Pass command_info[] to audit plugin on I/O log plugin reject or error.
The audit plugin should cope with a NULL command_info but there&rsquo;s no
reason not to pass the info when we have it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24d812d03"
>[24d812d03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
plugins/sudoers/audit.c:<br>
For the audit plugin, command_info may be NULL. Fixes a NULL dereference
in sudoers_audit when an I/O logging plugin rejects input/output or
returns an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27615b558"
>[27615b558]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Add missing initialization of def_log_format to sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4a2765cc"
>[e4a2765cc]</a></li>
</ul>
</dd>
<dt>2020-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Newer LibreSSL has SSL_CTX_set_ciphersuites but it is not enabled. Add a
check for the function declaration in openssl/ssl.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a96b9a137"
>[a96b9a137]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Event log data is sent to sudo_logsrvd even when not I/O logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38dd0f63b"
>[38dd0f63b]</a></li>
</ul>
</dd>
<dt>2020-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
Regenerate sudoers.pot for 1.9.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=061b53e33"
>[061b53e33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.9.4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1aa76e9b7"
>[1aa76e9b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Update struct eventlog based on command_info[] from front-end. The I/O
log path is not known until the I/O log plugins have run and other
plugins may alter the execution environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b71b6104"
>[2b71b6104]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/logging.h,
plugins/sudoers/regress/testsudoers/test13.out.ok,
plugins/sudoers/toke.h:<br>
Add sudoerserrorf(), a printf-style yyerror() function. Use this to
display a better error message when using a reserved work in an alias
definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95fb8eb72"
>[95fb8eb72]</a></li>
</ul>
</dd>
<dt>2020-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build universal binaries on macOS 11.0 and higher. The resulting package
should work on Macs based on Apple Silicon.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d28b4291c"
>[d28b4291c]</a></li>
</ul>
</dd>
<dt>2020-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/editor.c:<br>
Support EDITOR environment variable that includes quotes. Quote support
is limited to the beginning of a word. Also handles characters escaped
with a backslash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeef6db85"
>[aeef6db85]</a></li>
</ul>
</dd>
<dt>2020-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/Makefile.in, plugins/python/pyhelpers.c,
plugins/python/python_plugin_common.c,
plugins/python/regress/iohelpers.h,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo</a>
g,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo</a>
g,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stor
ed,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple1.stored,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple2.stored,
plugins/python/regress/testdata/check_example_io_plugin_failed_to_start_
command.stored,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_validate_inv
alidate.log,
plugins/python/regress/testdata/check_loading_fails_not_owned_by_root.st
derr,
plugins/python/regress/testdata/check_loading_fails_wrong_classname.stde
rr,
plugins/python/regress/testdata/check_loading_fails_wrong_path.stderr,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout,
plugins/python/regress/testdata/check_python_plugins_do_not_affect_each_
other.stdout, plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
Back out regex use in python tests, filter the output instead. This
makes it possible to regenerate the test output again. Also adds an
update_test_data target to the Makefile.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d688f4d34"
>[d688f4d34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Stay setuid until just before executing the command. Fixes a problem
with pam_xauth which checks effective and real uids to get the real
identity of the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2ccbb3a9"
>[b2ccbb3a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Ignore sudoNotBefore and sudoNotAfter unless ldap.conf contains
SUDOERS_TIMED This is consistent with the pre-1.8.24 behavior. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=945"
>Bug
#945</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6439b4cc0"
>[6439b4cc0]</a></li>
</ul>
</dd>
<dt>2020-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c:<br>
Introduce new_member_all() for code that doesn&rsquo;t include gram.h. The
ldap and sssd back-ends no longer require gram.h which fixes a
compilation issue with IBM LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55c4f3bdd"
>[55c4f3bdd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c, lib/util/sudo_debug.c, logsrvd/logsrvd.c:<br>
On SIGHUP, deregister the old debug instance before registering a new
one. Otherwise, if debugging is enabled we will get an extra log
instance each time sudo_logsrvd reeives SIGHUP which results in
duplicate lines in the debug log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb217adf"
>[deb217adf]</a></li>
</ul>
</dd>
<dt>2020-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/log_client.c, plugins/sudoers/log_client.h:<br>
Refactor code to format the client message after the hello.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72df19088"
>[72df19088]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Use sudoers_to_eventlog() and init_log_details() in
sudoers_audit_accept(). log_deserialize_info() can be private to iolog.c
again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56fb16d3e"
>[56fb16d3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in,
include/log_server.pb-c.h, lib/eventlog/eventlog.c,
lib/logsrv/log_server.pb-c.c, lib/logsrv/log_server.proto,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, plugins/sudoers/log_client.c:
Add info_msgs to AlertMessage and populate it. This lets us log eventlog
info along with the alert if it is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9779009fa"
>[9779009fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/iolog.c, plugins/sudoers/log_client.c,
plugins/sudoers/log_client.h, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Log reject and alert messages to the log server if one is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62525dcc9"
>[62525dcc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/iolog.c, plugins/sudoers/log_client.c,
plugins/sudoers/log_client.h:<br>
Rename iolog_plugin.h to log_client.h. It is no longer I/O log specific
and is used by sudoers_audit too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e56c3b342"
>[e56c3b342]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_plugin.h,
plugins/sudoers/log_client.c, plugins/sudoers/sudoers.c:<br>
Rename iolog_client -&gt; log_client. The logsrvd client code is now used
for more than just I/O logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62547746d"
>[62547746d]</a></li>
</ul>
</dd>
<dt>2020-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Log accept messages in sudoers_audit if not I/O logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2112d9beb"
>[2112d9beb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Refactor code to format InfoMesage array into fmt_info_messages(). Add
free_info_messages() to free the array.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f5290b19"
>[8f5290b19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Refactor sudoers_io_open_remote() into log_server_open(). Also rename
client_close() to log_server_close(). This keeps more of the client code
details out of iolog.c and will be used when logging accept messages
from the audit plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e264767ea"
>[e264767ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Move argv and envp setting into iolog_deserialize_info().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d888380a"
>[2d888380a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Avoid early return in handle_accept() if expect_iobufs not set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1ded289e"
>[f1ded289e]</a></li>
</ul>
</dd>
<dt>2020-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_plugin.h,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, src/exec.c, src/load_plugins.c:<br>
Add event_alloc to the audit plugin API. The sudoers audit plugin will
use this to communicate with sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe9e65754"
>[fe9e65754]</a></li>
</ul>
</dd>
<dt>2020-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Treat an authentication failure as a reject, not an alert. This matters
when logging via sudo_logsrvd. It also lets us remove a special case in
vlog_warning().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4024170"
>[ad4024170]</a></li>
</ul>
</dd>
<dt>2020-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
For logsrvd AlertMessages, evlog will be NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0dd4c5797"
>[0dd4c5797]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Append errstr to reason for alert and reject events if specified.
Previously, we logged the error string separately but this is not
consistent with how it is logged in other formats.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=444ca3789"
>[444ca3789]</a></li>
</ul>
</dd>
<dt>2020-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h:<br>
Regenerate with bison 3.7.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8a708dae"
>[f8a708dae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove hack to define YYTOKENTYPE, it breaks newer bison.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08d236293"
>[08d236293]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c:<br>
Use struct eventlog *evlog, not struct eventlog *details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9cad13b1"
>[a9cad13b1]</a></li>
</ul>
</dd>
<dt>2020-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix cut &amp; pasto in debug subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=282a7e80f"
>[282a7e80f]</a></li>
</ul>
</dd>
<dt>2020-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c, plugins/sudoers/iolog_client.c:<br>
Set server_name before initiating TLS connection so verify function
works. Fixes a crash in the SSL_VERIFY_PEER callback. Also call
inet_ntop(3) with addr pointer, not sockaddr pointer so we get the
correct IP address.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de58c11db"
>[de58c11db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/sudoers/test18.toke.ok,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test3.ldif.ok,
plugins/sudoers/regress/sudoers/test6.ldif.ok,
plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test3.err.ok, plugins/sudoers/visudo.c:<br>
Store column number for aliases, defaults and userspecs too. This is
used to provided the column number along with the line number in error
messages. For aliases we store the column of the alias name, not the
value since that is what visudo generally needs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6286ce1d1"
>[6286ce1d1]</a></li>
</ul>
</dd>
<dt>2020-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test12.out.ok,
plugins/sudoers/regress/testsudoers/test13.out.ok:<br>
Display column number in parse error messages too. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=841"
>Bug
#841</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=982012dbb"
>[982012dbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h:<br>
Move tls initialized flag into client_closure. We may call tls_init()
from multiple places in the future so a static initialized flag will
cause problems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f7e5b104"
>[6f7e5b104]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
Fix -Wshadow warnings caused by json enum member.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10b09e4d8"
>[10b09e4d8]</a></li>
</ul>
</dd>
<dt>2020-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>ABOUT-NLS, INSTALL, NEWS, configure.ac, doc/UPGRADE,
doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
doc/visudo.man.in, doc/visudo.mdoc.in, examples/sudo.conf.in,
include/compat/getaddrinfo.h, install-sh, lib/util/getaddrinfo.c,
lib/util/getentropy.c, lib/util/regress/sudo_conf/test1.in,
lib/util/regress/sudo_parseln/test1.in,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/strtoid.c,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c,
m4/sudo.m4, plugins/group_file/group_file.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/load_plugins.c, src/sudo.c,
src/sudo_noexec.c, src/tgetpass.c:<br>
Apply Google inclusive language guidelines. Also replace backwards with
backward.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0c2635fb"
>[e0c2635fb]</a></li>
</ul>
</dd>
<dt>2020-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:<br>
Refernce IBM LDAP libs, not Tivoli since that is how it is packaged. We
still use Tivoli when talking about the server itself but refer to it as
the &ldquo;IBM Tivoli Directory Server&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=973da9a59"
>[973da9a59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:<br>
Add a newline before &ldquo;This option is &hellip;&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4c5f34ab"
>[f4c5f34ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dee1b1ec"
>[8dee1b1ec]</a></li>
</ul>
</dd>
<dt>2020-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/regress/logwrap/check_wrap.c,
lib/eventlog/regress/logwrap/check_wrap.in,
lib/eventlog/regress/logwrap/check_wrap.out.ok:<br>
Test eventlog_writeln() when word wrap is disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1910b1924"
>[1910b1924]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Bison generates an extra enum containing the parser tokens. This
conflicts with the IBM ldap.h at least. Prevent it from being exposed by
defining YYTOKENTYPE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3078d67c1"
>[3078d67c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/ldap.c:<br>
Use ssl_err2string() in message on ldap_ssl_client_init() failure.
Displaying SSL reason code directly is not user-friendly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8c7e1f60"
>[c8c7e1f60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
IBM LDAP packages use a lib64 directory for 64-bit libraries. We need to
add this to LDFLAGS so the linker is able to find the correct libs when
building 64-bit binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=488aeff53"
>[488aeff53]</a></li>
</ul>
</dd>
<dt>2020-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
For JSON logs, write the most important log elements first. This is
important for syslog where the record could be truncated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c43eeb29"
>[8c43eeb29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/logging.c, plugins/sudoers/sudoers.c:<br>
Add log_format sudoers setting to select sudo or json format logs.
Defaults to sudo-format logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28d6771d2"
>[28d6771d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_json.h, lib/eventlog/eventlog.c, lib/util/json.c:<br>
Support &ldquo;minimal&rdquo; JSON which skips all non-essention whitespace. This
replaces the old &ldquo;compact&rdquo; mode which is only used for syslog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bc729aa3"
>[6bc729aa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Don&rsquo;t warn about log failure more than once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fc39cfb0"
>[4fc39cfb0]</a></li>
</ul>
</dd>
<dt>2020-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Check for fdopen(3) failure in send_mail().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34c165151"
>[34c165151]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_eventlog.h, lib/eventlog/Makefile.in,
lib/eventlog/eventlog.c, lib/eventlog/logwrap.c,
lib/eventlog/regress/logwrap/check_wrap.c,
lib/eventlog/regress/logwrap/check_wrap.in,
lib/eventlog/regress/logwrap/check_wrap.out.ok,
plugins/sudoers/Makefile.in, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c:<br>
Add support for file log line wrapping in libeventlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdae4bdbb"
>[fdae4bdbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
logsrvd/logsrvd_conf.c, plugins/sudoers/defaults.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/stubs.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Use real setters for the eventlog config. This makes it possible to have
a base config that the callers can modify instead of replacing the
config wholesale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d899fe593"
>[d899fe593]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c, plugins/sudoers/logging.c:<br>
Log the short version of the tty in sudoers-format logs. This is
consistent with historical practice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39b540ff3"
>[39b540ff3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/defaults.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/policy.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Use libeventlog in sudoers instead of doing our own logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4416bd597"
>[4416bd597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/eventlog/eventlog.c:<br>
Add default values in eventlog_setconf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=541252beb"
>[541252beb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/Makefile.in,
lib/eventlog/eventlog.c, logsrvd/logsrvd.c, plugins/sudoers/Makefile.in,
plugins/sudoers/defaults.c, plugins/sudoers/logging.h:<br>
Add support for mailing eventlog entries and for logging raw messages.
These will be used by the sudoers plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd1ca79cc"
>[bd1ca79cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c,
lib/iolog/iolog_fileio.c:<br>
If no JSON callback is provided, store the contents of struct eventlog.
This moves the JSON formatting of struct eventlog out of libsudo_iolog
and into libsudo_eventlog where it belongs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe6e0fb21"
>[fe6e0fb21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c, logsrvd/logsrvd.c:<br>
struct eventlog contains submit_time, no need to pass it in directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4652698f8"
>[4652698f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, lib/eventlog/eventlog.c, logsrvd/logsrvd.c:<br>
Add an errstr argument to eventlog_alert().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0e91d758"
>[c0e91d758]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h:<br>
Make a copy of the strings stored in iolog_details and struct eventlog.
Previously, we just made the strings const and relied on the front-end
not changing them. Now the sudoers I/O log plugin behavior is consistent
with the policy plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ca3bfaab"
>[3ca3bfaab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h:<br>
Use struct eventlog in iolog_details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d45becd4"
>[2d45becd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_eventlog.h, include/sudo_iolog.h, lib/eventlog/eventlog.c,
lib/iolog/Makefile.in, lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_util.c, logsrvd/Makefile.in, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/sendlog.c,
logsrvd/sendlog.h, plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Use struct eventlog in place of struct iolog_info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db7249825"
>[db7249825]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
No longer need eventlog-related getters in logsrvd.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9aff696f"
>[b9aff696f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
Use libeventlog in sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c4334047"
>[8c4334047]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, include/sudo_eventlog.h,
lib/eventlog/Makefile.in, lib/eventlog/eventlog.c, logsrvd/logsrvd.h:<br>
Refactor eventlog code into a library
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=707437f6c"
>[707437f6c]</a></li>
</ul>
</dd>
<dt>2020-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
logsrvd/Makefile.in, plugins/python/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
regen Makefiles
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79921387a"
>[79921387a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build 64-bit binaries on HP-UX ia64
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=866b0b77f"
>[866b0b77f]</a></li>
</ul>
</dd>
<dt>2020-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Explicitly set umask when running tests. Some tests create files that
must not be world-writable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c7c94b83"
>[5c7c94b83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
sudoers_policy_store() -&gt; sudoers_policy_store_result()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5a5cc7f8"
>[a5a5cc7f8]</a></li>
</ul>
</dd>
<dt>2020-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Rename sudoers_policy_exec_setup() -&gt; sudoers_policy_store(). It is
called even when there is no command to execute. Also pass in status of
whether or not the command was accepted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf9d20866"
>[bf9d20866]</a></li>
</ul>
</dd>
<dt>2020-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/cvtsudoers/test1.sh,
plugins/sudoers/regress/cvtsudoers/test10.sh,
plugins/sudoers/regress/cvtsudoers/test11.sh,
plugins/sudoers/regress/cvtsudoers/test12.sh,
plugins/sudoers/regress/cvtsudoers/test13.sh,
plugins/sudoers/regress/cvtsudoers/test14.sh,
plugins/sudoers/regress/cvtsudoers/test15.sh,
plugins/sudoers/regress/cvtsudoers/test16.sh,
plugins/sudoers/regress/cvtsudoers/test17.sh,
plugins/sudoers/regress/cvtsudoers/test18.sh,
plugins/sudoers/regress/cvtsudoers/test19.sh,
plugins/sudoers/regress/cvtsudoers/test2.sh,
plugins/sudoers/regress/cvtsudoers/test20.sh,
plugins/sudoers/regress/cvtsudoers/test21.sh,
plugins/sudoers/regress/cvtsudoers/test22.sh,
plugins/sudoers/regress/cvtsudoers/test23.sh,
plugins/sudoers/regress/cvtsudoers/test24.sh,
plugins/sudoers/regress/cvtsudoers/test25.sh,
plugins/sudoers/regress/cvtsudoers/test26.sh,
plugins/sudoers/regress/cvtsudoers/test27.sh,
plugins/sudoers/regress/cvtsudoers/test28.sh,
plugins/sudoers/regress/cvtsudoers/test29.sh,
plugins/sudoers/regress/cvtsudoers/test3.sh,
plugins/sudoers/regress/cvtsudoers/test30.sh,
plugins/sudoers/regress/cvtsudoers/test31.sh,
plugins/sudoers/regress/cvtsudoers/test32.sh,
plugins/sudoers/regress/cvtsudoers/test33.sh,
plugins/sudoers/regress/cvtsudoers/test4.sh,
plugins/sudoers/regress/cvtsudoers/test5.sh,
plugins/sudoers/regress/cvtsudoers/test6.sh,
plugins/sudoers/regress/cvtsudoers/test7.sh,
plugins/sudoers/regress/cvtsudoers/test8.sh,
plugins/sudoers/regress/cvtsudoers/test9.sh,
plugins/sudoers/regress/testsudoers/test1.sh,
plugins/sudoers/regress/testsudoers/test10.sh,
plugins/sudoers/regress/testsudoers/test11.sh,
plugins/sudoers/regress/testsudoers/test12.sh,
plugins/sudoers/regress/testsudoers/test13.sh,
plugins/sudoers/regress/testsudoers/test14.sh,
plugins/sudoers/regress/testsudoers/test15.sh,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.sh,
plugins/sudoers/regress/testsudoers/test6.sh,
plugins/sudoers/regress/testsudoers/test7.sh,
plugins/sudoers/regress/testsudoers/test8.sh,
plugins/sudoers/regress/testsudoers/test9.sh,
plugins/sudoers/regress/visudo/test1.sh,
plugins/sudoers/regress/visudo/test10.sh,
plugins/sudoers/regress/visudo/test2.sh,
plugins/sudoers/regress/visudo/test3.sh,
plugins/sudoers/regress/visudo/test4.sh,
plugins/sudoers/regress/visudo/test5.sh,
plugins/sudoers/regress/visudo/test6.sh,
plugins/sudoers/regress/visudo/test7.sh,
plugins/sudoers/regress/visudo/test8.sh,
plugins/sudoers/regress/visudo/test9.sh:<br>
Pass path to testsudoers, visudo or cvtsudoers in the environment. Falls
back on the unqualified command if the environment variable is not set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0a6e1c1e"
>[b0a6e1c1e]</a></li>
</ul>
</dd>
<dt>2020-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Init cmnds to NULL in rule_to_priv() so we don&rsquo;t free a bogus pointer.
In the sssd backend, the rule_to_priv() cleanup code assumes cmnds can
be passed to fn_free_values(), which was not the case if we receive an
error getting values for &ldquo;sudoCommand&rdquo;. This is a regression introduced
in sudo 1.9.1. Fix from Ron Bowes. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/67"
>GitHub issue
#67</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=807857a2c"
>[807857a2c]</a></li>
</ul>
</dd>
<dt>2020-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h:<br>
Pass runchroot to match_digest() too. We use the open fd for the actual
I/O but having runchroot makes it possible to report the correct file
name in error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=607076d8a"
>[607076d8a]</a></li>
</ul>
</dd>
<dt>2020-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/61"
>GitHub issue #61</a> was
fixed in sudo 1.9.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=645eda55a"
>[645eda55a]</a></li>
</ul>
</dd>
<dt>2020-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/def_data.h, plugins/sudoers/mkdefaults:<br>
Fix indentation of enum def_tuple.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea57249e2"
>[ea57249e2]</a></li>
</ul>
</dd>
<dt>2020-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Remove special case EOF handling; lines now always end in a newline.
Previously we needed to emulate some of the state transitions that
happen at end-of-line at end-of-file as well. Those are no longer needed
now that we are guaranteed to always have a newline at the end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=772619b7e"
>[772619b7e]</a></li>
</ul>
</dd>
<dt>2020-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Increment sudolinebuf.size after realloc().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f984f49c3"
>[f984f49c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/regress/sudoers/test13.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Add a newline at end of line if one is missing. This is simpler than
having to support entries that end at EOF too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8747a33f"
>[e8747a33f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test14.out.ok,
plugins/sudoers/regress/testsudoers/test14.sh,
plugins/sudoers/regress/testsudoers/test15.out.ok,
plugins/sudoers/regress/testsudoers/test15.sh:<br>
Add tests for entries without a newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32db52868"
>[32db52868]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix handling of a command spec without a newline at the end. For include
files, we may need to inject a newline token now that the grammar
requires lines to end with a newline or EOF. There is no END (EOF) token
processed after popping off an include file since everything is just
treated as one big file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bb91cb64"
>[9bb91cb64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Mark sudoerserror() messages for translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0276a565e"
>[0276a565e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test8.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Fix line number accounting when a string contains a newline. Strings are
not allowed to span multiple lines without a continuation character.
Also provide a better error message if we are in the middle of a string
and hit EOF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddc138383"
>[ddc138383]</a></li>
</ul>
</dd>
<dt>2020-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Use sudoerschar (yychar) instead of last_token. The parser already
provides a way to examing the last token processed, we don&rsquo;t need to add
our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d2090061"
>[7d2090061]</a></li>
</ul>
</dd>
<dt>2020-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/closefrom.c, lib/util/getentropy.c, lib/util/pipe2.c,
lib/util/term.c, lib/util/ttyname_dev.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/env.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gmtoff.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.h, plugins/sudoers/policy.c,
plugins/sudoers/starttime.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/load_plugins.c, src/sudo.c,
src/sudo_plugin_int.h, src/tgetpass.c, src/ttyname.c:<br>
Fix -Wshadow warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88dcdcd11"
>[88dcdcd11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -Wshadow to warning flags if the compiler supports it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7eda22c72"
>[7eda22c72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test13.out.ok,
plugins/sudoers/regress/testsudoers/test13.sh:<br>
Add test for syntax error when defining an alias using a reserved word.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a36d70fc"
>[7a36d70fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix pasto, TIMEOUT not CMND_TIMEOUT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e826705b6"
>[e826705b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE, doc/sudoers.man.in, doc/sudoers.man.in.sed,
doc/sudoers.mdoc.in:<br>
Document reserved words that cannot be used as alias names. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=941"
>Bug
#941</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1a59accf"
>[b1a59accf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/sudoers_version.h:<br>
Detect when a reserved word is used when declaring an alias. Now instead
of &ldquo;syntax error, unexpected CHROOT, expecting ALIAS&rdquo; the message is
&ldquo;syntax error, reserved word used as an alias name&rdquo; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=941"
>Bug
#941</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70ada21c5"
>[70ada21c5]</a></li>
</ul>
</dd>
<dt>2020-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.9.3p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2593b22b"
>[b2593b22b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c:<br>
Add SLOG_AUDIT flag for log_warningx() to also audit the message. This
lets us combine audit_failure() and log_warningx() calls with the same
message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1d19f1d6"
>[f1d19f1d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Log when user-specified command line options are rejected by sudoers. We
already audit those but in some cases they were not logged as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ee731caf"
>[6ee731caf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix potential NULL deref in debug code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f8e1b974"
>[6f8e1b974]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getspwuid.c:<br>
Close the passwd db before calling getpwnam_shadow(3). Otherwise, we
will get the non-shadow passwd entry (&rdquo;*&quot;) since we called setpassent(3)
earlier to keep the passwd db open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09835b719"
>[09835b719]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix configure test for crypt(3) when it is present in libc. Fixes a
regression introduced in sudo 1.9.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75d53ee54"
>[75d53ee54]</a></li>
</ul>
</dd>
<dt>2020-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/eo.mo,
po/eo.po, po/fi.mo, po/fi.po, po/fr.mo, po/fr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4428133b"
>[d4428133b]</a></li>
</ul>
</dd>
<dt>2020-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Move warning about plaintext password to the end of configure. It is
unlikely to be noticed at the beginning of the output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2c72300c"
>[e2c72300c]</a></li>
</ul>
</dd>
<dt>2020-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/auth/passwd.c:<br>
Use a simple string compare on systems without crypt(3). This is only
used on systems without PAM, BSD authentication or AIX authentication.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=940"
>Bug #940</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=874c2b27c"
>[874c2b27c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
Fix typo in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44a1058aa"
>[44a1058aa]</a></li>
</ul>
</dd>
<dt>2020-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Only use faccessat(3) if AT_EACCESS is defined. Apparently Android
(bionic) has faccessat() but not AT_EACCESS. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=940"
>Bug
#940</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90bcae798"
>[90bcae798]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
Guard use of ttyslot() with HAVE_TTYSLOT, fix guard for utmp_setid().
This should make it easier to compile sudo on Android which doesn&rsquo;t
provide a way to write to the utmp file. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=940"
>Bug
#940</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f1fff953"
>[4f1fff953]</a></li>
</ul>
</dd>
<dt>2020-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>po/zh_CN.mo, po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a00130328"
>[a00130328]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/it.mo, po/it.po, po/ja.mo,
po/ja.po, po/pl.mo, po/pl.po, po/pt.mo, po/pt.po, po/pt_BR.mo,
po/pt_BR.po, po/sr.mo, po/sr.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po,
po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f6a3d35c"
>[9f6a3d35c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/po/sudoers.pot:<br>
Back out sudo 1.9.3b1 version change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1154e1d60"
>[1154e1d60]</a></li>
</ul>
</dd>
<dt>2020-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac, plugins/sudoers/defaults.c,
plugins/sudoers/po/sudoers.pot:<br>
Fix typo in warning for T_CHPATH, list &lsquo;~&rsquo; not &lsquo;*&rsquo; twice. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=938"
>Bug
#938</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=def99ffd7"
>[def99ffd7]</a></li>
</ul>
</dd>
<dt>2020-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update .pot files for 1.9.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86df234e1"
>[86df234e1]</a></li>
</ul>
</dd>
<dt>2020-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Add missing check for strdup() failure. Coverity CID 214243
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fc3b62d7"
>[3fc3b62d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudoers:<br>
Sync example sudoers with manual page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4239a45b6"
>[4239a45b6]</a></li>
</ul>
</dd>
<dt>2020-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add simple runchroot and runcwd examples. Also document the limitation
of command-based Defaults settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ca6056a3"
>[5ca6056a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Add callback for runchroot Defaults and require password -D/-R checks.
Using a command-based Default for runchroot will still only work for
paths that exist both in and outside the chroot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c200e7163"
>[c200e7163]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Pass a struct to the match functions to track the resolved command. This
makes it possible to update user_cmnd and cmnd_status modified by
per-rule CHROOT settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10d3d69aa"
>[10d3d69aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/editor.c,
plugins/sudoers/find_path.c, plugins/sudoers/goodpath.c,
plugins/sudoers/match.c, plugins/sudoers/match_command.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/stubs.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Take the chroot into account when search for the command. This could a a
user-specific chroot via the -R option, a runchroot Defaults value, or a
per-command CHROOT spec in the sudoers rule.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6dbfe509"
>[b6dbfe509]</a></li>
</ul>
</dd>
<dt>2020-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove closefrom_fallback() from lib/util/util.exp. It is a static
function and should not be exported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9997c8ec"
>[e9997c8ec]</a></li>
</ul>
</dd>
<dt>2020-09-06  Evan Anderson</dt>
<dd>
<ul>
<li>
<p>configure, m4/sudo.m4:<br>
configure: Fix runstatedir handling for distros that do not support it</p>
<p>runstatedir was added in yet-to-be released autoconf 2.70. Some distros
are shipping this addition in their autoconf packages, but others, such
as Fedora, are not. This causes the rundir variable to be set
incorrectly if the configure script is regenerated with an unpatched
autoconf since the runstatedir variable set is deleted after
regeneration. This change works around that problem by checking that
runstatedir is non-empty before potentially using it to set the rundir
variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92e5d8194"
>[92e5d8194]</a></p>
</li>
</ul>
</dd>
<dt>2020-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
We need to link with NET_LIBS for gai_strerror() on some systems. From
Tim Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d9154cd4"
>[3d9154cd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ltmain.sh:<br>
Fix sco library versioning; fallout from frebsd-elf reorg. From Tim Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6ed38e7e"
>[d6ed38e7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
SVR4/5 fixes and long password support for OpenServer 6 &amp; 5. From Tim
Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72b28bbc3"
>[72b28bbc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/logsrv/protobuf-c.c:<br>
Use config.h to handle systems without inline function support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f8802676"
>[0f8802676]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Prefer dlopen() over shl_load() on HP-UX 11.11 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6cb5c72b"
>[f6cb5c72b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_fatal.h, lib/util/fatal.c:<br>
Define sudo_warn_setlocale_t and use sudo_conv_t in sudo_fatal.h. Works
around a bug in older versions of the HP ANSI C compiler and results in
more readable code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d56347b98"
>[d56347b98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
HP-UX cc may not allow __declspec(dllexport) to be used in conjunction
with &ldquo;#pragma HP_DEFINED_EXTERNAL&rdquo; when redefining standard libc
functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7033f33a"
>[a7033f33a]</a></li>
</ul>
</dd>
<dt>2020-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for hiding unexported symbols on HP-UX. We need to pass the -b
option to the compiler, not just the linker, so it will choose the PIC C
runtime.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88c7a35dd"
>[88c7a35dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Check that the files are character devices before comparing st_rdev.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc8e6c601"
>[cc8e6c601]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Fix regress when ttyname(3) returns the same device under a different
name. On systems that have both new and old pty names we can end up with
a name mismatch even though the underlying device is the same.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0092ce31"
>[a0092ce31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test3.sh:<br>
Use the same pattern of redefining TESTDIR as test10.sh. Adapted from a
diff from Tim Rice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e561f5b85"
>[e561f5b85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Rename sa_len -&gt; sa_size to avoid a conflict on UnixWare and others. On
some systems, sa_len is a #define for 4.4BSD compatibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e92d10011"
>[e92d10011]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Include strings.h for strcasecmp(3). From Tim Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6a14c941"
>[f6a14c941]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Add missing #ifdef HAVE_CLOCK_GETTIME in getentropy_fallback() From Tim
Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4b9f6136"
>[c4b9f6136]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Regen for check_exptilde.o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6d477692"
>[f6d477692]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, scripts/mkdep.pl:<br>
Add missing dependency info for cfmakeraw.lo in lib/util/Makefile.in
From Tim Rice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dad149f78"
>[dad149f78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Be consistent and use __hpux not <strong>hpux</strong> like the rest of sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb64210f7"
>[fb64210f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/logsrv/protobuf-c.c:<br>
Replace &ldquo;static inline&rdquo; with &ldquo;static __inline&rdquo; for older compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0576eb010"
>[0576eb010]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/log_server.pb-c.h, lib/logsrv/Makefile.in,
lib/logsrv/log_server.pb-c.c, logsrvd/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/sendlog.c,
plugins/sudoers/iolog_client.c, scripts/unanon:<br>
Post-process protoc-c files to avoid depending on anonymous unions.
Based on a patch from Michael Osipov. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/60"
>GitHub issue
#60</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eaa95acb3"
>[eaa95acb3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preload.c:<br>
Add sudoers_audit to sudo_sudoers_plugin_symbols[] array. Fixes loading
of sudoers_audit when configured with &ndash;enable-static-sudoers. <a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/61"
>GitHub
issue #61</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24b35393e"
>[24b35393e]</a></li>
</ul>
</dd>
<dt>2020-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Fix copy and paste error; Coverity CID 214191
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a8a24560"
>[8a8a24560]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix memory leak on error found by the clang 10.01 analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24d5ee589"
>[24d5ee589]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Use correct size for curlim and maxlim.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=010634303"
>[010634303]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, doc/Makefile.in:<br>
Only install man pages for logsrvd and python plugin if we build them.
<a
  class="gdoc-markdown__link"
  href="https://github.com/sudo-project/sudo/issues/58"
>GitHub issue #58</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=049430ee5"
>[049430ee5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.ac, doc/Makefile.in:<br>
Remove obsolete mansrcdir variable, add _SRC suffix to LOGSRV and
LOGSRVD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21a2dce50"
>[21a2dce50]</a></li>
</ul>
</dd>
<dt>2020-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/eventlog.c, plugins/sudoers/logging.c:<br>
If the command was run in a chroot, add it to the log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd06e588e"
>[fd06e588e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/eventlog.c, logsrvd/iolog_writer.c, plugins/sudoers/logging.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Log the runcwd not submitcwd in the sudo-style log file. The log entry
should reflect the working directory the command actually ran in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=226307591"
>[226307591]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test12.out.ok,
plugins/sudoers/regress/testsudoers/test12.sh:<br>
Add test of multiple syntax errors. Where possible, the portion of the
line before the error should be still be interpreted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a51d194a7"
>[a51d194a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Fix error recovery in a privilege after a &lsquo;:&rsquo; separator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=578789c56"
>[578789c56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Initialize runchroot and runcwd in init_options()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc563286f"
>[fc563286f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Fix path to check_exptilde.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2adde428c"
>[2adde428c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/log_server.pb-c.h, include/protobuf-c/protobuf-c.h,
lib/logsrv/protobuf-c.c:<br>
Update to protobuf-c 1.3.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=965ad7448"
>[965ad7448]</a></li>
</ul>
</dd>
<dt>2020-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h:<br>
Regenerate the parser with &ldquo;bison -y&rdquo; for verbose syntax error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3b85171f"
>[e3b85171f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add chroot/chdir changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7130775f"
>[b7130775f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/parse_args.c, src/sudo_usage.h.in:<br>
Support &ldquo;<em>&rdquo; for CWD/CHROOT to allow user to specify cwd or chroot. Adds
two new command line options, -D (&ndash;chdir) and -R (&ndash;chroot) that can
only be used when sudoers sets runcwd or runchroot to &ldquo;</em>&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1676f0cee"
>[1676f0cee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_util.c, logsrvd/iolog_writer.c, logsrvd/logsrvd.h,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Read/write runchroot and runcwd entries in the JSON event log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd254e104"
>[bd254e104]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.c,
plugins/sudoers/regress/sudoers/test24.in,
plugins/sudoers/regress/sudoers/test24.json.ok,
plugins/sudoers/regress/sudoers/test24.ldif.ok,
plugins/sudoers/regress/sudoers/test24.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test24.out.ok,
plugins/sudoers/regress/sudoers/test24.sudo.ok,
plugins/sudoers/regress/sudoers/test24.toke.ok:<br>
Add support for runchroot and runcwd to &ldquo;sudo -l&rdquo; and cvtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ff960457"
>[9ff960457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/exptilde.c,
plugins/sudoers/regress/exptilde/check_exptilde.c:<br>
Unit test for exptilde
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86513c78b"
>[86513c78b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/exptilde.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c,
plugins/sudoers/regress/sudoers/test1.toke.ok,
plugins/sudoers/regress/sudoers/test11.toke.ok,
plugins/sudoers/regress/sudoers/test12.toke.ok,
plugins/sudoers/regress/sudoers/test13.toke.ok,
plugins/sudoers/regress/sudoers/test14.toke.ok,
plugins/sudoers/regress/sudoers/test15.toke.ok,
plugins/sudoers/regress/sudoers/test16.toke.ok,
plugins/sudoers/regress/sudoers/test17.toke.ok,
plugins/sudoers/regress/sudoers/test18.toke.ok,
plugins/sudoers/regress/sudoers/test19.toke.ok,
plugins/sudoers/regress/sudoers/test22.toke.ok,
plugins/sudoers/regress/sudoers/test3.toke.ok,
plugins/sudoers/regress/sudoers/test4.toke.ok,
plugins/sudoers/regress/sudoers/test6.toke.ok,
plugins/sudoers/regress/sudoers/test8.toke.ok,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_version.h,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add CHROOT and CWD sudoers options. Also matching runchroot and runcwd
Defaults settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bdfd010d"
>[6bdfd010d]</a></li>
</ul>
</dd>
<dt>2020-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, src/exec.c, src/limits.c, src/sudo.c, src/sudo.h:<br>
Pass resource limits values to the plugin in user_info[] Sudo resets the
resource limits early in its execution so the plugin cannot tell what
the original limits were itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4a579cf8"
>[c4a579cf8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudo_logsrvd.man.in, doc/sudo_plugin_python.man.in,
doc/sudo_plugin_python.mdoc.in, lib/logsrv/Makefile.in,
lib/util/cfmakeraw.c, lib/util/fchmodat.c, lib/util/fstatat.c,
lib/util/getdelim.c, lib/util/getusershell.c, lib/util/openat.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/roundup.c,
lib/util/strtoid.c, lib/util/strtonum.c, lib/util/term.c,
lib/util/unlinkat.c, logsrvd/Makefile.in, logsrvd/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrv_util.c,
plugins/python/Makefile.in, plugins/python/pyhelpers.c,
plugins/python/pyhelpers.h, plugins/python/python_baseplugin.c,
plugins/python/python_convmessage.c,
plugins/python/python_importblocker.c,
plugins/python/python_loghandler.c,
plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c,
plugins/python/sudo_python_debug.c, plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/parse.c, plugins/sudoers/parse_ldif.c,
plugins/sudoers/set_perms.c, plugins/sudoers/starttime.c,
plugins/sudoers/tsdump.c, src/exec_monitor.c, src/exec_nopty.c,
src/limits.c, src/ttyname.c:<br>
Update copyright year on some files where it was out of date.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84e6e6ccf"
>[84e6e6ccf]</a></li>
</ul>
</dd>
<dt>2020-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, doc/visudo.man.in,
doc/visudo.mdoc.in:<br>
Refer to &ldquo;syntax error&rdquo; instead of &ldquo;parse error&rdquo;. This is the term the
parser uses when there is an actual error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47ed1721b"
>[47ed1721b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Remove superfluous &ldquo;parse error in sudoers near line N&rdquo; message. The
sudoers parser now produces better syntax error messages so we don&rsquo;t
need visudo to print its own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b300f78d"
>[1b300f78d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Don&rsquo;t override errorfile and errorlineno set by check_aliases(). Now
that alias parsing stores the file and line number, visudo can use that
information to go to the line with an error when re-editing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03eb3d6db"
>[03eb3d6db]</a></li>
</ul>
</dd>
<dt>2020-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/sig2str.c,
lib/util/str2sig.c:<br>
Use sigabbrev_np(3) to access signal abbreviations if supported.
glibc-2.32 has removed sys_sigabbrev[], we can use sigabbrev_np(3)
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=019f1f6b9"
>[019f1f6b9]</a></li>
</ul>
</dd>
<dt>2020-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Briefly describe how to restore historical parse error behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3235687d9"
>[3235687d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Mention eof-of-line terminator and plugin argument changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da5afe11b"
>[da5afe11b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, src/load_plugins.c:<br>
Fix sudoers_policy plugin options when sudoers_audit is not listed. As
of sudo 1.9.1 the sudoers file is opened by the audit plugin, not the
policy plugin. As a result, plugin options set for sudoers_policy have
no effect. If sudoers_policy has plugin options in sudo.conf and
sudoers_audit is not listed, move the options to sudoers_audit so they
will have an effect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3364c1e9"
>[a3364c1e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/file.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h:<br>
sudoers error recovery can be configured via an &ldquo;error_recovery&rdquo;
setting. This setting is an argument to the sudoers plugin, similar to
how sudoers_file, sudoers_mode, sudoers_uid, etc. are implemented. The
default value is true.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=609910cc2"
>[609910cc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test11.sh:<br>
Make this test pass with bison&rsquo;s verbose error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=360c26476"
>[360c26476]</a></li>
</ul>
</dd>
<dt>2020-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Recover from a syntax error after the &lsquo;:&rsquo; in a privilege spec. For
compound privilege specs, don&rsquo;t throw away the entire thing if we have a
syntax error, only the part after the error is encountered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7bc24d40"
>[c7bc24d40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/sudoers/test5.toke.ok:<br>
Add explicit end-of-line matching in the parser for better error
messages. A valid line in sudoers must end in a newline or EOF.
Previously, it was possible (though not documented) to have multiple
user specs on a single line. Now, each must be on its own line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11803027c"
>[11803027c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add NOMATCH token and use it in the lexer for an unmatched pattern. The
ERROR token is now only used for errors detected by the lexer and for
which we&rsquo;ve already printed an error. This lets us remove the hack in
sudoerserror() and just check last_token to determine whether or not to
display the error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d72a48dc7"
>[d72a48dc7]</a></li>
</ul>
</dd>
<dt>2020-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Enable error recovery for syntax erorrs that don&rsquo;t end with a newline. A
syntax error on the last line of a sudoers file with no trailing newline
is now recoverable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de9c77ba7"
>[de9c77ba7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test11.out.ok:<br>
Add error recovery for unexpected tokens after include/includedir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94eb14c21"
>[94eb14c21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.9.3 changes so far.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c258de89"
>[9c258de89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.9.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31d41853b"
>[31d41853b]</a></li>
</ul>
</dd>
<dt>2020-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/pp:<br>
Format the macOS minor version number with two digits. This way we get
consistent 4-digit version numbers even for macOS verions like 10.3 or
11.0 where the minor number is a single digit. For example. 10.3 will be
formatted as 1003 and 11.0 will be 1100.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=086aaeb44"
>[086aaeb44]</a></li>
</ul>
</dd>
<dt>2020-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/infback.c, lib/zlib/inflate.c:<br>
Add missing ZFALLTHROUGH and use spaces not tabs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb2eb8ea9"
>[cb2eb8ea9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Fix probe for macOS Big Sur &ldquo;sw_vers -productName&rdquo; now returns &ldquo;macOS&rdquo;,
not &ldquo;Mac OS X&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d12f7ccf2"
>[d12f7ccf2]</a></li>
</ul>
</dd>
<dt>2020-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/python_plugin_common.h,
plugins/python/sudo_python_module.c, src/parse_args.c, src/selinux.c:<br>
Fix some warnings from pvs-studio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a940a2c78"
>[a940a2c78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/util/aix.c, lib/util/sudo_debug.c, logsrvd/logsrvd.c,
logsrvd/sendlog.c, plugins/audit_json/audit_json.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/env.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/copy_file.c, src/exec.c, src/exec_common.c, src/exec_monitor.c,
src/exec_nopty.c, src/exec_pty.c, src/load_plugins.c, src/parse_args.c,
src/selinux.c, src/sesh.c, src/solaris.c, src/sudo.c, src/sudo_edit.c,
src/tgetpass.c, src/utmp.c:<br>
Fix some warnings from pvs-studio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=961a4afe6"
>[961a4afe6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sssd.c:<br>
Use angle quotes when including gram.h and def_data.c. Otherwise, we can
include the wrong file when doing an out-of-source build when configured
using &ndash;with-devel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb8ed8ba6"
>[fb8ed8ba6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fatal.c, lib/util/regress/fnmatch/fnm_test.c,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c,
src/parse_args.c:<br>
Move inclusion of compat headers up with the system headers. Now that
sudo_dso_public is defined in config.h we don&rsquo;t need sudo_compat.h
before including the compat headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbad17a99"
>[cbad17a99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.ac, include/compat/fnmatch.h,
include/compat/getaddrinfo.h, include/compat/getopt.h,
include/compat/glob.h, include/compat/sha2.h, include/sudo_compat.h,
include/sudo_conf.h, include/sudo_debug.h, include/sudo_digest.h,
include/sudo_dso.h, include/sudo_event.h, include/sudo_fatal.h,
include/sudo_json.h, include/sudo_lbuf.h, include/sudo_rand.h,
include/sudo_util.h, lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_util/check_iolog_util.c, lib/util/mksiglist.c,
lib/util/mksigname.c, lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/term.c,
logsrvd/logsrvd.c, logsrvd/sendlog.c, plugins/audit_json/audit_json.c,
plugins/group_file/group_file.c, plugins/group_file/plugin_test.c,
plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c, plugins/sample/sample_plugin.c,
plugins/sample_approval/sample_approval.c, plugins/sudoers/audit.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/tsdump.c,
plugins/sudoers/visudo.c, plugins/system_group/system_group.c,
src/env_hooks.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c, src/sesh.c, src/sudo.c,
src/sudo_noexec.c:<br>
Rename __dso_public -&gt; sudo_dso_public and move to config.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=985af422d"
>[985af422d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/host_port.c, lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_path.c, lib/iolog/iolog_util.c, lib/util/ttyname_dev.c,
logsrvd/eventlog.c, logsrvd/iolog_writer.c, logsrvd/logsrv_util.c,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c,
plugins/audit_json/audit_json.c, plugins/sample/sample_plugin.c,
plugins/sample_approval/sample_approval.c, plugins/sudoers/locale.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c, src/net_ifs.c,
src/sesh.c, src/sudo.h:<br>
We no longer need to include sudo_gettext.h before sudo_compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=076d0376d"
>[076d0376d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add *.map to the ignore file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b0783b0b"
>[4b0783b0b]</a></li>
</ul>
</dd>
<dt>2020-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/uncrustify.cfg:<br>
Update to uncrustify 0.71.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4193f5482"
>[4193f5482]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Mention visudo in sudo(8) and document sudoers error recovery.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71a879d90"
>[71a879d90]</a></li>
</ul>
</dd>
<dt>2020-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/freezero.c, lib/util/getentropy.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, scripts/mkdep.pl, src/conversation.c:<br>
Use OpenBSD-compatible freezero() in place of explicit_bzero() + free()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce97ca28d"
>[ce97ca28d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, include/sudo_compat.h, include/sudo_plugin.h,
lib/util/Makefile.in, lib/util/arc4random.c, lib/util/explicit_bzero.c,
lib/util/getentropy.c, lib/util/memset_s.c, lib/util/sha2.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, scripts/mkdep.pl, src/conversation.c:<br>
Switch from memset_s() -&gt; explicit_bzero(). memset_s() (and all of
Annex K) is likely to be removed from the a future version of the
standard.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cef6e3687"
>[cef6e3687]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Define YYERROR_VERBOSE for bison and rename COMMENT -&gt; &lsquo;\n&rsquo; This
results in better error messages when there is a parse error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a97150f5"
>[8a97150f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mkdefaults:<br>
Some minor cleanup. Use ntuples instead of tuple_last Strip leading and
trailing double quotes using a single gsub() ntuples will never be zero
so don&rsquo;t bother checking No need to explicitly close files in END
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6702f4ac4"
>[6702f4ac4]</a></li>
</ul>
</dd>
<dt>2020-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/defaults.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, src/selinux.c:<br>
Quiet some clang 10 analyzer warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa5d44b8b"
>[fa5d44b8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Refactor freeing of InfoMessage list into free_info_messages(). Also
fixes a false positive from the clang analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63dadad9d"
>[63dadad9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test11.sh:<br>
Require that a @include line end with a newline or EOF. We now parse
the entire line before reading the include file. This is less surprising
behavior and results in better error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f5f28ac7"
>[5f5f28ac7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/regress/sudoers/test10.out.ok,
plugins/sudoers/regress/sudoers/test11.out.ok,
plugins/sudoers/regress/sudoers/test12.out.ok,
plugins/sudoers/regress/sudoers/test13.out.ok,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test15.out.ok,
plugins/sudoers/regress/sudoers/test16.out.ok,
plugins/sudoers/regress/sudoers/test17.out.ok,
plugins/sudoers/regress/sudoers/test18.out.ok,
plugins/sudoers/regress/sudoers/test18.toke.ok,
plugins/sudoers/regress/sudoers/test19.out.ok,
plugins/sudoers/regress/sudoers/test2.out.ok,
plugins/sudoers/regress/sudoers/test20.out.ok,
plugins/sudoers/regress/sudoers/test21.out.ok,
plugins/sudoers/regress/sudoers/test22.out.ok,
plugins/sudoers/regress/sudoers/test23.out.ok,
plugins/sudoers/regress/sudoers/test3.out.ok,
plugins/sudoers/regress/sudoers/test4.out.ok,
plugins/sudoers/regress/sudoers/test4.toke.ok,
plugins/sudoers/regress/sudoers/test5.out.ok,
plugins/sudoers/regress/sudoers/test5.toke.ok,
plugins/sudoers/regress/sudoers/test6.out.ok,
plugins/sudoers/regress/sudoers/test7.out.ok,
plugins/sudoers/regress/sudoers/test7.toke.ok,
plugins/sudoers/regress/sudoers/test8.out.ok,
plugins/sudoers/regress/sudoers/test8.toke.ok,
plugins/sudoers/regress/sudoers/test9.out.ok,
plugins/sudoers/regress/testsudoers/test1.out.ok,
plugins/sudoers/regress/testsudoers/test10.out.ok,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test2.out.ok,
plugins/sudoers/regress/testsudoers/test3.out.ok,
plugins/sudoers/regress/testsudoers/test4.out.ok,
plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/regress/testsudoers/test6.out.ok,
plugins/sudoers/regress/testsudoers/test7.out.ok,
plugins/sudoers/regress/testsudoers/test8.out.ok,
plugins/sudoers/regress/testsudoers/test9.out.ok,
plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test3.err.ok,
plugins/sudoers/regress/visudo/test8.err.ok,
plugins/sudoers/regress/visudo/test8.sh, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c:<br>
Display more specific parser error messages when possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3235e4353"
>[3235e4353]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/file.c:<br>
Let the sudoers parser recover after a parse error. We currently just
discard the line with the error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c342e586"
>[7c342e586]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Keep track of the position of the current token for error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91cc68d7f"
>[91cc68d7f]</a></li>
</ul>
</dd>
<dt>2020-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Store the current line in our own buffer for better error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99f43f8a0"
>[99f43f8a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample_approval/sample_approval.exp:<br>
Sync sample_approval.exp with sample_approval.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03816d020"
>[03816d020]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8bfeba58"
>[a8bfeba58]</a></li>
</ul>
</dd>
<dt>2020-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo.pp, scripts/mkpkg:<br>
Fix libssl dependency on Debian-based systems. Older systems may still
have libssl1.0.0, not libssl1.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c90539015"
>[c90539015]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add workaround for yyless() not resetting yy_at_bol.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a58b19f9"
>[2a58b19f9]</a></li>
</ul>
</dd>
<dt>2020-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Always use a linker script to hide symbols if it is supported. We use
this even if the compiler has symbol visibility support so we will
notice mismatches between the exports file and __dso_public annotations
in the source code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bc70c02c"
>[4bc70c02c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, plugins/python/python_plugin.exp:<br>
Rename python_plugin.exp.in -&gt; python_plugin.exp There is nothing
dynamic in this file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38e28dcbf"
>[38e28dcbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, plugins/python/python_plugin.exp.in,
plugins/python/python_plugin_approval_multi.inc,
plugins/python/python_plugin_audit_multi.inc:<br>
Add missing python_plugin.exp.in file and remove unneeded __dso_public
This fixes building the python plugin on systems where the compiler
doesn&rsquo;t support symbol hiding (but wherethe linker does).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b4d4ab8d"
>[3b4d4ab8d]</a></li>
</ul>
</dd>
<dt>2020-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/mkdefaults:<br>
Use &ldquo;foo in bar&rdquo; syntax for testing existence of a key.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=974f833e1"
>[974f833e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/toke.c:<br>
Replace /<em>FALLTHROUGH</em>/ in generated code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=838255bb8"
>[838255bb8]</a></li>
</ul>
</dd>
<dt>2020-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/infback.c, lib/zlib/inflate.c, lib/zlib/zconf.h.in:<br>
Add ZFALLTHROUGH macro to use instead of /* FALLTHROUGH */ comments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c87a47735"
>[c87a47735]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/arc4random_buf.c, lib/util/glob.c, lib/util/snprintf.c,
lib/util/strtonum.c, logsrvd/sendlog.c, plugins/python/pyhelpers.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/check.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/defaults.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/match.c, plugins/sudoers/parse_ldif.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/conversation.c, src/exec_monitor.c,
src/exec_pty.c, src/parse_args.c, src/regress/noexec/check_noexec.c,
src/tgetpass.c:<br>
Use the fallthrough attribute instead of /* FALLTHROUGH */ comments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03ad96e44"
>[03ad96e44]</a></li>
</ul>
</dd>
<dt>2020-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/mkdefaults:<br>
Rewrite mkdefaults in awk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20fd3b636"
>[20fd3b636]</a></li>
</ul>
</dd>
<dt>2020-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Update translators.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feebbd6d2"
>[feebbd6d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, src/copy_file.c:<br>
Prompt user before truncating a file to zero bytes. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=922"
>Bug
#922</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ee98cf45"
>[6ee98cf45]</a></li>
</ul>
</dd>
<dt>2020-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/ja.mo, po/ja.po,
po/ko.mo, po/ko.po, po/pl.mo, po/pl.po, po/pt.mo, po/pt.po, po/pt_BR.mo,
po/pt_BR.po, po/ro.mo, po/ro.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po,
po/zh_CN.mo, po/zh_CN.po, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcf96c153"
>[bcf96c153]</a></li>
</ul>
</dd>
<dt>2020-07-21  kuberlog</dt>
<dd>
<ul>
<li>config.h.in, configure.ac:<br>
configure.ac: fix documentation about lecture
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=054939c1e"
>[054939c1e]</a></li>
</ul>
</dd>
<dt>2020-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Handle openssl where there is no separate libcrypto pkgconfig file. In
this case, just use the full openssl libs to get the sha2 functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd24a322c"
>[bd24a322c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Ignore &ndash;enable-gcrypt if &ndash;enable-openssl is also specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10f8bb639"
>[10f8bb639]</a></li>
</ul>
</dd>
<dt>2020-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a9ed1998"
>[6a9ed1998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Fix some warnings displayed by autoconf 2.69b This fixes the missing
HAVE_GSSAPI_GSSAPI_H define in config.h.in. TODO: replace shadow_funcs
variable in function checks with literals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be89bdcf7"
>[be89bdcf7]</a></li>
</ul>
</dd>
<dt>2020-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Initialize sudo_conv and sudo_printf in sudoers_audit_open(). We will
need them if there is an error parsing sudoers and leaving them unset
can result in NULL deref. Also set the text domain to &ldquo;sudoers&rdquo; like we
do for the policy and I/O logging open functions. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=934"
>Bug
#934</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac00a0701"
>[ac00a0701]</a></li>
</ul>
</dd>
<dt>2020-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/ro.mo, plugins/sudoers/po/ro.po, po/it.mo, po/it.po,
po/ko.mo, po/ko.po, po/ro.mo, po/ro.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e4ce8525"
>[1e4ce8525]</a></li>
</ul>
</dd>
<dt>2020-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.exp:<br>
Export sudoers_audit symbol for compilers without symbol visibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9ad3704d"
>[b9ad3704d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the contents of the log.json file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6bc75e1e"
>[d6bc75e1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c:<br>
Fix typo, runas_uid should be runas_gid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3175049e4"
>[3175049e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudo.conf.in:<br>
Add sudoers_audit line for completeness, matching the documentation.
When sudoers is loaded as a policy plugin, it will be loaded
automatically as an audit plugin. Listing it explicitly in the default
sudo.conf file helps bring attention to the fact that sudoers now
supports the audit plugin type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90dbdf8f3"
>[90dbdf8f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Add some debugging statements around Defaults lookup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9a39c149"
>[e9a39c149]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Replace #includedir with @includedir in default sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=660738139"
>[660738139]</a></li>
</ul>
</dd>
<dt>2020-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/libtool.m4:<br>
Allow HP-UX share libs and modules to link against static libs. hppa64
and ia64 use PIC by default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ef09595f"
>[9ef09595f]</a></li>
</ul>
</dd>
<dt>2020-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use pkg-config to find the openssl cflags and libs if possible. We
support linking against static openssl libs too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cadd5495"
>[4cadd5495]</a></li>
</ul>
</dd>
<dt>2020-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/pp:<br>
Fix parsing of /etc/redhat-release on RHEL 8. RedHat dropped the word
&ldquo;server&rdquo; from the release name in redhat-release which results in the
awk script printing the wrong field. Instead of using awk, just use sed
to pull out the version number immediately following the word &ldquo;release&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d04805eec"
>[d04805eec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen without `scare quotes&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=820d6ae20"
>[820d6ae20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
src/parse_args.c, src/sudo.c:<br>
Replace or remove use of `scare quotes&rsquo; These don&rsquo;t translate well and
look odd in many fonts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df49897bd"
>[df49897bd]</a></li>
</ul>
</dd>
<dt>2020-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/infback.c, lib/zlib/inflate.c:<br>
Add FALLTHROUGH comments to quiet -Wimplicit-fallthrough
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95ba6645d"
>[95ba6645d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/solaris.c:<br>
Fix implicit fallthrough warning and add break to default cases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cec928d1"
>[1cec928d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -Wimplicit-fallthrough to &ndash;enable-warnings if available. Note that
clang 10 has support for -Wimplicit-fallthrough in C code but doesn&rsquo;t
recognize lint-style FALLTHROUGH comments like gcc does so we can&rsquo;t use
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e9346d4e"
>[5e9346d4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, m4/ax_func_snprintf.m4, m4/sudo.m4:<br>
Fix some warnings from configure test programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23b1ee2f4"
>[23b1ee2f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Drop old test for -lcposix for ISC Unix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2dce25ac"
>[f2dce25ac]</a></li>
</ul>
</dd>
<dt>2020-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
Mention sudo-blog announce list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=802058b36"
>[802058b36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Bugs #860 and #917 were fixed in 1.9.0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6d6e9ba0"
>[e6d6e9ba0]</a></li>
</ul>
</dd>
<dt>2020-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen to fix a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65edf6344"
>[65edf6344]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in,
lib/iolog/regress/iolog_mkpath/check_iolog_mkpath.c:<br>
Add regress test to catch swapids() bug when called by iolog_mkdtemp()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4739533f"
>[d4739533f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po, po/ro.mo, po/ro.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88393fc96"
>[88393fc96]</a></li>
</ul>
</dd>
<dt>2020-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document the order in which the plugin open/close functions are called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce76c9fe8"
>[ce76c9fe8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, lib/iolog/iolog_fileio.c:<br>
Fix a typo that prevented swapids() from restoring the original gid.
This led to a regression when the iolog_file setting ends in six or more
X&rsquo;s or when the I/O logs are stored on NFS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc6e36e94"
>[bc6e36e94]</a></li>
</ul>
</dd>
<dt>2020-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c, src/get_pty.c, src/sudo.h,
src/sudo_exec.h:<br>
Replace master/slave in code with leader/follower.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bb5aedac"
>[8bb5aedac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.man.in, doc/sudoers.mdoc.in, examples/sudoers,
plugins/sudoers/regress/cvtsudoers/sudoers,
plugins/sudoers/regress/cvtsudoers/sudoers.defs,
plugins/sudoers/regress/cvtsudoers/test13.out.ok,
plugins/sudoers/regress/cvtsudoers/test19.out.ok,
plugins/sudoers/regress/visudo/test6.sh:<br>
Replace terms master and blacklist in docs and examples.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f093cb2e5"
>[f093cb2e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=929"
>Bug #929</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a3aff156"
>[4a3aff156]</a></li>
</ul>
</dd>
<dt>2020-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Clean up temporary sudoedit files on success; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=929"
>Bug
#929</a> This is a regression
introduced in sudo 1.9.0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bee995059"
>[bee995059]</a></li>
</ul>
</dd>
<dt>2020-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
New Romanian translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddd3b0ece"
>[ddd3b0ece]</a></li>
</ul>
</dd>
<dt>2020-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add missing entry for the LDAP/SSSD sudoHost regression. Also add new
Romanian translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47b2df64c"
>[47b2df64c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/pl.mo, po/pl.po, po/pt.mo,
po/pt.po, po/pt_BR.mo, po/pt_BR.po, po/sv.mo, po/sv.po, po/tr.mo,
po/tr.po, po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po, po/zh_TW.mo,
po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f96e4537"
>[7f96e4537]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/ro.mo,
plugins/sudoers/po/ro.po, po/ro.mo, po/ro.po:<br>
Romanian translation from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d003da33d"
>[d003da33d]</a></li>
</ul>
</dd>
<dt>2020-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix a typo in the audit string when &ldquo;sudo -E&rdquo; is not allowed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=852d8c795"
>[852d8c795]</a></li>
</ul>
</dd>
<dt>2020-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/testhelpers.c:<br>
Check asprintf() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e12b99ee"
>[3e12b99ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Prefer the python3 in /usr/bin on Solaris. The /opt/csw version, if it
exists, may be a 32-bit version which we can&rsquo;t link with. Also handle
the case where the /usr/bin/python3 link is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a33994584"
>[a33994584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Declare getdelim(3) if it exists in libc but is not prototyped in
stdio.h. This can happen on systems with a gcc packages that was built
on and older versions of the OS where getdelim(3) was not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48c2bd000"
>[48c2bd000]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.ac:<br>
For python3-config, only use -I and -L/-l from &ndash;cflags and &ndash;ldflags
output. Otherwise we may get other flags used to build python that
conflict with what sudo uses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17b3f90f7"
>[17b3f90f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build 64-bit binaries and the python package on Solaris 11 and above. No
longer prefer the Solaris Studio C compiler over gcc, it causes issues
with the Python plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c881477b"
>[6c881477b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Fix memory leak on error in fmt_info_messages().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8da1f3195"
>[8da1f3195]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.9.1b1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f4de6949"
>[3f4de6949]</a></li>
</ul>
</dd>
<dt>2020-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen for sudo 1.9.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4e92164f"
>[d4e92164f]</a></li>
</ul>
</dd>
<dt>2020-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Add basic support for reject and error audit events to sudoers. This is
only used when logging events from plugins other than sudoers, such as
an approval plugin. With this change, if an approval plugin rejects the
command the denial will be logged in the sudoers log file using the
message from the approval plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f047377a0"
>[f047377a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c, plugins/sudoers/solaris_audit.c,
scripts/mkpkg:<br>
Fix Solaris and BSM audit warnings. Use BSM audit on Illumos, which
lacks Solaris audit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15d93a1ca"
>[15d93a1ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Track whether the session was opened in sudoers. In
sudoers_policy_close() only warn about being unable to run the command
if we actually opened the session (and thus passed all approval
plugins).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5a721593"
>[a5a721593]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Only display an error in the built-in policy close if command is set. If
a policy or approval plugin denies the command, command_details will not
have been filled out.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1198dfc93"
>[1198dfc93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c:
Avoid passing NULL to printf in match debug code for LDAP/SSSD. The file
name in struct userspec was not set for the LDAP and SSSD backends.
There is no actual file in this case so set the name to LDAP/SSSD. Also
add a guard to make sure we don&rsquo;t try to print NULL in
sudoers_lookup_check() if name is left unset.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49e43f580"
>[49e43f580]</a></li>
</ul>
</dd>
<dt>2020-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/linux_audit.c, plugins/sudoers/linux_audit.h:<br>
Add missing const to linux_audit_command()&rsquo;s argv function argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b40551dc3"
>[b40551dc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
When converting LDAP to sudoers, ignore entries with no sudoHost
attribute. Otherwise, sudo_ldap_role_to_priv() will treat a NULL host
list as as the &ldquo;ALL&rdquo; wildcard. This regression was introduced in sudo
1.8.23, which was the first version to convert LDAP sudoRole objects to
sudoers internal data structures. Thanks to Andreas Mueller for
reporting and debugging this problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73c1b0430"
>[73c1b0430]</a></li>
</ul>
</dd>
<dt>2020-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, src/load_plugins.c:<br>
Load the sudoers module as an audit plugin if loaded as a policy plugin.
Now that logging of successful commands is performed by sudoers as an
audit plugin we need to load sudoers_audit if sudoers_policy is also
loaded. Otherwise, accpted commands will not be logged.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=253e041d3"
>[253e041d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/bsm_audit.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/policy.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/solaris_audit.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Defer logging of the successful command until approval plugins have run.
This adds audit plugin support to the sudoers module, currently only
used for accept events. As a result, the sudoers file is now initially
parsed as an audit plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b51948191"
>[b51948191]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in,
include/sudo_plugin.h, plugins/audit_json/audit_json.c,
plugins/python/sudo_python_module.c, src/sudo.c:<br>
Add support for &ldquo;accept&rdquo; audit events sent by the sudo front-end. With
this change, the sudo front-end will send an &ldquo;accept&rdquo; audit event to the
audit plugins after all the I/O logging plugins have been initialized.
This can be used by an audit plugin that does not care about the result
of the individual policy and approval plugins and only wants to receive
a single &ldquo;accept&rdquo; event if all policy and approval plugins have
succeeded. The plugin_type argument for events sent by the front-end is
SUDO_FRONT_END (0).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0dc48548"
>[f0dc48548]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
If event loop fails due to ENXIO, remove /dev/tty events and recover.
This fixes an issue on Solaris 11.4 (and probably others) with &ldquo;sudo
reboot&rdquo; when I/O logging is enabled. Previously, sudo would kill the
command if it was still running after the event loop terminated, leaving
the system in a half-dead state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a38070921"
>[a38070921]</a></li>
</ul>
</dd>
<dt>2020-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t try to suspend sudo if the user&rsquo;s tty has gone away. Fixes a
problem on Solaris 11.4 (and possibly others) where sudo continually
tries to put itself in the background after the user&rsquo;s terminal has been
revoked.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=592eb7ab4"
>[592eb7ab4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Back out WIP code that was mistakenly committed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de31e6d53"
>[de31e6d53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Don&rsquo;t enable BSM audit on Solaris 10, it is missing AUE_sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0aaae554"
>[a0aaae554]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/get_pty.c:<br>
On Solaris 11.4 the openpty(3) prototype lives in termios.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad70fb4f1"
>[ad70fb4f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/solaris_audit.c:<br>
Add missing stdlib.h include and fix solaris_audit_failure() error
return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51dc8ad83"
>[51dc8ad83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Use Solaris audit for Solaris 11, not BSM audit. BSM audit is no longer
supported in Solaris 11.4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1aa76de1"
>[e1aa76de1]</a></li>
</ul>
</dd>
<dt>2020-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Check audit plugins for a close function too before execing command
directly. We cannot exec the command directly if any of the policy or
audit plugins use a close function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dd1e1907"
>[2dd1e1907]</a></li>
</ul>
</dd>
<dt>2020-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=927"
>Bug #927</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9cbb7beb"
>[d9cbb7beb]</a></li>
</ul>
</dd>
<dt>2020-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac, m4/sudo.m4:<br>
Add basic support for &ndash;runstatedir If the user specifies &ndash;runstatedir
but not &ndash;with-rundir, use runstatdir as the parent directory of the
sudo rundir.</p>
<p>In the future we may deprecate &ndash;with-rundir in favor of &ndash;runstatedir
but that will require changes for systems with no /var/run directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=026caf008"
>[026caf008]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, NEWS, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/regress/testsudoers/test10.out.ok,
plugins/sudoers/regress/testsudoers/test10.sh,
plugins/sudoers/regress/testsudoers/test11.out.ok,
plugins/sudoers/regress/testsudoers/test11.sh,
plugins/sudoers/regress/testsudoers/test2.out.ok,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.out.ok,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.sh,
plugins/sudoers/regress/testsudoers/test8.out.ok,
plugins/sudoers/regress/testsudoers/test8.sh,
plugins/sudoers/regress/testsudoers/test9.out.ok,
plugins/sudoers/regress/testsudoers/test9.sh,
plugins/sudoers/sudoers_version.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Add support for @include and @includedir These are less confusing than
#include and #includedir when the hash character is also the comment
character.</p>
<p>This commit also adds real parsing of include directives as opposed to
the pure lexer approach used previously. As a result, it is now possible
to include files with spaces by either using a double-quoted string or
escaping the space characters with a backslash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=741c6f274"
>[741c6f274]</a></p>
</li>
</ul>
</dd>
<dt>2020-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c:<br>
In iolog_openat() enable the write bit on pre-existing files if needed.
This prevents problems caused by the change to strip the write bit from
the timing file when it is finished.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c63ba01e0"
>[c63ba01e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
In visudo check that an include file is regular file before using it.
Avoids a generic &ldquo;input in flex scanner failed&rdquo; error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7febc3913"
>[7febc3913]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix a memory leak on error when including a file or directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a41d7b545"
>[a41d7b545]</a></li>
</ul>
</dd>
<dt>2020-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.9.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a69831dd"
>[5a69831dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Add a follow option (-F) to support replaying a live session. By
default, sudoreplay will exit when it reaches the end of the timing
file. With the -F option, it will keep going until the timing file is
finished and its write bit is cleared.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=452be1a4c"
>[452be1a4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c:<br>
Add iolog_clearerr() that acts like clearerr(3). Works for both
compressed and uncompressed I/O logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0312292e9"
>[0312292e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Clear the write bit from the I/O log timing file when it is complete.
This matches the behavior of sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a29daee1"
>[2a29daee1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Use PACKAGE_VERSION instead of 0.1 as the client and server version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84f0ae0cb"
>[84f0ae0cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/aix.c, lib/util/fatal.c,
lib/util/getusershell.c, lib/util/gidlist.c, lib/util/json.c,
lib/util/mkdir_parents.c, lib/util/strsignal.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/strtonum.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c:<br>
Set DEFAULT_TEXT_DOMAIN in lib/util&rsquo;s Makefile not individual .c files.
We no longer need to include sudo_gettext.h before sudo_compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ef5c4cf9"
>[8ef5c4cf9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_path.c, lib/iolog/iolog_util.c,
lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_util/check_iolog_util.c,
lib/util/digest_gcrypt.c, lib/util/event.c, lib/util/event_select.c,
lib/util/fnmatch.c, lib/util/getaddrinfo.c, lib/util/getcwd.c,
lib/util/getdelim.c, lib/util/getgrouplist.c, lib/util/getopt_long.c,
lib/util/glob.c, lib/util/inet_pton.c, lib/util/json.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/locking.c,
lib/util/mkdir_parents.c, lib/util/mktemp.c, lib/util/parseln.c,
lib/util/progname.c, lib/util/pw_dup.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/secure_path.c,
lib/util/sha2.c, lib/util/sig2str.c, lib/util/snprintf.c,
lib/util/str2sig.c, lib/util/strndup.c, lib/util/strtobool.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/sudo_dso.c,
lib/util/term.c, lib/util/ttyname_dev.c, lib/util/vsyslog.c,
plugins/audit_json/audit_json.c, plugins/group_file/getgrent.c,
plugins/group_file/group_file.c, plugins/python/sudo_python_debug.c,
plugins/sample/sample_plugin.c,
plugins/sample_approval/sample_approval.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/boottime.c,
plugins/sudoers/check.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c, plugins/sudoers/filedigest.c,
plugins/sudoers/find_path.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gentime.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/match_command.c,
plugins/sudoers/match_digest.c, plugins/sudoers/parse.c,
plugins/sudoers/parse_ldif.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/rcstr.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/starttime.c, plugins/sudoers/strlist.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_monitor.c,
src/exec_nopty.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/limits.c, src/load_plugins.c, src/net_ifs.c, src/parse_args.c,
src/preserve_fds.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c, src/signal.c, src/sudo.c,
src/sudo_edit.c, src/sudo_noexec.c, src/tcsetpgrp_nobg.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Include string.h unconditionally and only use strings.h for
strn?casecmp() In the pre-POSIX days BSD had strings.h, not string.h.
Now strings.h is only used for non-ANSI string functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=446ae3f50"
>[446ae3f50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/host_port.c, lib/iolog/iolog_fileio.c, lib/iolog/iolog_json.c,
lib/iolog/iolog_path.c, lib/iolog/iolog_util.c,
lib/iolog/regress/host_port/host_port_test.c,
lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_util/check_iolog_util.c, lib/util/aix.c,
lib/util/arc4random.c, lib/util/arc4random_buf.c,
lib/util/arc4random_uniform.c, lib/util/cfmakeraw.c,
lib/util/closefrom.c, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/dup3.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/fchmodat.c,
lib/util/fnmatch.c, lib/util/fstatat.c, lib/util/getaddrinfo.c,
lib/util/getcwd.c, lib/util/getdelim.c, lib/util/getgrouplist.c,
lib/util/gethostname.c, lib/util/getopt_long.c, lib/util/gettime.c,
lib/util/getusershell.c, lib/util/gidlist.c, lib/util/glob.c,
lib/util/isblank.c, lib/util/json.c, lib/util/key_val.c,
lib/util/lbuf.c, lib/util/locking.c, lib/util/logfac.c,
lib/util/logpri.c, lib/util/memset_s.c, lib/util/mkdir_parents.c,
lib/util/mksiglist.c, lib/util/mksigname.c, lib/util/mktemp.c,
lib/util/openat.c, lib/util/parseln.c, lib/util/pipe2.c,
lib/util/progname.c, lib/util/pw_dup.c, lib/util/reallocarray.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/glob/globtest.c, lib/util/regress/mktemp/mktemp_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsig/strsig_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/roundup.c,
lib/util/secure_path.c, lib/util/setgroups.c, lib/util/sha2.c,
lib/util/sig2str.c, lib/util/snprintf.c, lib/util/str2sig.c,
lib/util/strlcat.c, lib/util/strlcpy.c, lib/util/strndup.c,
lib/util/strsignal.c, lib/util/strsplit.c, lib/util/strtobool.c,
lib/util/strtoid.c, lib/util/strtomode.c, lib/util/strtonum.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/sudo_dso.c,
lib/util/term.c, lib/util/ttysize.c, lib/util/unlinkat.c,
lib/util/utimens.c, lib/util/uuid.c, plugins/audit_json/audit_json.c,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/python/regress/testhelpers.h,
plugins/python/sudo_python_debug.h, plugins/sample/sample_plugin.c,
plugins/sample_approval/sample_approval.c, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/digestname.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/env_pattern.c,
plugins/sudoers/file.c, plugins/sudoers/filedigest.c,
plugins/sudoers/find_path.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gc.c, plugins/sudoers/gentime.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/getspwuid.c, plugins/sudoers/gmtoff.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/hexchar.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.c, plugins/sudoers/parse_ldif.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/rcstr.c,
plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/strlist.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudo_printf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timeout.c,
plugins/sudoers/timestamp.c, plugins/sudoers/timestr.c,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/conversation.c,
src/copy_file.c, src/env_hooks.c, src/exec.c, src/exec_common.c,
src/exec_nopty.c, src/get_pty.c, src/hooks.c, src/limits.c,
src/load_plugins.c, src/openbsd.c, src/parse_args.c, src/preload.c,
src/preserve_fds.c, src/selinux.c, src/sesh.c, src/signal.c,
src/solaris.c, src/sudo_edit.c, src/tcsetpgrp_nobg.c, src/tgetpass.c,
src/utmp.c:<br>
We no longer need to include headers we don&rsquo;t use for sudo*.h files.
Previously we needed to include headers required by the various sudo*h
files. Now those files are more self-sufficient and we should only
include headers needed by code in the various .c files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd8846080"
>[dd8846080]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, include/sudo_conf.h, include/sudo_debug.h,
include/sudo_iolog.h, include/sudo_json.h, include/sudo_util.h,
plugins/sudoers/sudoers.h:<br>
Add dependent system includes to make sudo_<em>.h more standalone. In the
past we&rsquo;ve relied on the various .c files to include the system headers
that define types that the sudo_</em>.h headers require. This is fragile and
can cause issues when includes get re-ordered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d85d370c6"
>[d85d370c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix typo in PERLIO_DEBUG (trailing whitespace). This has no effect
unless env_reset is disabled. From Allan Wirth
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b66cf649f"
>[b66cf649f]</a></li>
</ul>
</dd>
<dt>2020-05-16  Dan Robertson</dt>
<dd>
<ul>
<li>
<p>include/sudo_debug.h:<br>
Fix includes when building with musl</p>
<p>Include sys/types.h for mode_t and id_t in sudo_debug.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4e9e4337"
>[f4e9e4337]</a></p>
</li>
</ul>
</dd>
<dt>2020-05-17  Sebastian Rasmussen</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix typo in warning message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d73f05e3"
>[3d73f05e3]</a></li>
</ul>
</dd>
<dt>2020-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/mksiglist.h, lib/util/mksigname.h:<br>
Prefer SIGSYS if SIGUNUSED is defined to the same value. Fixes a regress
failure on musl libc where SIGSYS and SIGUNUSED share the same value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaea46227"
>[aaea46227]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/testhelpers.h:<br>
Add missing sys/wait.h include; fixes a compilation problem on musl
libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26b599a5b"
>[26b599a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/hostcheck.c:<br>
Add missing sys/types.h include; fixes a compilation problem on musl
libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36bbf629b"
>[36bbf629b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Only define WCONTINUED and WIFCONTINUED if neither are already defined.
Fixes a warning on musl libc where WIFCONTINUED is defined in stdlib.h
for some reason.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea1226be7"
>[ea1226be7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Enable OpenSSL on RHEL 6 too. The version of OpenSSL in RHEL 6 is new
enough for the log server to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ea7ecffd"
>[4ea7ecffd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Don&rsquo;t print errno for the &ldquo;TLS not supported&rdquo; message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c3946e9b"
>[1c3946e9b]</a></li>
</ul>
</dd>
<dt>2020-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, etc/sudo-python.pp:<br>
Fix macOS bundle IDs for sudo-logsrvd and sudo-python packages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ded5cbd6"
>[3ded5cbd6]</a></li>
</ul>
</dd>
<dt>2020-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/eventlog.c:<br>
Add iolog_path to the JSON-format event log
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f71b56941"
>[f71b56941]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Rename FLUSHED state to FINISHED This makes more sense when receiving
event-only logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2686dde0"
>[d2686dde0]</a></li>
</ul>
</dd>
<dt>2020-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Fix handling of connections without associated I/O logs. This fixes
reject events as well as accept events without the expect_iobufs flag
set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0337f5b73"
>[0337f5b73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Fix handling of accept and reject messages without an I/O log. Only set
expect_iobufs in AcceptMessage if sending I/O logs. Set state to
FINISHED immediately after sending a RejectMessage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27355e6aa"
>[27355e6aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in, logsrvd/sendlog.c,
logsrvd/sendlog.h:<br>
Add -A and -R options to test logging of accept and reject events. If -A
is specified, no I/O will be sent, only the accept event. For -R, a
reject event with the specified reason is sent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5888e274"
>[d5888e274]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
cfmakeraw(3) is broken on AIX, don&rsquo;t use it there The cfmakeraw(3)
function exists but does not set VMIN to 1 or VTIME to 0 in c_cc[] in
struct termios, which makes it useless. The AIX version also doesn&rsquo;t
clear the CSIZE and PARENB flags from c_cflag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3b710b0d"
>[d3b710b0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
fix pastos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0d84032"
>[af0d84032]</a></li>
</ul>
</dd>
<dt>2020-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_iolog.h, include/sudo_util.h,
lib/iolog/Makefile.in, lib/iolog/host_port.c,
lib/iolog/regress/host_port/host_port_test.c, lib/util/Makefile.in,
lib/util/util.exp.in, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog_client.c:<br>
Rename sudo_parse_host_port -&gt; iolog_parse_host_port and mv to
lib/iolog It is not used outside of the I/O log client and server and
the host:port syntax may change in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83d1bee91"
>[83d1bee91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Remove duplicate inclusion of time.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbf25112e"
>[fbf25112e]</a></li>
</ul>
</dd>
<dt>2020-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog_client.c:<br>
Only enable TLS listener by default if we have a cert for it. We want
the log server to work with the default configuration. If the default
certificate path exists, it will be used with the default listener. If
the user explicitly enabled a TLS listener we always attempt to use it.
If TLS was specified but no cert file was set, the default location will
be used (and an error will occur if the cert cannot be loaded).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc79cbc31"
>[fc79cbc31]</a></li>
</ul>
</dd>
<dt>2020-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen for 1.9.0 final
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3de3de8b7"
>[3de3de8b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9be26c4b"
>[e9be26c4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, src/parse_args.c:<br>
The &ndash;preserve-env=list option may be specified more than once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92199e25c"
>[92199e25c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Quiet some warnings from igor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb9ce7d1"
>[deb9ce7d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, etc/codespell.exclude, etc/codespell.ignore,
etc/codespell.skip:<br>
Plumb in codespell with a &ldquo;make spell&rdquo; target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f2585ed0"
>[7f2585ed0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, install-sh:<br>
Fix a few more typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04cb06160"
>[04cb06160]</a></li>
</ul>
</dd>
<dt>2020-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudo.man.in, doc/sudo.mdoc.in, src/parse_args.c:<br>
Don&rsquo;t allow duplicate values for command line options that take an
argument. Previously, if multiple instances of the same command line
option were specified, the last one would be used. This meant that, for
example, &ldquo;sudo -u someuser -u otheruser id&rdquo; would run the command as
&ldquo;otheruser&rdquo;. This has the potential to cause problems for programs that
run sudo with a user-specified command that do not use the &ldquo;&ndash;&rdquo; option
to indicate that no more options should be processed. While this is a
bug in the calling program, there is little downside to erroring out
when multiple options of the same type are specified on the command
line. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=924"
>Bug #924</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4266279c0"
>[4266279c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Debian bug #734752
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24ad424a5"
>[24ad424a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h:<br>
Look up runas user by name, not euid, where possible. Fixes a problem
when there are multiple users with the same user-ID where the PAM
session modules could be called with the wrong user name. Debian bug
#734752
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dba87262"
>[4dba87262]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Fix ironic typo in spelling fixes. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=925"
>Bug
#925</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea99394fc"
>[ea99394fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Sync PolyPkg from upstream.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e42afc773"
>[e42afc773]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, TODO, config.h.in, configure.ac, doc/sudo_plugin_python.man.in,
doc/sudo_plugin_python.mdoc.in, etc/sudo.pp,
include/compat/getaddrinfo.h, include/sudo_event.h, include/sudo_util.h,
lib/util/fnmatch.c, lib/util/getaddrinfo.c,
lib/util/regress/vsyslog/vsyslog_test.c, logsrvd/logsrvd.c,
plugins/audit_json/audit_json.c, plugins/python/example_debugging.py,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testhelpers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/parse.h,
plugins/sudoers/pwutil.h, plugins/sudoers/regress/cvtsudoers/test30.sh,
scripts/mkdep.pl, src/exec.c, src/exec_monitor.c, src/exec_pty.c,
src/sesh.c:<br>
Apply spelling fixes. Fixes from PR #30 (ka7) and <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=925"
>Bug
#925</a> (fossies.org
codespell)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cf2e09e0"
>[0cf2e09e0]</a></li>
</ul>
</dd>
<dt>2020-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, etc/sudo-python.pp:<br>
Use the proper python version in the libpython dependency on Debian. The
configure script already detects the python version, we just need to use
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d3f635ae"
>[5d3f635ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po, po/ja.mo, po/ja.po,
po/sv.mo, po/sv.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f261d58af"
>[f261d58af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=922"
>Bug #922</a> and Bug #923
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3e94aefa"
>[a3e94aefa]</a></li>
</ul>
</dd>
<dt>2020-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in,
include/log_server.pb-c.h, lib/logsrv/log_server.pb-c.c,
lib/logsrv/log_server.proto, logsrvd/logsrvd.c, logsrvd/sendlog.c,
plugins/sudoers/iolog_client.c:<br>
Add a ClientHello message that client sends to the server. This makes it
easier to detect a plaintext client sending to a TLS port. Without this,
the TLS server will be silent as it waits for the client to initiate the
TLS connection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6901fc97a"
>[6901fc97a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, plugins/sudoers/iolog_client.c:<br>
Better error messages when there is a problem with the TLS connection.
If SSL_read, SSL_write or SSL_connect fails we can use the reason string
to let the user know what the problem is.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e765e1ca"
>[1e765e1ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, plugins/sudoers/iolog_client.c:<br>
Warn about tls errors during startup so the user has a clue. We write
messages to stderr until we become a daemon.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f8da42f9"
>[1f8da42f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/log_server.pb-c.h,
lib/logsrv/log_server.pb-c.c, lib/logsrv/log_server.proto,
logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Remove the tls parameter from the ServerHello message. The TLS
connection is now initiated before ServerHello is received.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5f8214c0"
>[e5f8214c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h,
plugins/sudoers/policy.c:<br>
Adapt sudoers iolog client to log server dual port changes. The TLS
handshake now occurs before the ServerHello message is read. This fixes
potential man-in-the-middle attacks and works better with TLS 1.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8186b9820"
>[8186b9820]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in,
doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrv_util.h, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c:<br>
Use port 30343 for plaintext and port 30344 for TLS. For TLS connections
we now do the TLS handshake immediately before the ServerHello message.
This lets the client recieve an alert from the server is there is a
handshake error after the TLS connect has succeeded. It also means that
the contents of the ServerHello are protected from a man-in-the-middle
attack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1659d96c5"
>[1659d96c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/host_port.c,
lib/util/regress/host_port/host_port_test.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog_client.c:<br>
Add support for a tls flag in sudo_parse_host_port(). If the string
&ldquo;(tls)&rdquo; appears at the end, the tls flag is set to true and the default
tls port is used if necessary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5a317aeb"
>[b5a317aeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Fix Debian ldap dependency broken in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82bc05d99"
>[82bc05d99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Fix &ldquo;make package&rdquo; on Debian when linux_audit is not set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b078b7a9"
>[3b078b7a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
logsrvd/logsrvd_conf.c:<br>
Make the default certificate and key paths match the example file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42df431ce"
>[42df431ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, plugins/sudoers/iolog_client.c:<br>
Plug memory leaks in sudo_sendlog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d621fc6f"
>[7d621fc6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c:<br>
Handle EAGAIN like we do ENOMEM from poll() and select(). On some
systems, poll() and select() can return EAGAIN instead of ENOMEM if
there is a kernel resource shortage. In this case we just re-enter the
event loop and retry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0460008c5"
>[0460008c5]</a></li>
</ul>
</dd>
<dt>2020-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use the &ndash;embed when running &ldquo;python3-config &ndash;ldflags&rdquo; if supported.
Newer versions of python3-config only include libpython in the output
when the &ndash;embed is used. Otherwise, &ldquo;python3-config &ndash;libs&rdquo; and
&ldquo;python3-config &ndash;ldflags&rdquo; only list the libraries python is dependent
on and not the python library itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a212ee64e"
>[a212ee64e]</a></li>
</ul>
</dd>
<dt>2020-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c, plugins/sudoers/iolog_client.c:<br>
On error, remove the connection with an error without freeing the
closure. Fixes the final message at the end when there is a network
error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aba4915b8"
>[aba4915b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event_poll.c:<br>
Do not call poll(2) or ppoll(2) with nfds &gt; RLIMIT_NOFILE. Both poll(2)
and ppoll(2) will return EINVAL if the nfds function argument is larger
than the max files per process resource limit. Prevent this by limiting
the max number entries in the pfds[] array to the RLIMIT_NOFILE soft
limit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b1e98657"
>[2b1e98657]</a></li>
</ul>
</dd>
<dt>2020-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c:<br>
The timeout parameter of sudo_ev_add() should be const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85fe30e49"
>[85fe30e49]</a></li>
</ul>
</dd>
<dt>2020-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Don&rsquo;t free TLS on error in tls_init(), it is freed in
client_closure_free(). Fixes a double free on error introduced with the
TLS state cleanup in client_closure_free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b7768be7"
>[3b7768be7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Check for tls_config-&gt;dhparams_path being non-NULL before using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ab8f2a73"
>[2ab8f2a73]</a></li>
</ul>
</dd>
<dt>2020-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in:<br>
Document the TLS and test options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79b064139"
>[79b064139]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Allow -t option even without OpenSSL Also add -t to the usage message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dec0f763"
>[5dec0f763]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Use sudo_strtonum() instead of relying on strtoll(). Older, pre-C99,
systems may not include strtoll() in their C library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fafcf6ae"
>[0fafcf6ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/protobuf-c/protobuf-c.h:<br>
Allow this to build on systems without stdint.h by using config.h. Old,
pre-C99, systems may have inttypes.h but not stdint.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b26e32f39"
>[b26e32f39]</a></li>
</ul>
</dd>
<dt>2020-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, scripts/pp:<br>
Fix support for pp_systemd_disabled and check for systemd existence. On
our build schroots we don&rsquo;t have systemctl installed but do have the
/etc/systemd and /lib/systemd (or /usr/lib/systemd) directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40f47f013"
>[40f47f013]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp:<br>
Set pp_macos_service_id instead of pp_macos_default_service_id_prefix.
It is only effective to set pp_macos_default_service_id_prefix in the
indivisual %service sections (and not %set) so we may was well use
pp_macos_service_id which includes the service name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c5befaae"
>[8c5befaae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp:<br>
Set launchd service id prefix to &ldquo;ws.sudo.&rdquo; The default value in PolyPkg
is &ldquo;com.quest.rc.&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c70606c3c"
>[c70606c3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Fix macOS package creation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5b06ff7f"
>[d5b06ff7f]</a></li>
</ul>
</dd>
<dt>2020-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Shut down the TLS connection cleanly in client_closure_free(). Also free
the SSL data which is part of the client closure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=557be2b0b"
>[557be2b0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_monitor.c, src/exec_nopty.c, src/selinux.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c, src/sudo_exec.h:<br>
Fix sudoedit when running with SELinux RBAC mode. We can&rsquo;t use
run_command() to run sesh, that will use the sudo event loop (and might
run it in a pty!). There&rsquo;s no need to relabel the tty when copying
files. Get the path to sesh from sudo.conf.</p>
<p>Currently, for SELinux RBAC, the editor runs with the target user&rsquo;s
security context. This defeats the purpose of sudoedit. Fixing that
requires passing file descriptors between the main sudo process (running
with the invoking user&rsquo;s security context) and sesh (runnning with the
target user&rsquo;s security context).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76bf9a73b"
>[76bf9a73b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/copy_file.c, src/sesh.c, src/sudo_edit.c,
src/sudo_exec.h:<br>
Refactor the sudoedit code to copy files so it can be shared. The
SELinux sudoedit code now extends the destination file the same way the
non-SELinux version does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=009876bf3"
>[009876bf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Do not remove sudoedit temporary files if we cannot overwrite the real
file. The warning message says the files were preserved but they
actually got removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bd39701b"
>[0bd39701b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/pp:<br>
Only remove the systemd unit service file if we copied it manually. If
the service file was installed as part of the package it will be removed
automatically when the package is uninstalled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d22800edd"
>[d22800edd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat/glob.h, lib/util/glob.c:<br>
Make gl_pathc, gl_matchc and gl_offs size_t in glob_t to match POSIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99129ba41"
>[99129ba41]</a></li>
</ul>
</dd>
<dt>2020-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrv.proto.man.in, doc/sudo_logsrv.proto.mdoc.in:<br>
Document TLS settings in ServerHello
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c161f68b4"
>[c161f68b4]</a></li>
</ul>
</dd>
<dt>2020-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Extend the original file before to the new size before updating it.
Instead of opening the original file for writing w/ tuncation, we first
extend the file with zeroes (by writing, not seeking), then overwrite
it. This should allow sudo to fail early if the disk is out of space
before it overwrites the original file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adb4360c4"
>[adb4360c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
I/O log plugins should be closed <em>before</em> the policy plugin, not after.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a60816f7"
>[2a60816f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af4eb80df"
>[af4eb80df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Only display error string once on I/O error. We already include the
error string in the format so no need to use errno too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=132b943a2"
>[132b943a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
Free passwd and group caches in I/O plugin after log_warning(), not
before. The logging functions may try to use the cache via
set_perms(PERM_ROOT).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae7bb1233"
>[ae7bb1233]</a></li>
</ul>
</dd>
<dt>2020-04-17  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
add missing shudown of TLS connection
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=481427f9f"
>[481427f9f]</a></li>
</ul>
</dd>
<dt>2020-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, scripts/pp:<br>
Disable systemd support on Linux systems that don&rsquo;t use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a89ddb63f"
>[a89ddb63f]</a></li>
</ul>
</dd>
<dt>2020-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
1.9.0 final
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=024b146d0"
>[024b146d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, scripts/pp:<br>
Update PolyPkg from my branch with systemd support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1034d3f5b"
>[1034d3f5b]</a></li>
</ul>
</dd>
<dt>2020-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/example_conversation.py,
plugins/python/example_io_plugin.py,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
If the signal.Signals enum is not present, search the dictionary. The
Signals enum was added in Python 3.5. If it is not present we need to
iterate over the dictionary items, looking for signal name to number
mappings. Fixes the signal tests with Python 3.4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75b9a26a3"
>[75b9a26a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/sudo_python_module.c:<br>
Python dictionaries are sparse so we cannot use pos as an index. When
converting sudo options from a dictionary to a tuple we need to track
the current index into the tuple separately from the position of the
dictionary entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57cef10ce"
>[57cef10ce]</a></li>
</ul>
</dd>
<dt>2020-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp:<br>
Fix handling of /etc/sudo_logsrvd.conf in the sudo-logsrvd package. For
rpm and deb we include the file directly and mark it volatile. For all
others we copy it in the postinstall script from the example dir if the
file doesn&rsquo;t already exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=324b23724"
>[324b23724]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Check for the Sun Studio C compiler on Solaris under /opt. Also
intialize with_python to false.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eebe68233"
>[eebe68233]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d32858b4"
>[6d32858b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/parseln.c:<br>
Explicitly include stdio.h for getdelim(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bf417227"
>[3bf417227]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Reload sudo.conf upon SIGUP This makes it possible to update the Debug
settings in sudo.conf and have them take effect on reload.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce92674cc"
>[ce92674cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c, plugins/sudoers/iolog_client.c:<br>
Store the result of ERR_get_error() so we can use it for both warn and
debug. Otherwise, only the debug framework gets the actual error and the
user won&rsquo;t see the problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69b6783be"
>[69b6783be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Disable IPv4-mapped IPv6 addresses in the listener. Also store the host
<ul>
<li>port string and use it in error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18ff60f6f"
>[18ff60f6f]</a></li>
</ul>
</li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, examples/Makefile.in:<br>
Install the example sudo_logsrvd.conf unless one already exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55eb0a633"
>[55eb0a633]</a></li>
</ul>
</dd>
<dt>2020-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf:<br>
Make the path to logsrvd_cert.pem match the documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=700becabc"
>[700becabc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo-logsrvd.pp, logsrvd/logsrvd.c:<br>
Create the pid file parent directory if it doesn&rsquo;t already exist. Also
package the run directory in the sudo_logsrvd PolyPkg file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e86106f2e"
>[e86106f2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Sudo 1.9.0rc1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfd5a8877"
>[dfd5a8877]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Build python packages where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6684b851"
>[d6684b851]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, etc/sudo-logsrvd.pp,
etc/sudo-python.pp, etc/sudo.pp:<br>
Split sudo_logsrvd and the python plugin into their own packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a10c702b"
>[0a10c702b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Remove bits for Tru64 kit-style packages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab18c22ab"
>[ab18c22ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/Makefile.in, plugins/sudoers/Makefile.in,
scripts/mkdep.pl:<br>
Handle dependencies for .h files in the same directory as the source.
Fixes missing header dependencies for the sudoers and python plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a2b5fd82"
>[6a2b5fd82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Increase the maximum delay again for slower systems. Otherwise we may
get a spurious test failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b488f313"
>[5b488f313]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/iohelpers.c,
plugins/python/regress/plugin_approval_test.py,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo</a>
g,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo</a>
g,
plugins/python/regress/testdata/check_example_policy_plugin_validate_inv
alidate.log,
plugins/python/regress/testdata/check_loading_fails_wrong_classname.stde
rr,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, plugins/python/regress/testhelpers.h:<br>
Make most python tests pass with Python 3.4 Dictionary order is not
stable in Python &lt; 3.6 so we need to sort by key to have consistent
results. The LogHandler output is also different on older Python
versions. Also, don&rsquo;t stop running python tests after the first error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd74b83c2"
>[cd74b83c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/iohelpers.h,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>,
plugins/python/regress/testhelpers.c:<br>
Use regex to match <strong>init</strong>.py instead of hacking it in
verify_log_lines()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa5025a56"
>[fa5025a56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/iohelpers.h,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stor
ed,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple1.stored,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple2.stored,
plugins/python/regress/testdata/check_example_io_plugin_failed_to_start_
command.stored,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stderr,
plugins/python/regress/testdata/check_loading_fails_wrong_path.stderr,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout,
plugins/python/regress/testdata/check_python_plugins_do_not_affect_each_
other.stdout, plugins/python/regress/testhelpers.h:<br>
Use regular expressions when matching expected and actual text.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a77ef93f8"
>[a77ef93f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c,
plugins/python/regress/testdata/check_loading_fails_missing_classname.st
derr:<br>
Sort the list of possible plugins before printing it. This gives more
reproducible error messages for the tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a2c0d784"
>[8a2c0d784]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/example_approval_plugin.py,
plugins/python/example_audit_plugin.py,
plugins/python/example_group_plugin.py,
plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
Avoid using typing annotations so tests run with Python 3.4.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02a117f33"
>[02a117f33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Include all python plugin files in MANIFEST, not the directory itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee868776d"
>[ee868776d]</a></li>
</ul>
</dd>
<dt>2020-04-06  Robert Manner</dt>
<dd>
<ul>
<li>logsrvd/eventlog.c:<br>
logsrvd/eventlog.c: add a newline after each log message for logfile
output
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=468a5d228"
>[468a5d228]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/iolog/iolog_fileio.c:<br>
lib/iolog/iolog_fileio.c: do not call fchown on invalid fd</p>
<p>Fixes the warning in the log: iolog_write_info_file_json: unable to
fchown 0:0 /var/log/&hellip;: Bad file descriptor
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f0370cd8"
>[8f0370cd8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c:<br>
logsrvd/iolog_writer.c: treat runuid, rungid 0 as valid (usually ==root)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ace8e1895"
>[ace8e1895]</a></li>
</ul>
</dd>
<dt>2020-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Don&rsquo;t pass a NULL submitcwd or ttyname value to the server. It is
possible for the cwd and/or tty to be missing. If we send a NULL pointer
to the server where it expects a string the AcceptMessage will fail to
parse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e31e0c4d3"
>[e31e0c4d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
Fall back to using Py_Finalize() for Python version &lt; 3.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93f5e1be3"
>[93f5e1be3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h:<br>
Disable -Wstrict-prototypes for sudo_hook_fn_t typedef.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e44bd46f"
>[4e44bd46f]</a></li>
</ul>
</dd>
<dt>2020-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>po/eo.mo, po/eo.po, po/sr.mo, po/sr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=725f9f652"
>[725f9f652]</a></li>
</ul>
</dd>
<dt>2020-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>examples/Makefile.in:<br>
Install example sudo_logsrvd.conf file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ee7ae647"
>[4ee7ae647]</a></li>
</ul>
</dd>
<dt>2020-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Fixed Debian bugs #571621, #596631 and #669687
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79d3bd822"
>[79d3bd822]</a></li>
</ul>
</dd>
<dt>2020-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Make it clear in the sudoers grammar that sudoedit needs file args.
Debian bug #571621
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66c8f69f8"
>[66c8f69f8]</a></li>
</ul>
</dd>
<dt>2020-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in, plugins/sudoers/env.c:<br>
Truncate the command args at 4096 chars when formatting SUDO_COMMAND. We
have to limit the length of SUDO_COMMAND to avoid getting E2BIG from
execve(2) for very long argument vectors. The command&rsquo;s environment also
counts against the ARG_MAX limit. Debian bug #596631
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d008b92f"
>[1d008b92f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Do not try to delete creds we did not set. If pam_setcred() fails when
opening the PAM session, we don&rsquo;t want to call it with PAM_DELETE_CRED
when closing the session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b8cb1a57"
>[9b8cb1a57]</a></li>
</ul>
</dd>
<dt>2020-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/sudoers.h:<br>
Add a force flag to sudo_auth_cleanup() to force immediate cleanup. This
is used for PAM authentication to make sure pam_end() is called via
sudo_auth_cleanup() when the user authenticates successfully but sudoers
denies the command. Debian bug #669687
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec3fdd3aa"
>[ec3fdd3aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Increase the maximum delay for slower systems. Otherwise we may get a
spurious test failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e95c24d8"
>[5e95c24d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document when cwd_optional was added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=835984adc"
>[835984adc]</a></li>
</ul>
</dd>
<dt>2020-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
plugins/sudoers/policy.c, src/exec.c, src/sudo.c, src/sudo.h:<br>
Add cwd_optional to command details and enable it in the sudoers plugin.
If cwd_optional is set to true, a failure to set the cwd will be a
warning, not an error, and the command will still run. Debian bug
#598519
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93aa9f9e9"
>[93aa9f9e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in:<br>
The policy close function is responsible for closing the PAM session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dea4bb24"
>[9dea4bb24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.clang-format:<br>
Config file for clang-format 8.x and higher based on webkit style. This
approximates what I want the sudo coding style to look like. Only
deviations from webkit style are included.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b35753a2"
>[8b35753a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
Don&rsquo;t kill the command just because the loop exited unexpectedly. We
currently have no good way to distinguish between an error executing the
command and an error while the command is running.</p>
<p>In the future, we should have additional status codes so we can tell
what type of condition caused the loop to exit.</p>
<p>For now, only kill the command if cstat is left uninitialized.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3221c8b4d"
>[3221c8b4d]</a></p>
</li>
</ul>
</dd>
<dt>2020-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Write process ID as an unsigned int (with a cast). On Solaris, pid_t may
be typedef&rsquo;d as a long but the actual range is 32 bits at most.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c122e9bf6"
>[c122e9bf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Add license info for a few other files. These are all ISC licensed but
it is still best to have them all listed in one place.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4b2db907"
>[d4b2db907]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/ca.mo,
po/ca.po, po/cs.mo, po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po,
po/fi.mo, po/fi.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/it.mo,
po/it.po, po/ja.mo, po/ja.po, po/ko.mo, po/ko.po, po/nb.mo, po/nb.po,
po/pl.mo, po/pl.po, po/pt.mo, po/pt.po, po/pt_BR.mo, po/pt_BR.po,
po/sv.mo, po/sv.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/vi.mo,
po/vi.po, po/zh_CN.mo, po/zh_CN.po, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b1de6cfc"
>[5b1de6cfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
Update sudoers.pot with json parser warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f0d03a57"
>[0f0d03a57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>etc/sudo.pp:<br>
Add sudo_logsrvd as a service so it gets started at boot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=891872336"
>[891872336]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, m4/sudo.m4, pathnames.h.in:<br>
Create a pidfile for sudo_logsrvd when not run with the -n flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f908ddd1b"
>[f908ddd1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
sudo_logsrvd now exits with an error if it cannot open any listen
sockets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b90f6560"
>[1b90f6560]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update NEWS for 1.9.0b5 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baccc0f5c"
>[baccc0f5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_json.c:<br>
Simply the JSON parsing code a bit. We can use a single stack for nested
objects and arrays. There is also no need to track the current object
and array separately. This allows us to remove the array special case
when assigning a value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01ceba044"
>[01ceba044]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in, lib/iolog/iolog_json.c,
lib/iolog/iolog_json.h, lib/iolog/regress/iolog_json/check_iolog_json.c,
lib/iolog/regress/iolog_json/test1.in,
lib/iolog/regress/iolog_json/test2.in,
lib/iolog/regress/iolog_json/test2.out.ok,
lib/iolog/regress/iolog_json/test3.in, lib/util/json.c:<br>
Add tests for the simple json parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cd9cbbad"
>[3cd9cbbad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_json.h, lib/iolog/iolog_fileio.c, lib/util/json.c,
logsrvd/eventlog.c, logsrvd/iolog_writer.c, logsrvd/logsrvd.h,
plugins/audit_json/audit_json.c:<br>
Do not use JSON_ARRAY with sudo_json_add_value()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cffda82e2"
>[cffda82e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Create files for check_iolog_plugin in the build dir, not src dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f24dacdee"
>[f24dacdee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.h:<br>
Store runenv in the I/O log info file too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b144069f"
>[9b144069f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
include/sudo_iolog.h, lib/iolog/Makefile.in, lib/iolog/iolog_json.c,
lib/iolog/iolog_util.c, plugins/sudoers/sudoreplay.c:<br>
Parse I/O JSON info file in JSON if present. The JSON version includes
more information than the original &ldquo;log&rdquo; file in the I/O log dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=056173e57"
>[056173e57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/Makefile.in, lib/iolog/iolog_fileio.c,
lib/iolog/iolog_util.c, logsrvd/eventlog.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.h, logsrvd/sendlog.c, plugins/sudoers/Makefile.in,
plugins/sudoers/iolog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Write an extended I/O info log in JSON format. This will be used by
sudoreplay if it exists to get more information about the command being
replayed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea9b711a7"
>[ea9b711a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_util.c, logsrvd/sendlog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
iolog_parse_loginfo() now opens the log file itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a644c1d1d"
>[a644c1d1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Ignore <strong>pycache</strong> directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ab8efa8f"
>[9ab8efa8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getusershell.c, lib/util/host_port.c, lib/util/roundup.c,
logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrv_util.h,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
logsrvd/sendlog.c, logsrvd/sendlog.h, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Some new source files got created with my old email address.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5034ea91b"
>[5034ea91b]</a></li>
</ul>
</dd>
<dt>2020-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>scripts/mkpkg:<br>
Enable OpenSSL on systems that can support it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a46d8bd11"
>[a46d8bd11]</a></li>
</ul>
</dd>
<dt>2020-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, logsrvd/logsrvd.c:<br>
Add configure check for SSL_CTX_get0_certificate(). Dummy out
verify_server_cert() if it is not present to allow building on older
OpenSSL versions. Rewriting this to work with old OpenSSL is not worth
the trouble.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84d9c7b24"
>[84d9c7b24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/hostcheck.c:<br>
Include stdlib.h for malloc(3) prototype. We shouldn&rsquo;t rely on it to be
implicitly included via OpenSSL headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d75d36b68"
>[d75d36b68]</a></li>
</ul>
</dd>
<dt>2020-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Only set errstr for plugin API version 1.15 and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=390ace925"
>[390ace925]</a></li>
</ul>
</dd>
<dt>2020-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.31p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26097a442"
>[26097a442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Ignore a failure to restore the RLIMIT_CORE resource limit. Linux
containers don&rsquo;t allow RLIMIT_CORE to be set back to RLIM_INFINITY if we
set the limit to zero, even for root. This is not a problem outside the
container.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=712afe031"
>[712afe031]</a></li>
</ul>
</dd>
<dt>2020-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ace49a33"
>[7ace49a33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c:<br>
Add SUDO_EV_MASK to mask off invalid event values. Now used by
sudo_ev_init() to avoid bogus events.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d83c09fb6"
>[d83c09fb6]</a></li>
</ul>
</dd>
<dt>2020-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/python/regress/iohelpers.c,
plugins/python/regress/testhelpers.c:<br>
Avoid using sprintf(), vsprintf(), strcat(), and strncat(). It is less
error-prone to use functions with a return value that indicates when
truncation ocurred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a23048bbb"
>[a23048bbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
Work around two Coverity false positives; CID 208813 208815
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1015b493b"
>[1015b493b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Fix potential use-after-free; Coverity CID 208814
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b308b63b5"
>[b308b63b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/iohelpers.h,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>,
plugins/python/regress/testhelpers.c:<br>
Don&rsquo;t hard-code path to logging/<strong>init</strong>.py or line numbers. Allows
python plugin tests to success on versions other than 3.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec78f0689"
>[ec78f0689]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Add copyright for the Python bindings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c1b155fe"
>[6c1b155fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c:<br>
Fix typo introduced on systems with O_PATH or O_EXEC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=277b297ae"
>[277b297ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.9.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d31689211"
>[d31689211]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/match.c,
plugins/sudoers/match_command.c,
plugins/sudoers/regress/sudoers/test14.in,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test14.ldif.ok,
plugins/sudoers/regress/sudoers/test14.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test14.toke.ok,
plugins/sudoers/sudoers_version.h:<br>
Allow the ALL keyword to be specified with a digest list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea8445e36"
>[ea8445e36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c, plugins/sudoers/parse_ldif.c:<br>
A struct member of type ALL should have its name field set to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3edd30a27"
>[3edd30a27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap_util.c,
plugins/sudoers/match.c, plugins/sudoers/match_command.c,
plugins/sudoers/match_digest.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/sudoers/test14.in,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test14.ldif.ok,
plugins/sudoers/regress/sudoers/test14.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test14.toke.ok,
plugins/sudoers/sudo_ldap.h:<br>
Allow a list of digests to be specified for a command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eca44324"
>[4eca44324]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Allow Cmd_Alias in addition to Cmnd_Alias. Some people find using
Cmd_Alias more natural.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c08f5ef0"
>[8c08f5ef0]</a></li>
</ul>
</dd>
<dt>2020-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add pam_ruser and pam_rhost sudoers flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1df9d1dc"
>[e1df9d1dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/sendlog.c,
logsrvd/sendlog.h:<br>
Store the event base in the client closure. Explicitly passing the event
base removes the need to set a default base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f561e2caf"
>[f561e2caf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Revert change to initialize io_operations earlier. Instead, check
io_operations.open for NULL which is the case for &ldquo;sudo -V&rdquo;. Also move
the early return in sudoers_io_open() for &ldquo;sudo -V&rdquo; until after we have
initialized debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf2bc931a"
>[bf2bc931a]</a></li>
</ul>
</dd>
<dt>2020-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Initialize io_operations earlier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f590f81b3"
>[f590f81b3]</a></li>
</ul>
</dd>
<dt>2020-02-27  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/example_debugging.py,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@err.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@err.log</a>,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>:
plugins/python/regress: add a test and example of using the python
logger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c9515496"
>[6c9515496]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>MANIFEST, doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in,
plugins/python/Makefile.in, plugins/python/python_baseplugin.c,
plugins/python/python_convmessage.c,
plugins/python/python_importblocker.c,
plugins/python/python_loghandler.c,
plugins/python/python_plugin_common.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
plugins/python/sudo_module: add sudo.LogHandler</p>
<p>so python log system can be used with sudo logsystem. Loggers use it by
default (the handler is set on the root logger). If that is not the
intent, it can be overridden explicitly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c039a99c1"
>[c039a99c1]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-26  Robert Manner</dt>
<dd>
<ul>
<li>
<p>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in,
plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/check_loading_fails_missing_classname.st
derr,
plugins/python/regress/testdata/check_loading_succeeds_with_missing_clas
sname.stdout:<br>
plugins/python: autodetect ClassName field</p>
<p>If &ldquo;ClassName&rdquo; is not specified, load the one and only sudo.Plugin from
the module (if so), otherwise display which plugins are available from
which the system admin can choose.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34b4bb72d"
>[34b4bb72d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in,
plugins/python/Makefile.in, plugins/python/python_plugin_common.c:<br>
plugins/python/plugin_common: add a default search path for python
plugins</p>
<p>If the ModulePath is relative, assume it is under
&ldquo;/usr/local/libexec/sudo/python&rdquo; or wherever the sudo plugins are in a
&ldquo;python&rdquo; subdirectory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c96b4407"
>[5c96b4407]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Mark up some remaining TODOs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34972e834"
>[34972e834]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Sudo&rsquo;s -S option should override the SUDO_CONV_PREFER_TTY flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c90f592c"
>[9c90f592c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/python_plugin_policy.c,
plugins/python/sudo_python_module.c:<br>
Use C99 <strong>func</strong> instead of gcc-specific <strong>PRETTY_FUNCTION</strong>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de9a143a3"
>[de9a143a3]</a></li>
</ul>
</dd>
<dt>2020-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, Makefile.in, config.h.in, configure, configure.ac,
lib/iolog/iolog_fileio.c, plugins/sudoers/Makefile.in,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h, plugins/sudoers/sudoers.c:<br>
Add &ndash;disable-log-server and &ndash;disable-log-client configure options.
These can be used to optionally disable building sudo_logsrvd and
support for remote I/O logging in the sudoers plugin respectively.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5635c22f6"
>[5635c22f6]</a></li>
</ul>
</dd>
<dt>2020-02-26  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/check_example_audit_plugin_version_displ
ay.stdout,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo</a>
g,
plugins/python/regress/testdata/check_example_io_plugin_version_display_
full.stdout,
plugins/python/regress/testdata/check_example_policy_plugin_version_disp
lay_full.stdout,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout:<br>
plugins/python/regress: update tests for show_version changes</p>
<ul>
<li>plugin-&gt;show_version is not marked NULL any more. - if verbose, it
also displays which python class was loaded from which file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc46f115"
>[9cc46f115]</a></li>
</ul>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python: make show_version display the plugin in verbose mode</p>
<p>Before it only displayed the plugin version, now it also displays which
python plugin is loaded to be more useful.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f387cdf53"
>[f387cdf53]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_common.c:<br>
plugins/python/approval: fix show_version crash when it is not
implemented</p>
<p>For approval plugins show_version is not optional.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38fc37b21"
>[38fc37b21]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-21  Robert Manner</dt>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: add approval plugin to supported plugins
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e588879cf"
>[e588879cf]</a></li>
</ul>
</dd>
<dt>2020-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Avoid calling sudoers_policy_exec_setup() on error. We only want to pass
the execution environment back for commands that are accepted or
rejected. Also avoid potentially freeing the wrong pointer when garbage
collection is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6a264e71"
>[f6a264e71]</a></li>
</ul>
</dd>
<dt>2020-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/eventlog.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Open event log at config time instead of open/close for each entry. If
logging via syslog, do the openlog() at config time instead. We still
lock the log file prior to writing to it but unlock immediately after.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f40b4c288"
>[f40b4c288]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/locking.c:<br>
Fix unlocking of an entire file with lockf(). Since lockf() uses the
files&rsquo;s current offset, we need to seek to the start of the file to
unlock the entire file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e5641bc7"
>[7e5641bc7]</a></li>
</ul>
</dd>
<dt>2020-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Add sudo_json_free_v1 to symbol exports file too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b930b585"
>[1b930b585]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, logsrvd/Makefile.in, plugins/sudoers/Makefile.in:<br>
Regenerate dependencies to match the recent JSON changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b4db9694"
>[4b4db9694]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_convmessage.c:<br>
Add missing check for calloc(3) failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d1454eba"
>[4d1454eba]</a></li>
</ul>
</dd>
<dt>2020-02-19  Robert Manner</dt>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: document approval plugin and PluginReject
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95dce8cbe"
>[95dce8cbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/sudo_python_module.c:<br>
plugins/python/sudo_python_module.c: remove unused declaration</p>
<p>We do not use structsequence any more.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06b1f58e9"
>[06b1f58e9]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-18  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
plugins/python: restore the original python inittab after interpreter
deinit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3be61db35"
>[3be61db35]</a></li>
</ul>
</dd>
<dt>2020-02-17  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_load@diag.log"
>plugins/python/regress/testdata/check_example_debugging_load@diag.log</a>,
plugins/python/regress/testhelpers.c:<br>
plugins/python: only deinit interpreters when sudo unlinks the plugin</p>
<p>This only happens when sudo unloads the last python plugin. The reason
doing so is because there are some python modules which does not support
importing them again after destroying the interpreter which has imported
them previously.</p>
<p>Another solution would be to just leak the interpreters (let the kernel
free up), but then there might be some python resources like open files
would not get cleaned up correctly if the plugin is badly written.</p>
<p>Tests are meant to test the scenario sudo does, so I have modified them
to generally do not unlink but only a few times (~per plugin type) so it
does not use 48 interpreters (one gets started on every plugin-&gt;open)
and it is visible at least which type of plugin fails deinit if there is
an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27de7dd24"
>[27de7dd24]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c,
plugins/python/sudo_python_debug.c:<br>
plugins/python/debug: adapt debug refcount solution of sudoers plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a9218d16"
>[8a9218d16]</a></li>
</ul>
</dd>
<dt>2020-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Re-register listeners on SIGHUP. Previously, a config reload would
refresh the listener address list but the changes had no effect on the
actual addresses being listened on.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0c2de4ce"
>[a0c2de4ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Fix compilation error when not built with OpenSSL support. Adds a
missing #ifdef HAVE_OPENSSL and reorders code to avoid the need for a
static init_tls_server_context() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adb3bdf6d"
>[adb3bdf6d]</a></li>
</ul>
</dd>
<dt>2020-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
include/sudo_json.h, lib/util/json.c, logsrvd/eventlog.c:<br>
Add support for JSON structured logging using syslog. Note that
depending on the system, the default syslog buffer may not be large
enough to store all the logging data.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=982c003b8"
>[982c003b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
examples/sudo_logsrvd.conf, logsrvd/eventlog.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Add support for JSON logging in sudo_logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5781a6a4c"
>[5781a6a4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_json.h, lib/util/json.c, lib/util/util.exp.in,
plugins/audit_json/audit_json.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/sudoers/test10.json.ok,
plugins/sudoers/regress/sudoers/test9.json.ok:<br>
Rework the JSON API to write to a memory buffer, not a stdio stream.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ef5b734c"
>[8ef5b734c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c:<br>
Fix support for reloading the config in sudo_logsrvd. We need to
re-initialize the TLS server context. Also fix a memory leak of the TLS
parameters on reload.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25542216f"
>[25542216f]</a></li>
</ul>
</dd>
<dt>2020-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
The environment in the accept message is runenv not submitenv. The I/O
logging plugin is passed the environment the command will run with, not
the user&rsquo;s original environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e836cc57"
>[2e836cc57]</a></li>
</ul>
</dd>
<dt>2020-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h, lib/iolog/iolog_fileio.c,
plugins/audit_json/audit_json.c, src/utmp.c:<br>
Add compatibility define for fseeko(3). This is better than cluttering
up the code with #ifdefs for obsolete systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92e42ff54"
>[92e42ff54]</a></li>
</ul>
</dd>
<dt>2020-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test8.out.ok,
plugins/sudoers/regress/testsudoers/test8.sh:<br>
Add test for #include directive without a trailing newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7bd19bd1"
>[e7bd19bd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Don&rsquo;t require a newline at the end of include or includedir directives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2314acae"
>[d2314acae]</a></li>
</ul>
</dd>
<dt>2020-02-14  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/regress/testhelpers.c:<br>
plugins/python/regress/testhelpers.c: replace fromisoformat</p>
<p>fromisoformat is only supported from python &gt;=3.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8395a20a2"
>[8395a20a2]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-13  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_approval.c:<br>
plugins/python/python_plugin_approval: fix negative ref count</p>
<p>The python_plugin_api_rc_call function already decrements the refcount
of py_args. Python avoids the double free, but the error gets shown if
using python debug build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efa97b5b9"
>[efa97b5b9]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c:<br>
plugins/python/python_plugin_common.c: release py_args in close</p>
<p>even if the arguments are not used (eg. when there is no &ldquo;close&rdquo; call in
the plugin).</p>
<p>It was not really a memleak, because interpreter is deinitialized
anyway, which frees the object.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71828b38"
>[a71828b38]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.h,
plugins/python/sudo_python_module.c:<br>
plugins/python: add missing annotations to help cpychecker
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2ae79c2b"
>[b2ae79c2b]</a></li>
</ul>
</dd>
<dt>2020-02-11  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/regress/plugin_approval_test.py,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stderr,
plugins/python/regress/testdata/check_multiple_approval_plugin_and_argum
ents.stdout, plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
plugins/python/regress: add tests for approval plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43e256e34"
>[43e256e34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/example_approval_plugin.py:<br>
plugins/python: add python approval plugin example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80b3d86d6"
>[80b3d86d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/python_plugin_approval.c,
plugins/python/python_plugin_approval_multi.inc,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/sudo_python_module.c:<br>
plugins/python: add python approval plugin wrapper
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23af39b00"
>[23af39b00]</a></li>
</ul>
</dd>
<dt>2020-02-12  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/regress/check_python_examples.c:<br>
plugins/python/regress: strengthen errstr verification</p>
<p>Tests did not catch the issue where errstr was not set correctly, but
its pointer contained the expected data, because the memory allocator
reused the same space for storing the string.</p>
<p>Now it is either verified to be NULL, or reset to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33e7fdcae"
>[33e7fdcae]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c:<br>
plugins/python/regress: simplify plugin option creation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fa6500d6"
>[9fa6500d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python: make storing errstr more explicit</p>
<p>The error is always stored in plugin_ctx, but it is only set into errstr
if the API version is enough. (Previously it worked the opposite: we
only stored the error if API level was enough.)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d2ccecd"
>[b1d2ccecd]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-11  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
plugins/python/sudo_module: let a reject also supply error message</p>
<p>Same as sudo.PluginError exception, have a sudo.PluginReject exception
as well. Added common base exception as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b16524203"
>[b16524203]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-12  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c:<br>
plugins/python/regress: still some memleak fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1f94c857"
>[d1f94c857]</a></li>
</ul>
</dd>
<dt>2020-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c, lib/util/util.exp.in,
plugins/audit_json/audit_json.c, plugins/python/sudo_python_debug.c,
plugins/sample_approval/sample_approval.c,
plugins/sudoers/sudoers_debug.c:<br>
Move duplicated code to parse plugin debug flags to libsudo_util.
There&rsquo;s no need for four copies of sudo_debug_parse_flags().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e4c3c47d"
>[0e4c3c47d]</a></li>
</ul>
</dd>
<dt>2020-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test23.in,
plugins/sudoers/regress/sudoers/test23.json.ok,
plugins/sudoers/regress/sudoers/test23.ldif.ok,
plugins/sudoers/regress/sudoers/test23.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test23.out.ok,
plugins/sudoers/regress/sudoers/test23.sudo.ok,
plugins/sudoers/regress/sudoers/test23.toke.ok:<br>
Add regress test for parsing Defaults lists. Currently only env_check,
env_delete, env_keep and log_servers are lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e2e79b6f"
>[9e2e79b6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Clarify that approval close happens after auditing. Also fix a few
typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=009788afa"
>[009788afa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_plugin.h,
plugins/sample_approval/sample_approval.c, src/sudo.c:<br>
Add open and close functions to the approval plugin API. We need a close
function to be able to to free memory allocated for errstr. Unlike the
other plugins, the close function is called immediately after the
plugin&rsquo;s check or show_version function. The plugin does not remain open
until the command completes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01a53f286"
>[01a53f286]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
Use unique function names to avoid confusion with front-end functions.
Also add a missing sudo_debug_enter() after debug registration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55b61b989"
>[55b61b989]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>scripts/log2cl.pl:<br>
Use Text::Wrap instead of perl&rsquo;s built-in format function. This still
breaks log filename incorrectly but is a step in the right direction.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3911e4f7b"
>[3911e4f7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, scripts/log2cl.pl:<br>
Avoid changing directory when generating the ChangeLog file. Instead,
pass the repo path to either hg or log2cl.pl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2f3f6058"
>[c2f3f6058]</a></li>
</ul>
</dd>
<dt>2020-02-10  Robert Manner</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
src/sudo.c: call audit plugin close when result is a wait status
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2781ec030"
>[2781ec030]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>Makefile.in:<br>
Makefile.in: fix install target for out of source build</p>
<p>The scriptdir contained a path relative to where the target was started.
The scripts are called like &ldquo;$scriptdir/script_name&rdquo; which is fine with
relative path as well, until the current directory is not changed. But
things like cd $srcdir &amp;&amp; $scriptdir/script_name fails (if building in
separate build directory).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0202dc67c"
>[0202dc67c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: document python audit plugin support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecdaaffd5"
>[ecdaaffd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: document returning error string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd465b308"
>[bd465b308]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: update python manual for constant -&gt; enum
changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f79d5c1c"
>[8f79d5c1c]</a></li>
</ul>
</dd>
<dt>2020-02-06  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/check_example_audit_plugin_receives_acce
pt.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_receives_erro
r.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_receives_reje
ct.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_version_displ
ay.stdout,
plugins/python/regress/testdata/check_example_audit_plugin_workflow_mult
iple.stderr,
plugins/python/regress/testdata/check_example_audit_plugin_workflow_mult
iple.stdout:<br>
plugins/python/regress/check_python_examples: add audit_plugin tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a1cb5497"
>[1a1cb5497]</a></li>
</ul>
</dd>
<dt>2020-02-03  Robert Manner</dt>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/example_audit_plugin.py:<br>
plugins/python: add example python audit plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52d067b01"
>[52d067b01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/python_plugin_audit.c,
plugins/python/python_plugin_audit_multi.inc,
plugins/python/sudo_python_module.c:<br>
plugins/python: add python audit plugin wrapper
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbf60cff5"
>[cbf60cff5]</a></li>
</ul>
</dd>
<dt>2020-02-06  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/example_group_plugin.py,
plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
plugins/python/example_*.py: document returning error string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbbcb3933"
>[bbbcb3933]</a></li>
</ul>
</dd>
<dt>2020-02-05  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/regress/plugin_errorstr.py:<br>
plugins/python/regress: add test for callback error msg return
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c4f076f8"
>[9c4f076f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
plugins/python: add support for callback errstr arguments</p>
<p>Plugins can raise a sudo.PluginError exception to add context message
for the failure.</p>
<p>The callback&rsquo;s errstr gets filled up with the specified message. But, as
sudo expects a string constant (will not free the string), we store it
in the plugin context at least until next callback invocation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dd5f37af"
>[3dd5f37af]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-06  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/example_conversation.py,
plugins/python/example_debugging.py,
plugins/python/example_group_plugin.py,
plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
plugins/python/example*.py: pep8 fixes (mainly line too long)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45d263857"
>[45d263857]</a></li>
</ul>
</dd>
<dt>2020-02-05  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/regress/check_python_examples.c:<br>
plugins/python/regress: load/unload module for each testcase</p>
<p>so they can start from clean state. (My problem was optional argument
tests has destroyed the callbacks.)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f3631cc0"
>[0f3631cc0]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-06  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python/python_plugin_common: close can get custom arguments</p>
<p>For the audit plugin. Ensure we do not fail if plugin_ctx-&gt;py_instance
is NULL (because plugin init has failed).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36694fce8"
>[36694fce8]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-05  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python_plugin_io,policy: fix version display in verbose mode</p>
<p>Unfortunately the test did not catch this mistake, because it only
searches that &ldquo;Python policy plugin API version&rdquo; string is present and
does not check the version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7eb9d341"
>[a7eb9d341]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-06  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/sudo_python_module.c:<br>
plugins/python/sudo_python_module.c: fix options_as_dict if no equal
sign</p>
<p>The intented behaviour was that those get skipped, but the
PyList_GetItem sets the interpreter into error state, so python has
raised exception.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99f99e8a5"
>[99f99e8a5]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-04  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/example_conversation.py,
plugins/python/example_debugging.py,
plugins/python/example_group_plugin.py,
plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py, plugins/python/pyhelpers.c,
plugins/python/pyhelpers.h, plugins/python/python_plugin_common.c,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log, plugins/python/sudo_python_module.c:<br>
plugins/python/sudo_python_module.c: use IntEnums instead of constants</p>
<p>It is a bit more code, but it is more &ldquo;pythonic&rdquo; and easier to debug as
the enum values also know their names.</p>
<p>It is also an API break, eg. sudo.RC_OK becomes sudo.RC.OK as sudo.RC
will be the &ldquo;type&rdquo; of the enum, but I guess that is acceptable before
the initial release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21c02e173"
>[21c02e173]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-03  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/python_plugin_policy.c:<br>
plugins/python/python_plugin_policy: add missing debug return
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67ab6fd5d"
>[67ab6fd5d]</a></li>
</ul>
</dd>
<dt>2020-01-31  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/python_convmessage.c:<br>
plugins/python/pyhelpers: add helpers for attribute handling</p>
<p>to simplify code a bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62524416e"
>[62524416e]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-28  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/example_io_plugin.py,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
plugins/python/example_io_plugin: close the file at destroy</p>
<p>to avoid warning of debug python build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4110800c1"
>[4110800c1]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/Makefile.in,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
plugins/python: memleak fixes in test</p>
<p>The main problem was that string array objects were constructed
differently: - if constructed by the test, then the elements were
constant - if constructed by the plugin, then the elements were
allocated</p>
<p>Modified it so that now each array contains allocated strings so they
can be handled similarly. For freeing, I have used the str_array_free
function from the plugin, so I have linked its object into the test
runner.</p>
<p>Happy path is now free of &ldquo;definitely lost&rdquo; memleaks, so the test can be
used for valgrind.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3a7630ff"
>[a3a7630ff]</a></p>
</li>
</ul>
</dd>
<dt>2020-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/regress/iolog_path/check_iolog_path.c, lib/util/mksiglist.c,
lib/util/mksigname.c, lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/glob/globtest.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/sudo_parseln/parseln_test.c, logsrvd/logsrvd.c,
logsrvd/sendlog.c, plugins/group_file/plugin_test.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/logging.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/tsdump.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/parse_args.c,
src/regress/noexec/check_noexec.c:<br>
Use EXIT_SUCCESS and EXIT_FAILURE more consistently.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac61b5655"
>[ac61b5655]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Mark main sudo usage() function <strong>noreturn</strong>. This splits the usage
printing out into display_usage().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5afbf00f"
>[c5afbf00f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_json.h, lib/util/json.c, lib/util/util.exp.in,
plugins/sudoers/cvtsudoers_json.c:<br>
Use json functions from libsudo_util in cvtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c92f39ed3"
>[c92f39ed3]</a></li>
</ul>
</dd>
<dt>2020-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample_approval/sample_approval.c:<br>
Check localtime() return value; coverity CID 208156
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d25ce46c5"
>[d25ce46c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
Check fseeko() return value; coverity CID 207993
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a75992897"
>[a75992897]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Make restart and elapsed members of the closure structs not pointers.
Fixes coverity CID 207992
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=630fc9b17"
>[630fc9b17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c:<br>
Check return value of sudo_lock_file(); coverity CID 207991
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d5f06618"
>[9d5f06618]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Only keepalive if accept() succeeded; coverity CID 207990
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=589adfee2"
>[589adfee2]</a></li>
</ul>
</dd>
<dt>2020-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, doc/Makefile.in, examples/Makefile.in,
include/Makefile.in, lib/iolog/Makefile.in, lib/logsrv/Makefile.in,
lib/util/Makefile.in, lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/audit_json/Makefile.in, plugins/group_file/Makefile.in,
plugins/python/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_approval/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, scripts/generate_test_coverage.sh,
scripts/log2cl.pl, scripts/mkdep.pl, scripts/mkinstalldirs,
scripts/mkpkg, scripts/pp, src/Makefile.in:<br>
Move some scripts from the top level src dir to a scripts dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fe127d10"
>[2fe127d10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sample_approval/Makefile.in,
plugins/sample_approval/sample_approval.c,
plugins/sample_approval/sample_approval.exp:<br>
Add sample approval plugin that simply tests for &ldquo;business hours&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa1ca9c9b"
>[aa1ca9c9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.ac:<br>
Add sample approval plugin that simply tests for &ldquo;business hours&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d5734a31"
>[7d5734a31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Refactor code to alloc and insert a new plugin_container. The only
outlier is the policy plugin which is not part of a list since there can
only be a single policy plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0972dafb1"
>[0972dafb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/audit_json/audit_json.c:<br>
Tech audit_json about approval plugin accept/reject
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce21233fb"
>[ce21233fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_plugin.h,
src/load_plugins.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Add an approval plugin type that runs after the policy plugin. The basic
idea is that the approval plugin adds an additional layer of policy.
There can be multiple approval plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db17cadaf"
>[db17cadaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
plugin documentation fixes: o whitespace cleanup o show_version doesn&rsquo;t
have an errstr argument o document runas_user and runas_group in
command_info[] o add missing .El at before start of audit section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=084cad212"
>[084cad212]</a></li>
</ul>
</dd>
<dt>2020-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/audit_json/audit_json.exp:<br>
Exported symbol is audit_json
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=404b28c4d"
>[404b28c4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
Silence lint warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea377e432"
>[ea377e432]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Add runas_user and runas_group (if set) to command_info for audit
plugin. Otherwise, the audit plugin has to look up the runas name and
group by user or group ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2faa9e6e"
>[c2faa9e6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Only enable pwfeedback when reading password from /dev/tty. This
effectively disables pwfeedback when the -S or -A options are used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d219c6463"
>[d219c6463]</a></li>
</ul>
</dd>
<dt>2020-02-03  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
fixed compiler error when sudo is configured without &ndash;enable-openssl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ca2d1427"
>[0ca2d1427]</a></li>
</ul>
</dd>
<dt>2020-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_plugin.man.in:<br>
Regenerate .man.in files from .mdoc.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cec6b1708"
>[cec6b1708]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.mdoc.in:<br>
Update documentation for setbase when the given base is NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b35cc96f0"
>[b35cc96f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c, src/sudo.c:<br>
For plugin events, set the sudo event base for setbase(NULL). This makes
it possible for a plugin to change the event base to a local one and
then reset it back to its original value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=658702b6d"
>[658702b6d]</a></li>
</ul>
</dd>
<dt>2020-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Don&rsquo;t display &ldquo;error in event loop&rdquo; on loop break reading ServerHello.
We should already have displayed a more useful error message. Otherwise,
we can get two &ldquo;error in event loop&rdquo; warnings if the TLS handshake fails
(in addition to other error messages).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49e7e4ecd"
>[49e7e4ecd]</a></li>
</ul>
</dd>
<dt>2020-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Read ServerHello message synchronously before the command is executed.
Otherwise, the command could be run before the TLS handshake completes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9bea2559"
>[b9bea2559]</a></li>
</ul>
</dd>
<dt>2020-01-28  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Refactor sudo_sendlog in order to be able to send one I/O log multiple
times in parallel (for testing purposes)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e5562df9"
>[1e5562df9]</a></li>
</ul>
</dd>
<dt>2020-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.mdoc.in:<br>
Document audit plugin in the sudo_plugin manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=790f8bb62"
>[790f8bb62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/audit_json/audit_json.c, src/sudo.c:<br>
Change audit close arguments to a type and value. That way we can
distinguish between different error types.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b7dc82fe"
>[1b7dc82fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, m4/sudo.m4,
pathnames.h.in, plugins/audit_json/Makefile.in,
plugins/audit_json/audit_json.c, plugins/audit_json/audit_json.exp:<br>
Example audit plugin that writes JSON output to a log file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf85ea2bf"
>[bf85ea2bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_io.c,
plugins/python/python_plugin_io_multi.inc,
plugins/python/python_plugin_policy.c,
plugins/python/regress/check_python_examples.c:<br>
Adapt python plugin to new plugin API changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a88a05c1e"
>[a88a05c1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/policy.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Pass back a failure or error string to the front end. The
audit_failure() function now stores the failure string. This will allow
an audit plugin to log the reason if the user&rsquo;s request is a rejected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45e589d44"
>[45e589d44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.mdoc.in, include/sudo_plugin.h, src/exec_pty.c,
src/load_plugins.c, src/parse_args.c, src/sudo.c, src/sudo.h,
src/sudo_plugin_int.h:<br>
Define a new plugin type that receives accept and reject messages. This
can be used to implement logging-only plugins. The plugin functions now
take an errstr argument that can be used to return an error string to be
logged on failure or error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22105009d"
>[22105009d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_json.h, lib/util/Makefile.in, lib/util/json.c,
lib/util/util.exp.in:<br>
Add a simple API for writing JSON records. To be used by the upcoming
JSON audit module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88f9f2ba9"
>[88f9f2ba9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/util.exp.in, lib/util/uuid.c:<br>
Add code to generate universally unique identifiers. We create type 4,
variant 1 uuids (random).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed294b828"
>[ed294b828]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_rand.h,
lib/util/arc4random.c, lib/util/arc4random_buf.c:<br>
Add tests for arc4random_buf() and an implementation for those without.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc45c4d4e"
>[dc45c4d4e]</a></li>
</ul>
</dd>
<dt>2020-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.31 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df2e3f7c7"
>[df2e3f7c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Fix a buffer overflow when pwfeedback is enabled and input is a not a
tty. In getln() if the user enters ^U (erase line) and the write(2)
fails, the remaining buffer size is reset but the current pointer is
not. While here, fix an incorrect break for erase when write(2) fails.
Also disable pwfeedback when input is not a tty as it cannot work.
CVE-2019-18634 Credit: Joe Vennix from Apple Information Security.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa8ffeb17"
>[fa8ffeb17]</a></li>
</ul>
</dd>
<dt>2020-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Check for presence of fseeko() regardless of utmp type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fcb64716"
>[0fcb64716]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix warning about unresolved host name with &ldquo;sudo -l -h hostname&rdquo;. The
resolve_host() function returns 0 on success, not bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=604945f93"
>[604945f93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c:<br>
Fix typo in a test: python_policy-&gt;close not python_io-&gt;close
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e87e1a97"
>[4e87e1a97]</a></li>
</ul>
</dd>
<dt>2020-01-28  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/sudo_python_module.c:<br>
plugins/sudo_python_module: Fix double free in sudo.options_as_dict
function</p>
<p>PyArg_ParseTuple sets the py_config_tuple pointer, but it does not
increment the reference count, so by decrementing, we end up freeing the
argument passed in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f268e851d"
>[f268e851d]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Allow getentropy.c to compile when MAP_ANON is unavailable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d69c4a02"
>[9d69c4a02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/arc4random.c,
lib/util/arc4random.h:<br>
Remove multi-thread support from arc4random. Sudo is not multi-threaded
so we don&rsquo;t need the added complexity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13cc65038"
>[13cc65038]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/arc4random.h, lib/util/getentropy.c:<br>
Backed out changeset 9dce3ebb2c37 MAP_SGI_ANYADDR cannot be used in
place of MAP_ANON
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa7ea419f"
>[aa7ea419f]</a></li>
</ul>
</dd>
<dt>2020-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/arc4random.h, lib/util/getentropy.c:<br>
Fix compilation on IRIX; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=915"
>Bug
#915</a> IRIX lacks MAP_ANON
(and MAP_ANONYMOUS) but we can use the IRIX-specific flag
MAP_SGI_ANYADDR instead. From Kazuo Kuroi
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fd82e149"
>[1fd82e149]</a></li>
</ul>
</dd>
<dt>2020-01-24  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python: use separate python interpreter for each plugin</p>
<p>On each plugin initialization we create a separate python interpreter
which gets stored in the plugin_ctx. The main interpreter is stored in
py_ctx and is used for creating more interpreters (if more plugins get
loaded) and final python deinitialization.</p>
<p>The &ldquo;traceback&rdquo; module import and the ImportBlocker initialization was
moved, because it has to happen inside the plugin specific interpreters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22c64f58c"
>[22c64f58c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/regress/check_python_examples.c,
plugins/python/regress/plugin_conflict.py,
plugins/python/regress/testdata/check_python_plugins_do_not_affect_each_
other.stdout:<br>
plugins/python/regress: add a failing textcase about python plugins
affect each other</p>
<p>Since python plugins are run inside the same interpreter, they affect
each other&rsquo;s state, which would be better to avoid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99f839418"
>[99f839418]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix crash in sudo 1.8.30 when suspending sudo at the password prompt.
The closure pointer in sudo_conv_callback was being filled in with a
struct getpass_closure ** instead of a struct getpass_closure *. The bug
was introduced in the fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=910"
>Bug
#910</a>; previously the
closure variable was a struct getpass_closure, not a pointer. Fix from
Michael Norton; Bug #914.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5472b1751"
>[5472b1751]</a></li>
</ul>
</dd>
<dt>2020-01-23  Robert Manner</dt>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: update doc about the multiple I/O plugin loading
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9294108cd"
>[9294108cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/Makefile.in:<br>
plugins/python/Makefile.in: update autogenerated header dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3d3a59e0"
>[d3d3a59e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/python_plugin_common.c,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple.stderr, plugins/python/sudo_python_module.c:<br>
plugins/python/pyhelpers: have a default sudo_printf function</p>
<p>Adapted the default sudo_printf from sudoers plugin to be able to print
errors before plugin open() gets called. (This is used by the multiple
io plugin loading to display error for too much plugin load.)</p>
<p>Since this makes us always have a sudo_log, I have removed the logic
about whether it is available or not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d67c64bb3"
>[d67c64bb3]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/load_plugins.c:<br>
src/load_plugins.c: plugins can supply a clone function</p>
<p>if they want to support getting loaded multiple times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74f559155"
>[74f559155]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-22  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/regress/check_python_examples.c,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple.stderr,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple.stdout,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple1.stored,
plugins/python/regress/testdata/check_example_io_plugin_command_log_mult
iple2.stored, plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
plugins/python/regress: add a testcase for multiple io plugin loading</p>
<p>to verify 2 python plugins can work next to each other.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eeda38f9"
>[2eeda38f9]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_baseplugin.c, plugins/python/python_convmessage.c:
plugins/python: fix return value typo for the error case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3128cc97c"
>[3128cc97c]</a></li>
</ul>
</dd>
<dt>2020-01-21  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_io.c,
plugins/python/python_plugin_io_multi.inc:<br>
plugins/python/plugin_io: enable loading of multiple io plugins</p>
<p>Separate sudo io plugin symbols are created which stores wrapper
functions adding the context of which python plugin the callback is
about.</p>
<p>These sudo io plugin &ldquo;slots&rdquo; get generated with macros by the
preprocessor.</p>
<p>This makes sudo support loading multiple python IO plugins like this:
(note the differences in the symbol names)</p>
<p>Plugin python_io python_plugin.so ModulePath=&hellip; ClassName=SudoIOPlugin1
Plugin python_io1 python_plugin.so ModulePath=&hellip;
ClassName=SudoIOPlugin2 Plugin python_io2 python_plugin.so
ModulePath=&hellip; ClassName=SudoIOPlugin3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=304a7fdc1"
>[304a7fdc1]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-20  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/Makefile.in:<br>
plugins/python/Makefile.in: remove path prefix from examples to make
install target work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edd7356f2"
>[edd7356f2]</a></li>
</ul>
</dd>
<dt>2020-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in:<br>
Document new tls_verify setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4716a75e"
>[f4716a75e]</a></li>
</ul>
</dd>
<dt>2020-01-23  Laszlo Orban</dt>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, include/log_server.pb-c.h,
lib/logsrv/log_server.pb-c.c, lib/logsrv/log_server.proto,
logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog_client.c:<br>
logserver option to disable certificate verification on server side and
server authentication on client side
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24c943848"
>[24c943848]</a></li>
</ul>
</dd>
<dt>2020-01-22  Laszlo Orban</dt>
<dd>
<ul>
<li>include/log_server.pb-c.h, lib/logsrv/log_server.pb-c.c,
lib/logsrv/log_server.proto, logsrvd/logsrvd.c, logsrvd/sendlog.c,
plugins/sudoers/iolog_client.c:<br>
Rename tls_checkpeer to tls_reqcert in ServerHello message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9935a7e2f"
>[9935a7e2f]</a></li>
</ul>
</dd>
<dt>2020-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Use AC_CHECK_DECLS when checking for SSL_CTX_set_min_proto_version Also
use AC_CHECK_FUNCS to check for the other OpenSSL functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9b68ccb3"
>[c9b68ccb3]</a></li>
</ul>
</dd>
<dt>2020-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Refactor code to allocate and fill struct plugin_container. This will
help avoid duplicate code in the audit and approval plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb5fc9876"
>[fb5fc9876]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, examples/sudo_logsrvd.conf:<br>
Document TCP keepalive options in the manual pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07a2965ba"
>[07a2965ba]</a></li>
</ul>
</dd>
<dt>2020-01-21  Laszlo Orban</dt>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h, plugins/sudoers/policy.c:<br>
sudoers: disable SO_KEEPALIVE socket option based on
log_server_disable_keepalive flag in sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f3f45aa2"
>[6f3f45aa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
logserver: enable/disable SO_KEEPALIVE socket option based on
tcp_keepalive configuration option in sudo_logsrvd.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38160d0cc"
>[38160d0cc]</a></li>
</ul>
</dd>
<dt>2020-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add proper diacritical to Rbert&rsquo;s name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8e1422e8"
>[b8e1422e8]</a></li>
</ul>
</dd>
<dt>2020-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>etc/sudo.pp, examples/Makefile.in, examples/sudo.conf.in:<br>
Install a default sudo.conf file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db1a9b155"
>[db1a9b155]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, autogen.sh, config.h.in, configure, configure.ac,
include/sudo_compat.h, logsrvd/logsrvd.c, logsrvd/sendlog.c,
plugins/sudoers/iolog_client.c:<br>
Add support for building on OpenSSL 1.0.2. This adds compatibility
defines for some OpenSSL 1.1.x functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde86e585"
>[dde86e585]</a></li>
</ul>
</dd>
<dt>2020-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>include/hostcheck.h:<br>
No need to export the validate_hostname() symbol. We don&rsquo;t export
symbols in convenience libraries, only installed DSOs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a755c658a"
>[a755c658a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/hostcheck.c:<br>
Fix a few pointer signedness warnings on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ba896821"
>[1ba896821]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/iolog/hostcheck.c, logsrvd/logsrvd.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h, src/net_ifs.c:<br>
Store the server host name and IP in client_closure_fill(). Also check
for getpeername() and inet_ntop() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3bd02505"
>[c3bd02505]</a></li>
</ul>
</dd>
<dt>2020-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Iterate over io_plugins list in the iolog_* wrappers. Moving the
iteration into the wrapper functions simplifies the calling code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d2195c37"
>[0d2195c37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
policy_plugin is global, no need to pass it to policy_* functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0a84c429"
>[b0a84c429]</a></li>
</ul>
</dd>
<dt>2020-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/sendlog.c,
logsrvd/sendlog.h, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Fix handling of SSL_ERROR_WANT_{READ,WRITE} during normal I/O. If we get
SSL_ERROR_WANT_WRITE during SSL_read(), we need to resume the
SSL_read(), not call SSL_write() as we were doing. Likewise for
SSL_ERROR_WANT_READ received from SSL_write(). This introduces a flag so
we call the proper callback even when the I/O direction doesn&rsquo;t match
the read/write calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d91555e8"
>[2d91555e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Add siglist.c and signame.c as dependencies for depend target. Fixes
running &ldquo;make depend&rdquo; in lib/util dir when siglist.c or signame.c are
not already present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36fbdc48f"
>[36fbdc48f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/group_file/Makefile.in, plugins/python/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add abs_top_srcdir and abs_top_builddir and use them. Configure provides
absolution versions of srcdir, builddir, top_srcdir and top_builddir. We
can use these instead of calling pwd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5913c6364"
>[5913c6364]</a></li>
</ul>
</dd>
<dt>2020-01-17  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/check_python_examples.c,
plugins/python/regress/iohelpers.c, plugins/python/regress/iohelpers.h,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
plugins/python/regress: add missing license texts
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cacaabe9"
>[8cacaabe9]</a></li>
</ul>
</dd>
<dt>2020-01-14  Robert Manner</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.ac,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h,
plugins/python/sudo_python_debug.h:<br>
plugins/python: various portability improvements
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b66ecf6e1"
>[b66ecf6e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/example_conversation.py,
plugins/python/example_io_plugin.py,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
<em>log_with_suspend.stdout,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stor
ed,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout:<br>
plugins/python/example</em>{io,conversation}: avoid printing signal number</p>
<p>They are platform dependant, so their test would fail on some platforms.
While we could create separate plugin for the tests, I like the idea
that the examples are ensured to be working.</p>
<p>I believe this is a good compromise for being able to auto update the
test cases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3b7f3c0d"
>[f3b7f3c0d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/Makefile.in,
plugins/python/regress/check_python_examples.c:<br>
plugins/python/regress: load the python plugin dynamically</p>
<p>instead of linking with it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40f218958"
>[40f218958]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-10  Robert Manner</dt>
<dd>
<ul>
<li>
<p>generate_test_coverage.sh:<br>
generate_test_coverage.sh: example script to ease test coverage
generation</p>
<p>Uses lcov and genhtml to generate test coverage. It is meant to be run
in a clean directory. Extra configure options can be added as script
arguments.</p>
<p>Example execution:</p>
<p>mkdir build cd build ../generate_test_coverage.sh &ndash;enable-python
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9af3b2d3"
>[d9af3b2d3]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-07  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/regress/testdata/check_example_conversation_plugin_reason
_log_with_suspend.conversation,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
_log_with_suspend.stderr,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
_log_with_suspend.stdout,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
_log_with_suspend.stored,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
_log_without_suspend.conversation,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
<em>log_without_suspend.stderr,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
<em>log_without_suspend.stdout,
plugins/python/regress/testdata/check_example_conversation_plugin_reason
<em>log_without_suspend.stored,
plugins/python/regress/testdata/check_example_conversation_plugin_user_i
nterrupts.conv,
plugins/python/regress/testdata/check_example_conversation_plugin_user_i
nterrupts.conversation,
plugins/python/regress/testdata/check_example_conversation_plugin_user_i
nterrupts.stderr,
plugins/python/regress/testdata/check_example_conversation_plugin_user_i
nterrupts.stdout,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@diag.log</a>
,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_c_calls@info.log"
>plugins/python/regress/testdata/check_example_debugging_c_calls@info.log</a>
, <a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_load@diag.log"
>plugins/python/regress/testdata/check_example_debugging_load@diag.log</a>,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@err.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@err.log</a>,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_plugin@info.log"
>plugins/python/regress/testdata/check_example_debugging_plugin@info.log</a>,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@diag.lo</a>
g,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo"
>plugins/python/regress/testdata/check_example_debugging_py_calls@info.lo</a>
g,
<a
  class="gdoc-markdown__link"
  href="mailto:plugins/python/regress/testdata/check_example_debugging_sudo_cb@info.log"
>plugins/python/regress/testdata/check_example_debugging_sudo_cb@info.log</a>
,
plugins/python/regress/testdata/check_example_group_plugin_is_able_to_de
bug.log,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stde
rr,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stdo
ut,
plugins/python/regress/testdata/check_example_io_plugin_command_log.stor
ed,
plugins/python/regress/testdata/check_example_io_plugin_failed_to_start</em>
command.stderr,
plugins/python/regress/testdata/check_example_io_plugin_failed_to_start</em>
command.stdout,
plugins/python/regress/testdata/check_example_io_plugin_failed_to_start</em>
command.stored,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stderr,
plugins/python/regress/testdata/check_example_io_plugin_fails_with_pytho
n_backtrace.stdout,
plugins/python/regress/testdata/check_example_io_plugin_version_display.
stderr,
plugins/python/regress/testdata/check_example_io_plugin_version_display.
stdout,
plugins/python/regress/testdata/check_example_io_plugin_version_display.
stored,
plugins/python/regress/testdata/check_example_policy_plugin_accepted_exe
cution.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_accepted_exe
cution.stdout,
plugins/python/regress/testdata/check_example_policy_plugin_denied_execu
tion.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_denied_execu
tion.stdout,
plugins/python/regress/testdata/check_example_policy_plugin_failed_execu
tion.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_failed_execu
tion.stdout,
plugins/python/regress/testdata/check_example_policy_plugin_list.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_list.stdout,
plugins/python/regress/testdata/check_example_policy_plugin_validate_inv
alidate.log,
plugins/python/regress/testdata/check_example_policy_plugin_version_disp
lay.stderr,
plugins/python/regress/testdata/check_example_policy_plugin_version_disp
lay.stdout,
plugins/python/regress/testdata/check_loading_fails_missing_classname.st
derr,
plugins/python/regress/testdata/check_loading_fails_missing_classname.st
dout,
plugins/python/regress/testdata/check_loading_fails_missing_path.stderr,
plugins/python/regress/testdata/check_loading_fails_missing_path.stdout,
plugins/python/regress/testdata/check_loading_fails_not_owned_by_root.st
derr,
plugins/python/regress/testdata/check_loading_fails_not_owned_by_root.st
dout,
plugins/python/regress/testdata/check_loading_fails_wrong_classname.stde
rr,
plugins/python/regress/testdata/check_loading_fails_wrong_classname.stdo
ut,
plugins/python/regress/testdata/check_loading_fails_wrong_path.stderr,
plugins/python/regress/testdata/check_loading_fails_wrong_path.stdout:<br>
plugins/python/regress/testdata: generated data for the pyplugin tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=383ca8033"
>[383ca8033]</a></li>
</ul>
</dd>
<dt>2020-01-03  Robert Manner</dt>
<dd>
<ul>
<li>MANIFEST, plugins/python/Makefile.in,
plugins/python/regress/check_python_examples.c,
plugins/python/regress/iohelpers.c, plugins/python/regress/iohelpers.h,
plugins/python/regress/testdata/sudo.conf.developer_mode,
plugins/python/regress/testdata/sudo.conf.normal_mode,
plugins/python/regress/testhelpers.c,
plugins/python/regress/testhelpers.h:<br>
plugins/python/regress: adds tests for python plugin feature and
examples
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5da7bd562"
>[5da7bd562]</a></li>
</ul>
</dd>
<dt>2020-01-10  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/example_policy_plugin.py:<br>
plugins/python/example_policy_plugin.py: extend user env changing
example</p>
<p>Make the demonstration extend the environment with a new variable.
Easier to read, and makes the testing able to check for that it is
working.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b2d0334b"
>[0b2d0334b]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-09  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python/python_plugin_policy: fix validate() call</p>
<p>When calling validate() python function, TypeError exception was thrown
(&ldquo;argument list must be a tuple&rdquo;), because the call does not have
arguments, and python does not accept empty tuple for execution. NULL
must be used instead, which was handled as argument construction failure
previously.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=185471f26"
>[185471f26]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/example_policy_plugin.py:<br>
plugins/python/example_policy_plugin.py: make allowed_commands ordered</p>
<p>Storing them as &ldquo;tuple&rdquo; instead of &ldquo;set&rdquo;, so they have a fix order. This
makes the output of the list() example stable. (&ldquo;set&rdquo; is printed out in
random order)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35c85596d"
>[35c85596d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/example_io_plugin.py,
plugins/python/example_policy_plugin.py,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python: fix confusing version display</p>
<p>IO/Group/Policy Python API version is displayed instead of sudo version,
because that is not very meaningful in this context.</p>
<p>They are only displayed in verbose mode.</p>
<p>Example plugins express it more concrete that they are displaying their
version, not the API version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ee1dd3ec"
>[2ee1dd3ec]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-08  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/example_conversation.py:<br>
plugins/python/example_conversation.py: make log path configurable</p>
<p>Similarly to IO plugin example. (It is easier to test it this way.)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87d76f4bb"
>[87d76f4bb]</a></p>
</li>
</ul>
</dd>
<dt>2020-01-07  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/example_io_plugin.py:<br>
plugins/python/example_io_plugin.py: fix backtrace during destructor</p>
<p>If the plugin fails to open the file for writing, constructor will raise
an exception and exit before creating the &ldquo;_log&rdquo; member variable. So the
destructor will also raise a backtrace. (Which python ignores, but dumps
out to stderr.)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=591d57ad2"
>[591d57ad2]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/python_plugin_common.c:<br>
plugins/python/python_plugin_common: raise debug level for module import
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5be81eb25"
>[5be81eb25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/example_debugging.py:<br>
plugins/python/example_debugging: fix typo in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eab16909"
>[8eab16909]</a></li>
</ul>
</dd>
<dt>2020-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/iolog/Makefile.in:<br>
Rebuild dependencies after hostcheck.c include changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1093e7bc4"
>[1093e7bc4]</a></li>
</ul>
</dd>
<dt>2020-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>include/hostcheck.h, lib/iolog/hostcheck.c, logsrvd/logsrvd.c,
plugins/sudoers/iolog_client.c:<br>
Add debugging statements to certificate checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47d950471"
>[47d950471]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/Makefile.in, lib/iolog/hostcheck.c,
plugins/sudoers/iolog.c:<br>
Portability fixes and correct path to hostcheck.h in MANIFEST. Include
sys/socket.h for getpeername(). Link with -lnsl on Solaris to get
inet_pton().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a86073bd"
>[5a86073bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/logsrv/Makefile.in, lib/util/Makefile.in,
lib/zlib/Makefile.in, logsrvd/Makefile.in,
plugins/group_file/Makefile.in, plugins/python/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Using &ldquo;libtool &ndash;clean&rdquo; to remove regular files is slow. We only need to
use libtool&rsquo;s clean mode to remove files created by libtool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2b7148b6"
>[d2b7148b6]</a></li>
</ul>
</dd>
<dt>2020-01-15  Laszlo Orban</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/iolog_client.c:<br>
do server identity validation in iolog plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6916c219"
>[a6916c219]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
do client identity validation in logserver
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=829fb9db8"
>[829fb9db8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/hostcheck.h, lib/iolog/Makefile.in,
lib/iolog/hostcheck.c:<br>
implement host validation for the audit server SSL certificates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d111db60"
>[8d111db60]</a></li>
</ul>
</dd>
<dt>2020-01-06  Laszlo Orban</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
save a pointer to the currently connected audit server in the closure
object
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de02745a3"
>[de02745a3]</a></li>
</ul>
</dd>
<dt>2020-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add examples/sudo.conf to ignore files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ceeca1eb"
>[7ceeca1eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.mdoc.in:<br>
Fix mdoc lint warnings by removing .Pp before and after .Ss.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab02b8a1"
>[0ab02b8a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.mdoc.in, examples/sudo.conf.in:<br>
Remove whitespace at the end of the line in example sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9f26ebbb"
>[c9f26ebbb]</a></li>
</ul>
</dd>
<dt>2020-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Fix TLS accept when SSL_accept() returns SSL_ERROR_WANT_WRITE. We need
to switch from SUDO_EV_READ to SUDO_EV_WRITE for this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b12b21ea"
>[9b12b21ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Fix TLS connect when SSL_connect returns SSL_ERROR_WANT_READ. We need to
switch from SUDO_EV_WRITE to SUDO_EV_READ for this case. Also make the
tls connect events private to tls_timed_connect() with their own
closure. There is no need to store them in the client closure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b3362b9"
>[36b3362b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c:<br>
Store submit time in struct iolog_info. Fixes missing time stamp in
remote I/O log info file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb9d7d8cc"
>[fb9d7d8cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Treat EROFS (like EACCES) as a non-fatal error in dir_is_writable().
Fixes sudoedit on macOS 10.15 and above where the root file system is
mounted read-only. See <a
  class="gdoc-markdown__link"
  href="https://support.apple.com/en-us/HT210650"
>https://support.apple.com/en-us/HT210650</a>. From
Dan Villiom Podlaski Christiansen. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=913"
>Bug
#913</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e12b7177"
>[9e12b7177]</a></li>
</ul>
</dd>
<dt>2020-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>lib/util/event.c, plugins/sudoers/iolog_client.c:<br>
Really fix flushing of data in client_close(). Now that we call
fmt_exit_message() from client_close() we do not need to try to
determine whether the read or write events were pending in the old base.</p>
<p>We can&rsquo;t tell anyway because the active flag in the event was cleared
when the old sudo event base was destroyed. It is correct to enable both
the read and write events after formatting the ExitMessage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=161750fc5"
>[161750fc5]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_path_escapes.c:<br>
Use SUDOERS_DEBUG_* not SUDO_DEBUG_* in debug_decl() for the sudoers
plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbb9520c3"
>[bbb9520c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo_plugin_int.h:<br>
Wrap calls to plugin event callbacks to use the plugin&rsquo;s debug instance.
Otherwise, the debug output in a plugin&rsquo;s event callback will go to the
sudo debug file, not sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=405d26f5b"
>[405d26f5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/strsig/strsig_test.c:<br>
FreeBSD is missing SIGLWP (aka SIGTHR) in sys_signame[]. Don&rsquo;t test
SIGLWP on FreeBSD where it is reserved for the thread library and is not
listed in sys_signame[].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41242e121"
>[41242e121]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
We want to use DT_RUNPATH in preference to DT_RPATH in ELF binaries.
Otherwise, LD_LIBRARY_PATH does not work when running the tests. The GNU
linker&rsquo;s &ndash;enable-new-dtags can be used to do this. We don&rsquo;t do this on
NetBSD where RPATH already supports LD_LIBRARY_PATH.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aed69fb47"
>[aed69fb47]</a></li>
</ul>
</dd>
<dt>2020-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers_debug.c:<br>
Fix reference counting when both sudoers policy and I/O log are loaded.
If both sudoers policy and I/O log plugins are loaded, debug_files will
be empty when the I/O plugin is initialized. This changes the logic to
always increase the reference count if the instance is valid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7eef9c3a"
>[e7eef9c3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix handling of duplicate policy and I/O plugins. The warning message
said the later I/O plugin was ignored but it actually overwrote the
existing one instead. The first registered plugin of the same name now
is used, as was intended. Specifying more than one policy plugin is no
longer a fatal error; this allows the admin to fix the situation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c5c79194"
>[9c5c79194]</a></li>
</ul>
</dd>
<dt>2020-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
For sudoedit_checkdir consider a user-owner directory to be writable.
The non-faccessat() code already did this so this just brings the
faccessat() path into alignment. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=912"
>Bug
#912</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c592470db"
>[c592470db]</a></li>
</ul>
</dd>
<dt>2020-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add newline before list of artwork authors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7480c341"
>[e7480c341]</a></li>
</ul>
</dd>
<dt>2020-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Remove MAXSYSLOGTRIES, it is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fddfedb5"
>[3fddfedb5]</a></li>
</ul>
</dd>
<dt>2020-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf68dce05"
>[bf68dce05]</a></li>
</ul>
</dd>
<dt>2020-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
If &ndash;enable-openssl or &ndash;enable-gcrypt is given a path, append to
LDFLAGS. Previously we appended the path to SUDOERS_LDFLAGS but now that
we use OpenSSL in the log server, LDFLAGS is the correct one to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8747a9554"
>[8747a9554]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Robert Manner
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b141213a1"
>[b141213a1]</a></li>
</ul>
</dd>
<dt>2020-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Sanity check size when converting the first record to TS_LOCKEXCL
Coverity CID 206591
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=586b418ad"
>[586b418ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c:<br>
Fix coverity CID 206586. Potential use after free calling gzstrerror()
after gzclose().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e57bea4e"
>[9e57bea4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Use canonical pattern when freeing a tail queue. Avoids some coverity
false positives when using TAILQ_FOREACH_SAFE to free the tail queue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e0dcae6c"
>[3e0dcae6c]</a></li>
</ul>
</dd>
<dt>2020-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Avoid potential NULL deref in tls_timed_connect() error path. Coverity
CID 206396
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3c5efd48"
>[b3c5efd48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Check for sudo_ev_add() failure; Coverity CID 206395 206397
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=920cdf421"
>[920cdf421]</a></li>
</ul>
</dd>
<dt>2020-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, examples/sudo.conf.in:<br>
Update sample sudo.conf with all supported settings. The deprecated
&ldquo;max_groups&rdquo; setting is not documented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b527ac3fb"
>[b527ac3fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, examples/sudo.conf.in,
lib/util/regress/sudo_conf/test1.in,
lib/util/regress/sudo_parseln/test1.in:<br>
Remove POD-style C&lt;&gt; markup (typewriter font) from sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aa815643"
>[8aa815643]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, examples/Makefile.in,
examples/sudo.conf.in:<br>
Substitute plugin dir into examples/sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bf075202"
>[5bf075202]</a></li>
</ul>
</dd>
<dt>2020-01-02  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers_debug.c:<br>
plugins/sudoers/sudoers_debug.c: fix harmless debug deregistration
warning</p>
<p>If the debug sudoers subsystem is not registered, because it does not
get any file names to deal with (TAILQ_EMPTY(debug_files)),
deregistration of the subsystem outputs a warning:</p>
<p>sudo: sudo_debug_deregister_v1: invalid instance ID -1, max -1</p>
<p>This patch prevents that by only increasing the refcount if the
debug_instance was registered successfully.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=972ea1448"
>[972ea1448]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/python/Makefile.in:<br>
plugins/python/Makefile.in: fix the install path of examples</p>
<p>Examples are installed by default to &ldquo;docdir&rdquo;, which refers to
PACKAGE_TARNAME variable which was empty for the python plugin
Makefile.in</p>
<p>So the examples were installed to &lsquo;&hellip;/share/doc/examples&rsquo; instead of
&lsquo;&hellip;/share/doc/sudo/examples&rsquo;. This also made them be skipped from the
package.</p>
<p>Also the install target now depends on install-doc so the examples gets
installed also (similarly as other examples).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e9d15a4d"
>[3e9d15a4d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
doc/sudo_plugin_python: indent code examples for easier readability
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f890e4db"
>[3f890e4db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
doc/sudo.conf: document developer_mode option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9871f7e37"
>[9871f7e37]</a></li>
</ul>
</dd>
<dt>2019-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE:<br>
fix typo in previous
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a76b7543b"
>[a76b7543b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
In update-pot match *.c not *c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eaea77fa"
>[4eaea77fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Changes in sudo 1.8.30
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8c39ea81"
>[a8c39ea81]</a></li>
</ul>
</dd>
<dt>2019-12-26  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Add check for up to date def_data.[ch] in check-dist target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f139d2361"
>[f139d2361]</a></li>
</ul>
</dd>
<dt>2019-12-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
Use 64-bit resource limits on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e25d03c9"
>[1e25d03c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
When restoring old resource limits, try to recover if we receive EINVAL.
On NetBSD, setrlimit(2) can return EINVAL if the new soft limit is lower
than the current resource usage. This can be a problem when restoring
the old stack limit if sudo has raised it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfabda3d4"
>[dfabda3d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Sudo doesn&rsquo;t require such a large stack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbc905fdf"
>[dbc905fdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Restore check for readable /etc/sudoers in pre-install target. If there
is no installed sudoers there is nothing to check&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=047f37ade"
>[047f37ade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Enable OpenBSD extensions on NetBSD to get reallocarray(3) prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8532ae7a"
>[c8532ae7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h:<br>
Add forward declaration of struct timeval for deprecated APIs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c321b3e60"
>[c321b3e60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sig2str.c, lib/util/str2sig.c:<br>
Fix compilation on systems with SIGRTMIN/SIGRTMAX but not _SC_RTSIG_MAX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4347ed90d"
>[4347ed90d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Older systems may not support WCONTINUED.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=291221c69"
>[291221c69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Support systems that have nl_langinfo(3) but not the CODESET define.
Fixes compilation on old NetBSD versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58d50f44c"
>[58d50f44c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Fix a typo; HAVE_KINFO_PROC2_NETBSD not HAVE_KINFO_PROC2_NETBSD2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b571c59a"
>[8b571c59a]</a></li>
</ul>
</dd>
<dt>2019-12-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, etc/init.d/aix.sh.in,
etc/init.d/hpux.sh.in, etc/init.d/sudo.conf.in, etc/sudo.pp,
src/Makefile.in:<br>
Move init.d and sudo.pp to the etc dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6f8f4b54"
>[c6f8f4b54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/cfmakeraw.c:<br>
Add cfmakeraw() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4690d3ecf"
>[4690d3ecf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Remove indent.pro from MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b10ac03e"
>[1b10ac03e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Add uncrustify.files to ignore file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d089bd94e"
>[d089bd94e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin_python.man.in, doc/sudo_plugin_python.mdoc.in:<br>
Substitute @prefix@ in for the example paths. We can&rsquo;t use
@exampledir@ here since it contains Makefile variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79e52c776"
>[79e52c776]</a></li>
</ul>
</dd>
<dt>2019-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_debug.h, lib/iolog/iolog_fileio.c, lib/iolog/iolog_path.c,
lib/iolog/iolog_util.c, lib/util/aix.c, lib/util/digest.c,
lib/util/digest_gcrypt.c, lib/util/digest_openssl.c, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/gettime.c,
lib/util/getusershell.c, lib/util/gidlist.c, lib/util/host_port.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/locking.c,
lib/util/logfac.c, lib/util/logpri.c, lib/util/mkdir_parents.c,
lib/util/parseln.c, lib/util/secure_path.c, lib/util/setgroups.c,
lib/util/strsplit.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/sudo_conf.c, lib/util/term.c,
lib/util/ttyname_dev.c, lib/util/ttysize.c, logsrvd/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrvd.c,
logsrvd/logsrvd_conf.c, logsrvd/sendlog.c,
plugins/python/python_plugin_common.c,
plugins/python/sudo_python_debug.c, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/base64.c, plugins/sudoers/boottime.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/check.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/defaults.c, plugins/sudoers/digestname.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c, plugins/sudoers/file.c,
plugins/sudoers/filedigest.c, plugins/sudoers/find_path.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gc.c,
plugins/sudoers/gentime.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/hexchar.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.c, plugins/sudoers/parse_ldif.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/rcstr.c, plugins/sudoers/redblack.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/starttime.c, plugins/sudoers/strlist.c,
plugins/sudoers/stubs.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/visudo.c, src/exec.c, src/exec_common.c,
src/exec_nopty.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/limits.c, src/load_plugins.c, src/net_ifs.c, src/parse_args.c,
src/preserve_fds.c, src/selinux.c, src/sesh.c, src/signal.c,
src/solaris.c, src/sudo.c, src/sudo_edit.c, src/tgetpass.c,
src/ttyname.c, src/utmp.c:<br>
debug_decl and debug_decl_vars now require a semicolon at the end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=486ee2b71"
>[486ee2b71]</a></li>
</ul>
</dd>
<dt>2019-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/sudo_plugin_python.man.in,
doc/sudo_plugin_python.mdoc.in:<br>
Add sudo_plugin_python manual page. Based on markdown docs from Robert
Manner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dcc28180"
>[5dcc28180]</a></li>
</ul>
</dd>
<dt>2019-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/limits.c:<br>
Output the name of the limit when warning about setrlimit or getrlimit.
From Kimmo Suominen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4392b5726"
>[4392b5726]</a></li>
</ul>
</dd>
<dt>2019-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96a03a089"
>[96a03a089]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add python module files to MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42732821f"
>[42732821f]</a></li>
</ul>
</dd>
<dt>2019-12-05  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/example_conversation.py,
plugins/python/example_debugging.py:<br>
plugins/python: example plugin demonstrating conversation and debug API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ad362dd8"
>[4ad362dd8]</a></li>
</ul>
</dd>
<dt>2019-11-19  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/example_group_plugin.py:<br>
plugins/python: add example python group plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=523bcbedb"
>[523bcbedb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/example_policy_plugin.py:<br>
plugins/python: add example python policy plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8432fca3"
>[d8432fca3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/python/example_io_plugin.py:<br>
plugins/python: add example io python plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee856cc4b"
>[ee856cc4b]</a></li>
</ul>
</dd>
<dt>2019-10-22  Robert Manner</dt>
<dd>
<ul>
<li>Makefile.in, configure.ac, plugins/python/Makefile.in:<br>
Makefile.in, configure.ac: add python plugin build
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91e6bf8cc"
>[91e6bf8cc]</a></li>
</ul>
</dd>
<dt>2019-12-10  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_plugin_common.c:<br>
plugins/python: make group plugin able to debug</p>
<p>It does not get the debug settings, so it looks them up through
sudo_conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d888d4459"
>[d888d4459]</a></p>
</li>
</ul>
</dd>
<dt>2019-11-21  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/python_baseplugin.c, plugins/python/python_convmessage.c,
plugins/python/sudo_python_module.c,
plugins/python/sudo_python_module.h:<br>
plugins/python: add a sudo python module
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b49d44e8"
>[9b49d44e8]</a></li>
</ul>
</dd>
<dt>2019-12-02  Robert Manner</dt>
<dd>
<ul>
<li>
<p>plugins/python/python_importblocker.c:<br>
plugins/python: add ImportBlocker which forbids loading unsafe python
modules</p>
<p>If non root can alter any imported python modules, he is able to run
anything he would like to as root user. This class is a helper to avoid
such situation.</p>
<p>This feature can be disabled with &lsquo;DeveloperMode=1&rsquo; plugin option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6bac23ba"
>[a6bac23ba]</a></p>
</li>
</ul>
</dd>
<dt>2019-10-22  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/pyhelpers.c, plugins/python/pyhelpers.h,
plugins/python/pyhelpers_cpychecker.h,
plugins/python/python_plugin_common.c,
plugins/python/python_plugin_common.h,
plugins/python/python_plugin_group.c, plugins/python/python_plugin_io.c,
plugins/python/python_plugin_policy.c:<br>
plugins/python: a plugin which can load policy/io plugin written in
python
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=babdcbd03"
>[babdcbd03]</a></li>
</ul>
</dd>
<dt>2019-12-04  Robert Manner</dt>
<dd>
<ul>
<li>plugins/python/sudo_python_debug.c, plugins/python/sudo_python_debug.h:<br>
plugins/python: add sudo debug helpers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=311cf122e"
>[311cf122e]</a></li>
</ul>
</dd>
<dt>2019-12-10  Robert Manner</dt>
<dd>
<ul>
<li>
<p>include/sudo_conf.h, lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test1.in,
lib/util/regress/sudo_conf/test1.out.ok,
lib/util/regress/sudo_conf/test2.out.ok,
lib/util/regress/sudo_conf/test3.out.ok,
lib/util/regress/sudo_conf/test4.out.ok,
lib/util/regress/sudo_conf/test5.out.ok,
lib/util/regress/sudo_conf/test6.out.ok,
lib/util/regress/sudo_conf/test7.out.ok,
lib/util/regress/sudo_conf/test8.err.ok,
lib/util/regress/sudo_conf/test8.in,
lib/util/regress/sudo_conf/test8.out.ok, lib/util/sudo_conf.c,
lib/util/util.exp.in, plugins/sudoers/group_plugin.c,
src/load_plugins.c:<br>
src/load_plugins, plugins/sudoers: added developer_mode sudo.conf option</p>
<p>It can be used to disable the enforcement that a plugin (shared object
or an imported python module) must be owned by root and not modifiable
by others. This can make plugin development easier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0d53d75e"
>[c0d53d75e]</a></p>
</li>
</ul>
</dd>
<dt>2019-12-05  Robert Manner</dt>
<dd>
<ul>
<li>
<p>include/sudo_debug.h, lib/util/sudo_debug.c, lib/util/util.exp.in:<br>
lib/util/sudo_debug.c: add a function for querying if debugging is
needed</p>
<p>for a level. Rationale: this way we can avoid computing details for the
log which will not happen at all if the computation is slow.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6710048c8"
>[6710048c8]</a></p>
</li>
</ul>
</dd>
<dt>2019-11-21  Robert Manner</dt>
<dd>
<ul>
<li>
<p>Makefile.in:<br>
Makefile.in: fix calling log2cl when doing out of source build</p>
<p>If doing build out of source and not calling configure by absolute path,
$(top_srcdir) variable will contain a path relative to the directory we
stand in. So, after changing the current directory &ldquo;cd $(srcdir)&rdquo;, this
path will point to somewhere else making the install step fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80fa75f0e"
>[80fa75f0e]</a></p>
</li>
</ul>
</dd>
<dt>2019-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Update SUDO_CONV_REPL_MAX in docs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a44158054"
>[a44158054]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove uncrustify.files in clean target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f4409c25"
>[9f4409c25]</a></li>
</ul>
</dd>
<dt>2019-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, etc/uncrustify-small.cfg, etc/uncrustify.cfg, indent.pro:<br>
Add uncrustify config file for new sudo code style.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60328e5c7"
>[60328e5c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h:<br>
Bump SUDO_CONV_REPL_MAX from 255 to 1023
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a0445af9"
>[3a0445af9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/digest_gcrypt.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/secureware.c:<br>
Minor style cleanups. Remove extraneous break after return statement.
Convert two old K&amp;R function declarations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ec23ad5e"
>[3ec23ad5e]</a></li>
</ul>
</dd>
<dt>2019-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/selinux.c:<br>
Save/restore the raw form of the file context in case mctrans is not
available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=718e6997f"
>[718e6997f]</a></li>
</ul>
</dd>
<dt>2019-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/sudo_compat.h, lib/util/Makefile.in,
lib/util/getusershell.c, mkdep.pl, plugins/sudoers/check.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add runas_check_shell flag to require a runas user to have a valid
shell. Not enabled by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b14d633ec"
>[b14d633ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c:<br>
Add a new flag &ldquo;allow_unknown_runas_id&rdquo; to control matching of unknown
IDs. Previous, sudo would always allow unknown user or group IDs if the
sudoers entry permitted it. This included the &ldquo;ALL&rdquo; alias. With this
change, the admin must explicitly enable support for unknown IDs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df8f06609"
>[df8f06609]</a></li>
</ul>
</dd>
<dt>2019-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
Use cfmakeraw() in sudo_term_raw() instead of doing it manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7b4f8865"
>[d7b4f8865]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Fix event loop called via I/O log close function. We need to set events
that were pending in the old base in the new one. Fixes sending the
final I/O log data and the ExitMessage to the server.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d737441f"
>[9d737441f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_plugin.h,
src/sudo.c:<br>
Replace timeleft with pending in sudo plugin event API.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0b80b404"
>[d0b80b404]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Use sudo_ev_pending() instead of the deprecated sudo_ev_timeleft().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf3b93f08"
>[bf3b93f08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, lib/util/util.exp.in:<br>
Add sudo_ev_pending(), used to check whether an event is pending.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22ffffe12"
>[22ffffe12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add TLS libs when linking check_iolog_plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=931407284"
>[931407284]</a></li>
</ul>
</dd>
<dt>2019-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Remove extraneous newlines in some sudo_warnx() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5711c1b49"
>[5711c1b49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document log_server_cabundle, log_server_peer_cert and
log_server_peer_key
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d98022177"
>[d98022177]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #16 from laczau/master</p>
<p>Proper handling of certificate chain file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03d02c4ac"
>[03d02c4ac]</a></p>
</li>
</ul>
</dd>
<dt>2019-12-06  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
cert files can contain the full chain of trust, so load all certs in
every case for verification
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e36cc655"
>[5e36cc655]</a></li>
</ul>
</dd>
<dt>2019-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Sync init_session() prototype with sudo_plugin.h and fix a typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1e61f5ac"
>[a1e61f5ac]</a></li>
</ul>
</dd>
<dt>2019-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Only update the time stamp entry after the approval function has
succeeded. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=910"
>Bug #910</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b6de608c"
>[4b6de608c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #14 from sudo-project/tls-config-default-values</p>
<p>Audit Server - add default values for cert paths
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=049bbbfae"
>[049bbbfae]</a></p>
</li>
</ul>
</dd>
<dt>2019-12-04  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c:<br>
add default values for cert paths
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dceb8bbb"
>[1dceb8bbb]</a></li>
</ul>
</dd>
<dt>2019-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Add reference counting to debug register/deregister. Fixes a potential
problem when an instance is re-registered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ab29e29b"
>[3ab29e29b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers_debug.c:<br>
Only deregister the sudoers debug instance on last close. Reference
count calls to sudoers_debug_register and only deregister
sudoers_debug_instance when refcnt reaches 0. Fixes a problem where the
debug system was deregistered when the sudoers policy is closed even
though the iolog plugin is active.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c782edf5"
>[7c782edf5]</a></li>
</ul>
</dd>
<dt>2019-11-28  Laszlo Orban</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h:<br>
implement tls layer in iolog plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24cda2592"
>[24cda2592]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
process tls config options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a409d8f1f"
>[a409d8f1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in:<br>
add audit server tls related configuration options to sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ce51d40c"
>[3ce51d40c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
optionally link sudoers with openssl libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9c2cf927"
>[a9c2cf927]</a></li>
</ul>
</dd>
<dt>2019-11-27  Laszlo Orban</dt>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #11 from sudo-project/audit-server-tls-async</p>
<p>Sudo audit Server - TLS protocol update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5e0e2a4b"
>[f5e0e2a4b]</a></p>
</li>
</ul>
</dd>
<dt>2019-11-26  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
disable timeout for the reader after ServerHello message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06a0f8970"
>[06a0f8970]</a></li>
</ul>
</dd>
<dt>2019-11-22  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
use event timeout instead of socket timeout
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21e7fdfd5"
>[21e7fdfd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
adapt sudo sendlog (async communication, unencrypted ServerHello
message)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4bbce670"
>[f4bbce670]</a></li>
</ul>
</dd>
<dt>2019-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Exit if the first call to logsrvd_conf_read() fails. It is not fatal if
subsequent calls fail (due to SIGHUP) since we keep a copy of the old
config before installing the new one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1747e5009"
>[1747e5009]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/Makefile.in:<br>
Add some missing files to &ldquo;make clean&rdquo; and &ldquo;make distclean&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=333ea878e"
>[333ea878e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.gitignore, .hgignore:<br>
Update .hgignore and convert to .gitignore
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42adbca7a"
>[42adbca7a]</a></li>
</ul>
</dd>
<dt>2019-11-22  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
ServerHello message is now unencrypted, TLS communication has been
refactored to full async
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f67d0d13c"
>[f67d0d13c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/log_server.pb-c.h, lib/logsrv/log_server.pb-c.c,
lib/logsrv/log_server.proto, logsrvd/logsrvd.c:<br>
extend ServerHello message with two fields (tls, tls_checkpeer)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33f6a1676"
>[33f6a1676]</a></li>
</ul>
</dd>
<dt>2019-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
plugins/sudoers/policy.c, src/sudo.c:<br>
For plugin API 1.15 and up, always call the plugin close function.
Previously, it was only called when a command was run (including
sudoedit). Now, plugin operations list, validate, invalidate, and
show_version are also closed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f976a5d86"
>[f976a5d86]</a></li>
</ul>
</dd>
<dt>2019-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Avoid NULL deref on an error path if calloc() fails. Coverity CID 205873
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=214374637"
>[214374637]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Fix potential fd leak when converting trailing newline to cr + nl.
Coverity CID 205872
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0a4b2d68"
>[e0a4b2d68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in,
examples/sudo_logsrvd.conf:<br>
Document the process of creating self-signed certificates for
sudo_logsrvd. Based on a document from Laszlo Orban.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b31b83051"
>[b31b83051]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/plugin_test.c:<br>
Sync with argument handling in group_plugin.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7cac7c0e"
>[c7cac7c0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
If a group plugin has optional arguments, NULL terminate the vector.
Otherwise, the plugin cannot determine the end of arguments. The
behavior now matches the plugin documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3266edc2"
>[a3266edc2]</a></li>
</ul>
</dd>
<dt>2019-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, src/sudo.c:<br>
If there is no session or terminal group ID, pass the plugin a value of
0. This behavior already matches what is documented in the sudo_plugin
manual for &ldquo;sid&rdquo; but the &ldquo;tcpgid&rdquo; entry needed to be updated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368e12b0f"
>[368e12b0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t touch the local iolog sequence file if we are logging remotely
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d10220162"
>[d10220162]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_client.c:<br>
Plug a memory leak found by leak sanitizer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c2821fe4"
>[6c2821fe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_client.c,
plugins/sudoers/iolog_plugin.h:<br>
Make a shallow copy of user_env in I/O plugin in case it is reallocated.
The policy plugin&rsquo;s session init function may reallocate the user
environment pointer. Fixes a use after free when PAM is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3241b82a7"
>[3241b82a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/policy.c:<br>
Rename &ldquo;log_server&rdquo; in sudoers to &ldquo;log_servers&rdquo; to match I/O plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f913249dd"
>[f913249dd]</a></li>
</ul>
</dd>
<dt>2019-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Check closure-&gt;ssl for non-NULL instead of logsrvd_conf_get_tls_opt().
It&rsquo;s a little more obvious this way and ssl is only non-NULL when the
tls option is enabled anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=810669c4f"
>[810669c4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Init iolog_dir_fd and sock in connection_closure before adding to list.
Otherwise we could close the wrong fds in the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5be951bd7"
>[5be951bd7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Laszlo Orban
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82fea739a"
>[82fea739a]</a></li>
</ul>
</dd>
<dt>2019-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bb2b2f60"
>[4bb2b2f60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.mdoc.in, examples/sudo_logsrvd.conf:<br>
Change TLS example file locations to be under /etc/ssl/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=366a63ce5"
>[366a63ce5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.conf.mdoc.in, examples/sudo_logsrvd.conf:<br>
Document sudo_logsrvd TLS configuration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49c09ee2d"
>[49c09ee2d]</a></li>
</ul>
</dd>
<dt>2019-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_event.h:<br>
Include time.h for struct timespec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dae0da2fe"
>[dae0da2fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Add sudo_ev_set_v1 to the exports file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20bc94635"
>[20bc94635]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the log_server and log_server_timeout options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8ccf11c5"
>[d8ccf11c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_client.c, plugins/sudoers/iolog_plugin.h,
plugins/sudoers/policy.c, src/exec_nopty.c, src/exec_pty.c, src/sudo.c:<br>
Add support for logging to the log server
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82237194d"
>[82237194d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_event.h,
include/sudo_plugin.h, lib/util/event.c, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c, src/Makefile.in, src/exec.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c,
src/load_plugins.c, src/preload.c, src/sudo.c, src/sudo.h,
src/sudo_plugin_int.h:<br>
Add a plugin interface to sudo main event loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5793023ff"
>[5793023ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac,
include/log_server.pb-c.h, include/protobuf-c/protobuf-c.h,
lib/logsrv/Makefile.in, lib/logsrv/log_server.pb-c.c,
lib/logsrv/log_server.proto, lib/logsrv/protobuf-c.c,
logsrvd/Makefile.in:<br>
Move protobuf-c.c, log_server.proto, log_server.pb-c.[ch] to lib/logsrv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58cede6fe"
>[58cede6fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c:<br>
When freeing an event base, reset ev-&gt;base to NULL for associated
events.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6acc134f"
>[f6acc134f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Move cb_timeout() out from under the HAVE_OPENSSL ifdef.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3689839a0"
>[3689839a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.ac, logsrvd/Makefile.in,
logsrvd/logsrvd.c:<br>
LibreSSL and older OpenSSL don&rsquo;t support SSL_CTX_set_ciphersuites(). Add
a configure test and skip TLS 1.3 setup if it is missing. We still
accept the tls_ciphers13 config setting but it will be ignored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=690f145d3"
>[690f145d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Minor style nits that I missed during review.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68480b095"
>[68480b095]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Avoid calling SSL_CTX_free() on an uninitialized pointer in an error
path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9da8d408"
>[c9da8d408]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>:<br>
Merge pull request #9 from sudo-project/audit-server-tls-support</p>
<p>Audit server tls support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f08c98a6a"
>[f08c98a6a]</a></p>
</li>
</ul>
</dd>
<dt>2019-11-13  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/sendlog.c:<br>
update sudo_sendlog to support openssl tls
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c8023d21"
>[8c8023d21]</a></li>
</ul>
</dd>
<dt>2019-11-11  Laszlo Orban</dt>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
set timeout value for the socket
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9641816d"
>[b9641816d]</a></li>
</ul>
</dd>
<dt>2019-11-08  Laszlo Orban</dt>
<dd>
<ul>
<li>configure, logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
make audit server openssl dependency optional; tls layer is compiled
only if sudo is built with &ndash;enable-openssl feature switch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e201f104d"
>[e201f104d]</a></li>
</ul>
</dd>
<dt>2019-11-07  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
fixed segfault when connection_closure_free() tries to remove a
non-existent connection object from the list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9df5e6c11"
>[9df5e6c11]</a></li>
</ul>
</dd>
<dt>2019-11-05  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
verify server/client certs with CA certificate chain file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=764fb3e6b"
>[764fb3e6b]</a></li>
</ul>
</dd>
<dt>2019-11-04  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
fix copy-paste mistake
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=037fb9298"
>[037fb9298]</a></li>
</ul>
</dd>
<dt>2019-10-31  Laszlo Orban</dt>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
process tls config params in the audit server and establish TLS
connection accordingly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=361557648"
>[361557648]</a></li>
</ul>
</dd>
<dt>2019-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
Simplify resource limit fallback logic a bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9309ca007"
>[9309ca007]</a></li>
</ul>
</dd>
<dt>2019-10-25  Laszlo Orban</dt>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
add configuration options for TLS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c5e42176"
>[2c5e42176]</a></li>
</ul>
</dd>
<dt>2019-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add sudo logo designers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da82b16fc"
>[da82b16fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Don&rsquo;t set the RLIMIT_STACK soft/hard limits to unlimited. Use 8Mb for
soft and 64Mb for hard. Works around issues on macOS and docker. See
also <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=908"
>Bug #908</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ebe5025"
>[f3ebe5025]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Restore resource limits before executing the askpass program. Linux with
docker seems to have issues executing a program when the stack size is
unlimited. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=908"
>Bug #908</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a893912c"
>[4a893912c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Check for replies pointer being NULL just in case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad52ce661"
>[ad52ce661]</a></li>
</ul>
</dd>
<dt>2019-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/conversation.c:<br>
Convert trailing newline to carriage return + newline for tty. Does not
currently handle embedded newlines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6863a848d"
>[6863a848d]</a></li>
</ul>
</dd>
<dt>2019-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Only write a carriage return if output is to a tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6a3dc6d2"
>[f6a3dc6d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Include a carriage return when printing warning messages. Otherwise, if
the command is running in a pty the output is stair-stepped.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4878c95e"
>[b4878c95e]</a></li>
</ul>
</dd>
<dt>2019-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Add sudo_parse_host_port_v1 and sudo_pow2_roundup_v1 to exports file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f3bbdbd6"
>[9f3bbdbd6]</a></li>
</ul>
</dd>
<dt>2019-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
Fix typo in closefrom emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09f1c2649"
>[09f1c2649]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Do not warn about a missing /etc/environment file on Linux without PAM.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=907"
>Bug #907</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71aed42f9"
>[71aed42f9]</a></li>
</ul>
</dd>
<dt>2019-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c:<br>
Transparently handle the &ldquo;sudo sudoedit&rdquo; problem. Some admin are
confused about how to give users sudoedit permission and many users try
to run sudoedit via sudo instead of directly. If the user runs &ldquo;sudo
sudoedit&rdquo; sudo will now treat it as plain &ldquo;sudoedit&rdquo; after issuing a
warning. If the admin has specified a fully-qualified path for sudoedit
in sudoers, sudo will treat it as just &ldquo;sudoedit&rdquo; and match accordingly.
In visudo (but not sudo), a fully-qualified path for sudoedit is now
treated as an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=635445d47"
>[635445d47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/sendlog.c:<br>
Rename cwd -&gt; submitcwd to match man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73031bbb5"
>[73031bbb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/host_port.c,
lib/util/regress/host_port/host_port_test.c:<br>
Add unit test for parse_host_port and make an empty port an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ce89ee8"
>[98ce89ee8]</a></li>
</ul>
</dd>
<dt>2019-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/host_port.c:<br>
Fill in host and port pointers on success.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2949d2c47"
>[2949d2c47]</a></li>
</ul>
</dd>
<dt>2019-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix ChangeLog generation on a branch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c54e61ea"
>[4c54e61ea]</a></li>
</ul>
</dd>
<dt>2019-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/host_port.c, logsrvd/logsrvd_conf.c:<br>
Split out code to parse host:port into a utility function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b270b0c88"
>[b270b0c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in, lib/util/roundup.c,
logsrvd/logsrv_util.c, logsrvd/logsrv_util.h, logsrvd/logsrvd.c,
logsrvd/sendlog.c:<br>
Move bufsize_roundup() -&gt; sudo_pow2_roundup() in libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1d0c99e0"
>[f1d0c99e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, logsrvd/Makefile.in:<br>
Add missing depend target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=676d3fc67"
>[676d3fc67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/Makefile.in, lib/util/Makefile.in, logsrvd/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
We haven&rsquo;t needed -I$(top_srcdir) for a long time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=655fdde22"
>[655fdde22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
In closefrom_fallback() use the interval [OPEN_MAX, INT_MAX]. We want to
try closing at least OPEN_MAX fds but no more than INT_MAX. On 64-bit
systems it is possible for sysconf(_SC_OPEN_MAX) to return a value
larger than INT_MAX when the number of open files is unlimited.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac36cf2d4"
>[ac36cf2d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, src/exec_monitor.c, src/selinux.c,
src/tgetpass.c:<br>
Use dup3() instead of dup2(). This is less error prone since dup3()
returns an error if old == new. Sudo guarantees that fds 0-2 are already
open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=356287557"
>[356287557]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/dup3.c, mkdep.pl:<br>
Add dup3() emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43df08618"
>[43df08618]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, src/exec_monitor.c, src/exec_pty.c,
src/tgetpass.c:<br>
Open all pipes using pipe2() with O_CLOEXEC. We no longer depend on
calling closefrom() before exec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=352212c7b"
>[352212c7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/tgetpass.c:<br>
Call closefrom() before we change to a non-root UID. This prevents
another process from changing the NOFILE resource limit of the child
process and defeating the closefrom() call. Reported by Joe Vennix from
Apple Information Security.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7acbfc18a"
>[7acbfc18a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in:<br>
Regenerate Makefile and sort MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd9fa6bca"
>[fd9fa6bca]</a></li>
</ul>
</dd>
<dt>2019-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Reference timestamp_type and timestamp_timeout in sudoers. This should
help users find details on how time stamp files work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6fe02d64"
>[e6fe02d64]</a></li>
</ul>
</dd>
<dt>2019-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/limits.c:<br>
macOS does not allow rlim_cur to be set to RLIM_INFINITY for
RLIMIT_NOFILE. We need to use OPEN_MAX instead as per the macOS
setrlimit manual. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=904"
>Bug
#904</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d8062c10"
>[0d8062c10]</a></li>
</ul>
</dd>
<dt>2019-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Remove unused copy of iolog_seekto().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0129f3a72"
>[0129f3a72]</a></li>
</ul>
</dd>
<dt>2019-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a1e5e9fa"
>[5a1e5e9fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, lib/iolog/iolog_path.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_path/data, logsrvd/iolog_writer.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/sudoers.c:<br>
Simplify expand_iolog_path()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee91b7360"
>[ee91b7360]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c:<br>
Redirect std{in,out,err} to /dev/null even when given the -n option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74a0e686a"
>[74a0e686a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c:<br>
Clear the write bit on the timing file for completed logs. This allows
us to tell whether or not a log can be restarted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=955fa11b5"
>[955fa11b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/fchmodat.c, lib/util/fstatat.c, mkdep.pl:
Add fchmodat() and fstatat() emulation. Note that fchmodat() emulation
does not support AT_SYMLINK_NOFOLLOW
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbf78d071"
>[dbf78d071]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Simplify iolog_set_user and iolog_set_group
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13e3eaad5"
>[13e3eaad5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_util.c,
lib/iolog/regress/iolog_util/check_iolog_util.c, logsrvd/iolog_writer.c,
logsrvd/logsrv_util.c, logsrvd/sendlog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Add iolog_ prefix to exported functions in iolog_util.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56c21243d"
>[56c21243d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog.c:<br>
Read logsrvd.conf in two steps: first read, then apply if OK. This fixes
a problem where when logsrvd.conf was reloaded while running (due to
SIGHUP) and there was an error we could end up with a partial config.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaf5d0dc6"
>[aaf5d0dc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/sudo_logsrv.proto.man.in,
doc/sudo_logsrv.proto.mdoc.in, doc/sudo_logsrvd.conf.man.in,
doc/sudo_logsrvd.conf.mdoc.in, examples/sudo_logsrvd.conf,
logsrvd/iolog_writer.c:<br>
Document the sudo log server protocol
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1df3230c2"
>[1df3230c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/log_server.pb-c.c, logsrvd/log_server.pb-c.h,
logsrvd/log_server.proto:<br>
Add NumberList to InfoMessage. Also make comments fit in 80 columns when
formatted as a man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b8011ea9"
>[3b8011ea9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mkdir_parents.c:<br>
Avoid TOCTOU in sudo_mkdir_parents; Coverity CID 204357
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c6f0567b"
>[6c6f0567b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/iolog/iolog_fileio.c:<br>
Avoid TOCTOU in iolog_mkdirs; Coverity CID 204356
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8552b283b"
>[8552b283b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd_conf.c:<br>
Fix Coverity CID 204355, resource leak on error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16b3513a9"
>[16b3513a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c:<br>
Fix Coverity CID 204353, fd leak on error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=822fd99b6"
>[822fd99b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Fix some warnings from the clang static analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e74134d04"
>[e74134d04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/iolog/iolog_fileio.c, logsrvd/Makefile.in,
logsrvd/iolog_writer.c, logsrvd/logsrv_util.c, logsrvd/logsrv_util.h,
logsrvd/logsrvd.h, logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Rename buffer.c -&gt; logsrv_util.c and add iolog_seekto()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=728ed2100"
>[728ed2100]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_util.c, logsrvd/iolog_writer.c,
logsrvd/sendlog.c, plugins/sudoers/sudoreplay.c:<br>
Move read_timing_record() into libsudo_iolog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b58ecb7e6"
>[b58ecb7e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Fix client side of restart. Seek to the target point there too so we
start sending from the right place.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab2d8299"
>[0ab2d8299]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c:<br>
Add restart support for compresses I/O logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3394785f6"
>[3394785f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, doc/Makefile.in,
doc/sudo_logsrvd.conf.man.in, doc/sudo_logsrvd.conf.mdoc.in,
doc/sudo_logsrvd.man.in, doc/sudo_logsrvd.mdoc.in,
doc/sudo_sendlog.man.in, doc/sudo_sendlog.mdoc.in,
examples/sudo_logsrvd.conf, m4/sudo.m4:<br>
Add manual pages for logsrvd and sendlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b57054785"
>[b57054785]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/buffer.c, logsrvd/buffer.h,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Allow messages up to 2Mb in size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66fc92695"
>[66fc92695]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Add OpenBSD malloc options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c25b6dc7e"
>[c25b6dc7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, examples/sudo_logsrvd.conf, include/sudo_util.h,
lib/util/Makefile.in, lib/util/logfac.c, lib/util/logpri.c,
lib/util/util.exp.in, logsrvd/Makefile.in, logsrvd/eventlog.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, plugins/sudoers/defaults.c:<br>
Add basic support for event logging using a sudo-style log format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76eec78a3"
>[76eec78a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, logsrvd/logsrvd_conf.c:<br>
Convert sudo_logsrvd.conf to ini file format
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=402820e8c"
>[402820e8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h:<br>
Return an error to the client on error instead of dropping the
connection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7f0f9e0f"
>[c7f0f9e0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Add long option support to logsrvd and sendlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=216747476"
>[216747476]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, logsrvd/Makefile.in, logsrvd/iolog_writer.c,
logsrvd/logsrvd.c, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c:<br>
Mark logsrvd and sendlog strings for translation in the sudoers domain
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af7f65fdf"
>[af7f65fdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>examples/sudo_logsrvd.conf, include/sudo_iolog.h,
lib/iolog/iolog_fileio.c, logsrvd/Makefile.in, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c:<br>
Make the logsrvd port and list address configurable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=534aba7a3"
>[534aba7a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/log_server.pb-c.c,
logsrvd/log_server.pb-c.h, logsrvd/log_server.proto, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Rename ExecMessage -&gt; AcceptMessage and add RejectMessage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=077e9aebb"
>[077e9aebb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, sudo.pp:<br>
Add sudo_ prefix to logsrvd and sendlog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e2d9e869"
>[2e2d9e869]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_iolog.h, lib/iolog/iolog_fileio.c, lib/iolog/iolog_util.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.h, logsrvd/sendlog.c,
plugins/sudoers/iolog.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Use openat(2) when opening files in the I/O log directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=282263c11"
>[282263c11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, include/sudo_iolog.h, lib/iolog/iolog_path.c,
lib/iolog/regress/iolog_path/check_iolog_path.c, logsrvd/iolog_writer.c,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c,
plugins/sudoers/iolog_path_escapes.c, plugins/sudoers/sudoers.c:<br>
Enable sudo_logsrvd.conf settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ba7c5835"
>[7ba7c5835]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, include/sudo_iolog.h,
include/sudo_util.h, lib/iolog/Makefile.in, lib/iolog/iolog_fileio.c,
lib/iolog/iolog_path.c, lib/iolog/iolog_util.c,
lib/iolog/regress/iolog_path/check_iolog_path.c,
lib/iolog/regress/iolog_path/data,
lib/iolog/regress/iolog_util/check_iolog_util.c, lib/util/sudo_conf.c,
logsrvd/Makefile.in, logsrvd/iolog_writer.c, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/logsrvd_conf.c, logsrvd/sendlog.c,
logsrvd/sendlog.h, plugins/sample/sample_plugin.c,
plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/iolog.c, plugins/sudoers/iolog.h,
plugins/sudoers/iolog_files.h, plugins/sudoers/iolog_path_escapes.c,
plugins/sudoers/iolog_util.h, plugins/sudoers/policy.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c, src/sudo.h:<br>
Refactor code in sudoers that creates I/O log files to share with
logsrvd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=059b55ce7"
>[059b55ce7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/mkdir_parents.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.h:<br>
Move mkdir_parents to libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0c9a9dfa"
>[e0c9a9dfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, examples/sudo_logsrvd.conf, logsrvd/Makefile.in,
logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/logsrvd_conf.c, pathnames.h.in:<br>
Add config file support for logsrvd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a808dd45c"
>[a808dd45c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_rand.h, logsrvd/Makefile.in,
logsrvd/logsrvd.c:<br>
Command line option processing for logsrvd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=240d58913"
>[240d58913]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/Makefile.in, logsrvd/iolog_writer.c, logsrvd/logsrvd.c,
logsrvd/logsrvd.h, logsrvd/sendlog.c, logsrvd/sendlog.h:<br>
Add support for restarting I/O log transfers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e76d2e820"
>[e76d2e820]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/LICENSE, logsrvd/Makefile.in,
logsrvd/protobuf-c/protobuf-c.c, logsrvd/protobuf-c/protobuf-c.h:<br>
Import protobuf-c source since to avoid an external dependency. The
files generated with protoc-c are not standalone. We need to include
protobuf-c.c and protobuf-c.h from the protobuf-c distribution too.
Building protoc-c requires a relative recent version of gcc which limits
its portability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a16e62a8"
>[8a16e62a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logsrvd/iolog_writer.c, logsrvd/logsrvd.c, logsrvd/sendlog.c:<br>
Add debugging for logsrvd and sendlog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=706553f9d"
>[706553f9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/openat.c, lib/util/unlinkat.c, src/sudo_edit.c:<br>
Move openat() emulation to lib/util and at unlinkat() emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d69de5b2"
>[0d69de5b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, logsrvd/Makefile.in, logsrvd/iolog.h, logsrvd/iolog_reader.c,
logsrvd/iolog_writer.c, logsrvd/logsrvd.h, logsrvd/sendlog.c,
logsrvd/sendlog.h, mkdep.pl, plugins/sudoers/Makefile.in,
plugins/sudoers/iolog.h, plugins/sudoers/iolog_util.c,
plugins/sudoers/iolog_util.h,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/sudoreplay.c:<br>
Refactor I/O log code so it can be shared between sudoers and logsrvd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dacf8108"
>[4dacf8108]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.ac, logsrvd/Makefile.in,
logsrvd/iolog.h, logsrvd/iolog_reader.c, logsrvd/iolog_writer.c,
logsrvd/log_server.pb-c.c, logsrvd/log_server.pb-c.h,
logsrvd/log_server.proto, logsrvd/logsrvd.c, logsrvd/logsrvd.h,
logsrvd/sendlog.c, logsrvd/sendlog.h, sudo.pp:<br>
Import proof of concept sudo log server.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=227243071"
>[227243071]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strtonum.c:<br>
Avoid invalid read when minval &gt; maxval
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa9959457"
>[aa9959457]</a></li>
</ul>
</dd>
<dt>2019-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, plugins/sudoers/policy.c, src/sudo.c:<br>
Don&rsquo;t pass an invalid session or process group ID to the plugin. Fixes a
regression in 1.8.28 when there is no terminal session leader.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=271ead2fd"
>[271ead2fd]</a></li>
</ul>
</dd>
<dt>2019-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0375eaca5"
>[0375eaca5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/limits.c:<br>
Not all systems support RLIMIT_NPROC and RLIMIT_RSS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5391ee2d5"
>[5391ee2d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac, doc/UPGRADE:<br>
Sudo 1.8.29
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ea71f9ae"
>[8ea71f9ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Add depend target to all Makefile.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b157b9689"
>[b157b9689]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, src/Makefile.in, src/exec.c,
src/limits.c, src/sudo.c, src/sudo.h:<br>
Set resource limits in the sudo process to unlimited. We don&rsquo;t want sudo
to be limited by the caller&rsquo;s resource limits. The original resource
limits are restore before session setup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e80079eaa"
>[e80079eaa]</a></li>
</ul>
</dd>
<dt>2019-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/starttime.c, src/ttyname.c:<br>
Older FreeBSD needs sys/param.h included before sys/user.h. From Darren
Tucker
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f57e2d04a"
>[f57e2d04a]</a></li>
</ul>
</dd>
<dt>2019-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/sssd.c,
plugins/sudoers/testsudoers.c, src/exec.c:<br>
Refer to user-ID and group-ID instead of &ldquo;user ID&rdquo; and &ldquo;group ID&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3ce3a84f"
>[c3ce3a84f]</a></li>
</ul>
</dd>
<dt>2019-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/getgrouplist.c, lib/util/gidlist.c,
lib/util/regress/strtofoo/strtoid_test.c, lib/util/strtoid.c,
lib/util/util.exp.in, plugins/group_file/getgrent.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/iolog.c,
plugins/sudoers/match.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/sudo.c:<br>
Rename sudo_strtoid() to sudo_strtoidx() and add simplified
sudo_strtoid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40bf4081b"
>[40bf4081b]</a></li>
</ul>
</dd>
<dt>2019-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
sudoedit doesn&rsquo;t create a new PAM session so PAM umask does not apply.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6260bf60b"
>[6260bf60b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/sudo_plugin.h, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/exec.c,
src/sudo.c, src/sudo.h:<br>
Change how the umask is handled with PAM and login.conf. If the umask is
explicitly set in sudoers, use that value regardless of what is in PAM
or login.conf. If using the default umask from sudoers, allow PAM or
login.conf to override it. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=900"
>Bug
#900</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b02851dcf"
>[b02851dcf]</a></li>
</ul>
</dd>
<dt>2019-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/audit.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/logging.c:<br>
Add log_allowed and log_denied sudoers flags, defaulting to true.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf6c60c10"
>[cf6c60c10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Enable security auditing malloc options for &ldquo;make check&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4229dfc56"
>[4229dfc56]</a></li>
</ul>
</dd>
<dt>2019-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Be more consistent with how we talk about sudoers Defaults settings. Use
&ldquo;flag&rdquo; not &ldquo;option&rdquo; when referring to boolean flags. Use &ldquo;setting&rdquo; in
place of &ldquo;Defaults setting&rdquo; in most places. Use &ldquo;the foo option&rdquo; instead
of &ldquo;sudo&rsquo;s foo option&rdquo; for command line options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8761217f8"
>[8761217f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
No need to check existing sudoers file when installing to DESTDIR This
check can cause problems on systems where /etc/sudoers.d is not
readable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf2f37136"
>[cf2f37136]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/str2sig.c:<br>
Inclue sudo_util.h to get sudo_strtonum() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43e44a998"
>[43e44a998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/str2sig.c:<br>
strtonum -&gt; sudo_strtonum
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5a7585a4"
>[f5a7585a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add split out strtofoo tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5ea5b7fb"
>[d5ea5b7fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strtonum.c:<br>
Make sure we don&rsquo;t go past the end of the string when out of range.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1037b685e"
>[1037b685e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/strtofoo/strtonum_test.c, lib/util/strtonum.c:<br>
Fix stronum() regress test and the errno value for out of range numbers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e339d9950"
>[e339d9950]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/regress/strtofoo/strtobool_test.c,
lib/util/regress/strtofoo/strtoid_test.c,
lib/util/regress/strtofoo/strtomode_test.c,
lib/util/regress/strtofoo/strtonum_test.c:<br>
Split atofoo.c regress into multiple tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29afe160a"
>[29afe160a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.28p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6aa80b5f"
>[b6aa80b5f]</a></li>
</ul>
</dd>
<dt>2019-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
The fix for bug #869 broke &ldquo;sudo -v&rdquo; when verifypw=all (the default)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d494b8155"
>[d494b8155]</a></li>
</ul>
</dd>
<dt>2019-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h, include/sudo_util.h, lib/util/Makefile.in,
lib/util/closefrom.c, lib/util/getaddrinfo.c, lib/util/strtonum.c,
lib/util/sudo_conf.c, lib/util/ttysize.c, plugins/sudoers/boottime.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_util.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/match_addr.c,
plugins/sudoers/policy.c, plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/starttime/check_starttime.c, src/parse_args.c,
src/sesh.c, src/sudo.c, src/ttyname.c:<br>
Use sudo_strtonum() explicitly instead of via a macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2512f6efb"
>[2512f6efb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/strtoid.c, lib/util/strtonum.c,
lib/util/util.exp.in, mkdep.pl:<br>
Always use our own strtonum and implement sudo_strtoid in terms of it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04a17095b"
>[04a17095b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Use errno in warning when sudo_make_*_item() fails. Previously we always
said &ldquo;out of memory&rdquo; if not ENOENT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d5867eae"
>[9d5867eae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/parse_ldif.c,
plugins/sudoers/regress/cvtsudoers/test26.err.ok,
plugins/sudoers/regress/cvtsudoers/test26.sh:<br>
Reject non-LDIF input when converting from LDIF to sudoers or JSON.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3edd6afed"
>[3edd6afed]</a></li>
</ul>
</dd>
<dt>2019-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
More case-insensitive compare for LDAP attributes and string lists. Only
the ALL keyword should be compared case-sensitive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e58e6715"
>[8e58e6715]</a></li>
</ul>
</dd>
<dt>2019-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/da.mo,
plugins/sudoers/po/el.mo, plugins/sudoers/po/eu.mo,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fur.mo,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hu.mo,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/lt.mo,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/ru.mo,
plugins/sudoers/po/sk.mo, plugins/sudoers/po/sl.mo,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/tr.mo,
plugins/sudoers/po/zh_CN.mo, po/ast.mo, po/ca.mo, po/es.mo, po/eu.mo,
po/fi.mo, po/fur.mo, po/gl.mo, po/hr.mo, po/hu.mo, po/ko.mo, po/nl.mo,
po/nn.mo, po/ru.mo, po/sk.mo, po/sl.mo, po/sr.mo, po/sudo.pot, po/vi.mo,
po/zh_CN.mo:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=208a52c61"
>[208a52c61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/atofoo/atofoo_test.c,
plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Add sudo_strtoid() tests for -1 and range errors. Also adjust
testsudoers/test5 which relied upon gid -1 parsing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=396bc57fe"
>[396bc57fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, lib/util/strtoid.c:<br>
Treat an ID of -1 as invalid since that means &ldquo;no change&rdquo;. Fixes
CVE-2019-14287. Found by Joe Vennix from Apple Information Security.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f752ae5ce"
>[f752ae5ce]</a></li>
</ul>
</dd>
<dt>2019-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Back out compiler override for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd5d0f511"
>[fd5d0f511]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Only prefer clang over gcc on BSD systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=364821602"
>[364821602]</a></li>
</ul>
</dd>
<dt>2019-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix &ldquo;make pvs-studio&rdquo; run in a build dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c64add170"
>[c64add170]</a></li>
</ul>
</dd>
<dt>2019-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45a79cf86"
>[45a79cf86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=898"
>Bug #898</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab6cfc404"
>[ab6cfc404]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c,
src/selinux.c, src/sudo.c, src/sudo.h:<br>
Fix restoring the file context of the user&rsquo;s tty with SELinux. Also fix
broken tty labeling when running a command in a pty. Includes a fix for
a typo introduced in the last change set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=112dff276"
>[112dff276]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/arc4random.c:<br>
_rs_random_buf is currently unused
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7b3fb72d"
>[b7b3fb72d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Add some debugging around context setting and tty labeling Also be more
extact with error return values
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcf8c3dd5"
>[bcf8c3dd5]</a></li>
</ul>
</dd>
<dt>2019-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Better error message when debug log file cannot be opened.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73dd3849c"
>[73dd3849c]</a></li>
</ul>
</dd>
<dt>2019-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
Ignore in-tree build directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a30dd44"
>[81a30dd44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Set CC before AC_USE_SYSTEM_EXTENSIONS to get our preferred compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7355363d6"
>[7355363d6]</a></li>
</ul>
</dd>
<dt>2019-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Update Polypkg to the latest version from git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de87774ea"
>[de87774ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
If no mandoc or nroff is present, install mdoc format manuals. If there
is no installed nroff/mandoc they will need to install groff or heirloom
doctools to format the manual pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0faf5eed7"
>[0faf5eed7]</a></li>
</ul>
</dd>
<dt>2019-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in, include/sudo_plugin.h:<br>
Refer to number of terminal lines, not rows, for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=984382f8a"
>[984382f8a]</a></li>
</ul>
</dd>
<dt>2019-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Prefer clang over gcc. We want to use clang on systems where clang is
the system compiler. It is less common to have clang installed on
systems where gcc is the system compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e49e8c1e8"
>[e49e8c1e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
No longer need bypass_last_login on HP-UX, warnings work with clang.
Also add deb package names for pam and ldap devel on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2707acf23"
>[2707acf23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Silence a warning from clang about string concatenation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d35670d1a"
>[d35670d1a]</a></li>
</ul>
</dd>
<dt>2019-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
sudoedit umask fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2fadf66d"
>[b2fadf66d]</a></li>
</ul>
</dd>
<dt>2019-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event.c:<br>
Fix sorting of the time-based event queue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c96df036"
>[8c96df036]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c:<br>
Support default base in got_exit, got_break, loopexit, loopbreak,
loopcontinue
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=751c0c444"
>[751c0c444]</a></li>
</ul>
</dd>
<dt>2019-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Create new files with the umask specified in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab9a2ecac"
>[ab9a2ecac]</a></li>
</ul>
</dd>
<dt>2019-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.h:<br>
Enable asserts for Coverity too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d94798e5d"
>[d94798e5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.h:<br>
Add asserts() to avoid static analyzer false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffaef7939"
>[ffaef7939]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Plug memory leak on malloc failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=679cd3823"
>[679cd3823]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Plug memory leak on malloc failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd37f0836"
>[dd37f0836]</a></li>
</ul>
</dd>
<dt>2019-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Add sudo_pam_strerror(), like pam_strerror() but never returns NULL. It
also uses strerror(errno) for PAM_SYSTEM_ERR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5138ed9be"
>[5138ed9be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
If pam_start() fails, display the PAM error using pam_strerror(). It is
legal to pass pam_strerror() a NULL handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60862b4d0"
>[60862b4d0]</a></li>
</ul>
</dd>
<dt>2019-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
If the sudoreplay ID option is a fully-qualified path, use it directly.
Previously, one had to use the -d option to override the I/O log
directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9eeedb470"
>[9eeedb470]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91d508d40"
>[91d508d40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudo.conf.man.in.sed:<br>
Add conditional for sesh path in sudo.conf manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb95a35ed"
>[eb95a35ed]</a></li>
</ul>
</dd>
<dt>2019-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=895"
>Bug #895</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62bb4aa63"
>[62bb4aa63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/check.c, plugins/sudoers/sudo_printf.c,
src/conversation.c:<br>
Use the SUDO_CONV_PREFER_TTY flag during authentication. This prevents
the password and PAM prompts from being redirected. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=895"
>Bug
#895</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=972670bfc"
>[972670bfc]</a></li>
</ul>
</dd>
<dt>2019-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Fix typo that prevented a missing linux audit lib from being detected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a2286513"
>[5a2286513]</a></li>
</ul>
</dd>
<dt>2019-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Use fputs(), not printf() for plain strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2087f6354"
>[2087f6354]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Recent fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3967dc7d"
>[e3967dc7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add user ID to the search filter when matching sudoUser. We already
support group IDs but the user ID was missing. From
sudo-1.8.23-ldapsearchuidfix.patch in RHEL 7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7cd4f0d4"
>[a7cd4f0d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test2.json.ok,
plugins/sudoers/regress/sudoers/test2.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Fix parsing of double-quoted Defaults bindings that start with % or +.
From sudo-1.8.23-fix-double-quote-parsing-for-Defaults-values.patch in
RHEL 7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37670a008"
>[37670a008]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Restore core dump resource limit before the PAM session module is run.
Otherwise, we may override the limits set by PAM. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=894"
>Bug
#894</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e692576c"
>[5e692576c]</a></li>
</ul>
</dd>
<dt>2019-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sig2str.c, lib/util/str2sig.c:<br>
sys_signame on macOS contains lower-cases names
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b98b82e4a"
>[b98b82e4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, lib/util/Makefile.in,
lib/util/regress/strsig/strsig_test.c:<br>
Add regress tests for str2sig() and sig2str().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bbfdc992"
>[0bbfdc992]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/str2sig.c:<br>
SIGIOT and SIGABRT are aliases on BSD systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48066e0db"
>[48066e0db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sig2str.c, lib/util/str2sig.c:<br>
Fix handling of real-time signals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29534ad96"
>[29534ad96]</a></li>
</ul>
</dd>
<dt>2019-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
ipa_hostname fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f7db2df2"
>[9f7db2df2]</a></li>
</ul>
</dd>
<dt>2019-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c:<br>
Fix special handling of ipa_hostname that was lost in sudo 1.8.24. We
now include the long and short hostname in sudo parser container.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e99082e05"
>[e99082e05]</a></li>
</ul>
</dd>
<dt>2019-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_event.h:<br>
Remove unused include file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4bef30d3"
>[b4bef30d3]</a></li>
</ul>
</dd>
<dt>2019-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Mention I/O log signal change in NEWS and UPGRADE files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44e990c2a"
>[44e990c2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/ast.mo, plugins/sudoers/po/ast.po:<br>
Asturian translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a7f02a7e"
>[7a7f02a7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdep.pl:<br>
Check source dir if source file is not listed in MANIFEST. Previously,
we just used the file name without $(srcdir).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37887c154"
>[37887c154]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/sudo_compat.h, lib/util/Makefile.in,
lib/util/str2sig.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_util.c:<br>
Store signal name, not number in I/O log timing file. The &ldquo;SIG&rdquo; prefix
is not used so, e.g. SIGTERM -&gt; &ldquo;TERM&rdquo;. This makes the I/O log files
portable from one system to another. Older I/O log files with signal
numbers can still be replayed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e56be356"
>[3e56be356]</a></li>
</ul>
</dd>
<dt>2019-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/utmp.c:<br>
Disable stringop-truncation false positive warnings on gcc 8. Strings in
struct utmp/utmpx are not guaranteed to be NUL-terminated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfc32e5b3"
>[dfc32e5b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/plugin_test.c, src/net_ifs.c:<br>
Replace non-essential strncpy() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa200cda6"
>[aa200cda6]</a></li>
</ul>
</dd>
<dt>2019-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Revert version back to 1.8.28
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa73c86a5"
>[aa73c86a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Link util functions being tested directly with the test harness.
Otherwise we may get the version from the installed libsudo_util.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e91865fb2"
>[e91865fb2]</a></li>
</ul>
</dd>
<dt>2019-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt.mo, plugins/sudoers/po/pt.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/zh_TW.mo,
plugins/sudoers/po/zh_TW.po, po/cs.mo, po/cs.po, po/da.mo, po/da.po,
po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fr.mo, po/fr.po, po/it.mo,
po/it.po, po/ja.mo, po/ja.po, po/nb.mo, po/nb.po, po/pl.mo, po/pl.po,
po/pt.mo, po/pt.po, po/pt_BR.mo, po/pt_BR.po, po/sv.mo, po/sv.po,
po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/zh_TW.mo, po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=711794842"
>[711794842]</a></li>
</ul>
</dd>
<dt>2019-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/parse.c:<br>
Use strftime(3) instead of formatting struct tm by hand. Fixes a warning
on newer versions of gcc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e424640b"
>[5e424640b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Update error message when the password cannot be read from the terminal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f3d826f8"
>[6f3d826f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=888"
>Bug #888</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f63424111"
>[f63424111]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c:<br>
If the command in sudoers does not exist on the file system, match by
name. We still want to match the command even if it doesn&rsquo;t exist so
that the NOPASSWD flag on sudoers entries with non-existant paths works
as expected. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=888"
>Bug #888</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7137a522"
>[a7137a522]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/TROUBLESHOOTING, po/sudo.pot, src/tgetpass.c:<br>
More verbose error message when a password is required and no terminal
is present. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=828"
>Bug #828</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15db0c3f8"
>[15db0c3f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c825e298"
>[3c825e298]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that PAM session modules are now run with the silent flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e0f7166e"
>[6e0f7166e]</a></li>
</ul>
</dd>
<dt>2019-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Simpler change to retry sudo_secure_file() as root as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c49760e55"
>[c49760e55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
If we are unable to stat() sudoers as non-root, try again as root. By
default, sudo relies soley on group permissions to read sudoers to make
it possible to store sudoers on NFS. However, if /etc/sudoers is not
accessible to non-root uids for some reason, sudo will fail. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=880"
>Bug
#880</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cecf69ff3"
>[cecf69ff3]</a></li>
</ul>
</dd>
<dt>2019-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Clarify that ttyin contains raw terminal input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10b5529a0"
>[10b5529a0]</a></li>
</ul>
</dd>
<dt>2019-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Expand the description of the I/O log files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03ba6426e"
>[03ba6426e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.mdoc.in:<br>
Remove trailing whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=679f13ef5"
>[679f13ef5]</a></li>
</ul>
</dd>
<dt>2019-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in:<br>
Rename PLUGINDIR -&gt; plugindir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb024cf09"
>[bb024cf09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use $libexecdir in default settings used by the documentation. The web
and pdf pages will substitute /usr/local/libexec for $noexec_file. Also
do substitution of variables using exec_prefix even if we don&rsquo;t use them
in the Makefile since the documentation may reference them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caceced2f"
>[caceced2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Add conditional for sesh path in sudo.conf manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd258e1d3"
>[cd258e1d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Update plugindir even when &ndash;disable-shared is specified. Otherwise, the
default value is substituted into the Makefiles and documentation which
may not match &ndash;prefix. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=886"
>Bug
#886</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e497be93"
>[6e497be93]</a></li>
</ul>
</dd>
<dt>2019-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/fatal.c, lib/util/inet_ntop.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/sudo_debug.c,
plugins/sudoers/find_path.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/timestamp.c, src/load_plugins.c, src/net_ifs.c,
src/sudo.c:<br>
Add ssizeof macro that returns ssize_t. We can use this instead of
casting the result of size_t to int. Also change checks for snprintf()
returning &lt;=0 to &lt;0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d8f37439"
>[9d8f37439]</a></li>
</ul>
</dd>
<dt>2019-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
sudoedit should be used for editing files instead of &ldquo;sudo editor&rdquo; That
way the user&rsquo;s editor config files are used by the editor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81602ad08"
>[81602ad08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Move the section on HOME to be after the environment section. Also
strongly discourage the disabling of env_reset.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fe9644f5"
>[1fe9644f5]</a></li>
</ul>
</dd>
<dt>2019-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Remove the Solaris last login question, add one about HOME. The PAM
session is opened with PAM_SILENT so last login info is not printed. It
is dangerous to preserve HOME from the user&rsquo;s environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d8949198"
>[2d8949198]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use the term pseudo-terminal more consistently.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a45732528"
>[a45732528]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document why HOME should not be preserved from the user&rsquo;s environment.
Text was adapted from what is already present in the UPGRADE file. Also
mark set_home and always_set_home as obsolete.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee214e526"
>[ee214e526]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Refer to command line options, not flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e11fa62cd"
>[e11fa62cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=646f09d74"
>[646f09d74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
sudo will now prompt for a password as long as /dev/tty is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1fc4e6be"
>[c1fc4e6be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, doc/Makefile.in, doc/cvtsudoers.cat,
doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers_timestamp.cat, doc/sudoreplay.cat,
doc/visudo.cat:<br>
Remove .cat pages, there is no need for them in the modern world. Sudo
only shipped .cat pages for Irix, which lacked nroff. Irix is long dead
and there are multiple open source nroff options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71fdb8e03"
>[71fdb8e03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure.ac, doc/sudoers.cat, doc/visudo.cat:<br>
Make env_editor the default. It is already the default in the package
script.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=184484b21"
>[184484b21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Don&rsquo;t describe env_editor as a security hole. Users that are able to
edit sudoers can grant themselves permissions so the fact that visudo
runs the editor as root is not a security issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=958cf7e37"
>[958cf7e37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix details of how EDITOR, VISUAL and SUDO_EDITOR are (or are not)
preserved. The description in the editor option was incorrect and didn&rsquo;t
mention env_keep. Reported by Sander Bos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fe222329"
>[6fe222329]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Modern visudo locks the actual sudoers file, not the sudoers.tmp file.
Refer to sudoers.tmp as a temporary file, not a lock file. Reported by
Sander Bos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a193f39c8"
>[a193f39c8]</a></li>
</ul>
</dd>
<dt>2019-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In tty_present(), check for /dev/tty if sudo was unable to get the tty
name. For requiretty it is enough to check that /dev/tty is available.
If sudo can&rsquo;t get the tty from the kernel (missing /proc?) that is OK.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29223d7f6"
>[29223d7f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Don&rsquo;t refuse to use the tty unless /dev/tty is unavailable. We don&rsquo;t
care whether sudo was able to get the tty name from the kernel. All that
really matters is whether we are able to disable echo as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82920726f"
>[82920726f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use of &ldquo;they&rdquo; was ambiguous.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce9b8008"
>[7ce9b8008]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Better description of secure_path. The secure_path option affects the
resolution of unqualified commands as well as the environment that
commands run with.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05f9643b8"
>[05f9643b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Sander Bos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=030441609"
>[030441609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix a few typos and awkward wording. Use the singular &ldquo;they&rdquo; instead of
he/she. Add back missing text in description of variables starting with
(). Based on changes from Sander Bos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d5b1e3b1"
>[7d5b1e3b1]</a></li>
</ul>
</dd>
<dt>2019-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Clarify which environment variables are set based on the target user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb4ded8fb"
>[cb4ded8fb]</a></li>
</ul>
</dd>
<dt>2019-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
libsudo_util depends on LT_DEP_LIBS even when building a static lib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d4142f29"
>[5d4142f29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure, configure.ac, lib/util/arc4random.c:
Solaris getentropy() requires that sys/random.h be included.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81c6cac81"
>[81c6cac81]</a></li>
</ul>
</dd>
<dt>2019-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Use the runhost for &ldquo;User foo is not allowed to run sudo on bar.&rdquo;
Otherwise, if the -h option is specified sudo will print the local host
name instead of the host specified via -h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12c29e91b"
>[12c29e91b]</a></li>
</ul>
</dd>
<dt>2019-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Document that &ldquo;no tty present and no askpass program specified&rdquo; may
happen when /proc is not accessible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=948007e77"
>[948007e77]</a></li>
</ul>
</dd>
<dt>2019-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Sangamesh Mallayya and Michael Spradling
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d63fe33d1"
>[d63fe33d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, src/parse_args.c,
src/sudo.h, src/tgetpass.c:<br>
Add -B option to ring the bell before the password prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c548fd5"
>[19c548fd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c:<br>
Allow the user to change their password if expired on AIX. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=883"
>Bug
#883</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dae484213"
>[dae484213]</a></li>
</ul>
</dd>
<dt>2019-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c:<br>
When using AIX auth, don&rsquo;t display the AIX password incorrect message.
Avoids a &ldquo;3004-300 You entered an invalid login name or password&rdquo;
message in addition to sudo&rsquo;s own &ldquo;Sorry, try again&rdquo; message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07ed5b86f"
>[07ed5b86f]</a></li>
</ul>
</dd>
<dt>2019-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
AIX packages were not being build with optimization enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c9b23b0c"
>[8c9b23b0c]</a></li>
</ul>
</dd>
<dt>2019-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/parse.h:<br>
Fix a typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e28ba02c7"
>[e28ba02c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Support using macOS SDKs from /Library/Developer/CommandLineTools/SDKs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19e2da8ee"
>[19e2da8ee]</a></li>
</ul>
</dd>
<dt>2019-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
It is safe to assume _POSIX_VDISABLE is defined. The old compat defines
were to support pre-termios systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd2cfeb8c"
>[cd2cfeb8c]</a></li>
</ul>
</dd>
<dt>2019-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Remove second catopen() which is never called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30a5ee9c5"
>[30a5ee9c5]</a></li>
</ul>
</dd>
<dt>2019-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Sudo&rsquo;s conversation functions now filters out the last login
information.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14e72b3ec"
>[14e72b3ec]</a></li>
</ul>
</dd>
<dt>2019-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/auth/pam.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c:<br>
Add pam_acct_mgmt setting to enable/disable PAM account validation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=976550084"
>[976550084]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/sudo.cat, doc/sudo.conf.cat,
doc/sudo_plugin.cat, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers_timestamp.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b240c267"
>[4b240c267]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.28
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91b6d71a0"
>[91b6d71a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure.ac, doc/Makefile.in, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, doc/fixman.sh, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, doc/sudoers_timestamp.man.in,
doc/sudoers_timestamp.mdoc.in, doc/sudoreplay.man.in,
doc/sudoreplay.mdoc.in, doc/visudo.man.in, doc/visudo.mdoc.in,
examples/Makefile.in, include/Makefile.in, include/compat/charclass.h,
include/compat/endian.h, include/compat/fnmatch.h,
include/compat/getopt.h, include/compat/glob.h,
include/compat/nss_dbdefs.h, include/compat/sha2.h,
include/sudo_compat.h, include/sudo_conf.h, include/sudo_debug.h,
include/sudo_digest.h, include/sudo_dso.h, include/sudo_event.h,
include/sudo_fatal.h, include/sudo_gettext.h, include/sudo_lbuf.h,
include/sudo_plugin.h, include/sudo_queue.h, include/sudo_rand.h,
include/sudo_util.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/arc4random.c, lib/util/arc4random.h,
lib/util/arc4random_uniform.c, lib/util/closefrom.c, lib/util/digest.c,
lib/util/digest_gcrypt.c, lib/util/digest_openssl.c, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/fatal.c,
lib/util/fnmatch.c, lib/util/getcwd.c, lib/util/getdelim.c,
lib/util/getentropy.c, lib/util/getgrouplist.c, lib/util/gethostname.c,
lib/util/getopt_long.c, lib/util/gettime.c, lib/util/gidlist.c,
lib/util/glob.c, lib/util/inet_ntop.c, lib/util/inet_pton.c,
lib/util/isblank.c, lib/util/key_val.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/memrchr.c, lib/util/memset_s.c,
lib/util/mksiglist.c, lib/util/mksigname.c, lib/util/mktemp.c,
lib/util/nanosleep.c, lib/util/parseln.c, lib/util/pipe2.c,
lib/util/progname.c, lib/util/pw_dup.c, lib/util/reallocarray.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/getdelim/getdelim_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/snprintf.c, lib/util/strlcat.c, lib/util/strlcpy.c,
lib/util/strndup.c, lib/util/strnlen.c, lib/util/strsignal.c,
lib/util/strsplit.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/strtonum.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/sudo_dso.c, lib/util/term.c,
lib/util/ttyname_dev.c, lib/util/ttysize.c, lib/util/utimens.c,
lib/util/vsyslog.c, lib/zlib/Makefile.in, log2cl.pl, m4/sudo.m4,
mkdep.pl, mkpkg, pathnames.h.in, plugins/group_file/Makefile.in,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/sample/Makefile.in,
plugins/sample/sample_plugin.c, plugins/sudoers/Makefile.in,
plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/base64.c, plugins/sudoers/boottime.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/bsm_audit.h,
plugins/sudoers/check.c, plugins/sudoers/check.h,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/digestname.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c, plugins/sudoers/file.c,
plugins/sudoers/filedigest.c, plugins/sudoers/find_path.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gc.c,
plugins/sudoers/gentime.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/gmtoff.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/hexchar.c,
plugins/sudoers/ins_2001.h, plugins/sudoers/ins_classic.h,
plugins/sudoers/ins_csops.h, plugins/sudoers/ins_goons.h,
plugins/sudoers/ins_python.h, plugins/sudoers/insults.h,
plugins/sudoers/interfaces.c, plugins/sudoers/interfaces.h,
plugins/sudoers/iolog.c, plugins/sudoers/iolog.h,
plugins/sudoers/iolog_event.h, plugins/sudoers/iolog_files.h,
plugins/sudoers/iolog_path.c, plugins/sudoers/iolog_util.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/linux_audit.h, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/match_command.c,
plugins/sudoers/match_digest.c, plugins/sudoers/mkdir_parents.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/parse_ldif.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/rcstr.c, plugins/sudoers/redblack.c,
plugins/sudoers/redblack.h,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/solaris_audit.h, plugins/sudoers/sssd.c,
plugins/sudoers/starttime.c, plugins/sudoers/strlist.c,
plugins/sudoers/strlist.h, plugins/sudoers/stubs.c,
plugins/sudoers/sudo_ldap.h, plugins/sudoers/sudo_ldap_conf.h,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudo_printf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoers_debug.h, plugins/sudoers/sudoers_version.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/tsgetgrpw.h,
plugins/sudoers/visudo.c, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c, src/Makefile.in,
src/conversation.c, src/env_hooks.c, src/exec.c, src/exec_common.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/get_pty.c,
src/hooks.c, src/load_plugins.c, src/net_ifs.c, src/openbsd.c,
src/parse_args.c, src/preload.c, src/preserve_fds.c,
src/regress/noexec/check_noexec.c, src/regress/ttyname/check_ttyname.c,
src/selinux.c, src/sesh.c, src/signal.c, src/solaris.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c, src/sudo_exec.h, src/sudo_noexec.c,
src/sudo_plugin_int.h, src/sudo_usage.h.in, src/tcsetpgrp_nobg.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Add SPDX-License-Identifier to files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e1ef6190"
>[1e1ef6190]</a></li>
</ul>
</dd>
<dt>2019-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Filter out last login messages on HP-UX unless running a shell. HP-UX in
trusted mode will display last login messages as part of the PAM account
management module by libpam_comsec. There is no way to suppress these
messages from the PAM configuration in trusted mode so we need to filter
them in the conversation function. In regular mode, similar (but
different) messages may be produced by libpam_hpsec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96ac6adae"
>[96ac6adae]</a></li>
</ul>
</dd>
<dt>2019-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
FreeBSD&rsquo;s /dev/fd only contains fds 0-2 unless fdescfs is mounted. In
practice this doesn&rsquo;t matter since FreeBSD &gt;= 8 has a native closefrom
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30a56af6e"
>[30a56af6e]</a></li>
</ul>
</dd>
<dt>2019-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Keep debug fds open in send_mail() to aid in debugging. Adds
closefrom_nodebug() which acts like closefrom(3) but doesn&rsquo;t close debug
fds for use by send_mail(). Also moves the code to exec the mailer to
its own function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa0146d68"
>[aa0146d68]</a></li>
</ul>
</dd>
<dt>2019-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Set def_mailerflags even if sendmail was not found at configure time.
Fixes a NULL dereference when mailerpath is set but mailerflags is not.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=878"
>Bug #878</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9048ee6c4"
>[9048ee6c4]</a></li>
</ul>
</dd>
<dt>2019-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/getdelim.c, lib/util/parseln.c,
lib/util/regress/getdelim/getdelim_test.c, mkdep.pl,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/boottime.c,
plugins/sudoers/iolog_util.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/parse_ldif.c, plugins/sudoers/sssd.c:<br>
Add a proper getdelim(3) replacement and use it instead of getline(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de65d7092"
>[de65d7092]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Restrict the PAM_TTY kludge to Solaris and Linux-PAM. Setting PAM_TTY to
the empty string causes problems with some modules on HP-UX so restrict
it to systems where it is fixes known issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0910c01d"
>[f0910c01d]</a></li>
</ul>
</dd>
<dt>2019-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Fix the counting of supplementary groups on AIX. We should not assume
that basegid will be present in the list of gids returned by getgrset().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=731e79671"
>[731e79671]</a></li>
</ul>
</dd>
<dt>2019-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Plug a memory leak on user/group lookup failure found by ASAN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=194968eaf"
>[194968eaf]</a></li>
</ul>
</dd>
<dt>2019-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/test3.d/root,
plugins/sudoers/regress/testsudoers/test3.sh:<br>
Fix test failure when run by a user other than the file owner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e31ac5a99"
>[e31ac5a99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/zh_TW.mo, plugins/sudoers/po/zh_TW.po, po/da.mo,
po/da.po, po/eo.mo, po/eo.po, po/es.mo, po/es.po, po/zh_TW.mo,
po/zh_TW.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28b0bff4f"
>[28b0bff4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test1.sh,
plugins/sudoers/regress/cvtsudoers/test10.sh,
plugins/sudoers/regress/cvtsudoers/test11.sh,
plugins/sudoers/regress/cvtsudoers/test12.sh,
plugins/sudoers/regress/cvtsudoers/test13.sh,
plugins/sudoers/regress/cvtsudoers/test14.sh,
plugins/sudoers/regress/cvtsudoers/test15.sh,
plugins/sudoers/regress/cvtsudoers/test16.sh,
plugins/sudoers/regress/cvtsudoers/test17.sh,
plugins/sudoers/regress/cvtsudoers/test18.sh,
plugins/sudoers/regress/cvtsudoers/test19.sh,
plugins/sudoers/regress/cvtsudoers/test2.sh,
plugins/sudoers/regress/cvtsudoers/test20.sh,
plugins/sudoers/regress/cvtsudoers/test21.sh,
plugins/sudoers/regress/cvtsudoers/test22.sh,
plugins/sudoers/regress/cvtsudoers/test23.sh,
plugins/sudoers/regress/cvtsudoers/test24.sh,
plugins/sudoers/regress/cvtsudoers/test25.sh,
plugins/sudoers/regress/cvtsudoers/test26.err.ok,
plugins/sudoers/regress/cvtsudoers/test26.out.ok,
plugins/sudoers/regress/cvtsudoers/test26.sh,
plugins/sudoers/regress/cvtsudoers/test27.sh,
plugins/sudoers/regress/cvtsudoers/test28.sh,
plugins/sudoers/regress/cvtsudoers/test29.sh,
plugins/sudoers/regress/cvtsudoers/test3.sh,
plugins/sudoers/regress/cvtsudoers/test30.sh,
plugins/sudoers/regress/cvtsudoers/test31.sh,
plugins/sudoers/regress/cvtsudoers/test32.err.ok,
plugins/sudoers/regress/cvtsudoers/test32.out.ok,
plugins/sudoers/regress/cvtsudoers/test32.sh,
plugins/sudoers/regress/cvtsudoers/test33.sh,
plugins/sudoers/regress/cvtsudoers/test4.sh,
plugins/sudoers/regress/cvtsudoers/test5.sh,
plugins/sudoers/regress/cvtsudoers/test6.sh,
plugins/sudoers/regress/cvtsudoers/test7.sh,
plugins/sudoers/regress/cvtsudoers/test8.sh,
plugins/sudoers/regress/cvtsudoers/test9.sh:<br>
Test cvtsudoers stdout and stderr separately. Fixes a test failure on
systems with musl libc. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=873"
>Bug
#873</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c31cf15f"
>[0c31cf15f]</a></li>
</ul>
</dd>
<dt>2019-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/starttime.c, src/ttyname.c:<br>
Better comment about EOVERFLOW and pstat_getproc(). Also remove some
useless casts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0766e0c64"
>[0766e0c64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
Ignore EOVERFLOW from pstat_getproc(), it is not a fatal error. It just
means that one of the fields in pstat lacks the precision to store a
value. That&rsquo;s not an issue for pst_highestfd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17ca31c38"
>[17ca31c38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c4487b73"
>[9c4487b73]</a></li>
</ul>
</dd>
<dt>2019-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix error message when a fully-qualified plugin path does not exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ee2de998"
>[8ee2de998]</a></li>
</ul>
</dd>
<dt>2019-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix unescaped &lsquo;' and remove an extra &lsquo;[&rsquo; in the definition of digest.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e8fffdb3"
>[0e8fffdb3]</a></li>
</ul>
</dd>
<dt>2019-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Ignore carriage return before a linefeed. This allows sudo to parse
files with DOS-style line endings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea3ede690"
>[ea3ede690]</a></li>
</ul>
</dd>
<dt>2019-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
For sssd, the nsswitch.conf setting should be &ldquo;sss&rdquo; not &ldquo;sssd&rdquo;. From
Johnathan Smith.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4853cb75"
>[f4853cb75]</a></li>
</ul>
</dd>
<dt>2019-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.h:<br>
Add simple API for to allow reading environment data from different
sources. Currently, this is used to read a file like /etc/environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1205f08d"
>[e1205f08d]</a></li>
</ul>
</dd>
<dt>2019-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix pasto; the unrestricted env file was read when we want the
restricted one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3344b588"
>[f3344b588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/defaults.h,
plugins/sudoers/parse.h, plugins/sudoers/strlist.c, src/sudo.h:<br>
Be sure to include sudo_queue.h where needed instead of relying on other
headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0a12d9d9"
>[c0a12d9d9]</a></li>
</ul>
</dd>
<dt>2019-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Only export sudo_arc4random_uniform() if arc4random_uniform() is
missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=683c65b98"
>[683c65b98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/vsyslog/vsyslog_test.c:<br>
Quiet a warning on gcc 8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17683482"
>[f17683482]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
AIX 7.1 defines O_CLOEXEC but it can&rsquo;t be used outside the kernel.
Redefine O_CLOEXEC if it doesn&rsquo;t fit in an int and pipe2() is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da98428e9"
>[da98428e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/match.c,
plugins/sudoers/match_command.c, plugins/sudoers/match_digest.c,
plugins/sudoers/parse.h:<br>
Split command match code out into match_command.c. Also remove unused
SUDOERS_NAME_MATCH code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36d437340"
>[36d437340]</a></li>
</ul>
</dd>
<dt>2019-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_digest.c:<br>
Split out digest matching into its own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf2bfbcd3"
>[cf2bfbcd3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/match.c,
plugins/sudoers/parse.h:<br>
Split out digest matching into its own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a04409747"
>[a04409747]</a></li>
</ul>
</dd>
<dt>2019-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Rename FOLLOW and NOFOLLOW tokens FOLLOWLNK and NOFOLLOWLNK. Fixes a
namespace collision on Solaris when bison is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e6e04818"
>[1e6e04818]</a></li>
</ul>
</dd>
<dt>2019-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Add stub definition of digest_matches() for SUDOERS_NAME_MATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc2591505"
>[bc2591505]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
No longer need to include sudo_lbuf.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=694999487"
>[694999487]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
On RedHat/CentOS get the OS major version from /etc/redhat-release. We
cannot determine this from the output of &ldquo;pp &ndash;probe&rdquo; since it doesn&rsquo;t
contain a period to separate the major and minor numbers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffc4db6ae"
>[ffc4db6ae]</a></li>
</ul>
</dd>
<dt>2019-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Use SET macro instead of bitwise OR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dceca47c"
>[6dceca47c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c:<br>
In sudo_make_grlist_item() the calculation of total did not include
space for pointers to the group names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c92f80b79"
>[c92f80b79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_pwutil.c:<br>
Use correct debug_decl() names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f74fe3a8"
>[4f74fe3a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
Add fallback values for sudoers uid, gid and mode if not set in
Makefile.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=928faf27f"
>[928faf27f]</a></li>
</ul>
</dd>
<dt>2019-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/memset_s.c:<br>
include stddef.h to make sure we get NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13c324422"
>[13c324422]</a></li>
</ul>
</dd>
<dt>2019-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Fix memory leak when there are no network interfaces or an error occurs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3788c6548"
>[3788c6548]</a></li>
</ul>
</dd>
<dt>2019-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use $ac_cv_search_FUNCTION instead of $ac_lib and $ac_res. Fixes a
problem where libcrypt is not used with autoconf caching. Adapted from a
diff from Adam Labbe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1d934894"
>[c1d934894]</a></li>
</ul>
</dd>
<dt>2019-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>po/de.mo, po/de.po, po/ko.mo, po/ko.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df8b855b2"
>[df8b855b2]</a></li>
</ul>
</dd>
<dt>2019-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix listpw=never and verifypw=never. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=869"
>Bug
#869</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecc9c366e"
>[ecc9c366e]</a></li>
</ul>
</dd>
<dt>2019-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/vsyslog/vsyslog_test.c, lib/util/sig2str.c,
plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/set_perms.c,
plugins/sudoers/starttime.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/tsdump.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c, src/sudo.c, src/ttyname.c:<br>
Minor snprintf() usage tweaks: 1) don&rsquo;t assume snprintf() returns -1 on
error, check for &lt;0 2) when comparing return value of sizeof(foo), cast
the sizeof, not the len 3) cast return value to void in cases where
snprintf cannot fail
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=985600e7f"
>[985600e7f]</a></li>
</ul>
</dd>
<dt>2019-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
The AIX nofiles hard limit fix and bug #867 will make 1.8.27.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d63eee34"
>[3d63eee34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Use PAM_SILENT to prevent pam_lastlog from printing last login
information on RedHat except when explicitly running a shell. Adapted
from a patch from Nir Soffer. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=867"
>Bug
#867</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2675d8f1"
>[e2675d8f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c:<br>
Fix the default nofiles and stack hard limits. The table of default hard
limits in /etc/security/limits was out of date with respect to the
current documentation. The default hard limit for nofiles should be
unlimited, not 8196. The default hard limit for stack should be 4194304
blocks (which fits in an unsigned long on 32-bit platforms).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7d7a9a61"
>[f7d7a9a61]</a></li>
</ul>
</dd>
<dt>2019-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32dc90c28"
>[32dc90c28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Final updates for sudo 1.8.27.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ae29420d"
>[7ae29420d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64d08d8bf"
>[64d08d8bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update for 2019
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de94a04ba"
>[de94a04ba]</a></li>
</ul>
</dd>
<dt>2019-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Fix setting of utmp entry when running command in a pty. Regression
introduced in sudo 1.8.22.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2f7983c8"
>[b2f7983c8]</a></li>
</ul>
</dd>
<dt>2018-12-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Use debug_return_int not debug_return_bool in resolve_host
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efe35e5b1"
>[efe35e5b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.27
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24b0da367"
>[24b0da367]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/visudo.c:<br>
Allow the sudoers file to be specified without the -f option. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=864"
>Bug
#864</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc9338ffe"
>[dc9338ffe]</a></li>
</ul>
</dd>
<dt>2018-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
The iolog_dir section is below the maxseq section, not above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d5b0064a"
>[7d5b0064a]</a></li>
</ul>
</dd>
<dt>2018-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po, po/ja.mo, po/ja.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d8415073"
>[3d8415073]</a></li>
</ul>
</dd>
<dt>2018-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add -n and -R options to help; reported by Radovan Sroka
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72050203b"
>[72050203b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Add missing description of padding option and missing argument to -c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=258c7d4dd"
>[258c7d4dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
The -c option was missing from the help info; from Radovan Sroka
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=142b370c1"
>[142b370c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Fix some typos; reported by Radovan Sroka
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04a4b3c1f"
>[04a4b3c1f]</a></li>
</ul>
</dd>
<dt>2018-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
In sudo_pam_approval(), for the exempt case, only overwrite pam status
when the passwd is expired or needs to be updated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=524277348"
>[524277348]</a></li>
</ul>
</dd>
<dt>2018-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
The fix for bug #843 was incomplete and caused pam_end() to be called
early. sudo_pam_approval() must not set the global pam status to an
error value if it returns AUTH_SUCCESS. Otherwise, sudo_pam_cleanup()
will call pam_end() before sudo_pam_begin_session(). This resulted in a
NULL PAM handle being used in sudo_pam_begin_session().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4125808a8"
>[4125808a8]</a></li>
</ul>
</dd>
<dt>2018-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Don&rsquo;t run the command in a pty if no I/O plugins are logging anything.
That way an I/O plugin that doesn&rsquo;t actually log anything won&rsquo;t cause
the command to be run in a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e91e5ee82"
>[e91e5ee82]</a></li>
</ul>
</dd>
<dt>2018-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
Update ignore patterns to match doc changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83fd48a75"
>[83fd48a75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixmdoc.sed:<br>
fix mode fixmdoc.sed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85dd1747c"
>[85dd1747c]</a></li>
</ul>
</dd>
<dt>2018-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudo.conf.man.in, doc/sudo.man.in,
doc/sudoers.ldap.man.in, doc/sudoers.man.in,
doc/sudoers_timestamp.man.in, doc/sudoreplay.man.in, doc/visudo.man.in:<br>
Fix section in the .TH line of *.man.in file. The substitution for
@mansectsu@ and @mansectform@ was broken. No longer need to strip
out OpenBSD from the header line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8ba37222"
>[b8ba37222]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in.sed:<br>
Add sudoers.man.in.sed, missed from previous commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0d2dc61e"
>[e0d2dc61e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Guillem Jover
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=168a7ca11"
>[168a7ca11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8964dd5d2"
>[8964dd5d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/fixman.sh, doc/fixmdoc.sed,
doc/fixmdoc.sh, doc/sudo.cat, doc/sudo.man.in, doc/sudo.man.in.sed,
doc/sudo.mdoc.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Use roff conditionals in the manuals instead of post-processing. We
still need to process the resulting .man.in files to add back the
conditionals but this should be easier to debug as the changes are
visible in the .in file. Some minor postprocessing is still used to make
the manuals HP-UX friendly and to change &ldquo;0 seconds&rdquo; -&gt; unlimited after
substitution.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e010706ed"
>[e010706ed]</a></li>
</ul>
</dd>
<dt>2018-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Sudo plugin manual updates and clarification from Guillem Jover: - Add
missing return information for show_version(). - Fix prototypes for
several function pointers. - Update SUDO_API_VERSION_MINOR. - Add
missing references to log_suspend() and change_winsize(). - Add missing
&ldquo;array.&rdquo;. - Clarify that argc can be zero on sudo -V. - Clarify size
requirements for conversation array arguments. - Clarify timeout zero
value for struct sudo_conv_message. - Clarify initial and final state of
reply in struct sudo_conv_reply.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23006c72c"
>[23006c72c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixmdoc.sh, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Revert changes to give arguments to the .Bx macro. This is intended for
things like .Bx 4.3 to generate &ldquo;4.3BSD&rdquo; so the argument ends up before
the BSD, not after. Just go back to using &ldquo;BSD authentication&rdquo; and &ldquo;BSD
login classes&rdquo; so fixmdoc.sh can operate correctly. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=861"
>Bug
#861</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c0019d2a"
>[7c0019d2a]</a></li>
</ul>
</dd>
<dt>2018-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/fixmdoc.sh, doc/sudo.mdoc.in, doc/sudoers.mdoc.in:<br>
Update fixmdoc.sh to match the BSD -&gt; .Bx changes in the manuals. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=861"
>Bug
#861</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0679f4529"
>[0679f4529]</a></li>
</ul>
</dd>
<dt>2018-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, m4/sudo.m4, src/utmp.c:<br>
Add support for utmps as found in HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecd968881"
>[ecd968881]</a></li>
</ul>
</dd>
<dt>2018-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_util.h,
lib/util/utimens.c:<br>
Support st_nmtime in struct stat as found in HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=716aa6e4a"
>[716aa6e4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
If fcntl fails, fall back to the /proc implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c5469264"
>[7c5469264]</a></li>
</ul>
</dd>
<dt>2018-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention schema.olcSudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f5acff6e"
>[4f5acff6e]</a></li>
</ul>
</dd>
<dt>2018-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Mention schema.olcSudo here too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f5d4a285"
>[5f5d4a285]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, README.LDAP, doc/CONTRIBUTORS, doc/schema.OpenLDAP,
doc/schema.olcSudo:<br>
OpenLDAP schema file for Sudo in on-line configuration (OLC) format.
From Frederic Pasteleurs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e098a782"
>[5e098a782]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/ast.mo, po/ast.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6c2c5368"
>[d6c2c5368]</a></li>
</ul>
</dd>
<dt>2018-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
Only use closefrom_fallback() if no better method exists. The previous
logic was too fragile.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=537a2f977"
>[537a2f977]</a></li>
</ul>
</dd>
<dt>2018-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/it.mo, po/it.po,
po/nb.mo, po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po,
po/sv.mo, po/sv.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/vi.mo,
po/vi.po, po/zh_CN.mo, po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=733669ec3"
>[733669ec3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, plugins/sudoers/po/pt.mo,
plugins/sudoers/po/pt.po, po/pt.mo, po/pt.po:<br>
Portuguese translation for sudo and sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cad10fbd2"
>[cad10fbd2]</a></li>
</ul>
</dd>
<dt>2018-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac, include/sudo_fatal.h,
lib/util/Makefile.in, lib/util/fatal.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c:<br>
Add sudo_gai_fatal, sudo_gai_vfatal, sudo_gai_vwarn, sudo_gai_warn and
gai_log_warning that use gai_strerror() instead of strerror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdd5bb32e"
>[cdd5bb32e]</a></li>
</ul>
</dd>
<dt>2018-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix memory leak in runaslist_matches().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfa4879db"
>[cfa4879db]</a></li>
</ul>
</dd>
<dt>2018-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c88b85985"
>[c88b85985]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c2f4b8f1"
>[9c2f4b8f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
More updates for 1.8.26
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9378808b3"
>[9378808b3]</a></li>
</ul>
</dd>
<dt>2018-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, plugins/sudoers/ldap_util.c,
plugins/sudoers/regress/cvtsudoers/test33.out.ok,
plugins/sudoers/regress/cvtsudoers/test33.sh:<br>
Add support for negated sudoRunAsUser and sudoRunAsGroup entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fe582a0e"
>[1fe582a0e]</a></li>
</ul>
</dd>
<dt>2018-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that the target user&rsquo;s groups may be specified via the -g
option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb015fac1"
>[fb015fac1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsgetgrpw.c:<br>
Include getpwent() version of sudo_getgrouplist2_v1() from
getgrouplist.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03c56db40"
>[03c56db40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/testsudoers/group,
plugins/sudoers/regress/testsudoers/test1.sh:<br>
Use a testsudoers group file with known contents instead of the system
one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0398996b3"
>[0398996b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c, plugins/sudoers/parse.h,
plugins/sudoers/set_perms.c:<br>
Allow the group set by &ldquo;sudo -g&rdquo; to be any of the target user&rsquo;s groups.
Previously, this was only allowed if the group matched the target user&rsquo;s
primary group ID (from the passwd database entry). The sudoers policy
will now allow the group if it is one of the target user&rsquo;s supplemental
groups as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=391ed95f5"
>[391ed95f5]</a></li>
</ul>
</dd>
<dt>2018-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/getgrouplist/getgrouplist_test.c:<br>
Skip sudo_getgrouplist2() check on systems with getgrouplist_2().
sudo_getgrouplist2() is just a wrapper on such systems and this avoids a
test failure on macOS where a user is automatically a member of certain
groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffe2041a0"
>[ffe2041a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Add missing exported symbol sudo_term_eof
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e22410ba6"
>[e22410ba6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_conf.c:<br>
Add missing #ifdef LDAP_OPT_X_TLS_REQUIRE_CERT Fixes problems building
on older LDAP sdks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=059796930"
>[059796930]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
add getgrouplist_test.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eb0fbd07"
>[5eb0fbd07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/getgrouplist/getgrouplist_test.c:<br>
Check the user&rsquo;s primary gid from the passwd file too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3cb22b46"
>[a3cb22b46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
ignore prologue
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06035f193"
>[06035f193]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c, lib/util/arc4random.c, lib/util/arc4random_uniform.c,
lib/util/closefrom.c, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/fnmatch.c,
lib/util/getentropy.c, lib/util/getgrouplist.c, lib/util/gethostname.c,
lib/util/getline.c, lib/util/getopt_long.c, lib/util/gettime.c,
lib/util/gidlist.c, lib/util/isblank.c, lib/util/key_val.c,
lib/util/lbuf.c, lib/util/locking.c, lib/util/memrchr.c,
lib/util/memset_s.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/mktemp.c, lib/util/nanosleep.c, lib/util/parseln.c,
lib/util/pipe2.c, lib/util/progname.c, lib/util/pw_dup.c,
lib/util/reallocarray.c, lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/strlcat.c, lib/util/strlcpy.c, lib/util/strndup.c,
lib/util/strnlen.c, lib/util/strsignal.c, lib/util/strsplit.c,
lib/util/strtobool.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/strtonum.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
lib/util/sudo_dso.c, lib/util/term.c, lib/util/ttyname_dev.c,
lib/util/ttysize.c, lib/util/utimens.c, lib/util/vsyslog.c,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/sample/sample_plugin.c,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/base64.c, plugins/sudoers/boottime.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/check.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/defaults.c, plugins/sudoers/digestname.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c, plugins/sudoers/file.c,
plugins/sudoers/filedigest.c, plugins/sudoers/find_path.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/gc.c,
plugins/sudoers/gentime.c, plugins/sudoers/getdate.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/gmtoff.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/hexchar.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/iolog_util.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_conf.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/mkdir_parents.c,
plugins/sudoers/parse.c, plugins/sudoers/parse_ldif.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/rcstr.c, plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/starttime.c,
plugins/sudoers/strlist.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_monitor.c,
src/exec_nopty.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/load_plugins.c, src/net_ifs.c, src/openbsd.c, src/parse_args.c,
src/preload.c, src/preserve_fds.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/sesh.c,
src/signal.c, src/solaris.c, src/sudo.c, src/sudo_edit.c,
src/sudo_noexec.c, src/tcsetpgrp_nobg.c, src/tgetpass.c, src/ttyname.c,
src/utmp.c:<br>
Convert PVS-Studio comment to ANSI C.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c3d20cb4"
>[6c3d20cb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in, doc/visudo.man.in,
doc/visudo.mdoc.in, examples/Makefile.in, include/Makefile.in,
include/sudo_lbuf.h, lib/util/Makefile.in, lib/util/digest.c,
lib/util/digest_gcrypt.c, lib/util/digest_openssl.c, lib/util/lbuf.c,
lib/util/setgroups.c, lib/util/ttysize.c, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/base64.c, plugins/sudoers/file.c,
plugins/sudoers/filedigest.c, plugins/sudoers/gentime.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/parse.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timeout.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/system_group/Makefile.in, src/Makefile.in, src/sesh.c,
src/sudo_usage.h.in:<br>
Fix some mangled text in the license block.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=019279a4b"
>[019279a4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/regress/getgrouplist/getgrouplist_test.c,
lib/util/regress/parse_gids/parse_gids_test.c:<br>
Add regress test for sudo_getgrouplist2(). This test assumes all the
groups in root&rsquo;s group list can be resolved by group ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=404524c4e"
>[404524c4e]</a></li>
</ul>
</dd>
<dt>2018-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
More changes in 1.8.26
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50b581ec3"
>[50b581ec3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/cvtsudoers.cat, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/cvtsudoers/test31.conf,
plugins/sudoers/regress/cvtsudoers/test31.out.ok,
plugins/sudoers/regress/cvtsudoers/test31.sh,
plugins/sudoers/regress/cvtsudoers/test32.out.ok,
plugins/sudoers/regress/cvtsudoers/test32.sh:<br>
Add padding option to cvtsudoers. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=856"
>Bug
#856</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b035b542"
>[1b035b542]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Remove an errant grset++ in the AIX version of sudo_getgrouplist2().
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=857"
>Bug #857</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78d35de93"
>[78d35de93]</a></li>
</ul>
</dd>
<dt>2018-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Pass &ndash;sourcetree-root to pvs-studio and don&rsquo;t check sudo_noexec.c.
Since we don&rsquo;t auto-generate dependencies for sudo_noexec.c we can&rsquo;t
easily check it from outside the source tree. This is not a problem as
it just contains stub functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb588f233"
>[cb588f233]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, po/ast.mo, po/ast.po:<br>
Asturian translation for sudo from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56cff772e"
>[56cff772e]</a></li>
</ul>
</dd>
<dt>2018-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/gettime.c:<br>
Add support for CLOCK_MONOTONIC_RAW and CLOCK_UPTIME_RAW, present on
macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3710d5ba0"
>[3710d5ba0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add &ndash;enable-pvs-studio configure option to create PVS-Studio.cfg.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c82e18ac"
>[4c82e18ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, Makefile.in, doc/Makefile.in, examples/Makefile.in,
include/Makefile.in, lib/util/Makefile.in, lib/zlib/Makefile.in,
mkdep.pl, plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Add pvs-studio target and associated production rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5df09112"
>[c5df09112]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c, lib/util/arc4random.c, lib/util/arc4random_uniform.c,
lib/util/closefrom.c, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/fnmatch.c,
lib/util/getentropy.c, lib/util/getgrouplist.c, lib/util/gethostname.c,
lib/util/getline.c, lib/util/getopt_long.c, lib/util/gettime.c,
lib/util/gidlist.c, lib/util/isblank.c, lib/util/key_val.c,
lib/util/lbuf.c, lib/util/locking.c, lib/util/memrchr.c,
lib/util/memset_s.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/mktemp.c, lib/util/nanosleep.c, lib/util/parseln.c,
lib/util/pipe2.c, lib/util/progname.c, lib/util/pw_dup.c,
lib/util/reallocarray.c, lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/strlcat.c, lib/util/strlcpy.c, lib/util/strndup.c,
lib/util/strnlen.c, lib/util/strsignal.c, lib/util/strsplit.c,
lib/util/strtobool.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/strtonum.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
lib/util/sudo_dso.c, lib/util/term.c, lib/util/ttyname_dev.c,
lib/util/ttysize.c, lib/util/utimens.c, lib/util/vsyslog.c,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/sample/sample_plugin.c,
plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/defaults.c,
plugins/sudoers/digestname.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/env_pattern.c,
plugins/sudoers/file.c, plugins/sudoers/filedigest.c,
plugins/sudoers/find_path.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gc.c, plugins/sudoers/gentime.c,
plugins/sudoers/getdate.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/gmtoff.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/hexchar.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/iolog_util.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/mkdir_parents.c, plugins/sudoers/parse.c,
plugins/sudoers/parse_ldif.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/rcstr.c,
plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/regress/starttime/check_starttime.c,
plugins/sudoers/set_perms.c, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/starttime.c,
plugins/sudoers/strlist.c, plugins/sudoers/stubs.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timeout.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke_util.c, plugins/sudoers/tsdump.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_monitor.c,
src/exec_nopty.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/load_plugins.c, src/net_ifs.c, src/openbsd.c, src/parse_args.c,
src/preload.c, src/preserve_fds.c, src/regress/noexec/check_noexec.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/sesh.c,
src/signal.c, src/solaris.c, src/sudo.c, src/sudo_edit.c,
src/sudo_noexec.c, src/tcsetpgrp_nobg.c, src/tgetpass.c, src/ttyname.c,
src/utmp.c:<br>
Add comments in .c files so PVS-Studio will check them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64e5d34c5"
>[64e5d34c5]</a></li>
</ul>
</dd>
<dt>2018-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_util.c:<br>
Simplify range checks. No need to check for ERANGE in the cases where we
also check that the value is &lt;= INT_MAX. Found by PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45652e6d7"
>[45652e6d7]</a></li>
</ul>
</dd>
<dt>2018-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/key_val.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/toke_util.c,
src/preserve_fds.c:<br>
Avoid some PVS-Studio false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c94175ba"
>[8c94175ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Remove some calls to sudo_fatalx(); just propagate the error return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9dec0f8d"
>[e9dec0f8d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
No need to check if fd_dst is -1 in sudoedit mode. Failure to open the
destination sudoedit file is fatal so there&rsquo;s no need to check that
fd_dst != -1 later on. Found by PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a85992b3"
>[6a85992b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
In timestamp_open() no need to free cookie on error, it is NULL. Found
by PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6786d53d4"
>[6786d53d4]</a></li>
</ul>
</dd>
<dt>2018-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix a memory leak on malloc() error in sudo_ldap_role_to_priv().
Coverity CID 188804
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deccfe68f"
>[deccfe68f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Move the allocation of role to be immediately before in_role is set.
This makes it clear that when in_role == true, role is non-NULL. Also
remove two dead stores.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84ef50006"
>[84ef50006]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Fix trimming of non-escaped trailing space in ldif_parse_attribute().
Found by PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff8f8601"
>[2ff8f8601]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Simplify the logic surrounding sudoers_args in command_args_match(). We
only need to check that sudoers_args is non-NULL once. Found by
PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2d93b8c9"
>[c2d93b8c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
If sudo_ldap_get_values_len() fails goto cleanup instead of oom. This is
not strictly necessary as there&rsquo;s not anything to cleanup in this case
but it is more consistent with the code that follows.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54784a234"
>[54784a234]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix handling of timeout values in sudoers. When passing the timeout back
to the front end, ignore the user-specified timeout if it is not set
(initialized to 0). Otherwise, sudo would choose a zero user-specified
timeout over the sudoers-specified timeout (non-zero).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63afa569f"
>[63afa569f]</a></li>
</ul>
</dd>
<dt>2018-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_pwutil.c:<br>
Fix cut &amp; pastos in cvtsudoers_make_gritem()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=675fc34c3"
>[675fc34c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test17.ldif2sudo.ok:<br>
Fix expected test output now that command_timeout is parsed correctly in
LDIF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60f0d65e2"
>[60f0d65e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c:<br>
tv_nsec can never be negative after timespecsub. Found by PVS Studio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=939585e90"
>[939585e90]</a></li>
</ul>
</dd>
<dt>2018-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Avoid potentially undefined behavior. Found by PVS Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25a58ba1c"
>[25a58ba1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
sudo_ldap_parse_option() never returns &lsquo;=&rsquo; as the operator. When parsing
command_timeout, role, type, privs and limitprivs, check that val is
non-NULL instead. Found by PVS Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1a402f1d"
>[e1a402f1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/toke.c:<br>
Fix up #line entries that reference lex.sudoers.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9fd783f2"
>[a9fd783f2]</a></li>
</ul>
</dd>
<dt>2018-10-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.h, plugins/sudoers/iolog_util.c:<br>
Fix workaround for broken sudo 1.8.7 timing files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=387672583"
>[387672583]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse_ldif.c:<br>
Fix memory leak when reusing the runas list. We need to free the member
list itself as well as its contents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa7e6f3f0"
>[fa7e6f3f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Some DIAGNOSTICS updates: Update error message for when the user&rsquo;s uid
does not exist in passwd. Remove &ldquo;This error indicates&rdquo; and some other
cosmetic cleanups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75d9c6f16"
>[75d9c6f16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
If the user&rsquo;s passwd entry cannot be resolved via the uid, use the same
error message as visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbf396e33"
>[fbf396e33]</a></li>
</ul>
</dd>
<dt>2018-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Add a DIAGNOSTICS section with an explanation of the more non-trivial
error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae7198a24"
>[ae7198a24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c:<br>
Replace sudo_fatal(NULL) with an &ldquo;unable to allocate memory&rdquo; message
that includes the function name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b89cf34b5"
>[b89cf34b5]</a></li>
</ul>
</dd>
<dt>2018-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, src/tgetpass.c:<br>
Make EOF handling while reading the password prompt more like
getpass(3). We now return the password as long as at least one character
has been read. Previously, EOF at the password prompt was treated as if
nothing was entered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e269e0ac"
>[9e269e0ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b395aad8"
>[7b395aad8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Print a warning for password read issues. Issues include: timeout at the
password prompt, read error while reading the password, and EOF reading
the password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab2cba0f5"
>[ab2cba0f5]</a></li>
</ul>
</dd>
<dt>2018-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c, src/tgetpass.c:<br>
Handle EOF on password input when pwfedback is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b5625221"
>[2b5625221]</a></li>
</ul>
</dd>
<dt>2018-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.mdoc.in:<br>
Fix remaining instances of &ldquo;e.g.&rdquo; without a trailing &lsquo;,&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=013e0025c"
>[013e0025c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, doc/sudoers_timestamp.cat,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in:<br>
Use mdoc macros for BSD systems. All manuals now pass &ldquo;make lint&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=675802b71"
>[675802b71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Use -Wstyle with -Tlint since sudo is not part of the base system. This
avoids &ldquo;referenced manual not found&rdquo; and &ldquo;operating system explicitly
specified&rdquo; warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=244be2330"
>[244be2330]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document log_suspend() and fix the description of the change_winsize()
return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5433eb546"
>[5433eb546]</a></li>
</ul>
</dd>
<dt>2018-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, doc/sudoers_timestamp.cat,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix problems found by igor. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=854"
>Bug
#854</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd6a6e401"
>[dd6a6e401]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Sort DOCS and DEVDOCS and remove extra sudoers entry (it was listed
twice).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a814da673"
>[a814da673]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Add igor target to run igor(1) on the manuals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec2cc68c0"
>[ec2cc68c0]</a></li>
</ul>
</dd>
<dt>2018-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Add new -S option to sleep while the command was suspended. The default
behavior is now to not consider the time the command was suspended as
part of the normal inter-event delay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71eb86a7"
>[a71eb86a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_plugin.h, plugins/sudoers/Makefile.in,
plugins/sudoers/iolog.c, plugins/sudoers/iolog.h,
plugins/sudoers/iolog_event.h, plugins/sudoers/iolog_files.h,
plugins/sudoers/iolog_util.c, plugins/sudoers/iolog_util.h,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/sudoreplay.c, src/exec_pty.c:<br>
Add a suspend event type to the I/O log to log suspend/resume of the
command so we can skip that delay during replay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf07dc075"
>[cf07dc075]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Initialize the pty rows/cols based on the values we stored in
user_details. This fixes a minor issue where we would send an extra
window size change event the first time the command was suspended.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2570307e"
>[e2570307e]</a></li>
</ul>
</dd>
<dt>2018-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap_conf.c, plugins/sudoers/sudo_ldap_conf.h:<br>
Add support for OpenLDAP&rsquo;s TLS_REQCERT setting in ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0e8bde10"
>[c0e8bde10]</a></li>
</ul>
</dd>
<dt>2018-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h, plugins/sudoers/defaults.c,
plugins/sudoers/iolog_util.c,
plugins/sudoers/regress/starttime/check_starttime.c:<br>
Move definition of TIME_T_MAX to sudo_util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=212169387"
>[212169387]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Changes in 1.8.26 (so far).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c4f44621"
>[4c4f44621]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/env.c:<br>
Treat LOGIN, LOGNAME and USER specially. If one is preserved or deleted
we want to preserve or delete all of them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d537daf78"
>[d537daf78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/env.c,
plugins/sudoers/logging.c, plugins/sudoers/regress/visudo/test6.sh:<br>
Remove special handling of the USERNAME environment variable. It used to
be set on old versions of Fedora but that hasn&rsquo;t been the case for some
time. It&rsquo;s worth noting that ssh doesn&rsquo;t set USERNAME either.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f61f2c0f"
>[5f61f2c0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.26
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce9a7dd25"
>[ce9a7dd25]</a></li>
</ul>
</dd>
<dt>2018-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Remove unused system_maxgroups argument from fill_group_list().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9abcd6160"
>[9abcd6160]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Pass getgrouplist() NGROUPS_MAX+1, not NGROUPS_MAX so we have room for
the primary gid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8870177c"
>[d8870177c]</a></li>
</ul>
</dd>
<dt>2018-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
In print_member_json_int() eliminate the need_newline variable and just
move the non-alias expansion printing bits into the else clause,
including the newline and comma printing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72ce2c807"
>[72ce2c807]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test30.out.ok,
plugins/sudoers/regress/cvtsudoers/test30.sh:<br>
Add regress test for bug #853
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bf279b11"
>[8bf279b11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
When expanding an alias in print_member_json_int() avoid printing an
extra comma at the end of the entry. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=853"
>Bug
#853</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aad36508"
>[8aad36508]</a></li>
</ul>
</dd>
<dt>2018-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Kan Sasaki
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e1e46433"
>[8e1e46433]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.25p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=365a1ecd4"
>[365a1ecd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event_poll.c:<br>
Fix a crash in the event system&rsquo;s poll() backend introduced with support
for nanosecond timers. Only affects systems without ppoll(). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=851"
>Bug
#851</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c639c965c"
>[c639c965c]</a></li>
</ul>
</dd>
<dt>2018-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a9b932ff"
>[1a9b932ff]</a></li>
</ul>
</dd>
<dt>2018-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Allow for some clock drift due to ntpd, etc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27e549a3e"
>[27e549a3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
If sudo_lock_file() fails for a reason other than the file already being
locked, give the user a chance to edit anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=470a7830d"
>[470a7830d]</a></li>
</ul>
</dd>
<dt>2018-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/cvtsudoers/test28.sh:<br>
Quick sort is not a stable sort; use distinct sudoOrder values so the
output is predictable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0715b5547"
>[0715b5547]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/parse_gids/parse_gids_test.c, plugins/sudoers/ldap.c,
plugins/sudoers/regress/parser/check_base64.c:<br>
Fix warnings on OpenIndiana (Illumos)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a924b4610"
>[a924b4610]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Correct ldap_to_sudoers() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=765d99e1f"
>[765d99e1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=849"
>Bug #849</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e4f8c8cd"
>[6e4f8c8cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
The sssd backend used to take the first match, assuming that entries
were sorted in descending order by sudoOrder. That allowed it to avoid
iterating over the entire list of rules. Now that we convert to a
sudoers parse tree, we need to convert rules in ascending order, not
descending. The simplest way to accomplish this is to simply iterate
over the rules from last to first, reversing the sort order. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=849"
>Bug
#849</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae04b40c0"
>[ae04b40c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test28.out.ok,
plugins/sudoers/regress/cvtsudoers/test28.sh,
plugins/sudoers/regress/cvtsudoers/test29.out.ok,
plugins/sudoers/regress/cvtsudoers/test29.sh:<br>
Add some more ldif -&gt; sudoers tests to verify sudoOrder.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2221fbe2f"
>[2221fbe2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
For conversion to a sudoers parse tree, ldap_entry_compare() now needs
to sort in ascending order, not descending. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=849"
>Bug
#849</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea38e9d90"
>[ea38e9d90]</a></li>
</ul>
</dd>
<dt>2018-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
No need to set input_file for stdin in parse_ldif(); noted by clang
analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58445393a"
>[58445393a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_util.c:<br>
Use TIME_T_MAX when parsing the I/O log file timestamp and disallow
negative times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0b413eb1"
>[e0b413eb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/iolog_util.c,
plugins/sudoers/iolog_util.h,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/regress/iolog_util/check_iolog_util.c,
plugins/sudoers/sudoreplay.c:<br>
When parsing an I/O log timing line, store the result in a timespec, not
a double. The speed factor (for scaling the delay) in sudoreplay is
still a double but we only need to adjust the delay if the factor is
something other than 1.0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e318f27fb"
>[e318f27fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Fix memory leak in test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1f632665"
>[f1f632665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/sudo.cat, doc/sudo.conf.cat,
doc/sudo_plugin.cat, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers_timestamp.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b3223ed"
>[f9b3223ed]</a></li>
</ul>
</dd>
<dt>2018-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Update conversion of DID_* to KEPT_* to match the new values of DID_*
and KEPT_*.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff787026"
>[2ff787026]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/env.c:<br>
Set the LOGIN environment variable on AIX like we do LOGNAME.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8acc29dc0"
>[8acc29dc0]</a></li>
</ul>
</dd>
<dt>2018-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, m4/sudo.m4,
plugins/sudoers/bsm_audit.c:<br>
Add a test for the 4-argument au_close() function found in Solaris 11
instead of assuming it is present if __sun is defined. Fixes a
compilation error on OpenIndiana and older Solaris versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdd729612"
>[fdd729612]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Miguel Sanders and Scott Cheloha
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a22296788"
>[a22296788]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
testsudoers changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bac1e0dd"
>[5bac1e0dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/testsudoers.c:<br>
Add ldif support to testsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=901b2666f"
>[901b2666f]</a></li>
</ul>
</dd>
<dt>2018-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/parse.h, plugins/sudoers/parse_ldif.c:<br>
Move ldif -&gt; sudoers conversion code into parse_ldif.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4782b22a4"
>[4782b22a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers.h, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/strlist.c,
plugins/sudoers/strlist.h:<br>
Move string list functions to their own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52d54997e"
>[52d54997e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fea22e51"
>[5fea22e51]</a></li>
</ul>
</dd>
<dt>2018-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, lib/util/util.exp.in:<br>
Backward ABI compatibility for even functions that use a timeval.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63f7aa8fc"
>[63f7aa8fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c:<br>
Use a monotonic timer for the event subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b76f9dbd"
>[6b76f9dbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_event.h,
lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c,
plugins/sudoers/iolog_util.h, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c:<br>
Use struct timespec, not struct timeval in the event subsystem. Use
ppoll() or pselect() if avaialble which use timespec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04d1f56d9"
>[04d1f56d9]</a></li>
</ul>
</dd>
<dt>2018-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f248504a"
>[1f248504a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Eliminate most use of parsed_sudoers in cvtsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d1dddc46"
>[5d1dddc46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/parse.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Make alias_apply() take 3 arguments, the first being a pointer to the
struct sudoers_parse_tree.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2e3adccf"
>[b2e3adccf]</a></li>
</ul>
</dd>
<dt>2018-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c:<br>
Handle systems where root&rsquo;s gid is not 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b3c8a73a"
>[4b3c8a73a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_util.c, plugins/sudoers/iolog_util.h:<br>
Add missing files from last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2960e3963"
>[2960e3963]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/po/sudoers.pot,
plugins/sudoers/regress/iolog_plugin/check_iolog_plugin.c,
plugins/sudoers/sudoreplay.c:<br>
Add regress test for I/O log plugin endpoints
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaad554cd"
>[aaad554cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
We cannot reuse last_time for the I/O log info file now that it is a
monotonic timer. Just call time(3) in write_info_log() directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d36ea932"
>[0d36ea932]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Move the loop to free the monitor_messages list into
free_exec_closure_pty()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59e5e379b"
>[59e5e379b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93fc7cf6d"
>[93fc7cf6d]</a></li>
</ul>
</dd>
<dt>2018-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Fix typo in last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe965c3a3"
>[fe965c3a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/getentropy.c:<br>
Do not assume all Linux has linux/random.h. Add missing sys/syscall.h
include
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d876602db"
>[d876602db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/sudo_edit.c:<br>
Cast uid/gid to unsigned int before printing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe5806254"
>[fe5806254]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Only include stdarg.h if we need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10198ef6f"
>[10198ef6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/ldap.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/rcstr.c, plugins/sudoers/timestamp.c, src/sudo_noexec.c:
Include stddef.h for offsetof() definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaefdd757"
>[aaefdd757]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c, plugins/sudoers/timestamp.c:<br>
fix compiler warnings on Solaris 11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcf168e70"
>[dcf168e70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getentropy.c:<br>
Fix setting of errno when gotdata() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad104a3e4"
>[ad104a3e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Bugs 846 and 847
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e4ec9180"
>[6e4ec9180]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
We still need to include string.h for AIX (and possibly others) when we
are not using the system memset_r() function and rsize_t is defined by
the system headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a0c86bb6"
>[5a0c86bb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, mkpkg:<br>
Add &ndash;enable-package-build to give configure a hint that we are building
a package. This can be used to avoid relying on libc functions that may
not be present in all libc versions for a particular system. For
instance, AIX 7.1 may or may not have memset_s() and getline() present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=957f284bb"
>[957f284bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
AIX defines rsize_t in string.h, not stddef.h for use by the memset_s()
prototype. We use our own memset_s() on AIX since it is not available on
all BOS levels which makes package building problematic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9dec9327"
>[d9dec9327]</a></li>
</ul>
</dd>
<dt>2018-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix printing of T_TIMESPEC values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e6c14b09"
>[9e6c14b09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Remove unused struct script_buf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31e065c6c"
>[31e065c6c]</a></li>
</ul>
</dd>
<dt>2018-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Document when the I/O log timing file entry bug was introduced.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d83bd5c0"
>[8d83bd5c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afca08c74"
>[afca08c74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/gettime.c:<br>
HP-UX doesn&rsquo;t suport CLOCK_MONOTONIC but we can use gethrtime() instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df1c06252"
>[df1c06252]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c:<br>
Close the pty slave in the parent so that when the command and monitor
exit, the pty gets recycled without our having to close it directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cca42186"
>[5cca42186]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/term.c, src/exec_monitor.c, src/exec_pty.c, src/sudo.h:<br>
Move updating of the window size to the monitor process. This will allow
us to close the slave in the main sudo process in the future so only the
command and monitor have it open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6953e7fc7"
>[6953e7fc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.25
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db8a760b0"
>[db8a760b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test19.ldif2sudo.ok:<br>
Fix test output for bug #845
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c562facc"
>[3c562facc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix pasto when converting sudoNotAfter; from Miguel Sanders <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=845"
>Bug
#845</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5af268228"
>[5af268228]</a></li>
</ul>
</dd>
<dt>2018-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Use a monotonic timer that only runs while not suspended for the iolog
timing values and write nsec-precision entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f1470ebe"
>[3f1470ebe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure, configure.ac, include/sudo_util.h,
lib/util/gettime.c, lib/util/util.exp.in:<br>
Add sudo_gettime_uptime() to measure time while not sleeping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3227d3ed"
>[b3227d3ed]</a></li>
</ul>
</dd>
<dt>2018-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Detect number of CPUs on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e74d7e872"
>[e74d7e872]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix I/O log timing file on systems without a C99-compatible snprintf().
On those systems we use our own snprintf() that doesn&rsquo;t support floating
point. We don&rsquo;t actually need floating point in this case since the we
can print seconds and microseconds without using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afad4eb94"
>[afad4eb94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=844"
>Bug #844</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46ab293ce"
>[46ab293ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Handle the case where O_PATH or O_SEARCH is defined but O_DIRECTORY is
not. In theory, O_DIRECTORY is redundant when O_SEARCH is specified but
it is legal for O_EXEC and O_SEARCH to have the same value. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=844"
>Bug
#844</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69541be94"
>[69541be94]</a></li>
</ul>
</dd>
<dt>2018-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=288f3f17a"
>[288f3f17a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Fix get_starttime() on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92975ee7c"
>[92975ee7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Avoid a compilation problem on HP-UX 11.31 with gcc and
machine/sys/getppdp.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d014dfac"
>[7d014dfac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Detect number of CPUs on HP-UX. Use MAKE environment variable if set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7e265939"
>[d7e265939]</a></li>
</ul>
</dd>
<dt>2018-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add CHECK_SYMBOLS_LDFLAGS to check_symbols target. Non-ELF HP-UX
executables don&rsquo;t support SHLIB_PATH or LD_LIBRARY_PATH unless ld is
passed the +s flag. This lets the check_symbols test pass on systems
where the ldap libraries aren&rsquo;t installed in the standard location.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9317367e2"
>[9317367e2]</a></li>
</ul>
</dd>
<dt>2018-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
For the lint target, don&rsquo;t stop after the first manual that fails lint.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18ddabfeb"
>[18ddabfeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Add debugging info so we can tell why a timestamp record doesn&rsquo;t match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a929ce13"
>[7a929ce13]</a></li>
</ul>
</dd>
<dt>2018-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0d60b9dd"
>[c0d60b9dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po, po/da.mo, po/da.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7b42e9b2"
>[a7b42e9b2]</a></li>
</ul>
</dd>
<dt>2018-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5f64b741"
>[c5f64b741]</a></li>
</ul>
</dd>
<dt>2018-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix the return value of sudoers_io_change_winsize() on success.
Otherwise, we only log a single window size change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=418bf793f"
>[418bf793f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d02646928"
>[d02646928]</a></li>
</ul>
</dd>
<dt>2018-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix ambiguity when talking about Aliases. We can&rsquo;t use User_Alias in the
grammar as both the definition of the Alias as well as its name. This
adds {User,Runas,Host,Cmnd}_Alias_Spec to help differentiate between the
name of the alias and its definition. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=834"
>Bug
#834</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0484e3d6a"
>[0484e3d6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/sudoreplay.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9722b304b"
>[9722b304b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Warn if unable to run xgettext or msgfmt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78190bb9c"
>[78190bb9c]</a></li>
</ul>
</dd>
<dt>2018-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/hr.mo,
plugins/sudoers/po/it.mo, plugins/sudoers/po/ja.mo,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pt_BR.mo,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/vi.mo:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0053b07ed"
>[0053b07ed]</a></li>
</ul>
</dd>
<dt>2018-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/fmtsudoers.c, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Refactor code to convert defaults to tags and do conversion on output
for &ldquo;sudo -l&rdquo;.</p>
<p>Remove the short_list (was long_list) global in favor of a verbose
argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e5af3556"
>[1e5af3556]</a></p>
</li>
</ul>
</dd>
<dt>2018-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Assign short_list true, not 1 now that it is a boolean.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=413b53cda"
>[413b53cda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db387a53a"
>[db387a53a]</a></li>
</ul>
</dd>
<dt>2018-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/rcstr.c:<br>
Fix a warning on FreeBSD which has a fancier __containerof
implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc09e437"
>[9cc09e437]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.po, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.po, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.po, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.po, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a692fec3"
>[6a692fec3]</a></li>
</ul>
</dd>
<dt>2018-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, autogen.sh, config.h.in, configure:<br>
Regen with aclocal 1.15.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4a5d2b3e"
>[f4a5d2b3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
For ldap/sssd, include defaults in the generate privilege unless we are
listing in short mode (in which case we convert them to tags if
possible). Fixes a problem where sudoOptions were not being applied to
the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=608574a21"
>[608574a21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/parse.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
update_defaults() needs to be able to take a defaults_list for the
ldap/sssd backends which support per-role defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=171686c42"
>[171686c42]</a></li>
</ul>
</dd>
<dt>2018-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34655148e"
>[34655148e]</a></li>
</ul>
</dd>
<dt>2018-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b5723085"
>[3b5723085]</a></li>
</ul>
</dd>
<dt>2018-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/file.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
o Move userspecs, defaults and aliases into a new struct
sudoers_parse_tree. o The parse tree is now passed to the alias, match
and defaults functions. o The nss API has been changed so that the nss
parse() function returns a pointer to a struct sudoers_parse_tree which
will be filled in by the getdefs() and query() functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70d519c8a"
>[70d519c8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Don&rsquo;t need to preallocate 4 x NGROUP_MAX on AIX or BSD/Linux. For
BSD/Linux, getgrouplist(3) will tell us the number of groups if we don&rsquo;t
have enough. For AIX, we can count the entries in the group set before
allocating the group vector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86413f95e"
>[86413f95e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/check.c, plugins/sudoers/sudoers.h:<br>
Ignore PAM_NEW_AUTHTOK_REQD and PAM_AUTHTOK_EXPIRED errors from
pam_acct_mgmt() if authentication is disabled for the user. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=843"
>Bug
#843</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394524fd5"
>[394524fd5]</a></li>
</ul>
</dd>
<dt>2018-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Work around a bug on AIX where closing the pty slave causes the main
sudo process to lose its controlling tty (which was <em>not</em> the pty
slave).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc1e0e716"
>[dc1e0e716]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add missing aix_restoreauthdb() call to match the aix_setauthdb() added
in b8a011be9af7. Fixes issues on AIX where local users/groups may not be
resolved when some NIS/AD/LDAP is used for users.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d31be96a"
>[5d31be96a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Linux getgrouplist(3) returns the number of groups on success instead of
0 like BSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7daff062"
>[e7daff062]</a></li>
</ul>
</dd>
<dt>2018-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>mkdep.pl, plugins/sudoers/Makefile.in:<br>
When both a .o and .lo file was used in a Makefile, we used to make the
.o depend on the .lo. Unfortunately, this creates a race condition for
parallel make since libtool is not atomic (it creates a .o and then
renames it when building PIC objects for shared libs).</p>
<p>We always link with libtool so the only reason to prefer the .o over the
.lo file is to avoid mixing .o and .lo in the dependencies. That&rsquo;s not a
good enough reason so change mkdep.pl to warn when both a .o and .lo are
referenced in a Makefile and do nothing else.</p>
<p><a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=842"
>Bug #842</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36e21a216"
>[36e21a216]</a></p>
</li>
</ul>
</dd>
<dt>2018-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Avoid duplicate free when netgroup_base is invalid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2270b1e89"
>[2270b1e89]</a></li>
</ul>
</dd>
<dt>2018-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/arc4random.h:<br>
Use madvise(2) with MADV_WIPEONFORK if available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33f96a034"
>[33f96a034]</a></li>
</ul>
</dd>
<dt>2018-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po, po/eo.mo,
po/eo.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b54799dd"
>[4b54799dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c84c32d9e"
>[c84c32d9e]</a></li>
</ul>
</dd>
<dt>2018-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
sync with schema.OpenLDAP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4859b7879"
>[4859b7879]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.OpenLDAP:<br>
RFC 2849 specifies whitespace as the space character only so replace
tabs with spaces. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=840"
>Bug
#840</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=433a74d1d"
>[433a74d1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.OpenLDAP:<br>
Fix typo; bug #839
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd3366106"
>[dd3366106]</a></li>
</ul>
</dd>
<dt>2018-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Should no longer need to set max_groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1ecc7142"
>[e1ecc7142]</a></li>
</ul>
</dd>
<dt>2018-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/pwutil_impl.c,
src/sudo.c:<br>
Use new sudo_getgrouplist2() function instead of getgrouplist().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c57ca7440"
>[c57ca7440]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, include/sudo_util.h,
lib/util/Makefile.in, lib/util/getgrouplist.c, lib/util/util.exp.in:<br>
Add sudo_getgrouplist2() to dynamically allocate the group vector. This
allows us to avoid repeatedly calling getgrouplist() with a statically
sized vector on macOS, Solaris, HP-UX, and AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ae966283"
>[0ae966283]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Fix fd leak introduced by SUDO_CONV_PREFER_TTY commit. Coverity CID
186605.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=138561379"
>[138561379]</a></li>
</ul>
</dd>
<dt>2018-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, doc/sudoers_timestamp.cat,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix some issues pointed out by mandoc -Tlint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b67915c6e"
>[b67915c6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h, src/conversation.c:<br>
Add SUDO_CONV_PREFER_TTY flag for conversation function to tell sudo to
try writing to /dev/tty first. Can be used in conjunction with
SUDO_CONV_INFO_MSG and SUDO_CONV_ERROR_MSG.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6eadaddc9"
>[6eadaddc9]</a></li>
</ul>
</dd>
<dt>2018-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update for arc4random.c, arc4random_uniform.c and getentropy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89c83f032"
>[89c83f032]</a></li>
</ul>
</dd>
<dt>2018-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/noexec/check_noexec.c:<br>
FreeBSD wordexp() returns WRDE_SYNTAX if it can&rsquo;t write to the shell
process. Since we&rsquo;ve prevented execve() from succeeding this is the
error we get back from wordexp() on FreeBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b63ec654"
>[8b63ec654]</a></li>
</ul>
</dd>
<dt>2018-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Fix conversion of usec to nsec; from Scott Cheloha
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec2dae810"
>[ec2dae810]</a></li>
</ul>
</dd>
<dt>2018-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_plugin.h:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dafb5f523"
>[dafb5f523]</a></li>
</ul>
</dd>
<dt>2018-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
The getdefs() function now get called multiple times so use the cached
data if present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=919b56722"
>[919b56722]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c:<br>
Return an empty defaults list, not NULL if there is no global sudoers
defaults entry in sss.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=899aedfd1"
>[899aedfd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/file.c:<br>
Fix memory leak of handle pointer on close.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1202beafb"
>[1202beafb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Remove a needless copy when parsing options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c990d93a4"
>[c990d93a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers.c:<br>
Move cached userspecs and defaults into the handle object.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b31f186c"
>[0b31f186c]</a></li>
</ul>
</dd>
<dt>2018-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Quiet a clang analyzer warning. It should not be possible for
pop_include() to be called when YY_CURRENT_BUFFER is NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ad2290a2"
>[1ad2290a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Reorder things to avoid the need to declare static functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e401f9283"
>[e401f9283]</a></li>
</ul>
</dd>
<dt>2018-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/util/mktemp.c, plugins/sudoers/Makefile.in,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/insults.h:<br>
Use arc4random for mkstemp() and insults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43003d29d"
>[43003d29d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_rand.h,
lib/util/Makefile.in, lib/util/arc4random.c, lib/util/arc4random.h,
lib/util/arc4random_uniform.c, lib/util/chacha_private.h,
lib/util/getentropy.c, lib/util/util.exp.in, mkdep.pl:<br>
Import arc4random() from libressl. This takes an all-in-one approach
instead of the one-file-per-OS approach that libressl takes. The
fallback code does not have as many OS-specific bits as libressl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddd663a5f"
>[ddd663a5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, include/sudo_digest.h,
lib/util/Makefile.in, lib/util/digest.c, lib/util/digest_gcrypt.c,
lib/util/digest_openssl.c, lib/util/util.exp.in, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/digestname.c,
plugins/sudoers/filedigest.c, plugins/sudoers/filedigest_gcrypt.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/ldap_util.c, plugins/sudoers/match.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/sudo_ldap.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Move digest code into libutil
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=154a5f59a"
>[154a5f59a]</a></li>
</ul>
</dd>
<dt>2018-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/cvtsudoers/test25.sh,
plugins/sudoers/regress/cvtsudoers/test26.out.ok,
plugins/sudoers/regress/cvtsudoers/test26.sh,
plugins/sudoers/regress/cvtsudoers/test27.out.ok,
plugins/sudoers/regress/cvtsudoers/test27.sh:<br>
Check for invalid bas64 attributes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cd472c05"
>[1cd472c05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/parser/check_base64.c:<br>
Fix pointer sign warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a04cb53e3"
>[a04cb53e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Add missing variable declaration for SELinux and Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c113e59e"
>[5c113e59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Handle empty string and treat it as safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03aa84ed0"
>[03aa84ed0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/cvtsudoers/test26.out.ok,
plugins/sudoers/regress/cvtsudoers/test26.sh:<br>
Add support for base64-encoding non-safe strings in LDIF output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bc8e9abf"
>[1bc8e9abf]</a></li>
</ul>
</dd>
<dt>2018-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/base64.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_base64.c:<br>
Add base64_encode() by Jon Mayo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=574c9fcd7"
>[574c9fcd7]</a></li>
</ul>
</dd>
<dt>2018-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/cvtsudoers/test25.out.ok,
plugins/sudoers/regress/cvtsudoers/test25.sh:<br>
Add support for parsing base64-encoded attributes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ab360601"
>[1ab360601]</a></li>
</ul>
</dd>
<dt>2018-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/sudoers/test2.ldif.ok:<br>
rfc2253 says we need to escape &quot; and leading and trailing space.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d42a609d"
>[7d42a609d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Define ZLIB_CONST so we get the const version of the API.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfb66044e"
>[dfb66044e]</a></li>
</ul>
</dd>
<dt>2018-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix logic inversion when handing the authenticate Defaults option for
&ldquo;sudo -l&rdquo; and &ldquo;sudo -v&rdquo; in long list mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1494f25ba"
>[1494f25ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Set handle-&gt;pw before sss_to_sudoers() since sss_check_user() uses it.
Coverity CID 185651
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c30ad9710"
>[c30ad9710]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix memory leak on error, CID 185602
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ce49ecb2"
>[8ce49ecb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Some ldap_get_values_len -&gt; sudo_ldap_get_values_len that were missed
before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ad51fe08"
>[8ad51fe08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
When building up the cmndspec, add the actual command member last. This
simplifies the logic regarding the SETENV tag and alsomakes &ldquo;out of
memory&rdquo; cleanup simpler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7e6d0490"
>[b7e6d0490]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Fix format string mismatch, sudo_order is unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=210280082"
>[210280082]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Add cppcheck annotation to suppress memory leak false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b31656b7f"
>[b31656b7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Sudo &ldquo;ALL&rdquo; implies the SETENV tag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ca0882d1"
>[3ca0882d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Only set MODE_PRESERVE_ENV when preserving the entire environment. Fixes
a problem introduced in 1.8.23 where &ldquo;sudo -i&rdquo; could not be used in
conjunction with &ndash;preserve-env=VARIABLE. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=835"
>Bug
#835</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf9c0102d"
>[cf9c0102d]</a></li>
</ul>
</dd>
<dt>2018-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/file.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/ldap.c, plugins/sudoers/parse.h, plugins/sudoers/sssd.c:
Add free_userspecs() and free_default() and use them instead of looping
over the lists and calling free_userspec() and free_default().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f38317269"
>[f38317269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Depending on the bos level, AIX 6.1 may or may not include
getline/getdelim and AIX 7.1 may or may not include memset_s. Since we
need to build packages that will work on all AIX 6.1 and 7.1 machines,
use our getline() and memset_s emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a4c0e06c"
>[3a4c0e06c]</a></li>
</ul>
</dd>
<dt>2018-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Do not leak struct sudo_command when the command is ALL. Coverity CID
185602.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93eec5fb9"
>[93eec5fb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.24
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=808ec34ab"
>[808ec34ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Improve comments about why we need to do a user check and how it related
to netgroups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f36ae62f"
>[9f36ae62f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Add checks for ldap/sss functions failing due to memory allocation
errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d052f8a68"
>[d052f8a68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Let the main sudoers lookup code check the host name. We still check the
user name so it is possible to use a single userspec but this may change
in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=904f37e03"
>[904f37e03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/file.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Simplify the nss interface such that each sudoers provider fills in a
per-nss list of userspecs and defaults instead of using separate lookup
and list functions. This makes it possible to have a single
implementation of the code for sudoers lookup and listing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9be3a48a"
>[f9be3a48a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/defaults.c, plugins/sudoers/filedigest.c,
plugins/sudoers/filedigest_gcrypt.c,
plugins/sudoers/filedigest_openssl.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/ldap_util.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/visudo.c:<br>
Include parse.h in sudoers.h since it will soon be required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71e98d949"
>[71e98d949]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Parse &ldquo;ALL&rdquo; as a command correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc3428398"
>[cc3428398]</a></li>
</ul>
</dd>
<dt>2018-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Add debug warning if lseek() fails (should not be possible).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a3aa5f6e"
>[4a3aa5f6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix swapped args of lseek() when rewinding. This didn&rsquo;t cause a problem
because the value of SEEK_SET is 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b1e78d6d"
>[7b1e78d6d]</a></li>
</ul>
</dd>
<dt>2018-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_hexchar.c:<br>
Fix a format-truncation warning in newer gcc by avoiding using %0x and
%0X in the test. We are formatting a single byte so just do it one
nybble at a time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e290763c"
>[6e290763c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
Regen with autoconf git commit e17a30e987d7ee695fb4294a82d987ec3dc9b974
AC_HEADER_MAJOR: port to glibc 2.25
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3359d7290"
>[3359d7290]</a></li>
</ul>
</dd>
<dt>2018-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
No need to explicitly free role on EOF, it will be freed after the loop
is done.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a940ce30"
>[7a940ce30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Garbage collect the command argv, envp and info vectors since they are
not available at policy close time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29d188f4b"
>[29d188f4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Plug memory leaks on parse error or when an LDIF entry doesn&rsquo;t match the
dn filter.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0c13e995"
>[b0c13e995]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Rename variables now that the string list functions are not
ldap-specific.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=620070f49"
>[620070f49]</a></li>
</ul>
</dd>
<dt>2018-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a087ceba"
>[1a087ceba]</a></li>
</ul>
</dd>
<dt>2018-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
fix version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82dfbf458"
>[82dfbf458]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=929396fbc"
>[929396fbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/po/zh_CN.mo,
plugins/sudoers/po/zh_CN.po, po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23b2879e0"
>[23b2879e0]</a></li>
</ul>
</dd>
<dt>2018-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
O_EXEC for fexecve() not O_SEARCH.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a18e81148"
>[a18e81148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Document how to suppress the last login message on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95fb4458d"
>[95fb4458d]</a></li>
</ul>
</dd>
<dt>2018-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
Fix compilation error with older Sun Studio compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f53e5e2bd"
>[f53e5e2bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=831"
>Bug #831</a>
decription.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55869277b"
>[55869277b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, po/zh_TW.mo, po/zh_TW.po:<br>
Add Chinese(Taiwan) translation for sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f23d73dfe"
>[f23d73dfe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Move the check for /dev/fd/N until <em>after</em> the digest has been checked.
We still need to be able to check the digest even if there is no
/dev/fd/N or fexecve().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfdae3a4f"
>[cfdae3a4f]</a></li>
</ul>
</dd>
<dt>2018-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Rewind the fd after calling sudo_filedigest(). Otherwise, when running a
script via fexecve(), the interpreter may get EOF when reading
/dev/fd/N. This only appears to affect BSD systems with fdescfs. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=831"
>Bug
#831</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64c78a61c"
>[64c78a61c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
In open_cmnd(), return true, not false, if we the /dev/fd/N pathname is
not present. We don&rsquo;t want to fail a match because of this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e22da341"
>[6e22da341]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=831"
>Bug #831</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f1ec0c5f"
>[3f1ec0c5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
We can only use fexecve() on a script if /dev/fd/N exists. Some systems,
such as FreeBSD, don&rsquo;t have /dev/fd mounted by default. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=831"
>Bug
#831</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=def2e761e"
>[def2e761e]</a></li>
</ul>
</dd>
<dt>2018-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/el.mo, plugins/sudoers/po/el.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/eu.mo, plugins/sudoers/po/eu.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/fur.mo, plugins/sudoers/po/fur.po,
plugins/sudoers/po/hu.mo, plugins/sudoers/po/hu.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/lt.mo, plugins/sudoers/po/lt.po,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po,
plugins/sudoers/po/sk.mo, plugins/sudoers/po/sk.po,
plugins/sudoers/po/sl.mo, plugins/sudoers/po/sl.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/tr.mo, plugins/sudoers/po/tr.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/ca.mo,
po/ca.po, po/da.mo, po/da.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po,
po/es.mo, po/es.po, po/eu.mo, po/eu.po, po/fi.mo, po/fi.po, po/fur.mo,
po/fur.po, po/gl.mo, po/gl.po, po/hu.mo, po/hu.po, po/ko.mo, po/ko.po,
po/nl.mo, po/nl.po, po/nn.mo, po/nn.po, po/ru.mo, po/ru.po, po/sk.mo,
po/sk.po, po/sl.mo, po/sl.po, po/sr.mo, po/sr.po, po/vi.mo, po/vi.po,
po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16093ee8d"
>[16093ee8d]</a></li>
</ul>
</dd>
<dt>2018-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/el.mo, plugins/sudoers/po/el.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/eu.mo, plugins/sudoers/po/eu.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/fur.mo, plugins/sudoers/po/fur.po,
plugins/sudoers/po/hu.mo, plugins/sudoers/po/hu.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/lt.mo, plugins/sudoers/po/lt.po,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po,
plugins/sudoers/po/sk.mo, plugins/sudoers/po/sk.po,
plugins/sudoers/po/sl.mo, plugins/sudoers/po/sl.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/tr.mo, plugins/sudoers/po/tr.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/ca.mo,
po/ca.po, po/da.mo, po/da.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po,
po/es.mo, po/es.po, po/eu.mo, po/eu.po, po/fi.mo, po/fi.po, po/fur.mo,
po/fur.po, po/gl.mo, po/gl.po, po/hu.mo, po/hu.po, po/ko.mo, po/ko.po,
po/nl.mo, po/nl.po, po/nn.mo, po/nn.po, po/ru.mo, po/ru.po, po/sk.mo,
po/sk.po, po/sl.mo, po/sl.po, po/sr.mo, po/sr.po, po/vi.mo, po/vi.po,
po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=388ef262d"
>[388ef262d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test23.out.ok,
plugins/sudoers/regress/cvtsudoers/test23.sh,
plugins/sudoers/regress/cvtsudoers/test24.out.ok,
plugins/sudoers/regress/cvtsudoers/test24.sh:<br>
Add tests for round-tripping cvtsudoers, sudoers -&gt; LDIF -&gt; sudoers
and LDIF -&gt; sudoers -&gt; LDIF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c64e57dad"
>[c64e57dad]</a></li>
</ul>
</dd>
<dt>2018-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/cvtsudoers/test22.out.ok,
plugins/sudoers/regress/cvtsudoers/test22.sh:<br>
Test the -b option when converting from LDIF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48f74db60"
>[48f74db60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Fix the -b option when converting from LDIF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1392cd28"
>[e1392cd28]</a></li>
</ul>
</dd>
<dt>2018-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po, po/it.mo, po/it.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109160df3"
>[109160df3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Fix some more typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dd7d9693"
>[3dd7d9693]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
mandoc now preserves the copyright notice, no need to do it ourselves
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93a8ddca2"
>[93a8ddca2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Describe the special handling of LOGNAME, USER and USERNAME. Fix typos
reported by aspell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e26c6043"
>[1e26c6043]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix a memory leak on the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eccfbd7b"
>[8eccfbd7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that the editor setting is also used by sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3194a00e9"
>[3194a00e9]</a></li>
</ul>
</dd>
<dt>2018-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/load_plugins.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Plug memory leak when an I/O plugin is specified in sudo.conf but the
I/O plugin is not configured.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18e06825f"
>[18e06825f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, NEWS, config.h.in, configure, configure.ac,
plugins/sudoers/Makefile.in, plugins/sudoers/ins_python.h,
plugins/sudoers/insults.h:<br>
Monty Python insults from Philip Hudson
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=523f0eeea"
>[523f0eeea]</a></li>
</ul>
</dd>
<dt>2018-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
add examples
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9994f79d"
>[f9994f79d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.man.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.ldap.man.in, doc/sudoers.man.in,
doc/sudoers_timestamp.man.in, doc/sudoreplay.man.in, doc/visudo.man.in:<br>
Update copyright year and regen man pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43ea752de"
>[43ea752de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/cs.mo, po/cs.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ja.mo, po/ja.po, po/nb.mo,
po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/sv.mo,
po/sv.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9de8a0bd0"
>[9de8a0bd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, examples/sudoers, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/cvtsudoers/sudoers,
plugins/sudoers/regress/cvtsudoers/sudoers.defs,
plugins/sudoers/regress/cvtsudoers/test1.out.ok,
plugins/sudoers/regress/cvtsudoers/test1.sh,
plugins/sudoers/regress/cvtsudoers/test10.out.ok,
plugins/sudoers/regress/cvtsudoers/test10.sh,
plugins/sudoers/regress/cvtsudoers/test11.out.ok,
plugins/sudoers/regress/cvtsudoers/test11.sh,
plugins/sudoers/regress/cvtsudoers/test12.out.ok,
plugins/sudoers/regress/cvtsudoers/test12.sh,
plugins/sudoers/regress/cvtsudoers/test13.out.ok,
plugins/sudoers/regress/cvtsudoers/test13.sh,
plugins/sudoers/regress/cvtsudoers/test14.out.ok,
plugins/sudoers/regress/cvtsudoers/test14.sh,
plugins/sudoers/regress/cvtsudoers/test15.out.ok,
plugins/sudoers/regress/cvtsudoers/test15.sh,
plugins/sudoers/regress/cvtsudoers/test16.out.ok,
plugins/sudoers/regress/cvtsudoers/test16.sh,
plugins/sudoers/regress/cvtsudoers/test17.out.ok,
plugins/sudoers/regress/cvtsudoers/test17.sh,
plugins/sudoers/regress/cvtsudoers/test18.out.ok,
plugins/sudoers/regress/cvtsudoers/test18.sh,
plugins/sudoers/regress/cvtsudoers/test19.out.ok,
plugins/sudoers/regress/cvtsudoers/test19.sh,
plugins/sudoers/regress/cvtsudoers/test2.out.ok,
plugins/sudoers/regress/cvtsudoers/test2.sh,
plugins/sudoers/regress/cvtsudoers/test20.conf,
plugins/sudoers/regress/cvtsudoers/test20.out.ok,
plugins/sudoers/regress/cvtsudoers/test20.sh,
plugins/sudoers/regress/cvtsudoers/test21.conf,
plugins/sudoers/regress/cvtsudoers/test21.out.ok,
plugins/sudoers/regress/cvtsudoers/test21.sh,
plugins/sudoers/regress/cvtsudoers/test3.out.ok,
plugins/sudoers/regress/cvtsudoers/test3.sh,
plugins/sudoers/regress/cvtsudoers/test4.out.ok,
plugins/sudoers/regress/cvtsudoers/test4.sh,
plugins/sudoers/regress/cvtsudoers/test5.out.ok,
plugins/sudoers/regress/cvtsudoers/test5.sh,
plugins/sudoers/regress/cvtsudoers/test6.out.ok,
plugins/sudoers/regress/cvtsudoers/test6.sh,
plugins/sudoers/regress/cvtsudoers/test7.out.ok,
plugins/sudoers/regress/cvtsudoers/test7.sh,
plugins/sudoers/regress/cvtsudoers/test8.out.ok,
plugins/sudoers/regress/cvtsudoers/test8.sh,
plugins/sudoers/regress/cvtsudoers/test9.out.ok,
plugins/sudoers/regress/cvtsudoers/test9.sh:<br>
cvtsudoers regress tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4be8aba9f"
>[4be8aba9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/match.c:<br>
Prune alias contents when pruning and expanding aliases. This abuses the
userlist_matches_filter() and hostlist_matches_filter() functions. A
better approach would be to call the correct function from
user_matches() and host_matches().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bfe03000"
>[1bfe03000]</a></li>
</ul>
</dd>
<dt>2018-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8f0c16c7"
>[f8f0c16c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Fix cut &amp; pasto that prevented &ldquo;-d command&rdquo; from working.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d85e244c6"
>[d85e244c6]</a></li>
</ul>
</dd>
<dt>2018-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y:<br>
Fix a user after free crash as well as a memory leak when filtering
Defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38ff66162"
>[38ff66162]</a></li>
</ul>
</dd>
<dt>2018-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Document that a User_Alias or Host_Alias may be used in the match
filter.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1accd4b4"
>[c1accd4b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
Don&rsquo;t always expand aliases when formatting a host-based Defaults line.
This was missed when expand_aliases support was added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df7a6ea4e"
>[df7a6ea4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Allow host and user aliases to be specified in match filters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b2565b2c"
>[2b2565b2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa900c0f2"
>[aa900c0f2]</a></li>
</ul>
</dd>
<dt>2018-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/hu.mo, plugins/sudoers/po/hu.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/da.mo, po/da.po,
po/hr.mo, po/hr.po, po/hu.mo, po/hu.po, po/pt_BR.mo, po/pt_BR.po,
po/tr.mo, po/tr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a3472cb0"
>[7a3472cb0]</a></li>
</ul>
</dd>
<dt>2018-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/parse.h:<br>
When the -d option is used, remove aliases used by the non-converted
Defaults settings if the aliases are not also referenced by userspecs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e91d3f45"
>[9e91d3f45]</a></li>
</ul>
</dd>
<dt>2018-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c64cd97d"
>[8c64cd97d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e0c75135"
>[9e0c75135]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Mention -p and -M options in the description of -m.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b7abea16"
>[0b7abea16]</a></li>
</ul>
</dd>
<dt>2018-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Check sudoedit temporary directory for writability before using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ae557e30"
>[5ae557e30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/starttime/check_starttime.c:<br>
Use btime in /proc/stat to determine system start time instead of
/proc/uptime. Fixes the process start time test when run from a
container where /proc/uptime is the uptime of the container but the
process start time is relative to the host system boot time. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=829"
>Bug
#829</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=512e0be83"
>[512e0be83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/match.c, plugins/sudoers/parse.h:<br>
Add option to prune non-matching entries from cvtsudoers output with -m
option is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7663ae7b2"
>[7663ae7b2]</a></li>
</ul>
</dd>
<dt>2018-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h:<br>
Allow defaults types and suppression list to be specified in the config
file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c1d9899e"
>[5c1d9899e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/parse.h, plugins/sudoers/visudo.c:<br>
Refactor common alias code out of cvtsudoers and visudo and into
alias.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18ba38ef4"
>[18ba38ef4]</a></li>
</ul>
</dd>
<dt>2018-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Avoid NULL deref in an error path. CID 183467
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbd5613b1"
>[dbd5613b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
No need to initialize the last pointer passed to strtok_r(). This was
originally added to appease newer gcc but no longer seems to be
required. CID 183466, CID 183468, CID 183469
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18371cacb"
>[18371cacb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
Avoid false positive NULL dereference by uses value.u.string instead of
name as the former is guaranteed not to be NULL. Fixes CID 183465.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f6621644"
>[6f6621644]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4b5243bf"
>[b4b5243bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Add a section on convertion from file-based sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7ba359ab"
>[e7ba359ab]</a></li>
</ul>
</dd>
<dt>2018-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c:<br>
Add support for &ldquo;cvtsudoers -d all&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd545f38c"
>[dd545f38c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h:<br>
Add -d option to control what type of Defaults entries are converted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa402cdc3"
>[aa402cdc3]</a></li>
</ul>
</dd>
<dt>2018-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In pty_close() we still need to check whether the pty master and slave
fds are open before closing them. When no tty is present but we are I/O
logging pty_close() will be called when there is no actual pty in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a42cf67ac"
>[a42cf67ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/sudo.conf.cat,
doc/sudoers_timestamp.cat, doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=809c15d16"
>[809c15d16]</a></li>
</ul>
</dd>
<dt>2018-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
ignore *.ldif2sudo regress output
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=693cdbd96"
>[693cdbd96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In pty_close() there is no need to remove events associated with the pty
slave as there are none. We also don&rsquo;t need to check for the pty fds
being -1 since they are not closed elsewhere and pty_close() is only
called if pty_setup() succeeds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=233649634"
>[233649634]</a></li>
</ul>
</dd>
<dt>2018-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in, doc/cvtsudoers.mdoc.in:<br>
Move cvtsudoers to section 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e7ff154b"
>[5e7ff154b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In pty_close() close the slave and remove any events associated with it.
Fixes a potential hang when performing the final flush on non-BSD
systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4df454310"
>[4df454310]</a></li>
</ul>
</dd>
<dt>2018-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Fix typo in strcmp(), we are comparing var not val.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6da40a7b5"
>[6da40a7b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22c9ed8e7"
>[22c9ed8e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cdc79eb7"
>[7cdc79eb7]</a></li>
</ul>
</dd>
<dt>2018-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30f817408"
>[30f817408]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_pwutil.c, plugins/sudoers/pwutil.c,
plugins/sudoers/sudoers.h:<br>
Add -M option to cvtsudoers to force the use of the local passwd and
group databases when matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14ee65c52"
>[14ee65c52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Add cvtsudoers command line option to suppress certain parts of the
security policy. Can be used to suppress displaying of Defaults entries,
aliases or privileges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a237eb07"
>[8a237eb07]</a></li>
</ul>
</dd>
<dt>2018-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_gentime.c:<br>
Silence a false positive from the clang static analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af6e1cd7c"
>[af6e1cd7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.h:<br>
Silence a false positive from the clang static analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=821e8a07d"
>[821e8a07d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Fix memory leak on error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbed17e1a"
>[fbed17e1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9512df6b"
>[e9512df6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_ldif.c:<br>
Move cvtsudoers string functions into cvtsudoers.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbd3e558b"
>[bbd3e558b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ab5dc5f7"
>[9ab5dc5f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/cvtsudoers_pwutil.c,
plugins/sudoers/parse.h:<br>
Initial support filtering by user, group and host in cvtsudoers.
Currently forces alias expansion when a filter is applied and the entire
matching user or host list is printed, even the non-matching entries.
This effectively allows you to grep sudoers by user, group and host.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff79de859"
>[ff79de859]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.h:<br>
Add free_default() to free a struct defaults pointer so we have a single
place where we free the defaults. A pointer to the previous Default&rsquo;s
binding may be passed in to avoid freeing an already free binding.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc5e2d06a"
>[bc5e2d06a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Decrease bullet width to 1n.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6c53ac84"
>[b6c53ac84]</a></li>
</ul>
</dd>
<dt>2018-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Add aix_setauthdb() before the initial getpwuid() call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b06e04683"
>[b06e04683]</a></li>
</ul>
</dd>
<dt>2018-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h:
fix compilation on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=910f28894"
>[910f28894]</a></li>
</ul>
</dd>
<dt>2018-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Make &ldquo;sudoreplay -m 0&rdquo; skip the pauses entirely.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cb5ab8b9"
>[1cb5ab8b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Document that a negative value for -m will elmininate the pauses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ffd23945"
>[0ffd23945]</a></li>
</ul>
</dd>
<dt>2018-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Update copyright date, remove unneeded include and add a few comments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24f8e62e7"
>[24f8e62e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/regress/sudoers/test10.out.ok,
plugins/sudoers/regress/sudoers/test11.out.ok,
plugins/sudoers/regress/sudoers/test12.out.ok,
plugins/sudoers/regress/sudoers/test13.out.ok,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test15.out.ok,
plugins/sudoers/regress/sudoers/test16.out.ok,
plugins/sudoers/regress/sudoers/test17.out.ok,
plugins/sudoers/regress/sudoers/test18.out.ok,
plugins/sudoers/regress/sudoers/test19.out.ok,
plugins/sudoers/regress/sudoers/test2.out.ok,
plugins/sudoers/regress/sudoers/test20.out.ok,
plugins/sudoers/regress/sudoers/test21.out.ok,
plugins/sudoers/regress/sudoers/test22.out.ok,
plugins/sudoers/regress/sudoers/test3.out.ok,
plugins/sudoers/regress/sudoers/test4.out.ok,
plugins/sudoers/regress/sudoers/test5.out.ok,
plugins/sudoers/regress/sudoers/test6.out.ok,
plugins/sudoers/regress/sudoers/test7.out.ok,
plugins/sudoers/regress/sudoers/test8.out.ok,
plugins/sudoers/regress/sudoers/test9.out.ok,
plugins/sudoers/testsudoers.c:<br>
Use fmtsudoers functions in testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6c0d80fa"
>[e6c0d80fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test22.in,
plugins/sudoers/regress/sudoers/test22.json.ok,
plugins/sudoers/regress/sudoers/test22.ldif.ok,
plugins/sudoers/regress/sudoers/test22.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test22.out.ok,
plugins/sudoers/regress/sudoers/test22.sudo.ok,
plugins/sudoers/regress/sudoers/test22.toke.ok:<br>
Add test for empty runas user list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a373677"
>[81a373677]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Don&rsquo;t print an empty user list as ALL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e7db4828"
>[3e7db4828]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c, plugins/sudoers/parse.h:<br>
In sudoers_format_userspecs make the separator optional and silence a
printf format warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb31544fc"
>[bb31544fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Use correct defines when checking for sysctl kinfo_proc support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f984de1ba"
>[f984de1ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
Fix crash when converting sudoers entry with a runas list that is
present but empty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdbd102c9"
>[bdbd102c9]</a></li>
</ul>
</dd>
<dt>2018-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/starttime.c,
plugins/sudoers/sudoers.c, src/regress/ttyname/check_ttyname.c,
src/tgetpass.c, src/ttyname.c:<br>
Less confusing sysctl checks for kinfo_proc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=217e0a9b4"
>[217e0a9b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/pwutil.c, plugins/sudoers/sssd.c:<br>
Add case_insensitive_group and case_insensitive_user sudoers options,
which are enabled by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e26ef96a6"
>[e26ef96a6]</a></li>
</ul>
</dd>
<dt>2018-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
Kill dead store found by clang-analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6014b4075"
>[6014b4075]</a></li>
</ul>
</dd>
<dt>2018-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/sudoers/test1.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test14.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test15.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test16.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test17.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test19.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test2.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test20.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test21.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test3.ldif2sudo.ok,
plugins/sudoers/regress/sudoers/test6.ldif2sudo.ok:<br>
Add tests for round-tripping sudoers -&gt; ldif -&gt; sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=487406807"
>[487406807]</a></li>
</ul>
</dd>
<dt>2018-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_util.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test3.ldif.ok,
plugins/sudoers/regress/sudoers/test6.ldif.ok, plugins/sudoers/sssd.c:<br>
Initial support for adding comments that will be emitted when sudoers is
formatted. Currently adds a comment for the source sudoRole when
converting from ldif -&gt; sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c36f9dec"
>[5c36f9dec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/parse.h:<br>
Special case comment lines in lbufs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=670d8e6d7"
>[670d8e6d7]</a></li>
</ul>
</dd>
<dt>2018-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/fmtsudoers.c,
plugins/sudoers/parse.h:<br>
When formatting as sudoers, flush the lbuf after each userspec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9b70940c"
>[c9b70940c]</a></li>
</ul>
</dd>
<dt>2018-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Handle escaped commas when skipping over the cn.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=843213d3d"
>[843213d3d]</a></li>
</ul>
</dd>
<dt>2018-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Add missing sudoOrder support to parse_ldif().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72dd971ee"
>[72dd971ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Add missing support for converting LOG_INPUT/LOG_OUTPUT tags and expand
support for NOMAIL tags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c7f3e791"
>[8c7f3e791]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test3.ldif.ok,
plugins/sudoers/regress/sudoers/test6.ldif.ok:<br>
Don&rsquo;t emit an empty sudoRole for global defaults if there are none.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44fc165e7"
>[44fc165e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_util.c:<br>
Avoid changing the order of non-negated hosts and commands. We still put
negated hosts/commands at the end of the list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e96398cac"
>[e96398cac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Handle parsing boolean options that have no explicit value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e750bae75"
>[e750bae75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Refactor the code that actually converts the role to sudoers format into
role_to_sudoers() now that it is more involved than just calling
sudo_ldap_role_to_priv().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9af4447c3"
>[9af4447c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
When merging two privileges, use the runas lists of the previous
privilege when possible. Otherwise, the generated sudoers line will
include a runas list for commands that is not necessary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b20bb149"
>[9b20bb149]</a></li>
</ul>
</dd>
<dt>2018-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Use a case-insensitive comparison when matching user and group names in
sudoers with the passwd or group database. This can be necessary when
users and groups are stored in AD or LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fff4acc1f"
>[fff4acc1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix clean target for *.sudo regress files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88bc4ba86"
>[88bc4ba86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
ignore more binaries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0804cda64"
>[0804cda64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Fix use of uninitialized variable (conf) if sudoers_debug_register()
happens to fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8275ab873"
>[8275ab873]</a></li>
</ul>
</dd>
<dt>2018-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Split conversion code out of parse_ldif() and into ldif_to_sudoers().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73b5f961e"
>[73b5f961e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Quiet a clang analyzer warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8da213c8b"
>[8da213c8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/ldap_util.c:<br>
rename ldap_common.c -&gt; ldap_util.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=120bb6de7"
>[120bb6de7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/cvtsudoers_ldif.c:<br>
When converting from ldif to sudoers, sudoRole objects with the same
user if possible. If both user and host are the same, merge into a
single privilege. This makes it possible to convert a sudoers entry
like:</p>
<p>aaron shanty = NOEXEC: /usr/bin/vi, /usr/bin/more, EXEC: /bin/sh</p>
<p>to ldif and then back to sudoers as a single line. Currently, the ldif
entries to be merged must have the same or adjacent sudoOrder
attributes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a2ae844e"
>[3a2ae844e]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
plug memory leaks
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56bdde133"
>[56bdde133]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Restore line to set MODE_PRESERVE_ENV in flags when the -E command line
option is used. The caller doesn&rsquo;t check MODE_PRESERVE_ENV these days
but parse_args uses it to detect usage errors when -E is used along with
a mutually excusive option. Problem found by Yuriy Vostrikov.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b29e0bd7"
>[4b29e0bd7]</a></li>
</ul>
</dd>
<dt>2018-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add missing close parenthesis in &ldquo;Including other files from within
sudoers&rdquo; section. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=824"
>Bug
#824</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12affcd5e"
>[12affcd5e]</a></li>
</ul>
</dd>
<dt>2018-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap_common.c:<br>
When converting from LDAP to sudoers, put negated hosts and commands at
the end of the list. Since LDAP doesn&rsquo;t guarantee attribute order we
need to make sure negated entries always override non-negated ones.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7919b9ad2"
>[7919b9ad2]</a></li>
</ul>
</dd>
<dt>2018-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
We may need the hostname to resolve %h escapes in include files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f097eb02"
>[6f097eb02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Setting a sudoOrder start point of 0 will disable creation of sudoOrder
attributes in the resulting LDIF output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3a0c3272"
>[b3a0c3272]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Don&rsquo;t need to fill in struct sudo_user since we don&rsquo;t do matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=111d79b53"
>[111d79b53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/cvtsudoers.cat, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, pathnames.h.in, plugins/sudoers/Makefile.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers.h,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Add support for setting default options in a config file. In addition to
expand_aliases, input_format and output_format, both the initial
sudoOrder and the increment when updating sudoOrder for subsequent
sudoRole objects can be specified. Command line options have also been
added for the start order and increment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5999cfb90"
>[5999cfb90]</a></li>
</ul>
</dd>
<dt>2018-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
cvtsudoers can now read LDIF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc82a1665"
>[fc82a1665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Fix a typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb0623324"
>[bb0623324]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
Deal with user_name not being set in cvtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19502307a"
>[19502307a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/ldap.c, plugins/sudoers/ldap_common.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h:<br>
Initial support for parsing sudoers LDIF files in cvtsudoers. This makes
it possible to convert from LDAP sudoers to a traditional sudoers file.
Semantic differences between file sudoers and LDAP sudoers mean that
LDIF -&gt; sudoers is not completely equivalent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceea24b96"
>[ceea24b96]</a></li>
</ul>
</dd>
<dt>2018-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/sudoers/test14.ldif.ok:<br>
Fix LDIF conversion of commands with an associated digest.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b22ed783"
>[8b22ed783]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap_common.c:<br>
In array_to_member_list() use the correct type for netgroups and user
groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91f97d2f2"
>[91f97d2f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/fmtsudoers.c:<br>
Prepend digest to command if present. Fix printing of group IDs and
non-unix groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=337ace644"
>[337ace644]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c:<br>
Fix gcc false positive for uninitialized variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c13557b6c"
>[c13557b6c]</a></li>
</ul>
</dd>
<dt>2018-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Update Polypkg to the latest version from git.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03f94d62f"
>[03f94d62f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo.c:<br>
Use setpassent() and setgroupent() on systems that support it to keep
the passwd and group database open. Sudo does a lot of passwd and group
lookups so it can be beneficial to just leave the file open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faa5baac9"
>[faa5baac9]</a></li>
</ul>
</dd>
<dt>2018-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/cvtsudoers_ldif.c, plugins/sudoers/fmtsudoers.c:<br>
Add option to cvtsudoers to expand aliases in the output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9296928"
>[4f9296928]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/regress/sudoers/test1.json.ok,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test15.json.ok,
plugins/sudoers/regress/sudoers/test16.json.ok,
plugins/sudoers/regress/sudoers/test17.json.ok,
plugins/sudoers/regress/sudoers/test19.json.ok,
plugins/sudoers/regress/sudoers/test2.json.ok,
plugins/sudoers/regress/sudoers/test6.json.ok:<br>
Fix conversion of &ldquo;ALL&rdquo; in the JSON output format, which was being
printed as an alias.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f204c5eb"
>[3f204c5eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Clarify that &ndash;with-rundir and &ndash;with-vardir take sudo-specific
directory, e.g. /var/run/sudo and not just /var/run. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=823"
>Bug
#823</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e48cbfc10"
>[e48cbfc10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In pty_cleanup() we need to call sudo_term_restore() even if no I/O
plugins are present as long as /dev/tty exists. Fixes the use_pty case
with no I/O plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5d170252"
>[d5d170252]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, lib/util/util.exp.in,
plugins/sudoers/sudoreplay.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c:<br>
Add sudo_ev_dispatch(), a wrapper for ev_loop() with no flags. Similar
the dispatch function in libevent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42fe0409f"
>[42fe0409f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, m4/sudo.m4:<br>
Use /run in preference to /var/run if it exists. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=822"
>Bug
#822</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=525c6a3d9"
>[525c6a3d9]</a></li>
</ul>
</dd>
<dt>2018-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
mention common sudoers formatting changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59086e9c8"
>[59086e9c8]</a></li>
</ul>
</dd>
<dt>2018-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_conf.c, plugins/sudoers/sudo_ldap.h,
plugins/sudoers/sudo_ldap_conf.h:<br>
Move LDAP configuration bits into ldap_conf.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43a3a23fe"
>[43a3a23fe]</a></li>
</ul>
</dd>
<dt>2018-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/ldap_common.c:<br>
No longer need to include stddef.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c08de88c"
>[0c08de88c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Remove dead store, found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2213dc1e"
>[e2213dc1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/ldap_common.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h:<br>
simplify iterator
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34820c6b1"
>[34820c6b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mkdir_parents.c:<br>
Silence a false positive from cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e2a26706"
>[6e2a26706]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsdump.c:<br>
Cast version to int when printing. Avoids a cppcheck warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0d413d07"
>[d0d413d07]</a></li>
</ul>
</dd>
<dt>2018-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/ldap_common.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h:<br>
Use an iterator instead of fragile pointer arithmetic to iterate over
value arrays in sudo_ldap_role_to_priv().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4459ee42e"
>[4459ee42e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/fmtsudoers.c, plugins/sudoers/ldap.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c:<br>
Move sudoers formatting code into fmtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64e99328e"
>[64e99328e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/parse.c:<br>
Clean up some XXX in parse.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dda1d6cef"
>[dda1d6cef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c:<br>
Rename sudo_file_append_default() -&gt; sudo_lbuf_append_default() and use
it for ldap and sssd too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2522229e8"
>[2522229e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/ldap_common.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_ldap.h:<br>
Move common bits of ldap to sudoers conversion into ldap_common.c and
use it in sssd.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3226f7e28"
>[3226f7e28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h:<br>
Convert ldap results into a sudoers userspec so we can use the &ldquo;sudo -l&rdquo;
output functions in parse.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e2402a8e"
>[4e2402a8e]</a></li>
</ul>
</dd>
<dt>2018-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Don&rsquo;t mark sudoers.dist volatile, it only gets used on systems that
don&rsquo;t have the concept of volatile files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787717755"
>[787717755]</a></li>
</ul>
</dd>
<dt>2018-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.h:
Refactor member freeing code into free_member(). Refactor userspec
freeing code into free_userspec().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cca4b690"
>[5cca4b690]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Fix compilation with glibc where stdout is not constant.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d49592f1"
>[9d49592f1]</a></li>
</ul>
</dd>
<dt>2018-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
For &ldquo;sudo -l&rdquo;, if a word includes spaces, print it in double quotes.
Also escape spaces in the command path. This matches the sudoers quoting
rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57e7b4b49"
>[57e7b4b49]</a></li>
</ul>
</dd>
<dt>2018-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Display sudoNotBefore and sudoNotAfter in &ldquo;sudo -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3189de5bb"
>[3189de5bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
For &ldquo;sudo -l&rdquo;, if a word includes spaces, print it in double quotes.
Also escape spaces in the command path. This matches the sudoers quoting
rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=105ced47b"
>[105ced47b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
Add back printing of negation operator (&rsquo;!&rsquo;) when printing a word with
spaces in it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40c200af1"
>[40c200af1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Use visudo to validate &ldquo;cvtsudoers -f sudoers&rdquo; output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1aca11c78"
>[1aca11c78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test21.in,
plugins/sudoers/regress/sudoers/test21.json.ok,
plugins/sudoers/regress/sudoers/test21.ldif.ok,
plugins/sudoers/regress/sudoers/test21.out.ok,
plugins/sudoers/regress/sudoers/test21.toke.ok:<br>
Remove syslog_goodpri and syslog_badpri without a value that causes
visudo to report an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f31ba6c22"
>[f31ba6c22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c:<br>
When outputting sudoers, if a word includes spaces, print it in double
quotes. Also escape spaces in the command path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61b6ae64d"
>[61b6ae64d]</a></li>
</ul>
</dd>
<dt>2018-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/alias.c, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/parse.h, plugins/sudoers/visudo.c:<br>
Add sudoers output format to cvtsudoers. In the future this may be used
with filters to emit a partial sudoers file instead of a full one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3354cbd02"
>[3354cbd02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
When printing a member name, quote sudoers special characters unless it
is a UID/GID, in which case we print the &lsquo;#&rsquo; unquoted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df08d0d8f"
>[df08d0d8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/parse.h:<br>
Move SUDOERS_QUOTED define to parse.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4ce2b25f"
>[f4ce2b25f]</a></li>
</ul>
</dd>
<dt>2018-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Remove extraneous break statement and fix some whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07d9cec27"
>[07d9cec27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
The max timeout for kernel time stamps is 60 minutes, not 3600 minutes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5de49b2d6"
>[5de49b2d6]</a></li>
</ul>
</dd>
<dt>2018-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Check the return value of sudoers_debug_register(). Coverity CID 182574
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e9e641b3"
>[5e9e641b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Fix memory leak, su-&gt;count is now 0 when it is unused, not 1. Covertity
CID 182573
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ef0f509"
>[f3ef0f509]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c:<br>
Quiet a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=776627803"
>[776627803]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test6.ldif.ok:<br>
Quote special characters when creating the cn as per RFC2253
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b374effcb"
>[b374effcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac, doc/UPGRADE:<br>
Sudo 1.8.23
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2303d8b1"
>[d2303d8b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Remove the C-style comment charactes from the getopt_long.c and
inet_pton.c license text as it was inconsistent with the rest of the
file and messed up the html formatting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d49c9193"
>[9d49c9193]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/sudoers2ldif,
sudo.pp:<br>
Remove sudoers2ldif, it has been replaced by cvtsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f310d738"
>[7f310d738]</a></li>
</ul>
</dd>
<dt>2018-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Add -b option to specify the base dn.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=831de0fc8"
>[831de0fc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in:<br>
Document limitations of LDIF conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0abdd5a1"
>[b0abdd5a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c:<br>
Switch the default output format to LDIF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4acaa9c74"
>[4acaa9c74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Execute cvtsudoers if the user runs &ldquo;visudo -x&rdquo; but also emit a warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e5e1f6a6"
>[7e5e1f6a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/stubs.c,
plugins/sudoers/visudo.c:<br>
Revert 04ec05108b2b, change the default input source back to stdin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63321f19a"
>[63321f19a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/sudoers/test1.ldif.ok,
plugins/sudoers/regress/sudoers/test10.ldif.ok,
plugins/sudoers/regress/sudoers/test11.ldif.ok,
plugins/sudoers/regress/sudoers/test12.ldif.ok,
plugins/sudoers/regress/sudoers/test13.ldif.ok,
plugins/sudoers/regress/sudoers/test14.ldif.ok,
plugins/sudoers/regress/sudoers/test15.ldif.ok,
plugins/sudoers/regress/sudoers/test16.ldif.ok,
plugins/sudoers/regress/sudoers/test17.ldif.ok,
plugins/sudoers/regress/sudoers/test18.ldif.ok,
plugins/sudoers/regress/sudoers/test19.ldif.ok,
plugins/sudoers/regress/sudoers/test2.ldif.ok,
plugins/sudoers/regress/sudoers/test20.ldif.ok,
plugins/sudoers/regress/sudoers/test21.ldif.ok,
plugins/sudoers/regress/sudoers/test3.ldif.ok,
plugins/sudoers/regress/sudoers/test4.ldif.ok,
plugins/sudoers/regress/sudoers/test5.ldif.ok,
plugins/sudoers/regress/sudoers/test6.ldif.ok,
plugins/sudoers/regress/sudoers/test7.ldif.ok,
plugins/sudoers/regress/sudoers/test8.ldif.ok,
plugins/sudoers/regress/sudoers/test9.ldif.ok:<br>
Add LDIF conversion to sudoers tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6272829dc"
>[6272829dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers_json.c, plugins/sudoers/cvtsudoers_ldif.c,
plugins/sudoers/regress/sudoers/test19.json.ok:<br>
Add notbefore and notafter support to the backends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dd620981"
>[7dd620981]</a></li>
</ul>
</dd>
<dt>2018-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
cvtsudoers instead of sudoers2ldif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea7daee6f"
>[ea7daee6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/cvtsudoers.cat, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, plugins/sudoers/Makefile.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_ldif.c:<br>
Add ldif backend to cvtsudoers, to replace sudoers2ldif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=681fb2e76"
>[681fb2e76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
fix make check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7638e7173"
>[7638e7173]</a></li>
</ul>
</dd>
<dt>2018-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c:<br>
Parse sudoers in the front end, not the back end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc31b3fd4"
>[cc31b3fd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
install the cvtsudoers manual
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c360ad460"
>[c360ad460]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/cvtsudoers.cat, doc/cvtsudoers.man.in, doc/cvtsudoers.mdoc.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/stubs.c,
plugins/sudoers/visudo.c:<br>
Use the built-in sudoers file location as the default sudoers file for
cvtsudoers and move parse_sudoers_options() to stubs.c since it is
shared between visudo.c and cvtsudoers.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98c19a68c"
>[98c19a68c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/cvtsudoers.c,
plugins/sudoers/stubs.c, plugins/sudoers/visudo.c:<br>
Move common stub functions required by the parser out of visudo.c and
cvtsudoers.c and into stubs.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f3030d50"
>[0f3030d50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c:<br>
Rename export_sudoers() to convert_sudoers_json() and move the check for
the same input and output file to the front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02d917e60"
>[02d917e60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
add cvtsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41bd9ae26"
>[41bd9ae26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/cvtsudoers.cat, doc/cvtsudoers.man.in,
doc/cvtsudoers.mdoc.in, doc/visudo.cat, doc/visudo.man.in,
doc/visudo.mdoc.in, plugins/sudoers/Makefile.in,
plugins/sudoers/cvtsudoers.c, plugins/sudoers/cvtsudoers_json.c,
plugins/sudoers/visudo.c:<br>
Move sudoers JSON conversion to cvtsudoers which will eventually output
to other formats too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80cb1b5da"
>[80cb1b5da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Convert from time in minutes to timespec directly instead of converting
to double via strtod(). This makes it easier to catch overflow.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcfb092a4"
>[bcfb092a4]</a></li>
</ul>
</dd>
<dt>2018-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
document that kernel tty timestamps don&rsquo;t support negative timeouts
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb8b5c796"
>[eb8b5c796]</a></li>
</ul>
</dd>
<dt>2018-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/timestamp.c:<br>
Fall back to ppid time stamps if timestamp_type == kernel and no tty is
present. This is consistent with timestamp_type == tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3601253e"
>[b3601253e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Do not call the TIOCSETVERAUTH ioctl with a negative number of seconds.
Also cap the max number of seconds at 3600 to avoid getting EINVAL from
TIOCSETVERAUTH.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52409b9c7"
>[52409b9c7]</a></li>
</ul>
</dd>
<dt>2018-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Better conversion from double to nanoseconds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e37959fe"
>[2e37959fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/mkdefaults,
plugins/sudoers/timestamp.c:<br>
Store passwd_timeout and timestamp_timeout as a struct timespec instead
of as a float. Remove timeout argument to auth_getpass() as it was never
used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c0c22506"
>[4c0c22506]</a></li>
</ul>
</dd>
<dt>2018-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/mkdefaults:<br>
Don&rsquo;t rely on perl being installed in /usr/local/bin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44e4aac44"
>[44e4aac44]</a></li>
</ul>
</dd>
<dt>2018-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/gettime.c,
lib/util/mktemp.c, lib/util/nanosleep.c, lib/util/utimens.c,
plugins/sudoers/boottime.c, plugins/sudoers/check.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/net_ifs.c, src/sesh.c, src/sudo.c,
src/sudo_edit.c, src/utmp.c:<br>
Remove use of AC_HEADER_TIME, only obsolete platforms actually need
this. Also stop removing sys/time.h unless the source file uses struct
timeval.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a885b952f"
>[a885b952f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Remove duplicate options %type
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b161ebe62"
>[b161ebe62]</a></li>
</ul>
</dd>
<dt>2018-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/check.c,
plugins/sudoers/sudoers.h:<br>
Add an approval function to the sudo auth API which is run after the
user&rsquo;s password has been verified. The approval function is run even if
no password is required. This is currently only used for PAM (use
pam_acct_mgmt) and BSD auth (auth_approval).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=594c2d4ef"
>[594c2d4ef]</a></li>
</ul>
</dd>
<dt>2018-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/tsdump.c:<br>
treat uid as unsigned in error message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7896025e"
>[f7896025e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/fur.mo:<br>
Add missing plugins/sudoers/po/fur.mo file to repo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa516b0a5"
>[aa516b0a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention new sudoers_timestamp manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44fdb3228"
>[44fdb3228]</a></li>
</ul>
</dd>
<dt>2018-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
ignore tsdump
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b92a33ba3"
>[b92a33ba3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsdump.c:<br>
Convert from mono time to real time before displaying time stamps.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a47f47967"
>[a47f47967]</a></li>
</ul>
</dd>
<dt>2018-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/solaris_audit.c:<br>
Use PATH_MAX, not MAXPATHLEN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da67a5490"
>[da67a5490]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_util.h,
lib/util/Makefile.in, lib/util/ttyname_dev.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/check.h,
plugins/sudoers/tsdump.c, src/ttyname.c:<br>
Add tsdump, a simple utility to dump a timestamp file. To build, run
&ldquo;make tsdump&rdquo; in the plugins/sudoers directory (it is not built by
default). In order to map the tty device number to a name,
sudo_ttyname_dev() has been moved into libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff5ac3ef0"
>[ff5ac3ef0]</a></li>
</ul>
</dd>
<dt>2018-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, po/uk.mo, po/uk.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5f4fdb81"
>[d5f4fdb81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Welcome to 2018
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70f406d67"
>[70f406d67]</a></li>
</ul>
</dd>
<dt>2017-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/fur.po, plugins/sudoers/po/nb.mo,
plugins/sudoers/po/nb.po, plugins/sudoers/po/zh_CN.mo,
plugins/sudoers/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=636bfad02"
>[636bfad02]</a></li>
</ul>
</dd>
<dt>2017-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Silence a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2fdda1aa"
>[f2fdda1aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove extra $(srcdir)/sudoreplay.man.in target added by mistake.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83ad5d9db"
>[83ad5d9db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/ja.mo, po/ja.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00016b17a"
>[00016b17a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Use a tty lock even for kernel time stamps so we can avoid simultaneous
password prompts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f99af859"
>[7f99af859]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
visudo changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4534798d"
>[c4534798d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/editor.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c:<br>
Also honor SUDO_EDITOR in visudo. Previously is was only used by
sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23ac62cfb"
>[23ac62cfb]</a></li>
</ul>
</dd>
<dt>2017-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Stop looking for an editor as soon as we find one. A similar fix was
made to visudo some time ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa2ab63da"
>[fa2ab63da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers_timestamp.cat, doc/sudoers_timestamp.man.in,
doc/sudoers_timestamp.mdoc.in:<br>
The session ID was added in 1.8.6p7 to prevent a user in another session
from re-using the time stamp file. Other minor cleanups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=740a47980"
>[740a47980]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.h:<br>
&ldquo;time stamp&rdquo; not &ldquo;timestamp&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54158f691"
>[54158f691]</a></li>
</ul>
</dd>
<dt>2017-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/timestamp.c:<br>
Add &ldquo;kernel&rdquo; as a possible value of timestamp_type. Currently only
supported on OpenBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feb48b8eb"
>[feb48b8eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, doc/sudoers_timestamp.cat,
doc/sudoers_timestamp.man.in, doc/sudoers_timestamp.mdoc.in,
plugins/sudoers/check.h:<br>
Document the sudoers time stamp file format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f3797c75"
>[5f3797c75]</a></li>
</ul>
</dd>
<dt>2017-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/starttime/check_starttime.c:<br>
Verify start time of the current process, allowing for some clock drift.
For Linux, process start time is relative to boot time, not wallclock
time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae8917a07"
>[ae8917a07]</a></li>
</ul>
</dd>
<dt>2017-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f41927488"
>[f41927488]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e73a5574c"
>[e73a5574c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/starttime/check_starttime.c:<br>
Trivial test for process start time. We don&rsquo;t try to check the resulting
timespec as it differs by platform. On most it is wallclock time, on
others it is relative to boot time (Linux).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ce85b174"
>[6ce85b174]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d93559e9c"
>[d93559e9c]</a></li>
</ul>
</dd>
<dt>2017-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Support start time on macOS and 4.4BSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de2f455d3"
>[de2f455d3]</a></li>
</ul>
</dd>
<dt>2017-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/env_match/check_env_pattern.c:<br>
Include sys/types.h for mode_t used in sudoers.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=428a487e0"
>[428a487e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Fix compilation error on FreeBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b78296197"
>[b78296197]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/starttime.c:<br>
Fix debug_decl(), it should be SUDOERS_DEBUG_UTIL Add debugging for the
successful case For Linux, don&rsquo;t NUL out *ep before parsing with
strtoull(). * * * Add missing debug info for the System V /proc version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79caf1e68"
>[79caf1e68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/check.h,
plugins/sudoers/starttime.c, plugins/sudoers/timestamp.c:<br>
In the timestamp record, include the start time of the terminal session
leader for tty-based timestamps or the start time of the parent process
for ppid-based timestamps. Idea from Duncan Overbruck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1709dc7f7"
>[1709dc7f7]</a></li>
</ul>
</dd>
<dt>2017-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
If the lock record doesn&rsquo;t match the expected record size we need to
seek to the end of the record as we otherwise may have gone too far (or
not far enough). Fixes interop problems when the time stamp record
changes size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cec5734c"
>[5cec5734c]</a></li>
</ul>
</dd>
<dt>2017-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
No need for a loop around the recv() now that we don&rsquo;t have to worry
about EINTR. CID 180697
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd0b70054"
>[cd0b70054]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Try to be clearer about sudo&rsquo;s exit value when the -l option is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bda2f4c44"
>[bda2f4c44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3604ff5bb"
>[3604ff5bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
An empty RunAsUser means run as the invoking user, similar to how the
sudoers files works.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ca8447e0"
>[6ca8447e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f869086ef"
>[f869086ef]</a></li>
</ul>
</dd>
<dt>2017-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/logging.c:<br>
Add authfail_message sudoers option to allow the user to override the
default message of %d incorrect password attempt(s).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1350a3073"
>[1350a3073]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, src/parse_args.c:<br>
Allow the plugin to determine whether or not an empty timeout is
allowed. For sudoers, an error will be returned for an empty timeout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5106bfc13"
>[5106bfc13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timeout.c:<br>
Return an error for an empty timeout string. Just use strtol() for
syntax checking instead of scanning with strspn().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5463c280"
>[b5463c280]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo_edit.c:<br>
Change some <em>() into U</em>() since they are used for warn/fatal. We always
want to issue warnings in the user&rsquo;s locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbc43b5e3"
>[bbc43b5e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
update my email address
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b68554b7c"
>[b68554b7c]</a></li>
</ul>
</dd>
<dt>2017-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>log2cl.pl:<br>
Don&rsquo;t print mercurial branch info for merges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d13fe4fa"
>[3d13fe4fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>log2cl.pl:<br>
Use log size instead of using a separator between the log entry and the
file names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a388ddbcf"
>[a388ddbcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Print usage and return an error when an empty argument is given for all
command line arguments other than -p and -E. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=817"
>Bug
#817</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d322caf7a"
>[d322caf7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Better input validation of settings passed by the sudo front-end.
Instead of ignoring an empty setting, throw an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00a00ebd1"
>[00a00ebd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>log2cl.pl:<br>
Treat a blank line in a commit message as a line break. There doesn&rsquo;t
appear to be a way to make perl&rsquo;s format use a blank field but at least
the line break happens now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63209fe8f"
>[63209fe8f]</a></li>
</ul>
</dd>
<dt>2017-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, log2cl.pl:<br>
Add script to generate ChangeLog from git log output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f5a60f82"
>[5f5a60f82]</a></li>
</ul>
</dd>
<dt>2017-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h:<br>
Don&rsquo;t include syslog.h from logging.h, just include it in the two .c
files it is actually needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b16912da1"
>[b16912da1]</a></li>
</ul>
</dd>
<dt>2017-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Document that in check mode, visudo does not check the owner/mode on
files specified with the -f flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e78283af9"
>[e78283af9]</a></li>
</ul>
</dd>
<dt>2017-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, configure.ac, doc/HISTORY, doc/LICENSE, doc/Makefile.in,
doc/fixman.sh, doc/fixmdoc.sh, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.man.in, doc/visudo.mdoc.in, examples/Makefile.in,
include/Makefile.in, include/compat/charclass.h,
include/compat/endian.h, include/compat/fnmatch.h,
include/compat/nss_dbdefs.h, include/compat/sha2.h,
include/sudo_compat.h, include/sudo_conf.h, include/sudo_debug.h,
include/sudo_dso.h, include/sudo_event.h, include/sudo_fatal.h,
include/sudo_gettext.h, include/sudo_lbuf.h, include/sudo_plugin.h,
include/sudo_util.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/closefrom.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/getgrouplist.c,
lib/util/gethostname.c, lib/util/getline.c, lib/util/getopt_long.c,
lib/util/gettime.c, lib/util/gidlist.c, lib/util/glob.c,
lib/util/isblank.c, lib/util/key_val.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/memrchr.c, lib/util/memset_s.c,
lib/util/mksiglist.c, lib/util/mksigname.c, lib/util/mktemp.c,
lib/util/nanosleep.c, lib/util/parseln.c, lib/util/pipe2.c,
lib/util/progname.c, lib/util/pw_dup.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/fnmatch/fnm_test.c, lib/util/regress/glob/globtest.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c,
lib/util/regress/vsyslog/vsyslog_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/snprintf.c, lib/util/strlcat.c, lib/util/strlcpy.c,
lib/util/strndup.c, lib/util/strnlen.c, lib/util/strsignal.c,
lib/util/strsplit.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/strtonum.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/sudo_dso.c, lib/util/term.c,
lib/util/ttysize.c, lib/util/utimens.c, lib/util/vsyslog.c,
lib/zlib/Makefile.in, m4/sudo.m4, mkdep.pl, mkpkg, pathnames.h.in,
plugins/group_file/Makefile.in, plugins/group_file/getgrent.c,
plugins/group_file/group_file.c, plugins/group_file/plugin_test.c,
plugins/sample/Makefile.in, plugins/sample/sample_plugin.c,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/bsm_audit.h, plugins/sudoers/check.c,
plugins/sudoers/check.h, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/digestname.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c, plugins/sudoers/filedigest.c,
plugins/sudoers/filedigest_gcrypt.c,
plugins/sudoers/filedigest_openssl.c, plugins/sudoers/find_path.c,
plugins/sudoers/gc.c, plugins/sudoers/gentime.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/gmtoff.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/hexchar.c, plugins/sudoers/ins_2001.h,
plugins/sudoers/ins_classic.h, plugins/sudoers/ins_csops.h,
plugins/sudoers/ins_goons.h, plugins/sudoers/insults.h,
plugins/sudoers/interfaces.c, plugins/sudoers/interfaces.h,
plugins/sudoers/iolog.c, plugins/sudoers/iolog.h,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/linux_audit.h,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/mkdir_parents.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/po/sudoers.pot,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil.h,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/rcstr.c,
plugins/sudoers/redblack.c, plugins/sudoers/redblack.h,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudo_printf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers2ldif,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoers_debug.h,
plugins/sudoers/sudoers_version.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timeout.c,
plugins/sudoers/timestamp.c, plugins/sudoers/timestr.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/tsgetgrpw.h, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c, po/sudo.pot, src/Makefile.in,
src/conversation.c, src/env_hooks.c, src/exec.c, src/exec_common.c,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c, src/get_pty.c,
src/hooks.c, src/load_plugins.c, src/net_ifs.c, src/openbsd.c,
src/parse_args.c, src/preload.c, src/preserve_fds.c,
src/regress/noexec/check_noexec.c, src/regress/ttyname/check_ttyname.c,
src/selinux.c, src/sesh.c, src/signal.c, src/solaris.c, src/sudo.c,
src/sudo.h, src/sudo_edit.c, src/sudo_exec.h, src/sudo_noexec.c,
src/sudo_plugin_int.h, src/sudo_usage.h.in, src/tcsetpgrp_nobg.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c, sudo.pp:<br>
update my email to Todd.Miller@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48fba3c2c"
>[48fba3c2c]</a></li>
</ul>
</dd>
<dt>2017-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add missing carriage return before prompt when replay is done.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01587b1b1"
>[01587b1b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Track window size changes that happen while sudo is suspended
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2eff1150"
>[a2eff1150]</a></li>
</ul>
</dd>
<dt>2017-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=988328393"
>[988328393]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
regen for sudo 1.8.22
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=276d83cc9"
>[276d83cc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.22
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8532bdce"
>[e8532bdce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Background processes started by the command will no longer receive
SIGHUP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2eee7904"
>[c2eee7904]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c:<br>
When the command completes, make the monitor the foreground process
group before informing the main sudo process of the command&rsquo;s exit
status. This will prevent processes started by the command (which runs
in a different process group) from receiving SIGHUP since the kernel
sends SIGHUP to the foreground process group associated with the
terminal session. The monitor has a SIGHUP handler installed so the
signal is effectively ignored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b561d0d7d"
>[b561d0d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add debug printfs around group list retrieval.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4168668f5"
>[4168668f5]</a></li>
</ul>
</dd>
<dt>2017-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Move call to sudo_ev_loopcontinue() into schedule_signal() itself. We
always want to prioritize signal forwarding.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=116c5d7ef"
>[116c5d7ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c:<br>
Don&rsquo;t loop over read/write, recv/send or tcgetpgrp/tcsetpgrp trying to
handle EINTR. We now use SA_RESTART with signals so this is not needed
and is potentially dangerous if it is possible to receive SIGTTIN or
SIGTTOU (which it currently is not).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9adb3dd5"
>[b9adb3dd5]</a></li>
</ul>
</dd>
<dt>2017-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Better describe things when a command is run in a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9298a2a42"
>[9298a2a42]</a></li>
</ul>
</dd>
<dt>2017-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_monitor.c, src/signal.c:<br>
Sprinkle some extra debugging printfs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=486ced7c1"
>[486ced7c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Handle receipt of SIGTTIN/SIGTTOU when reading/writing from/to the tty.
We can&rsquo;t use a signal event for these since that would restart the
system call after the signal was handled and the callback would not get
a chance to run. Fixes running a command in the background that write to
the tty when the TOSTOP terminal flag is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54acf4f99"
>[54acf4f99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
We don&rsquo;t need to be the foreground process to be able to write to the
terminal in most cases. If the background process tries to modify the
terminal flags it will receive SIGTTOU which is relayed to the sudo
front-end. This currently mishandles terminals with the TOSTOP local
flag set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ccc7ab87"
>[5ccc7ab87]</a></li>
</ul>
</dd>
<dt>2017-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sssd.c:<br>
Avoid a double free when ipa_hostname is set in sssd.conf and it is an
unqualified host name. From Daniel Kopecek.</p>
<p>Also move the &ldquo;unable to allocate memory&rdquo; warning into
get_ipa_hostname() itself to make it easier to see where the allocation
failed in the debug log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93828eca6"
>[93828eca6]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil.h,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
When running a command as the invoking user we cannot use the gid list
from the front-end since it may not correspond to the user&rsquo;s aux group
vector as defined by the group database.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=250209d7a"
>[250209d7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/fnmatch/fnm_test.c, lib/util/regress/glob/globtest.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/parser/check_hexchar.c:<br>
Add missing initprogname() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd47a0a41"
>[dd47a0a41]</a></li>
</ul>
</dd>
<dt>2017-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Plug some memory leaks on error, some found by the clang static
analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca2e1a455"
>[ca2e1a455]</a></li>
</ul>
</dd>
<dt>2017-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Avoid calling cmnd_matches() in list/verify mode if we already have a
match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcc0eeb57"
>[bcc0eeb57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c:
In list (-l) or verify (-v) mode, if we have a match but authentication
is required, clear FLAG_NOPASSWD so that when listpw/verifypw is set to
&ldquo;all&rdquo; and there are multiple sudoers sources a password will be required
unless none of the entries in all sources require authentication. From
Radovan Sroka of RedHat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88faa5873"
>[88faa5873]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
When checking the results for &ldquo;sudo -l&rdquo; and &ldquo;sudo -v&rdquo;, keep checking
even after we get a match since the value of doauth may depend on
evaluating all the results. From Radovan Sroka of RedHat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cbdc2654"
>[2cbdc2654]</a></li>
</ul>
</dd>
<dt>2017-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
If passwd_tries is less than 1, check_user() will always return false
(since the user didn&rsquo;t authenticate). The normal reason for this is an
authentication error but in this case no authentication was tries so no
warning message has been displayed to the user. If the user wasn&rsquo;t given
a chance to authenticate, set inform_user to true when calling
log_denial() from sudoers_policy_main().</p>
<p>An alternate approach would be for check_user() to return true in this
case but seems more confusing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a62cd4b4f"
>[a62cd4b4f]</a></p>
</li>
</ul>
</dd>
<dt>2017-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Document bash shell alias issue with &ldquo;sudo -i&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e8c037f2"
>[4e8c037f2]</a></li>
</ul>
</dd>
<dt>2017-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Return an error if the sudo front end doesn&rsquo;t set the user name, user
ID, group ID or host name. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=807"
>Bug
#807</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53a8ad712"
>[53a8ad712]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/gethostname.c:<br>
Treat an empty hostname as a failure and return NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c45774a3"
>[2c45774a3]</a></li>
</ul>
</dd>
<dt>2017-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers2ldif:<br>
Add support for #include and #includedir from Natale Vinto.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=740c619d3"
>[740c619d3]</a></li>
</ul>
</dd>
<dt>2017-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Minor corrections from Tae Wong
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c01774158"
>[c01774158]</a></li>
</ul>
</dd>
<dt>2017-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Add a warning that for &ldquo;sudo -i command&rdquo; and &ldquo;sudo -s command&rdquo; the shell
is not run in interactive mode which may change its behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cece54ae8"
>[cece54ae8]</a></li>
</ul>
</dd>
<dt>2017-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h, src/exec_pty.c:<br>
Fix stair-stepped output when the output of a sudo command is piped to
another command and use_pty is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b88cdfcd"
>[3b88cdfcd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
env_keep and env_check are also taken into account with &ldquo;sudo -i&rdquo;. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=806"
>Bug
#806</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1051cf1e6"
>[1051cf1e6]</a></li>
</ul>
</dd>
<dt>2017-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.ac,
plugins/sudoers/ins_classic.h:<br>
Make PC insults the default and add new configure option,
enable-offensive-insults, to enable the offensive insults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=749cdc9d9"
>[749cdc9d9]</a></li>
</ul>
</dd>
<dt>2017-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add missing translators from recent updates and one name change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcb887807"
>[dcb887807]</a></li>
</ul>
</dd>
<dt>2017-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/fur.po, plugins/sudoers/po/hr.mo,
plugins/sudoers/po/hr.po, plugins/sudoers/po/sv.mo,
plugins/sudoers/po/sv.po, po/hr.mo, po/hr.po, po/sv.mo, po/sv.po:<br>
sync with translationproject.org * * * sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ab1c9935"
>[9ab1c9935]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
More accurately describe the use_pty option now that its behavior has
changed with respect to interposition with a pipe. Also describe some
caveats with log_input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e78fbccf"
>[7e78fbccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Document changes in use_pty behavior when no terminal is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4f4bb334"
>[b4f4bb334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Set ec-&gt;cmnd_pid to the correct value when receiving the command&rsquo;s
process ID from the monitor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=894999204"
>[894999204]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
If /dev/tty is not available and no I/O logging plugins are configured,
fall back on exec_nopty() even if the policy plugin requested a pty. We
never allocate a pty when sudo is not run from a terminal anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84af812b8"
>[84af812b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Do not set utmp_user if we did not actually allocate a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c2476f07"
>[2c2476f07]</a></li>
</ul>
</dd>
<dt>2017-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.21p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87eba6c89"
>[87eba6c89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
sudo_terminated() should not return true when SIGCHLD is pending. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=801"
>Bug
#801</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d85056d95"
>[d85056d95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Set SIGCHLD handler to SIG_DFL before forking the askpass command and
restore after. Otherwise, SIGCHLD will end up in the list of pending
signals and sudo_execute() will not execute the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5aeefeb"
>[4b5aeefeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c:<br>
The read and write sides of signal_pipe[] were swapped, resulting in
EBADF reading from and writing to the signal pipe on Linux and probably
others. On systems with bidirectional pipes this was not an issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdff345e0"
>[fdff345e0]</a></li>
</ul>
</dd>
<dt>2017-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix a logic error in 96651906de42 which prevented sudo from using the
PAM-supplied prompt. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=799"
>Bug
#799</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e021c39f"
>[8e021c39f]</a></li>
</ul>
</dd>
<dt>2017-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.21p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5425a80a"
>[f5425a80a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
The Fedora sudo package uses /etc/ldap.conf not /etc/sudo-ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=171512b17"
>[171512b17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
The fix for matching when no sudoRunAsUser is present in a sudoRole was
incomplete. If no -g option was specified on the command line but
sudoRunAsGroup is present in a sudoRole, we need to treat the group
match as failed instead of missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06d52c97c"
>[06d52c97c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/defaults.c:<br>
Sprinkle a few more debugging printfs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=507ab6fdc"
>[507ab6fdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix replaying sessions that contain input logs. When the inter-record
timeout expires we need to read the next record if there is nothing to
output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e10025961"
>[e10025961]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=447c2c7e8"
>[447c2c7e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Fix typo (Auguest vs. August). From David Pocock.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7652dad0d"
>[7652dad0d]</a></li>
</ul>
</dd>
<dt>2017-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Go back to returning true from display_privs() on non-error. This
results in &ldquo;sudo -U otheruser -l&rdquo; exiting with a status of 0 even when
otheruser is not allowed to run commands. This is appropriate since the
&ldquo;sudo -l&rdquo; command was successful. This does not change the exit value
when otheruser runs &ldquo;sudo -l&rdquo; themselves, the exit status will be 1
since that user is not allowed to run commands. Requested by Radovan
Sroka.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5c41ae37"
>[d5c41ae37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix the pass2 ldap query string when no search filter is defined. Due to
the addition of &ldquo;(sudoUser=*)&rdquo; to the query we always need the AND
operator, even if no search filter is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cdee2c2c"
>[5cdee2c2c]</a></li>
</ul>
</dd>
<dt>2017-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c:<br>
Don&rsquo;t forward SIGINFO to the child when it is send by the kernel (not
another user process). This is consistent with the handling of other
keyboard-generated signals such as SIGINT, SIGQUIT and SIGTSTP. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=796"
>Bug
#796</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3d098254"
>[c3d098254]</a></li>
</ul>
</dd>
<dt>2017-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Fix path to LICENSE and NEWS files that get used in the installer.
Previously, the installed versions were used instead of the ones in the
destdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d31a1c30"
>[0d31a1c30]</a></li>
</ul>
</dd>
<dt>2017-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po, po/fi.mo, po/fi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d243a882"
>[0d243a882]</a></li>
</ul>
</dd>
<dt>2017-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>po/es.mo, po/es.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7b00c26d"
>[b7b00c26d]</a></li>
</ul>
</dd>
<dt>2017-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po, po/it.mo, po/it.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b45d73acb"
>[b45d73acb]</a></li>
</ul>
</dd>
<dt>2017-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Preserving environment variables on the command line was bug #279
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=159f89f0d"
>[159f89f0d]</a></li>
</ul>
</dd>
<dt>2017-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, po/fur.mo, po/fur.po:<br>
Add Friulian translation for sudo from Fabio Tomat via
translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a01bbfacf"
>[a01bbfacf]</a></li>
</ul>
</dd>
<dt>2017-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/fr.mo, po/fr.po, po/ko.mo, po/ko.po, po/nb.mo, po/nb.po,
po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/sr.mo, po/sr.po,
po/sv.mo, po/sv.po, po/vi.mo, po/vi.po, po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6696653e4"
>[6696653e4]</a></li>
</ul>
</dd>
<dt>2017-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
In the Runas example that uses &ldquo;boulder&rdquo; make it clear that &ldquo;boulder&rdquo; is
a host name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54860cf7f"
>[54860cf7f]</a></li>
</ul>
</dd>
<dt>2017-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deaeffe73"
>[deaeffe73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, src/parse_args.c:
Allow the user to specify a list of environment variables to preserve.
This adds an option paramter to the &ndash;preserve-env option, a
comma-separated list of variable names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18dde235"
>[c18dde235]</a></li>
</ul>
</dd>
<dt>2017-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, NEWS, config.h.in, configure, configure.ac, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c,
plugins/sudoers/timestamp.c:<br>
Replace tty_tickets option with timestamp_type which can be global, ppid
or tty. Defaults to tty (no change in behavior). Some users want the
ppid behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63d954d1f"
>[63d954d1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3b3e501b"
>[c3b3e501b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t send email about an unresolvable host name if fqdn is enabled and
the user specified the run host via the -h flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48459292f"
>[48459292f]</a></li>
</ul>
</dd>
<dt>2017-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
fix playback of stdout/stderr without embedded carriage returns
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ab1d724a"
>[5ab1d724a]</a></li>
</ul>
</dd>
<dt>2017-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Avoid unused variable warning when sasl is not used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98369bf98"
>[98369bf98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add support for &ndash;enable-sasl and &ndash;disable-sasl to make it possible to
enable/disable support for LDAP with SASL authentication. Sudo compiles
in support for SASL authentiation by default if the
ldap_sasl_interactive_bind_s() function is detected. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=788"
>Bug
#788</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=beece9171"
>[beece9171]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
List the correct pattern (&quot;<em>=()</em>&quot;) in the env_delete description. Use
pseudo-tty instead of pseudo terminal for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad81862b0"
>[ad81862b0]</a></li>
</ul>
</dd>
<dt>2017-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
Include pathnames.h for /dev/fd on FreeBSD and Mac OS X.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a6b8a78f"
>[5a6b8a78f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
update for 1.8.21
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec45b77d0"
>[ec45b77d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
No need to call sudo_ev_del() before sudo_ev_free(); sudo_ev_free() will
delete the event from its base before freeing it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0849e2cac"
>[0849e2cac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Terminate the command if an I/O log function returns 0 or -1. This was
mistakenly removed by 25b7fd056614 in Sudo 1.8.18 with the removal of
the ignore_iolog_errors variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cfaf6c34"
>[1cfaf6c34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Quiet a coverity false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5162291"
>[4b5162291]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Change to a single event loop in sudoreplay and use signal events.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d30c42a0"
>[2d30c42a0]</a></li>
</ul>
</dd>
<dt>2017-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
start new sentences on a new line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ea9ecb18"
>[9ea9ecb18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Clarify how the variable prompt options interact with each other and
PAM.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d76d5eaeb"
>[d76d5eaeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t set passprompt_override when SUDO_PROMPT is present. This
effectively reverts ed77d255f383.</p>
<p>We treat the SUDO_PROMPT environment variable similar to passprompt in
sudoers: it will only override a PAM prompt if the PAM prompt is either
&ldquo;Password:&rdquo; or &ldquo;username&rsquo;s Password:&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=879ba6887"
>[879ba6887]</a></p>
</li>
</ul>
</dd>
<dt>2017-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/logging.c:<br>
Add syslog_pid sudoers option to log sudo&rsquo;s process ID when logging via
syslog. This is disabled by default to match historic behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d129f306e"
>[d129f306e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
When deciding which prompt to use (PAM&rsquo;s or sudo&rsquo;s) treat the PAM prompt
&ldquo;username&rsquo;s Password:&rdquo; as equivalent to &ldquo;Password:&rdquo;. Some PAM modules
(on AIX at least) use this prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43cbcbc24"
>[43cbcbc24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Add missing argument to a few of the defaults strings in the &ldquo;sudo -V&rdquo;
output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5923a2811"
>[5923a2811]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/visudo.c:<br>
When examining environment variables or variables passed in from the
front-end, ignore variables with no value specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52b25940c"
>[52b25940c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Document that &ldquo;-p prompt&rdquo; overrides SUDO_PROMPT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b4d871b1"
>[6b4d871b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Enable passprompt_override by default if SUDO_PROMPT is present in the
environment. This is consistent with how &ldquo;sudo -p prompt&rdquo; is handled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37f591d2d"
>[37f591d2d]</a></li>
</ul>
</dd>
<dt>2017-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
When reading a single character via a switch() use &ldquo;default: instead of
&ldquo;case 1:&rdquo; to quiet a coverity warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1918ec4a5"
>[1918ec4a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Initialize ch in getsize_cb() in case we are called with the wrong
initial state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6509482bf"
>[6509482bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
remove unused variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58858513f"
>[58858513f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Call install_sudoers() even when doedit is false. If a file in a
#includedir has a syntax error it will still have been edited and we
need to install the edited temp file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=034132774"
>[034132774]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Reparse sudoers if a new #include file was added. Otherwise the new file
will not get its syntax checked. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=791"
>Bug
#791</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bc80d3dd"
>[5bc80d3dd]</a></li>
</ul>
</dd>
<dt>2017-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
don&rsquo;t restore the cursor when setting terminal size, we don&rsquo;t want the
cursor to move
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28fe33501"
>[28fe33501]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Read the xterm terminal size using an event so we can easily time out if
needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbddf1bc3"
>[dbddf1bc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, src/exec_nopty.c, src/exec_pty.c:<br>
If we free the default base in sudo_ev_base_free(), reset the default
base to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f8765d32"
>[7f8765d32]</a></li>
</ul>
</dd>
<dt>2017-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, lib/util/util.exp.in,
src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c:<br>
Add the ability to set a default event base, to be used by plugins which
don&rsquo;t have access to the event base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2a0bfbb1"
>[d2a0bfbb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Allow sudoreplay to adjust the window size on xterm-like terminals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a7667831"
>[9a7667831]</a></li>
</ul>
</dd>
<dt>2017-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoreplay.c:<br>
Log window size change events in the sudoers I/O plugin. Let sudoreplay
parse a timing file with window change events (currently ignored).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f79a23653"
>[f79a23653]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h, src/exec_pty.c:<br>
Pass window size change events to the plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8898ec1f9"
>[8898ec1f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/term.c:<br>
Clear input, output, control and local flags before copying them from
the source terminal. Otherwise, flags that are disabled in the source
terminal may still be enabled in the destination.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6505d0580"
>[6505d0580]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Remove pointless subshells in targets that simply change the directory
and execute a command. The command is already run in a shell so there is
no need to execute a subshell in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e70a953fb"
>[e70a953fb]</a></li>
</ul>
</dd>
<dt>2017-07-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Store the debug instance ID for I/O plugins too. Now iolog_open() is
consistent with policy_open().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7759b626"
>[a7759b626]</a></li>
</ul>
</dd>
<dt>2017-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event.c:<br>
Move the bits to fill in the new event base to sudo_ev_base_init(),
which is not currently exported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88bf0337e"
>[88bf0337e]</a></li>
</ul>
</dd>
<dt>2017-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/mktemp.c:<br>
Use getentropy() in mkstemp/mkdtemp replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c00018968"
>[c00018968]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/closefrom.c, lib/util/mktemp.c,
pathnames.h.in, src/exec_pty.c, src/get_pty.c, src/ttyname.c:<br>
Use _PATH_DEV consistently
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d4d4594b"
>[6d4d4594b]</a></li>
</ul>
</dd>
<dt>2017-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
When copying terminal settings from one tty to another only copy a
subset of the flags. Sudo now copies the same set of flags that OpenSSH
uses, which should be safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c77c5d026"
>[c77c5d026]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c:<br>
Add debug warning when we have wait status but don&rsquo;t overwrite the
existing cstat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5b60ef74"
>[f5b60ef74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c:<br>
Better handling of SIGCONT from in command in the monitor. It is useful
to know when the command continued but we don&rsquo;t want to inform the
parent or store the wait status in this case. Fixes a hang after
multiple suspends on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8c586ee0"
>[c8c586ee0]</a></li>
</ul>
</dd>
<dt>2017-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.h:<br>
avoid padding in struct cmndspec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=022ac87d6"
>[022ac87d6]</a></li>
</ul>
</dd>
<dt>2017-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Fix the man section of sudo_plugin in cross-references.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60146c295"
>[60146c295]</a></li>
</ul>
</dd>
<dt>2017-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Don&rsquo;t treat an unchanged file as an error. From Xin Li.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab59834a0"
>[ab59834a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
sudo_edit() must return a wait status but if there is an error, or even
if no changes were made to the file, it was returning 1 instead which
would be interpreted as the command having received SIGHUP. Use the
W_EXITCODE() to construct a proper wait status in the error case too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d70e868f"
>[0d70e868f]</a></li>
</ul>
</dd>
<dt>2017-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Avoid sign extension when assigning the value of tty_nr in
/proc/self/stat on Linux. It is an unsigned int value that is printed as
a signed int but dev_t is unsigned long long. We need to cast to
unsigned int before assigning to a dev_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26d9043bf"
>[26d9043bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/env.c:<br>
Instead of hard-coding a check for bash functions in
env_should_delete(), use a &ldquo;<em>=()</em> &quot; pattern in initial_badenv_table[] to
match them instead. This allows the user to remove the check via
env_delete.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1e2162dc"
>[e1e2162dc]</a></li>
</ul>
</dd>
<dt>2017-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.configure, configure.ac, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, mkpkg, sudo.pp:<br>
Mac OS X -&gt; macOS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab00964e"
>[0ab00964e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
devsearch is ignored on BSD, macOS and Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7526869d8"
>[7526869d8]</a></li>
</ul>
</dd>
<dt>2017-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.20p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13633ae5a"
>[13633ae5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/ttyname.c:<br>
A command name may also contain newline characters so read
/proc/self/stat until EOF. It is not legal for /proc/self/stat to
contain embedded NUL bytes so treat the file as corrupt if we see any.
With help from Qualys.</p>
<p>This is not exploitable due to the /dev traversal changes in sudo
1.8.20p1 (thanks Solar!).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c13ebffbc"
>[c13ebffbc]</a></p>
</li>
</ul>
</dd>
<dt>2017-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Use /proc/self consistently on Linux. As far as I know, only AIX doesn&rsquo;t
support /proc/self.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15901c948"
>[15901c948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, doc/sudo.conf.cat,
doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in, include/sudo_conf.h,
lib/util/sudo_conf.c, lib/util/util.exp.in, pathnames.h.in,
src/ttyname.c:<br>
Add a new &ldquo;devsearch&rdquo; Path setting to sudo.conf for configuring the /dev
paths to traverse instead of hard-coding a list in ttyname.c The default
value can be set at configure time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc71b9984"
>[cc71b9984]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
After opening a tty device, fstat() and error out if it is not a
character device.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=777abca38"
>[777abca38]</a></li>
</ul>
</dd>
<dt>2017-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure:<br>
Sudo 1.8.20p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71e496a90"
>[71e496a90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/ttyname.c:<br>
Fix for CVE-2017-1000367, parsing of /proc/pid/stat on Linux when the
process name contains spaces. Since the user has control over the
command name this could be used by a user with sudo access to overwrite
an arbitrary file. Thanks to Qualys for investigating and reporting this
bug.</p>
<p>Also stop performing a breadth-first traversal of /dev when looking for
the device. Only the directories specified in search_devs[] are checked.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3fe46ce6"
>[b3fe46ce6]</a></p>
</li>
</ul>
</dd>
<dt>2017-05-23  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event_select.c:<br>
Fix potential memory leak on reallocarray() error. Coverity CID 169639
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20a0fa128"
>[20a0fa128]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Only fall back to deprecated getaudit() on FreeBSD. Fixes compiler
warnings on macOS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2770313c"
>[b2770313c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use clang on macOS if present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f794de950"
>[f794de950]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
fix paths to LICENSE and NEWS files for macOS packages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b53a531cc"
>[b53a531cc]</a></li>
</ul>
</dd>
<dt>2017-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c:<br>
To avoid overwriting existing command status, check for CMD_INVALID
instead of CMD_ERRNO or CMD_WSTATUS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad8c1ae07"
>[ad8c1ae07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/env_match/data:<br>
Add some patterns that could result in exponential run time for poorly
written &lsquo;*&rsquo; matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47df575f6"
>[47df575f6]</a></li>
</ul>
</dd>
<dt>2017-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/ttysize.c, src/exec_pty.c:<br>
On HP-UX 11.0, sys/ioctl.h is not sufficient to make struct winsize
visisble, we need termios.h too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c91b6777d"
>[c91b6777d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/ttysize.c:<br>
Always used TIOCGWINSZ.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea9120ee2"
>[ea9120ee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/sudo.c, src/sudo.h:<br>
Move exec_setup(), unlimit_nproc() and restore_nproc() from sudo.c to
exec.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a8eaef4b"
>[6a8eaef4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
No need to include selinux.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=befa862f7"
>[befa862f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/env_match/check_env_pattern.c:<br>
Fix compilation error on macOS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f60030b90"
>[f60030b90]</a></li>
</ul>
</dd>
<dt>2017-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/ldap.c:<br>
Avoid a clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7db97c783"
>[7db97c783]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add cov-build and cov-submit targets for checking with coverity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dc39e9d9"
>[1dc39e9d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/mkdir_parents.c,
plugins/sudoers/set_perms.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c:<br>
Use debug logging instead of ignore_result() where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a842913aa"
>[a842913aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/term.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/exec_monitor.c, src/exec_nopty.c,
src/exec_pty.c, src/signal.c, src/sudo.c, src/tcsetpgrp_nobg.c,
src/tgetpass.c:<br>
Remove use of non-standard sigaction_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d979898e7"
>[d979898e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, plugins/sudoers/timestamp.c,
src/tcsetpgrp_nobg.c, src/tgetpass.c:<br>
Remove use of the non-standard SA_INTERRUPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5c88e52b"
>[b5c88e52b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.21
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c3783a17"
>[9c3783a17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/env_pattern.c,
plugins/sudoers/regress/env_match/check_env_pattern.c,
plugins/sudoers/regress/env_match/data, plugins/sudoers/sudoers.h:<br>
Add support for multiple &lsquo;*&rsquo; in env_keep, env_check and env_delete
entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17514b55e"
>[17514b55e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/signal.c:<br>
Add SIGCHLD to the list of signals we install sudo_handler() for.
Otherwise, it is possible for the command to exit before the SIGCHLD
handler is installed. POSIX says that signals that are ignored by
default are still ignored even if the signal mask would block them. We
need to have a handler installed for SIGCHLD before the fork().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15790b69c"
>[15790b69c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c:<br>
Activate the sigevents inside the signal pipe callback itself and call
signal_pipe_cb() directly if the backend returns EINTR and the
signal_caught flag is set. This has the side effect of processing signal
events in the current pass of the event loop instead of the next one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95e92bfe4"
>[95e92bfe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c,
src/signal.c, src/sudo.h, src/sudo_exec.h:<br>
Use SUDO_EV_SIGNAL and SUDO_EV_SIGINFO instead of managing the
signal_pipe explicitly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1186f3984"
>[1186f3984]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c:<br>
Handle the possibility of the siginfo parameter in sa_sigaction handler
being NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d4a92b9b"
>[9d4a92b9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c:<br>
Add support for signal events in sudo&rsquo;s event subsystem
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a5580877"
>[2a5580877]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Restore the error message for sudo_ev_add() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e453c9797"
>[e453c9797]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_queue.h:<br>
Add workaround for clang static analyzer being confused by LIST_REMOVE
and TAILQ_REMOVE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2a83557e"
>[a2a83557e]</a></li>
</ul>
</dd>
<dt>2017-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix &ldquo;make check&rdquo; when openssl or gcrypt is used. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=787"
>Bug
#787</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=246ed8777"
>[246ed8777]</a></li>
</ul>
</dd>
<dt>2017-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Only display string version of errno if sudo_ev_add() fails for now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0244f931d"
>[0244f931d]</a></li>
</ul>
</dd>
<dt>2017-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75f5f4934"
>[75f5f4934]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Be clear that #includedir diverts control to the files in the specified
directory and, when parsing of those files is complete, returns control
to the original file. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=775"
>Bug
#775</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e51831fab"
>[e51831fab]</a></li>
</ul>
</dd>
<dt>2017-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/sr.mo, po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93c029f4f"
>[93c029f4f]</a></li>
</ul>
</dd>
<dt>2017-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f3cc3f10"
>[6f3cc3f10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c:<br>
Fix a hang introduced in the last commit. Don&rsquo;t close the pty slave
until after we have the controlling tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e18a5c7d7"
>[e18a5c7d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_pty.c:<br>
If any of std{in,out,err} are not hooked up to a tty only interpose
ourselves with a pipe if the plugin will actually log the data. This
avoids a problem with non-interactive commands where no tty is present
where sudo will consume stdin even when log_input is not enabled in
sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44dc15d02"
>[44dc15d02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62730d13d"
>[62730d13d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Update based on information from Michael Felt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01228b735"
>[01228b735]</a></li>
</ul>
</dd>
<dt>2017-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
In check_input() when switch()ing on the return value of read(), use the
default label instead of 1 for the success case. It is only reading a
single byte so the two are equivalent but it reads better using default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e67ac56b"
>[4e67ac56b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Check sudo_ev_add() return value. Coverity CID 168362
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a047b156"
>[1a047b156]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add io_open() wrapper for open(2) that retries with PERM_IOLOG if
open(2) fails with EACCES. Use io_open() instead of duplicate copies of
the same fallback code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d1ebb611"
>[1d1ebb611]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Don&rsquo;t retry the open() if set_perms() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8757691fc"
>[8757691fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix typo (fd2 vs. fd) caught by coverity, CID 168359.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237eddd95"
>[237eddd95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/hu.mo, po/hu.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32ebb4a38"
>[32ebb4a38]</a></li>
</ul>
</dd>
<dt>2017-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Warn people not to use &ndash;enable-asan in production.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=280d5ac69"
>[280d5ac69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, src/Makefile.in:<br>
Move the invocation of check_noexec into the main &ldquo;check&rdquo; target but
only run it if not cross compiling and whe CHECK_NOEXEC is not empty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80f8960fc"
>[80f8960fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Move @CHECK_NOEXEC@ to TEST_PROGS so it gets cleaned up properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecbf89509"
>[ecbf89509]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Move syslog_maxlen to the &ldquo;Integers&rdquo; section. Move syslog_goodpri and
syslog_badpri to the &ldquo;Strings at can be used in a boolean context&rdquo;
section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8468f13c6"
>[8468f13c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix a pasto that resulted in an extra (empty) syslog_goodpri list entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9bfaa386"
>[d9bfaa386]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test20.in,
plugins/sudoers/regress/sudoers/test20.json.ok,
plugins/sudoers/regress/sudoers/test20.out.ok,
plugins/sudoers/regress/sudoers/test20.toke.ok,
plugins/sudoers/regress/sudoers/test21.in,
plugins/sudoers/regress/sudoers/test21.json.ok,
plugins/sudoers/regress/sudoers/test21.out.ok,
plugins/sudoers/regress/sudoers/test21.toke.ok:<br>
Add tests for parsing tuples and syslog options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c37966555"
>[c37966555]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Allow the syslog Defaults option to be used in a &ldquo;true&rdquo; boolean context
and use the compiled in default log facility in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d8717bdd"
>[2d8717bdd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Allow a tuple to be set to boolean true. Regression introduced by
refactor of set_default_entry() in sudo 1.8.18.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=631d458b6"
>[631d458b6]</a></li>
</ul>
</dd>
<dt>2017-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Replace the list of &ldquo;dangerous&rdquo; environment variables and explain how
sudo handles the environment instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddf1fa16f"
>[ddf1fa16f]</a></li>
</ul>
</dd>
<dt>2017-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/glob.c:<br>
Fix exponential behavior in glob() with respect to multiple &lsquo;*&rsquo;. See
<a
  class="gdoc-markdown__link"
  href="https://research.swtch.com/glob"
>https://research.swtch.com/glob</a> Adapted from
<a
  class="gdoc-markdown__link"
  href="https://perl5.git.perl.org/perl.git/commit/33252c318625f3c6c89b816ee8848"
>https://perl5.git.perl.org/perl.git/commit/33252c318625f3c6c89b816ee8848</a>
1940e3e6f95
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6af6f8467"
>[6af6f8467]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
We no longer need to write to the tty if the command was killed by a
signal. Sudo will terminate itself with the same signal the command died
from. Unfortunately, we lose the &ldquo;core dumped&rdquo; bit since sudo itself
will not dump core, but there doesn&rsquo;t appear to be a way around that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dab8651ed"
>[dab8651ed]</a></li>
</ul>
</dd>
<dt>2017-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
On Linux, if the command we ran dumped core, set PR_SET_DUMPABLE to 0.
This will prevent sudo itself from dumping core in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f57629c95"
>[f57629c95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Update path to sudo_noexec.so
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0425ca81"
>[f0425ca81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
If the command terminated due to a signal, sudo will send that same
signal to itself so the parent shell knows the command died from a
signal. However, we don&rsquo;t want sudo itself to dump core.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91aec9730"
>[91aec9730]</a></li>
</ul>
</dd>
<dt>2017-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d13bf356"
>[2d13bf356]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
The fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=722"
>Bug #722</a>
contained a typo/thinko that resulted in the exit status being 0 when a
command was killed by a signal other than SIGINT. This fixes the signal
handler setup so sudo will terminate with the same signal as the
command. Bug #784.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ee50beaa"
>[9ee50beaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Better check for /etc/rc.d/rc2.d/S90sudo on AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2180eab1f"
>[2180eab1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Don&rsquo;t install the rc.d link when installing to a DESTDIR. DESTDIR is
generally only set when installing to a temporary directory for
packaging in which case the link should be made in a post-install
script.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54a23d2c5"
>[54a23d2c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, sudo.pp:<br>
In &ldquo;make install&rdquo;, install sample sudoers file as /etc/sudoers.dist and
copy it to /etc/sudoers if there is no existing /etc/sudoers. Packages
either contain /etc/sudoers (RPM and Debian) or /etc/sudoers.dist
(everything else).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bccceaea"
>[9bccceaea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, mkdep.pl:<br>
Allow &ldquo;make dist&rdquo; and &ldquo;make depend&rdquo; to work for out of tree builds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=495931f4a"
>[495931f4a]</a></li>
</ul>
</dd>
<dt>2017-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/Makefile.in:<br>
Add missing $(srcdir) prefix to shlib_exp definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7df25062"
>[f7df25062]</a></li>
</ul>
</dd>
<dt>2017-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix typo in killpg macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11c82e2f1"
>[11c82e2f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix the killpg macro for systems without killpg() in libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18c8ce10e"
>[18c8ce10e]</a></li>
</ul>
</dd>
<dt>2017-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Use the standard idiom for popping all entries from a tail queue. The
llvm checker gets confused by TAILQ_REMOVE and generate use-after-free
false positives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f1afe23f"
>[9f1afe23f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c:<br>
rewrite errpipe callbacks
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c60259bd6"
>[c60259bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c:<br>
use pipe2() with O_CLOEXEC instead of pipe() + fcntl() and FD_CLOEXEC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2176c32a"
>[c2176c32a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
init io_pipe[][] to -1, not 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e7517952"
>[6e7517952]</a></li>
</ul>
</dd>
<dt>2017-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
In sudo_sss_check_user() it is not possible for handle to be NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3daaba1c"
>[f3daaba1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix a use after free when the fqdn sudoOption is set and no hostname
value is present in sssd.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=583fac17e"
>[583fac17e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Avoid unused variable when getgrouplist_2() is available. It would be
nicer to just provide getgrouplist_2() (or the equivalent) and avoid the
ugly #ifdefs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a245fedc2"
>[a245fedc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po, po/nb.mo, po/nb.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=871b912f4"
>[871b912f4]</a></li>
</ul>
</dd>
<dt>2017-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c63dbf65"
>[7c63dbf65]</a></li>
</ul>
</dd>
<dt>2017-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
In sudo_ttyname_scan() if dir is the empty string, set errno to ENOENT
before returning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d989f8af3"
>[d989f8af3]</a></li>
</ul>
</dd>
<dt>2017-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Try to make it clear that when match_group_by_gid is enabled, groups in
sudoers are looked up by group name instead of group ID. This doesn&rsquo;t
usually cause problems, but if there are conflicting group entries (for
example, from a local /etc/group file and an LDAP or AD group database),
whether the group is resolved by name or ID can be used to work around
conflicts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b81e0b19"
>[0b81e0b19]</a></li>
</ul>
</dd>
<dt>2017-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po, po/ja.mo, po/ja.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7251f806"
>[f7251f806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_digest.c:<br>
plug memory leak in check_digest
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=491e6ae9f"
>[491e6ae9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Check return value of dispatch_pending_signals() in case we received
SIGINT or SIGQUIT before executing the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6f9f06c4"
>[c6f9f06c4]</a></li>
</ul>
</dd>
<dt>2017-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
back out unintentional change to the version number
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec5b78335"
>[ec5b78335]</a></li>
</ul>
</dd>
<dt>2017-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/da.mo, po/da.po, po/de.mo, po/de.po, po/fr.mo, po/fr.po,
po/hr.mo, po/hr.po, po/it.mo, po/it.po, po/pl.mo, po/pl.po, po/pt_BR.mo,
po/pt_BR.po, po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po,
po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04d83c41c"
>[04d83c41c]</a></li>
</ul>
</dd>
<dt>2017-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_digest.out.ok:<br>
Make check_digest test sudo_filedigest() itself instead of the
underlying SHA2 functions. That way we can test it regardless of whether
we use sudo&rsquo;s SHA2 functions or a library version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdc925118"
>[bdc925118]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that commands matched by &ldquo;sudo ALL&rdquo; are not affected by fdexec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=272a9c8e9"
>[272a9c8e9]</a></li>
</ul>
</dd>
<dt>2017-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.8.20
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba15306c9"
>[ba15306c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen for restricted_env_file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a58c7d7db"
>[a58c7d7db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Mention that iolog_user is useful for NFS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f2633807"
>[7f2633807]</a></li>
</ul>
</dd>
<dt>2017-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Only retry mkdir or create with PERM_IOLOG if errno is EACCES. Also
always use PERM_IOLOG for mkdtemp() since we cannot retry if it fails.
Since we are guaranteed to create a new directory there&rsquo;s no real need
to try w/o PERM_IOLOG in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4df6b62b5"
>[4df6b62b5]</a></li>
</ul>
</dd>
<dt>2017-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add fallback to PERM_IOLOG when making the final componenet of
iolog_dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31b16fd3e"
>[31b16fd3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/env.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add restricted_env_file which is like env_file but subject to the same
restrictions as the user&rsquo;s own environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3af85ddc"
>[b3af85ddc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
quiet a warning on older zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4621e4367"
>[4621e4367]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/timestamp.c:<br>
cast mode_t to unsigned int when printing with %o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d1e994d8"
>[8d1e994d8]</a></li>
</ul>
</dd>
<dt>2017-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f1fa00be"
>[7f1fa00be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/mkdir_parents.c,
plugins/sudoers/timestamp.c:<br>
Set umask temporarily when creating files instead of changing the mode
after the fact. This is slightly less error prone.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7668b4b42"
>[7668b4b42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
remove now-useless variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a37590b7"
>[2a37590b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mkdir_parents.c:<br>
Don&rsquo;t set owner/mode on directories that already exist, only on
newly-created ones.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2caddff3f"
>[2caddff3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/mkdir_parents.c:<br>
Explicitly set the file mode of I/O log files so the mode is not
affected by the invoking user&rsquo;s umask.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bd90d8ff"
>[1bd90d8ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/iolog.c, plugins/sudoers/mkdir_parents.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Add PERM_IOLOG so we can create I/O log files on an NFS-mounted
filesystem where root is remapped to an unprivileged user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d57491dc"
>[8d57491dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mkdir_parents.c:<br>
Restore the &lsquo;/&rsquo; in the path before returning if we encounter an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfb15106e"
>[cfb15106e]</a></li>
</ul>
</dd>
<dt>2017-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
When creating the timestamp directory, use the group of the timestamp
owner instead of inheriting the group of the parent directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dbd09144"
>[2dbd09144]</a></li>
</ul>
</dd>
<dt>2017-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
zero out nss-&gt;handle after it has been freed to make sure we cannot
free it twice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1322d7dd"
>[a1322d7dd]</a></li>
</ul>
</dd>
<dt>2017-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/iolog.c:<br>
Add iolog_flush option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4e703696"
>[c4e703696]</a></li>
</ul>
</dd>
<dt>2017-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/iolog.c:<br>
Don&rsquo;t allow the user to specify an I/O log file mode that sudo can&rsquo;t
read or write to. I/O logs must always be readable and writable by the
owner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c8d078f6"
>[8c8d078f6]</a></li>
</ul>
</dd>
<dt>2017-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
Regenerate the cat pages with newer mandoc which formats double quotes
as &ldquo;foo&rdquo; instead of ``foo&rsquo;&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b3845c1c"
>[8b3845c1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Make it clear that I/O logs will be complete even if the command run by
sudo is terminated by a signal. The I/O log buffering just prevents the
logs from being displayed in real-time as the command is running.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bdbc6b29"
>[4bdbc6b29]</a></li>
</ul>
</dd>
<dt>2017-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_monitor.c, src/signal.c, src/sudo.h:<br>
Replace pipe_nonblock() with pipe2()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35e4bd3e9"
>[35e4bd3e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/pipe2.c, mkdep.pl:<br>
Emulate pipe2() on systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aa89c49b"
>[7aa89c49b]</a></li>
</ul>
</dd>
<dt>2017-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c:<br>
Fix declaration of sudo_krb5_verify() in the case where
krb5_verify_user() is not present. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=777"
>Bug
#777</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b63df21ba"
>[b63df21ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/rcstr.c:<br>
Use HAVE_STDBOOL_H to detect systems w/o stdbool.h. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=778"
>Bug
#778</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=453360666"
>[453360666]</a></li>
</ul>
</dd>
<dt>2017-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a86d399ef"
>[a86d399ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_monitor.c, src/exec_nopty.c, src/exec_pty.c:<br>
Move SIGCHLD handling into handle_sigchld() functions and move the
remaining bits of dispatch_signal() into signal_pipe_cb()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=867fd1634"
>[867fd1634]</a></li>
</ul>
</dd>
<dt>2017-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>src/utmp.c:<br>
e_termination should be set to the value of WTERMSIG not WEXITSTATUS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78f3f8bb9"
>[78f3f8bb9]</a></li>
</ul>
</dd>
<dt>2017-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_nopty.c, src/sudo.h,
src/tcsetpgrp_nobg.c:<br>
Add tcsetpgrp_nobg() which acts like tcsetpgrp() but returns -1 for a
background process. This is safer than blocking SIGTTOU which would
cause tcsetpgrp() to succeed in the background.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af1482f48"
>[af1482f48]</a></li>
</ul>
</dd>
<dt>2017-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_nopty.c:<br>
Prevent sudo from receiving SIGTTOU when it tries to restore the
controlling terminal. There appears to be a race with the shell (bash)
which we may lose.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f074d33a"
>[2f074d33a]</a></li>
</ul>
</dd>
<dt>2017-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c, src/exec_monitor.c:<br>
Add some casts to quiet gcc warnings on Solaris and remove a now-useless
debug printf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00b4732c9"
>[00b4732c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
change debug info when suspending sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a78814409"
>[a78814409]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_monitor.c,
src/exec_nopty.c, src/exec_pty.c, src/sudo_exec.h:<br>
Reorganize the command execution code to separate out the pty and
non-pty code paths into their own event loops. The non-pty exec code is
now contained in exec_nopty.c and the pty exec code is split between
exec_pty.c (parent process) and exec_monitor.c (session leader). This
results in a small bit of duplicated code but improves readability. Some
of the duplicated code will fall out in future changes to the event
subsystem (the signal pipe).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dba84dca"
>[6dba84dca]</a></li>
</ul>
</dd>
<dt>2017-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/ttysize.c, src/exec_pty.c:<br>
Remove support for the TIOCGSIZE ioctl. Systems that use this rather
than TIOCGWINSZ are too old for sudo to build on anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b1f0c417"
>[4b1f0c417]</a></li>
</ul>
</dd>
<dt>2017-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Set the child pid to -1 after we&rsquo;ve waited for it and take care to avoid
killing pid -1. This makes it a bit more explicit and removes the need
for a separate variable to track the child&rsquo;s status. Sudo already stops
processing signals after it receives SIGCHLD so it is not vulnerable to
CVE-2017-2616.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13fcdb4f5"
>[13fcdb4f5]</a></li>
</ul>
</dd>
<dt>2017-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Update the description of strict mode to current reality. Aliases
haven&rsquo;t needed to be defined before they are used since sudo 1.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05e52c7b8"
>[05e52c7b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test3.err.ok, plugins/sudoers/visudo.c:<br>
Go back to using a Warning/Error prefix in the message printed to stderr
for alias problems. Requested by Tomas Sykora.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=daa728fd8"
>[daa728fd8]</a></li>
</ul>
</dd>
<dt>2017-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/filedigest.c, plugins/sudoers/filedigest_openssl.c:<br>
fix copyright years
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=143620bb2"
>[143620bb2]</a></li>
</ul>
</dd>
<dt>2017-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, MANIFEST, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/filedigest_gcrypt.c:<br>
Add support for using the message digest functions in libgcrypt instead
of sudo&rsquo;s own SHA2 implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9954fb9b"
>[b9954fb9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/filedigest_openssl.c:<br>
Add support for using the message digest functions in OpenSSL instead of
sudo&rsquo;s own SHA2 implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=199a594f4"
>[199a594f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/digestname.c,
plugins/sudoers/filedigest.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c, plugins/sudoers/visudo_json.c:<br>
Move the file digest code out of match.c and into filedigest.c. Inspired
by RedHat changes that used libgcrypt. Also add digest_type_to_name() to
map a sudo digest type (int) to a name (string) and use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5e7b7bd2"
>[b5e7b7bd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gmtoff.c:<br>
Check for gmtime() or localtime() returning NULL and just use a zero
offset in that case. Should not be possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00b76afe4"
>[00b76afe4]</a></li>
</ul>
</dd>
<dt>2017-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers2ldif:<br>
Add support for ROLE, TYPE, PRIVS, LIMITPRIVS, TIMEOUT, NOTBEFORE and
NOTAFTER.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3fdb26c4"
>[b3fdb26c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/timestr.c:<br>
strftime() was in C89 so use it unconditionally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd40d88ba"
>[fd40d88ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, include/sudo_debug.h,
lib/util/sudo_debug.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/gentime.c,
plugins/sudoers/gmtoff.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/parser/check_gentime.c,
plugins/sudoers/regress/sudoers/test19.in,
plugins/sudoers/regress/sudoers/test19.json.ok,
plugins/sudoers/regress/sudoers/test19.out.ok,
plugins/sudoers/regress/sudoers/test19.toke.ok,
plugins/sudoers/regress/visudo/test10.out.ok,
plugins/sudoers/regress/visudo/test10.sh,
plugins/sudoers/sudoers_version.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add NOTBEFORE and NOTAFTER command options similar to what is already
available in LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5dee1557"
>[e5dee1557]</a></li>
</ul>
</dd>
<dt>2017-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b19d05fe"
>[3b19d05fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h:<br>
Bump version to 1.11 for timeout entry in settings[]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31540e622"
>[31540e622]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.ldap.cat,
doc/sudoreplay.cat, doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b030c96a8"
>[b030c96a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/parse_args.c, src/sudo_usage.h.in:<br>
Add a command line option to specify the command timeout, as long as
sudoers does not specify a shorter time limit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c86a6a23a"
>[c86a6a23a]</a></li>
</ul>
</dd>
<dt>2017-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Better error message when the timeout value does not parse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b0622b58"
>[9b0622b58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timeout.c:<br>
set errno to ERANGE not EOVERFLOW on range error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bffd0988"
>[8bffd0988]</a></li>
</ul>
</dd>
<dt>2017-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=635f330a4"
>[635f330a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Only inhibit ASAN leak detector for tests that result in a parse error.
The parser cannot currently clean up completely on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5266f9eb"
>[e5266f9eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Plug some memory leaks found by ASAN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f3f4e028"
>[0f3f4e028]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
List SELinux role/type for &ldquo;sudo -l&rdquo; with LDAP and SSSd backends. Also
fix printing of the timeout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e954facb9"
>[e954facb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Only inherit SELinux role/type and Solaris privilege sets if the command
does not include any. Previously, a command with only a role would
inherit a type from the previous command which is not what was intended.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7f7cf7a7"
>[d7f7cf7a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixman.sh, doc/fixmdoc.sh, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, plugins/sudoers/gram.c, plugins/sudoers/gram.h,
plugins/sudoers/gram.y, plugins/sudoers/parse.h:<br>
Split out tags again so they must precede the command and not allow them
to be mixed in with options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24cdbb8de"
>[24cdbb8de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/ldap.c, plugins/sudoers/mkdefaults,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/sudoers/test17.in,
plugins/sudoers/regress/sudoers/test17.json.ok,
plugins/sudoers/regress/sudoers/test17.out.ok,
plugins/sudoers/regress/sudoers/test17.toke.ok,
plugins/sudoers/regress/sudoers/test18.in,
plugins/sudoers/regress/sudoers/test18.json.ok,
plugins/sudoers/regress/sudoers/test18.out.ok,
plugins/sudoers/regress/sudoers/test18.toke.ok,
plugins/sudoers/testsudoers.c, plugins/sudoers/timeout.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo_json.c:<br>
Add support for command timeouts in sudoers. After the timeout, the
command will be terminated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3980f1531"
>[3980f1531]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/parse.h:<br>
Merge command tags, SELinux type/role and Solaris privs settings into
&ldquo;command options&rdquo;. This relaxes the order of things so tags and other
options can be interspersed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9dcd726"
>[4f9dcd726]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/rcstr.c:<br>
supress cppcheck memory leak false positive
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb419ba06"
>[fb419ba06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strtoid.c:<br>
fix typo that prevented compilation on FreeBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47b82acd7"
>[47b82acd7]</a></li>
</ul>
</dd>
<dt>2017-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Link vsyslog.lo directly into vsyslog_test to make sure the syslog()
stub gets called. Otherwise, the real syslog will get called via libutil
on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dad181be"
>[4dad181be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/vsyslog/vsyslog_test.c:<br>
Fix final test with a format &gt; 2048 bytes. Keep track of tests run in
the syslog() stub so we can detect if the stub is not being called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f59327bc5"
>[f59327bc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/deflate.c:<br>
avoid redefining the MIN macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6263cc55a"
>[6263cc55a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.h, plugins/sudoers/timestr.c:<br>
Include parse.h in timestr.c which is where function prototype lives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09438e5b4"
>[09438e5b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix for including a sudoers file that begins with the letter &lsquo;i&rsquo;. The
hack to determine whether we are parsing an include or includedir is no
longer safe now that relative include paths are permitted. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=776"
>Bug
#776</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=359cacc40"
>[359cacc40]</a></li>
</ul>
</dd>
<dt>2017-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Display the value of syslog_maxlen in sudo -V output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c1da9b69"
>[8c1da9b69]</a></li>
</ul>
</dd>
<dt>2017-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add ignore_unknown_defaults flag to ignore unknown Defaults entries in
sudoers instead of producing a warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3742f7a46"
>[3742f7a46]</a></li>
</ul>
</dd>
<dt>2017-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Always set the close-on-exec bit on the fd used to generate the digest
(i.e. the command to run) on systems that lack fexecve(2). That way we
don&rsquo;t need to explicitly close it using #ifdefs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba8f75669"
>[ba8f75669]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po, po/ca.mo, po/ca.po,
po/eo.mo, po/eo.po, po/sv.mo, po/sv.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a8957e30"
>[1a8957e30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
first updates for 1.8.20
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca89a0a91"
>[ca89a0a91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.20
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c392e469d"
>[c392e469d]</a></li>
</ul>
</dd>
<dt>2017-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE, lib/zlib/adler32.c, lib/zlib/compress.c, lib/zlib/crc32.c,
lib/zlib/deflate.c, lib/zlib/deflate.h, lib/zlib/gzguts.h,
lib/zlib/gzlib.c, lib/zlib/gzread.c, lib/zlib/gzwrite.c,
lib/zlib/infback.c, lib/zlib/inffast.c, lib/zlib/inflate.c,
lib/zlib/inflate.h, lib/zlib/inftrees.c, lib/zlib/trees.c,
lib/zlib/uncompr.c, lib/zlib/zconf.h.in, lib/zlib/zlib.exp,
lib/zlib/zlib.h, lib/zlib/zutil.c, lib/zlib/zutil.h:<br>
update zlib to version 1.2.11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e3613340"
>[8e3613340]</a></li>
</ul>
</dd>
<dt>2017-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix fdexec=never when a digest is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26b8dc11b"
>[26b8dc11b]</a></li>
</ul>
</dd>
<dt>2017-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/match.c:<br>
Add new fdexec sudoers setting to allow choose whether execve() or
fexecve() is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=413e1100b"
>[413e1100b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Close execfd in parent processes where it is not needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde2b5eb2"
>[dde2b5eb2]</a></li>
</ul>
</dd>
<dt>2017-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/match.c:<br>
Add support for digest matching when the command is a glob-style pattern
or a directory. For example:</p>
<p>millert ALL = sha224:TmUvLkp3a2txliSC2X6CiK42626qdKsH72m/PQ== /bin/
millert ALL = sha224:TmUvLkp3a2txliSC2X6CiK42626qdKsH72m/PQ== /bin/*</p>
<p>would only match /bin/ls (assuming the digest matches).</p>
<p>Previously, only explicit path matches checked the digest.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5514ea685"
>[5514ea685]</a></p>
</li>
</ul>
</dd>
<dt>2017-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c:<br>
Add support for SASL_MECH in ldap.conf; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=764"
>Bug
#764</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df03020c4"
>[df03020c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix documentation bug, the contents of env_file have never been subject
to env_keep or env_check. However, variables are only added if they have
not already been preserved.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34ba901ba"
>[34ba901ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
examples/sudoers:<br>
Safer example for rule that can change non-root passwords. GNU getopts
allows options to follow arguments so we need to be able to deny things
like &ldquo;passwd root -q&rdquo;. From Paul &ldquo;Joey&rdquo; Clark. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=772"
>Bug
#772</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57933a8ff"
>[57933a8ff]</a></li>
</ul>
</dd>
<dt>2017-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Don&rsquo;t overwrite the return value of ldap_sasl_interactive_bind_s() by
the subsequent call to sudo_set_krb5_ccache_name(). From Paul Zirnik of
SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4f524fe7"
>[b4f524fe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
In sudo_unsetenv_nodebug(), decrement envp.env_len after removing the
variable. From Paul Zirnik of SUSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb4c3b19"
>[deb4c3b19]</a></li>
</ul>
</dd>
<dt>2017-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
only run vsyslog_test if it exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a59ab8b7"
>[1a59ab8b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, lib/util/Makefile.in,
lib/util/regress/vsyslog/vsyslog_test.c:<br>
Add regress for vsyslog replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63deb7770"
>[63deb7770]</a></li>
</ul>
</dd>
<dt>2017-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Define HAVE_NANOSLEEP if we find nanosleep in librt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09698b8a3"
>[09698b8a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo_nanosleep not nanosleep in util.exp.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f589897f8"
>[f589897f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
add nanosleep to util.exp.in if needed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e636f96c4"
>[e636f96c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.19p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08b662bf0"
>[08b662bf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/vsyslog.c:<br>
Double the size of new_fmt[] and remove an extraneous break in the %m
handling that was leftover from an earlier edit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a957a657b"
>[a957a657b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/vsyslog.c:<br>
Fix typo, want vsnprintf not snprintf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=921ad88ab"
>[921ad88ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
move va_start() in mysyslog()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=414b28dc4"
>[414b28dc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only treat failure of expand_iolog_path() as fatal if
ignore_iolog_errors is not set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=269b8602d"
>[269b8602d]</a></li>
</ul>
</dd>
<dt>2017-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/nanosleep.c, mkdep.pl, src/exec_pty.c:<br>
When waiting for the parent to grant us the tty, use nanosleep instead
of spinning to avoid hogging the CPU.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f0295373"
>[2f0295373]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Use ROOT_UID instead of 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ef26ff0b"
>[0ef26ff0b]</a></li>
</ul>
</dd>
<dt>2017-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fabb38c91"
>[fabb38c91]</a></li>
</ul>
</dd>
<dt>2017-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/interfaces.c,
plugins/sudoers/regress/visudo/test9.out.ok,
plugins/sudoers/regress/visudo/test9.sh, plugins/sudoers/visudo.c:<br>
Fix crash in visudo introduced in sudo 1.8.9 when an IP address or
network is used in a host-based Defaults entry. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=766"
>Bug
#766</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90e1f4ec3"
>[90e1f4ec3]</a></li>
</ul>
</dd>
<dt>2017-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, doc/LICENSE:<br>
Avoid using the system strnlen/strndup on AIX &lt; 6. Even if configure
correctly detects it is working on the build machine, the sudo package
may be run on a system with an old libc were it is broken.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c3a8085b"
>[0c3a8085b]</a></li>
</ul>
</dd>
<dt>2016-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.19p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c2cb6cb9"
>[6c2cb6cb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix logic bug when matching syslog priority and facility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d9255b2f"
>[0d9255b2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/HISTORY:<br>
Dell spun off Quest so simplify the history by just talking about Quest
and not Dell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87d02bfe2"
>[87d02bfe2]</a></li>
</ul>
</dd>
<dt>2016-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE:<br>
Fix copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f847570ba"
>[f847570ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9ea84383"
>[f9ea84383]</a></li>
</ul>
</dd>
<dt>2016-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
HAVE_DECL_GETGROUPLIST_2 is always defined if HAVE_GETGROUPLIST_2 is, we
need to check its value, not whether it is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6aa43ff1e"
>[6aa43ff1e]</a></li>
</ul>
</dd>
<dt>2016-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc0305480"
>[cc0305480]</a></li>
</ul>
</dd>
<dt>2016-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/sr.mo,
po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eeb191b9"
>[2eeb191b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.ac, include/sudo_compat.h,
plugins/sudoers/pwutil_impl.c, src/sudo.c:<br>
Use getgrouplist_2() on macOS if available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae76e1a22"
>[ae76e1a22]</a></li>
</ul>
</dd>
<dt>2016-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56cc9aa02"
>[56cc9aa02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c:<br>
In set_interfaces() treat a parse error as fatal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c62b7dc2e"
>[c62b7dc2e]</a></li>
</ul>
</dd>
<dt>2016-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/atofoo/atofoo_test.c:<br>
Fix a clang warning on macOS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8f612ead"
>[e8f612ead]</a></li>
</ul>
</dd>
<dt>2016-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/ko.mo, po/ko.po,
po/vi.mo, po/vi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2884816c8"
>[2884816c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
update for 1.8.19b2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fc0c36ef"
>[4fc0c36ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Ignore a boot time that is in the future, which can happen when the
clock is corrected down after boot. Otherwise, the timestamp file will
be unlinked each time sudo is run and a password is always required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=852ffa593"
>[852ffa593]</a></li>
</ul>
</dd>
<dt>2016-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/logging.c:<br>
Allow syslog priority to be negated or set to &ldquo;none&rdquo; to disable logging
successes or failures.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00b6be9df"
>[00b6be9df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Allow stdin and ttyin to be displayed too. The only one that is really
useful in sudoreplay is stdin when input is from a pipe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb1f04401"
>[cb1f04401]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/noexec/check_noexec.c:<br>
Solaris 10 wordexp() returns 127 on execve() failure like popen() does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52d6a5e40"
>[52d6a5e40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_debug.h,
lib/util/regress/atofoo/atofoo_test.c, lib/util/strtoid.c,
lib/util/sudo_debug.c, lib/util/util.exp.in:<br>
id_t is 64-bits on FreeBSD so use strtoll() there. Fixes the strtoid
regress.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=334350af4"
>[334350af4]</a></li>
</ul>
</dd>
<dt>2016-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70d3e0e98"
>[70d3e0e98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix the &ldquo;all&rdquo; setting for verifypw and listpw; nopass would never be
true even if all the user&rsquo;s entries had the NOPASSWD tag. Regression
introduce in sudo 1.8.17. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=762"
>Bug
#762</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaf6fff73"
>[aaf6fff73]</a></li>
</ul>
</dd>
<dt>2016-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/cs.mo,
plugins/sudoers/po/cs.po, plugins/sudoers/po/da.mo,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/el.mo, plugins/sudoers/po/eo.mo,
plugins/sudoers/po/eu.mo, plugins/sudoers/po/fi.mo,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/hr.mo,
plugins/sudoers/po/hr.po, plugins/sudoers/po/hu.mo,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.mo, plugins/sudoers/po/ko.po,
plugins/sudoers/po/lt.mo, plugins/sudoers/po/nb.mo,
plugins/sudoers/po/nb.po, plugins/sudoers/po/nl.mo,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/ru.mo, plugins/sudoers/po/sk.mo,
plugins/sudoers/po/sl.mo, plugins/sudoers/po/sr.mo,
plugins/sudoers/po/tr.mo, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/uk.po, plugins/sudoers/po/zh_CN.mo,
plugins/sudoers/po/zh_CN.po, po/cs.mo, po/cs.po, po/de.mo, po/de.po,
po/es.mo, po/es.po, po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/it.mo,
po/it.po, po/ja.mo, po/ja.po, po/ko.mo, po/ko.po, po/nb.mo, po/nb.po,
po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/tr.mo, po/tr.po,
po/uk.mo, po/uk.po, po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bcd0285e"
>[7bcd0285e]</a></li>
</ul>
</dd>
<dt>2016-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/openbsd.c:<br>
Just use malloc_options &ldquo;S&rdquo; on OpenBSD instead of &ldquo;AFGJPR&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1aea3f6e3"
>[1aea3f6e3]</a></li>
</ul>
</dd>
<dt>2016-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update year in license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d06a612f"
>[4d06a612f]</a></li>
</ul>
</dd>
<dt>2016-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0382a2d47"
>[0382a2d47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudoers.ldap.cat, doc/sudoreplay.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94b844ebb"
>[94b844ebb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Add SUDO_DEBUG_INSTANCE_ERROR return value for sudo_debug_register() and
check for it in places where we check the return value of
sudo_debug_register().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c5936296"
>[6c5936296]</a></li>
</ul>
</dd>
<dt>2016-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update for 1.8.19
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de0c5c48a"
>[de0c5c48a]</a></li>
</ul>
</dd>
<dt>2016-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/getspwuid.c:<br>
Add support for getpwnam_shadow() on OpenBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=695784e6e"
>[695784e6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
plugins/sudoers/policy.c, src/sudo.c:<br>
Add umask to user_info passed in from the front end to the plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f70f595b5"
>[f70f595b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/rfc1938.c:<br>
Fix sign compare warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cde3f5de"
>[0cde3f5de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac, m4/ax_append_flag.m4,
m4/sudo.m4:<br>
Use AX_APPEND_FLAG instead of SUDO_APPEND_CPPFLAGS and direct
modification of LDFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb7e82acc"
>[cb7e82acc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, plugins/sudoers/aixcrypt.exp:<br>
Remove aixcrypt.exp, it was a remnant of the 90&rsquo;s crypto wars where
crypt() was not exported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a77ecca7d"
>[a77ecca7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Remove obsolete solaris issue with snprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80217f0bb"
>[80217f0bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
SunOS 4.x is no longer supported
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3373f03b"
>[c3373f03b]</a></li>
</ul>
</dd>
<dt>2016-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/sudo_conf/test1.in, lib/util/sudo_conf.c:<br>
Plug memory leak when a particular Path is set more than once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e797fc643"
>[e797fc643]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Add sudo_ldap_is_negated() and sudo_ldap_is_negated() functions and use
them to parse negated entries instead of doing it manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6c30ba27"
>[d6c30ba27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix printing of sudoedit_follow in &ldquo;sudo -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da7373372"
>[da7373372]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
For &ldquo;sudo -l&rdquo; print sudoOption sudoedit_follow as FOLLOW.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7d6521b4"
>[c7d6521b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>config.h.in, configure, configure.ac, include/sudo_conf.h,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test1.out.ok, lib/util/sudo_conf.c,
lib/util/util.exp.in, plugins/sudoers/policy.c, src/exec_common.c,
src/load_plugins.c, src/parse_args.c:<br>
Always define _PATH_SUDO_NOEXEC, _PATH_SUDO_SESH, _PATH_SUDO_PLUGIN_DIR,
even if only defined to NULL. This means the accessors can always be
present.</p>
<p>Use RTLD_PRELOAD_VAR instead of _PATH_SUDO_NOEXEC to tell when noexec is
available.</p>
<p>Add ENABLE_SUDO_PLUGIN_API and use it instead of _PATH_SUDO_PLUGIN_DIR
to tell when the plugin API is available.</p>
<p>Add sudo_conf_clear_paths() to clear the path values so the regress
tests are not affected by compile-time settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dff4ac7f"
>[6dff4ac7f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use readline() in sudo_ldap_read_secret()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8820ff3ef"
>[8820ff3ef]</a></li>
</ul>
</dd>
<dt>2016-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Get rid of struct sudo_conf_paths and just use #defined index values to
access the path values. Make all accessors available even when the
feature is not enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cb9f298b"
>[8cb9f298b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in, lib/zlib/Makefile.in,
mkdep.pl, plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Add ASAN_CFLAGS and ASAN_LDFLAGS and use -Wc prefix in ASAN_LDFLAGS to
prevent libtool from strippign them out. Avoid using ASAN flags when
building sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdbb3e985"
>[bdbb3e985]</a></li>
</ul>
</dd>
<dt>2016-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Disable noexec for HP-UX 10.x which probably doesn&rsquo;t support LD_PRELOAD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=589e129c8"
>[589e129c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/getspwuid.c:<br>
Remove SunOS 4 support, it is not modern enough to run sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08a4a2859"
>[08a4a2859]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/getspwuid.c:<br>
Remove HP-UX 9 support, it is not modern enough for sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b56bce312"
>[b56bce312]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/auth/passwd.c,
plugins/sudoers/getspwuid.c:<br>
Remove Ultrix support, modern sudo can&rsquo;t run on Ultrix anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d11b725c"
>[9d11b725c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, lib/util/sudo_conf.c,
src/Makefile.in, src/exec_common.c, src/regress/noexec/check_noexec.c,
src/sudo_exec.h:<br>
Add regress for noexec functionality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66af45eb2"
>[66af45eb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Unbreak sudo_noexec on macOS where shared libraries and dynamic modules
are different. We still want to install sudo_noexec.so without the &ldquo;lib&rdquo;
prefix so some hackery is required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=068f96a21"
>[068f96a21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t enable noexec for AIX 5.0-5.2, we need 5.3 and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60bf13945"
>[60bf13945]</a></li>
</ul>
</dd>
<dt>2016-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Need to link sudo_noexec.so with -ldl for dlsym() on some platforms.
Otherwise, the wordexp(3) wrapper will fail due to an undefined symbol.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=761"
>Bug #761</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07cc9d815"
>[07cc9d815]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
In strict mode, go to the file/line with an undefined aliases or aliases
cycle directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb625976"
>[deb625976]</a></li>
</ul>
</dd>
<dt>2016-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/parse.h, plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test3.err.ok, plugins/sudoers/visudo.c:<br>
Store the file/lineno for alias and userspec entries so we can provide
that info if there is an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7524c231c"
>[7524c231c]</a></li>
</ul>
</dd>
<dt>2016-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/rcstr.c,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c:<br>
Add simple reference-counted string allocator and use it for passing
around references to the sudoers path. This lets us avoid making copies
of the sudoers path for the errorfile as well as each Defaults entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90995c0ac"
>[90995c0ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sha2.c:<br>
Cast len from size_t to uint64_t before bit shifting since we are adding
to count which is also uint64_t. Quiets a PVS-Studio warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5e3a7aef"
>[b5e3a7aef]</a></li>
</ul>
</dd>
<dt>2016-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/visudo/test7.out.ok,
plugins/sudoers/regress/visudo/test7.sh,
plugins/sudoers/regress/visudo/test8.err.ok,
plugins/sudoers/regress/visudo/test8.out.ok,
plugins/sudoers/regress/visudo/test8.sh:<br>
Add checks for sudoers_locale early Defaults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52e136863"
>[52e136863]</a></li>
</ul>
</dd>
<dt>2016-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sssd.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c:<br>
Go back to parsing Defaults entries in update_defaults instead of as
sudoers is read. Otherwise, we cannot properly support early defaults
like sudoers_locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79ca75280"
>[79ca75280]</a></li>
</ul>
</dd>
<dt>2016-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Add the argument vector allocated for -s and -i mode to the garbage
collector list. Avoids an ASAN warning on exit when the -s or -i flags
are used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efe957544"
>[efe957544]</a></li>
</ul>
</dd>
<dt>2016-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
add missing sudo_pw_delref/sudo_gr_delref to plug memory leak
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cefcb6f50"
>[cefcb6f50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use expr instead of POSIX sh numerical expression to avoid a syntax
error on older shells.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbf07431d"
>[dbf07431d]</a></li>
</ul>
</dd>
<dt>2016-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h:<br>
Bump plugin minor version to 10 for sudo_mode, sudo_group and sudo_user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=541ffbeec"
>[541ffbeec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix a bug in host matching where a negated sudoHost entry would prevent
other sudoHosts following it from matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17868f89d"
>[17868f89d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Zero out sd_un before calling parse_default() so we don&rsquo;t try to free
stack garbage in the ldap/sssd backends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d9b8ca32"
>[1d9b8ca32]</a></li>
</ul>
</dd>
<dt>2016-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use &ldquo;ret&rdquo;, not &ldquo;rc&rdquo; for the function return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=738c3cbf3"
>[738c3cbf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/strtomode.c, plugins/sudoers/defaults.c,
plugins/sudoers/goodpath.c, plugins/sudoers/logging.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/visudo.c, src/sesh.c,
src/sudo.c, src/sudo_edit.c:<br>
Use sys/stat.h defines instead of bare octal values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8133cdfdf"
>[8133cdfdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
Pass iolog mode, group and user from policy plugin to I/O log plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b020c9f1"
>[2b020c9f1]</a></li>
</ul>
</dd>
<dt>2016-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/sssd.c:<br>
Instead of parsing sudoers Defaults twice, parse once while reading
sudoers and then just set the parsed value in update_defaults().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df8404dbd"
>[df8404dbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Use &ldquo;struct defaults *d&rdquo; instead of &ldquo;struct defaults *def&rdquo; throughout
for consistency and to avoid confusino with &ldquo;struct def_values <em>def&rdquo;.
Use &ldquo;str&rdquo; not &ldquo;var&rdquo; for the string argument to convert and store in
sd_un for the store_</em> functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f2410896"
>[1f2410896]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
In display_bound_defaults() rename dtype arg -&gt; deftype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ca0838ba"
>[4ca0838ba]</a></li>
</ul>
</dd>
<dt>2016-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/sudo_conf/test4.err.ok,
lib/util/regress/sudo_conf/test5.err.ok,
plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test3.err.ok:<br>
Update error output to match quoting changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3c7e0f83"
>[f3c7e0f83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Avoid passing in a struct sudo_defs_types pointer to the store
functions. Pass in a pointer to the union to fill instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f532dcc5"
>[4f532dcc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.h:<br>
no longer need struct defaults forward referebce
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c28810fe"
>[3c28810fe]</a></li>
</ul>
</dd>
<dt>2016-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c, plugins/sudoers/alias.c,
plugins/sudoers/defaults.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, src/load_plugins.c:<br>
Use &ldquo;double quotes&rdquo; in messages instead of a combination of the accent
(grave) mark and apostrophe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c56179c7"
>[7c56179c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/sssd.c:<br>
Add file:linenumber prefix to all Defaults warnings so we can see them
when running sudo too. For LDAP/SSSD we print the sudoRole instead of
the file name and omit the line number.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75e29f163"
>[75e29f163]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Use sudoedit in examples instead of &ldquo;sudo vi&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9715211a"
>[a9715211a]</a></li>
</ul>
</dd>
<dt>2016-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c:<br>
Only treat an unknown Defaults entry as a parse error in visudo, not in
sudo itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6ce83ea7"
>[f6ce83ea7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/visudo.c:<br>
Instead of checking Defaults values after the fact, check them at
sudoers parse time. This makes it possible to display the file and line
number with the problem and for visudo to go right to the error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a4808518"
>[8a4808518]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/parse.h:<br>
Refactor freeing of a member_list into free_members().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aa216ed5"
>[0aa216ed5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
add_defaults() now calls sudoerserror() itself instead of the caller
assuming any error means out of member.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9de491dc2"
>[9de491dc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/mkdir_parents.c:<br>
s/rval/ret/g &ndash; old habits die hard
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=484b5718d"
>[484b5718d]</a></li>
</ul>
</dd>
<dt>2016-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Remove inaccurate XXX comment, sudo_file_parse() sends mail on parse
error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dbe50d1e"
>[2dbe50d1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
The fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=408"
>Bug #408</a>
broke editing of files in an include dir that have a syntax error.
Normally, visudo does not edit those files, but if a syntax error is
detected in one, the user gets a chance to fix it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5f444111"
>[b5f444111]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c:<br>
Make a copy of the current sudoers path when assigning errorfile. Fixes
a potential use after free in visudo when there is an error in one of
the include files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a8b60e4b"
>[5a8b60e4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoers_debug.c:<br>
sudoers_debug_register() was not setting the active debug instance to
sudoers_debug_instance when called from the I/O log plugin. This is
because it relied on sudo_debug_register to do that but
sudoers_debug_parse_flags() doesn&rsquo;t set debug_files[]
sudoers_debug_instance is already set (we can only init sudoers debug
once).</p>
<p>To work around this, just make sudoers_debug_instance the active debug
instance in sudoers_debug_register() when it is already set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3a545e41"
>[a3a545e41]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix pasto when setting I/O plugin debug files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8af335eb"
>[e8af335eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
use cp instead of *cur when comparing against plugin_path
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fdcce7fa"
>[1fdcce7fa]</a></li>
</ul>
</dd>
<dt>2016-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/mkdir_parents.c:<br>
In sudo_mkdir_parents() inherit the gid of / instead of using gid 0 for
the first component.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f903d3bd"
>[9f903d3bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
We want to inherit the gid from the parent directory when not setting
permissions on intermerdiate directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf707cf5f"
>[cf707cf5f]</a></li>
</ul>
</dd>
<dt>2016-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/mkdir_parents.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Move io_mkdir_parents() to its own file and use it in ts_mkdirs().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf62530ac"
>[bf62530ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Make the I/O log file/dir permissions and owner configurable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=271a07ff0"
>[271a07ff0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, mkdep.pl:<br>
Add vsyslog.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b058ac529"
>[b058ac529]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.19
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43bf2fdb9"
>[43bf2fdb9]</a></li>
</ul>
</dd>
<dt>2016-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Don&rsquo;t try to syntax check an unrecognized Defaults value in visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3423d0af7"
>[3423d0af7]</a></li>
</ul>
</dd>
<dt>2016-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Create I/O log files with the same gid as the parent directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7122a733a"
>[7122a733a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Check for sudo_ldap_result_last_search() returning NULL. This can&rsquo;t
happen in practice because we always call sudo_ldap_result_add_search()
first which guarantees there is a result to be found. Quiets a
PVS-Studio warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40110756"
>[a40110756]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Quiet a PVS-Studio warning about the spin loop when waiting for the
parent to assign us the terminal pgrp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a7936209"
>[5a7936209]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix incorrect strncmp() lengths. The check for USERNAME was only looking
at the first 5 characters (copy and paste error). The check for SUDO_PS1
was not checking the trailing &lsquo;=&rsquo; character (off by one error). Found by
PVS-Studio.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbd525279"
>[dbd525279]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
When checking for old-style bash functions in the environment, check for
values starting with &ldquo;() &quot; (note the trailing space) rather than &ldquo;()&rdquo;.
Bash will only treat the value as a function if the space after &ldquo;()&rdquo; is
present. The trailing space was already present in the compare string
but when it was added, the length passed to strncmp() was not updated
from 3 to 4. Found by PVS-Studio. No security impact.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c8988d48"
>[4c8988d48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Add some missing casts from uid_t/gid_t to int when printing uid/gid
values. We print these as signed so a value of -1 (no change) is
obvious. Quiets PVS-Studio warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63adb21ce"
>[63adb21ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
def_timestamp_timeout is a double so compare against 0.0 not 0 to avoid
making it appear to be an integer type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf5a12c09"
>[cf5a12c09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
When checking syslog facility or priority, move the string compare into
the body of the loop and return if it matches. If we finish the loop it
means we didn&rsquo;t find a match. This makes the code a little bit more
readable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3825cbed"
>[e3825cbed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strlcpy.c, lib/util/strnlen.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/logging.c,
plugins/sudoers/visudo_json.c, src/env_hooks.c, src/exec_pty.c:<br>
Replace bare &ldquo;;&rdquo; in the body of for() loops with &ldquo;continue;&rdquo; for
improved readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc1b4155d"
>[fc1b4155d]</a></li>
</ul>
</dd>
<dt>2016-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Update from <a
  class="gdoc-markdown__link"
  href="http://git.savannah.gnu.org/gitweb/?p=config.git"
>http://git.savannah.gnu.org/gitweb/?p=config.git</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9d677775"
>[f9d677775]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, configure, ltmain.sh, m4/libtool.m4,
m4/ltoptions.m4, m4/ltsugar.m4, m4/ltversion.m4, m4/lt~obsolete.m4:<br>
Update to libtool 2.4.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17d873458"
>[17d873458]</a></li>
</ul>
</dd>
<dt>2016-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/vsyslog.c:<br>
Use a static buffer if possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d078450fb"
>[d078450fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, include/sudo_compat.h,
lib/util/vsyslog.c, plugins/sudoers/logging.c:<br>
add vsyslog() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c96da44"
>[19c96da44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
There are now 14 tag values, not 10. Don&rsquo;t bother mentioning the number
since it keeps increasing. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=759"
>Bug
#759</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fa59b741"
>[6fa59b741]</a></li>
</ul>
</dd>
<dt>2016-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/logging.c:<br>
Use vsyslog() if available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18ff022e"
>[c18ff022e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/logging.c:<br>
Add syslog_maxlen to control the max size of syslog messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44c2679f8"
>[44c2679f8]</a></li>
</ul>
</dd>
<dt>2016-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Don&rsquo;t generate SIGTOU when restoring the terminal modes. It doen&rsquo;t make
sense to suspend the process only to restore the terminal settings since
in this case the shell has already taken ownership of the tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f632e0a63"
>[f632e0a63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, src/exec_pty.c, src/tgetpass.c:<br>
The flush parameter of sudo_term_restore() is bool, not int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b886f6b2"
>[9b886f6b2]</a></li>
</ul>
</dd>
<dt>2016-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Add wordexp() to the list of functions wrapped by sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afcdc2853"
>[afcdc2853]</a></li>
</ul>
</dd>
<dt>2016-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_noexec.c:<br>
Need RTLD_NEXT for wordexp() on dlopen() systems. It is missing on AIX
5.1 at least.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddbbcb944"
>[ddbbcb944]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_noexec.c:<br>
add missing guard around wordexp()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dbd45ff6"
>[9dbd45ff6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
expand on 1.8.18p1 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bea34c9e6"
>[bea34c9e6]</a></li>
</ul>
</dd>
<dt>2016-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.18p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45b396598"
>[45b396598]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_noexec.c:<br>
Fix configure check for seccomp filter on Linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e49ce07f"
>[8e49ce07f]</a></li>
</ul>
</dd>
<dt>2016-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_noexec.c:<br>
Use a seccomp filter on Linux to disable execve(2) and execveat(2). This
still relies on LD_PRELOAD to work so it has the same issues as the
existing mether with respect to running 32-bit binaries on a 64-bit
kernel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237e2f964"
>[237e2f964]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d24b9246a"
>[d24b9246a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5f1d4e25"
>[b5f1d4e25]</a></li>
</ul>
</dd>
<dt>2016-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure, configure.ac, src/sudo_noexec.c:<br>
Wrap wordexp(3) in sudo_noexec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0ccd947d"
>[d0ccd947d]</a></li>
</ul>
</dd>
<dt>2016-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Clean .json files created by &ldquo;make check&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96580de20"
>[96580de20]</a></li>
</ul>
</dd>
<dt>2016-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>po/ca.mo, po/da.mo, po/eo.mo, po/es.mo, po/eu.mo, po/fi.mo, po/gl.mo,
po/hr.mo, po/hu.mo, po/ko.mo, po/nl.mo, po/ru.mo, po/sk.mo, po/sl.mo,
po/sr.mo, po/tr.mo:<br>
recompile .po files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90e4538c0"
>[90e4538c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix matching when no sudoRunAsUser is present in a sudoRole. If only a
sudoRunAsGroup is present, match on the invoking user if the -g option
was specified and the group matched. If no sudoRunAsGroup is present and
the -g option was specified, allow it if it matches the passwd gid of
the runas user. This matches the behavior of the sudoers backend.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a68d6799"
>[0a68d6799]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
runas_pw can no longer be NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bccd1418"
>[1bccd1418]</a></li>
</ul>
</dd>
<dt>2016-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
RunAsGroup without RunAsUser issues
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25f90b481"
>[25f90b481]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
user_matched and group_matched must be type int, not bool
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a55c0c25"
>[9a55c0c25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c:<br>
Use RUNAS_USER_SPECIFIED and RUNAS_GROUP_SPECIFIED when deciding whether
to check runas user/group instead of checking runas_pw or runas_gr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b165a5ff7"
>[b165a5ff7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
When matching against runas_default use userpw_matches() instead of just
strcasecmp().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ff95dfaa"
>[0ff95dfaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Set RUNAS_USER_SPECIFIED when -u is specified and/or
RUNAS_GROUP_SPECIFIED when -g is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a750bebf1"
>[a750bebf1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix printing of the default runas user when a RunAsGroup is specified
but no RunAsUser is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d64153967"
>[d64153967]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Only match against runas_default if both sudoRunAsUser and
sudoRunAsGroup are missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb32867e4"
>[fb32867e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
runas_pw can no longer be NULL here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2af18c1f"
>[d2af18c1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c:<br>
Update check for whether or not the runas user was set in the ldap and
sssd backends to match the sudoers file backend. Introduces the
runas_user_set() macro to improve readability. Previously, runas_pw was
set late, now it is set before checking sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef82f792a"
>[ef82f792a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Document that negated sudoHosts are only supported by 1.8.18 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db7ce3c21"
>[db7ce3c21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Disable Address Sanitizer leak detection for tests which generate parse
errors. The parser leaks a bit on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50d0191de"
>[50d0191de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix underflow in get_ipa_hostname() when trimming trailing whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37099a6e7"
>[37099a6e7]</a></li>
</ul>
</dd>
<dt>2016-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Document negated sudoHost entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394485f27"
>[394485f27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Support negated sudoHost entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff753d1e1"
>[ff753d1e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Document negated sudoHost entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fd6edb6d"
>[7fd6edb6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Support negated sudoHost entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f51fbfa40"
>[f51fbfa40]</a></li>
</ul>
</dd>
<dt>2016-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Don&rsquo;t check the username when matching a host netgroup unless
def_netgroup_tuple is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca2a1f310"
>[ca2a1f310]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Move valid domain name check into a new valid_domain() function. Fix
memory leak if getdomainname(2) fails and avoid using heap garbage for
the domain name matching in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c73dec723"
>[c73dec723]</a></li>
</ul>
</dd>
<dt>2016-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po, po/it.mo, po/it.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7687dd652"
>[7687dd652]</a></li>
</ul>
</dd>
<dt>2016-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add back line mistakenly removed in 0cf2a9351740
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=533c9ce10"
>[533c9ce10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po, po/nb.mo, po/nb.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86ce2f89f"
>[86ce2f89f]</a></li>
</ul>
</dd>
<dt>2016-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=757"
>Bug #757</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7bd14f70"
>[f7bd14f70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix typo that broke short host name matching when the fqdn flag is
enabled. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=757"
>Bug #757</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ead485b96"
>[ead485b96]</a></li>
</ul>
</dd>
<dt>2016-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/aix.c, lib/util/fnmatch.c,
lib/util/getgrouplist.c, lib/util/secure_path.c, lib/util/setgroups.c,
lib/util/strtoid.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
plugins/sample/sample_plugin.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/check.c, plugins/sudoers/env.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c,
src/env_hooks.c, src/exec.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/load_plugins.c, src/regress/ttyname/check_ttyname.c, src/selinux.c,
src/signal.c, src/sudo.c, src/sudo_edit.c, src/tgetpass.c,
src/ttyname.c, src/utmp.c:<br>
Be consistent with the naming of the variable used to store the function
return value. Previously, some code used &ldquo;rval&rdquo;, some used &ldquo;ret&rdquo;. This
standardizes on &ldquo;ret&rdquo; and uses &ldquo;rc&rdquo; for temporary return codes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f022419a"
>[3f022419a]</a></li>
</ul>
</dd>
<dt>2016-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.po, plugins/sudoers/po/cs.mo,
plugins/sudoers/po/cs.po, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/el.po, plugins/sudoers/po/eo.po,
plugins/sudoers/po/eu.po, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.po, plugins/sudoers/po/hr.po,
plugins/sudoers/po/hu.po, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/ko.po, plugins/sudoers/po/lt.po,
plugins/sudoers/po/nb.po, plugins/sudoers/po/nl.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/ru.po, plugins/sudoers/po/sk.po,
plugins/sudoers/po/sl.po, plugins/sudoers/po/sr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/tr.po, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/uk.po, plugins/sudoers/po/vi.mo,
plugins/sudoers/po/vi.po, plugins/sudoers/po/zh_CN.mo,
plugins/sudoers/po/zh_CN.po, po/ca.po, po/cs.mo, po/cs.po, po/da.po,
po/de.mo, po/de.po, po/eo.po, po/es.po, po/eu.po, po/fi.po, po/fr.mo,
po/fr.po, po/gl.po, po/hr.po, po/hu.po, po/it.po, po/ja.mo, po/ja.po,
po/ko.po, po/nb.po, po/nl.po, po/pl.mo, po/pl.po, po/pt_BR.mo,
po/pt_BR.po, po/ru.po, po/sk.po, po/sl.po, po/sr.po, po/sv.mo, po/sv.po,
po/tr.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo,
po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33fb814e8"
>[33fb814e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, po/nn.mo, po/nn.po:<br>
Norwegian Nynorsk translation of sudo from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6eb1b8c7e"
>[6eb1b8c7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=756"
>Bug #756</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc7e2a98f"
>[fc7e2a98f]</a></li>
</ul>
</dd>
<dt>2016-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In sudoers_main() avoid setting rval prematurely. Prevents a crash when
auditing fails after successfully authenticating. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=756"
>Bug
#756</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b80309e6d"
>[b80309e6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Apply match_group_by_gid early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43084d8f9"
>[43084d8f9]</a></li>
</ul>
</dd>
<dt>2016-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0181bf2c2"
>[0181bf2c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Don&rsquo;t disable large file support for Linux, just SVR4-style /proc.
Otherwise, stat(2) may fail on Linux when running a 32-bit sudo on a
64-bit machine. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=755"
>Bug #755</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40d0ecc7d"
>[40d0ecc7d]</a></li>
</ul>
</dd>
<dt>2016-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h:<br>
Make sudo_parseln() flags hex to make it more obvious that they are bit
flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b86d2d29"
>[5b86d2d29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Don&rsquo;t try to support line continuation in /etc/environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=881814c9f"
>[881814c9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c:<br>
No line continuation support in ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0db5c123"
>[c0db5c123]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/parseln.c:<br>
Add flag to sudo_parseln() to disable line continuation support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a4ba64c8"
>[2a4ba64c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
A comment character (&rsquo;#&rsquo;) is only special at the beginning of the line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=852fe25bc"
>[852fe25bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/parseln.c,
lib/util/regress/sudo_parseln/parseln_test.c, lib/util/sudo_conf.c,
lib/util/util.exp.in, plugins/sudoers/env.c, plugins/sudoers/ldap.c,
plugins/sudoers/sudo_nss.c:<br>
Add a flags option to sudo_parseln() and a flag to only mach comments at
the beginning of the line. Use the flag when parsing ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17ad75d50"
>[17ad75d50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
If get_process_ttyname() fails for errno != ENOENT, just warn instead of
making it a fatal error. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=755"
>Bug
#755</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04340eea6"
>[04340eea6]</a></li>
</ul>
</dd>
<dt>2016-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/mkdefaults:<br>
use strict
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9572db75"
>[c9572db75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.h, plugins/sudoers/mkdefaults:<br>
Define def_foo in terms of the I_FOO index instead of a bare number.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a54b49fc"
>[7a54b49fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ee6f0d1d"
>[8ee6f0d1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Mention that match_group_by_gid has no effect when sudoers is stored in
LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dba28a945"
>[dba28a945]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, src/sudo.c:<br>
Use W_EXITCODE to construct the wait status if sudo could not execute
the command. Fixes the sudo exit value for exec(3) failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e147ba1fe"
>[e147ba1fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
fix brace style
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9570e64f"
>[a9570e64f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b610137ef"
>[b610137ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
It is possible for get_user_info() to fail for reasons other than ENOMEM
so print the warning message there rather than in main().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef4e80810"
>[ef4e80810]</a></li>
</ul>
</dd>
<dt>2016-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
match_group_by_gid is only available in sudo 1.8.18 and above
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edcb137f6"
>[edcb137f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention match_group_by_gid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aeb11a92"
>[7aeb11a92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document match_group_by_gid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c57979bfb"
>[c57979bfb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/pwutil.c:<br>
Add match_group_by_gid Defaults option to allow sites with slow group
lookups and a small number of groups in sudoers to match groups by group
ID instead of by group name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cfd55685"
>[9cfd55685]</a></li>
</ul>
</dd>
<dt>2016-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention &ldquo;sudo -l command&rdquo; bug fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12ab1383a"
>[12ab1383a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix &ldquo;sudo -l command&rdquo; in the LDAP and SSS backends when the command is
not allowed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b51b7f11"
>[5b51b7f11]</a></li>
</ul>
</dd>
<dt>2016-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Use sudo_strsplit() instead of doing the equivalent manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7918f7e7e"
>[7918f7e7e]</a></li>
</ul>
</dd>
<dt>2016-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Move SIGPIPE bug fix to 1.8.18 where it belongs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c50b83525"
>[c50b83525]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix memset size typo in previous commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a246c9570"
>[a246c9570]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/visudo/test6.out.ok,
plugins/sudoers/regress/visudo/test6.sh:<br>
Add regress for check_defaults() use-after-free bug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5cfc9584"
>[c5cfc9584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/defaults.c:<br>
Fix use-after-free in check_defaults(), reported by Radovan Sroka of
RedHat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99b969979"
>[99b969979]</a></li>
</ul>
</dd>
<dt>2016-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
SIGPIPE bug fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=403b904ab"
>[403b904ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/signal.c:<br>
Now that we ignore SIGPIPE in sudo we need to restore it at exec time.
Problem reported by Radovan Sroka of RedHat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7625f0684"
>[7625f0684]</a></li>
</ul>
</dd>
<dt>2016-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Fix appending to make_opts
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d54148bbd"
>[d54148bbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=753"
>Bug #753</a> and fix
reference to Bug #752.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a432b961"
>[5a432b961]</a></li>
</ul>
</dd>
<dt>2016-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/da.mo, po/da.po,
po/pt_BR.mo, po/pt_BR.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d89d8395"
>[8d89d8395]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba91ebb14"
>[ba91ebb14]</a></li>
</ul>
</dd>
<dt>2016-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update with logging changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f9869df7"
>[8f9869df7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Avoid duplicate warnings when we cannot write to the log file. Also send
the warning in mail if possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8a65715d"
>[d8a65715d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Move the ignoring of I/O log plugin errors into the I/O log plugin
itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e4c7eed3"
>[3e4c7eed3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Make the behavior when we cannot write to a log or audit file
configurable. File log failures are ignored by default for consistency
with syslog. Audit errors are ignored by default to allow the admin to
fix the issue. I/O log file errors are still fatal by default since if
I/O logging is activated it is usually to have an audit trail. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=751"
>Bug
#751</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed18d0d5f"
>[ed18d0d5f]</a></li>
</ul>
</dd>
<dt>2016-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Make sure we print an error message to stderr (and not just send mail)
if do_logfile() fails. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=751"
>Bug
#751</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ccd26084"
>[9ccd26084]</a></li>
</ul>
</dd>
<dt>2016-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Separate out the supplemental group ID checks from the supplemental
group name checks in user_in_group(). We now call sudo_get_gidlist()
only when the group name in sudoers begins with a &lsquo;#&rsquo; (which is seldom
used).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=043b3d223"
>[043b3d223]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil.h,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Cache the user&rsquo;s group IDs and group names separately and only resolve
group IDs -&gt; names when needed. If the sudoers file doesn&rsquo;t contain
groups we will no longer try to resolve all the user&rsquo;s group IDs to
names, which can be expensive on some systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=985ab1dd3"
>[985ab1dd3]</a></li>
</ul>
</dd>
<dt>2016-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Remove the &ldquo;op&rdquo; parameter from all the store_foo() functions except
store_list() where it is actually needed. For the others, a NULL value
indicates the setting was negated. This unconfuses static analyzers (and
perhaps humans too).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3b8e97a6"
>[c3b8e97a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Flags always have a NULL value. Regression introduced by refactor of
set_default_entry().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c2b6fb34"
>[8c2b6fb34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Set rc to true when setting a flag Defaults value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ca261c30"
>[1ca261c30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
suppress a cppcheck false positive
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25f39ff31"
>[25f39ff31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Refactor the error parts of set_default_entry() so the switch() is
mostly just calls to store_foo() functions. Avoids a lot of duplicated
error checking and silences a cppcheck false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf064e17"
>[caf064e17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
In set_default_entry() check for unsupported Defaults type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9051c92cb"
>[9051c92cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c:<br>
Add missing break in switch that sets the max limit for RLIMIT_NOFILE.
Found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17f9ba9b"
>[f17f9ba9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Check sudoers_initlocale return value and treat as oom. Coverity CID
141832
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ac77b094"
>[7ac77b094]</a></li>
</ul>
</dd>
<dt>2016-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
Set runas_pw early and adjust runaslist_matches() to deal. Since we now
set runas_default early there is no need to call update_defaults with
SETDEF_RUNAS after sudoers has been parsed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a08ea1b14"
>[a08ea1b14]</a></li>
</ul>
</dd>
<dt>2016-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/defaults.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Load sudoers group plugin via an early callback.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56ead7388"
>[56ead7388]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
System Integrity Protection on Mac OS X won&rsquo;t allow us to write directly
to /etc or /var. We must install in /private/{etc,var} instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9973c2e6"
>[a9973c2e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that fqdn, runas_default and sudoers_locale are parsed early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d17bc132d"
>[d17bc132d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
Regen for 1.8.18
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac20b8ddf"
>[ac20b8ddf]</a></li>
</ul>
</dd>
<dt>2016-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.h, plugins/sudoers/ldap.c,
plugins/sudoers/sssd.c:<br>
Avoid passing around struct defaults when it is not needed. As a result,
we no longer need to include gram.h in the LDAP and SSSD backends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d94ee11c"
>[9d94ee11c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Instead of deferring setting early defaults until we have traversed the
entire defaults list, just defer running the callbacks. Otherwise, if
the last early default setting we see has a bad value we won&rsquo;t set any
defaults of that type even if there was an earlier one that was valid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bf2d9b16"
>[0bf2d9b16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Run callbacks once in set_default_entry() instead of each of the
store_foo() functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5a7891ec"
>[e5a7891ec]</a></li>
</ul>
</dd>
<dt>2016-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Use /proc/cpuinfo on Linux instead of running lscpu
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14c9d203e"
>[14c9d203e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
If using GNU make on a multi-cpu system, use the -j flag to run make
jobs in parallel, up to the number of cpus/cores.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=820934082"
>[820934082]</a></li>
</ul>
</dd>
<dt>2016-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Only check SUDO_USER if euid is 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54efa54c0"
>[54efa54c0]</a></li>
</ul>
</dd>
<dt>2016-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Initialize sudo_user based on the SUDO_USER environment variable if
present. This allows things like :Defaults:username editor=foo&rdquo; to work
when visudo is run via sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f85e95329"
>[f85e95329]</a></li>
</ul>
</dd>
<dt>2016-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add function name in &ldquo;command resumed&rdquo; debug message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4352bb9ca"
>[4352bb9ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
If waitpid() returns 0 or -1, display a warning, this should never
happen. Add a check for unhandled wait status (also should never
happen).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=383debee9"
>[383debee9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Flag settings have a NULL value so we can&rsquo;t use that to test whether an
entry in struct early_default is set or not. Add a &ldquo;set&rdquo; member and use
that instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b150925d"
>[2b150925d]</a></li>
</ul>
</dd>
<dt>2016-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Explicitly check for a continued process with waitpid(2). Otherwise,
waitpid() will return 0 when the command is resumed after being
suspended, which we were treating the same as -1. Fixes suspend and
resume on Linux and probably others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f47a2ad7"
>[4f47a2ad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix &ndash;with-fqdn, the value should be NULL since it is a flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a014a2abd"
>[a014a2abd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Add support for early defaults to the ldap and sssd backends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16551031f"
>[16551031f]</a></li>
</ul>
</dd>
<dt>2016-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Repair symlink check in sudo_edit_openat_nofollow() on systems without
O_NOFOLLOW, it must be done relative to dfd. Previously the lstat()
would always fail, possibly leading to a false positive. Also add an
early symlink check like in sudo_edit() while here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc31c2b24"
>[cc31c2b24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
On systems that lack the O_NOFOLLOW open(2) flag, check in
sudo_edit_open() whether the path to be opened is symlink before opening
it. This is racey but we detect losing the last post-open and it is
better to fail early if possible. When editing a link to a non-existent
file, a zero-length file will be left behind but it is too dangerous to
try and remove it after the fact. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=753"
>Bug
#753</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf82b3f2b"
>[bf82b3f2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Update debug_decl for sudo_edit_openat_nofollow() Remove unused
variables when O_NOFOLLOW is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=266357511"
>[266357511]</a></li>
</ul>
</dd>
<dt>2016-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/visudo.c:<br>
Split set_default_entry() out of set_default() so we can call it from
check_defaults() to validate the defaults value. In visudo, suppress
warnings from update_defaults() and rely on check_defaults() to provide
warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c21663b2"
>[2c21663b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Split binding match code out of default_type_matches() into
default_binding_matches(). We can now use default_type_matches() in
check_defaults().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29d842dba"
>[29d842dba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Pass quiet flag to init_parser() and update_defaults() when doing first
parse of sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0ac76647"
>[e0ac76647]</a></li>
</ul>
</dd>
<dt>2016-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Update defaults in visudo after sudoers has been edited so we pick up
locale changes. The init_defaults() function will now re-init the
sudoers locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=256ca993b"
>[256ca993b]</a></li>
</ul>
</dd>
<dt>2016-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Set sudoers locale before calling sudoersparse(). We don&rsquo;t need to
restore the user&rsquo;s locale since warnings are displayed in the user&rsquo;s
locale anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65579b69e"
>[65579b69e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Set the locale to the sudoers locale when parsing and restore the user&rsquo;s
locale afterward. Also set the warn/fatal locale helper function so
warning messages during a sudoers parse are displayed in the user&rsquo;s own
locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef24bd5c3"
>[ef24bd5c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.h:<br>
Add forward decl of union sudo_defs_val to silence a gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ba2769ba"
>[6ba2769ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set the warn/fatal locale helper function in sudoers_policy_init() so
warning messages during sudoers loading are displayed in the user&rsquo;s own
locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e257f2c9e"
>[e257f2c9e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Move sudoers locale callback function to locale.c and user it in visudo
and testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5c2ca2fe"
>[b5c2ca2fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In cb_sudoers_locale() actually set the locale in addition to storing
its name. Otherwise, it won&rsquo;t take effect until sudoers lookup time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30f7ecca1"
>[30f7ecca1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix regression that would cause early defaults entries to be set
multiple times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=684161618"
>[684161618]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
sudo 1.8.18
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1349bb760"
>[1349bb760]</a></li>
</ul>
</dd>
<dt>2016-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c:<br>
Only set early defaults once, regardless of how many times the variable
is set in sudoers. This avoids running an early callback more than once.
For example, we don&rsquo;t want to call cb_fqdn() if sudo is compiled with
FQDN set but sudoers has &ldquo;Defaults !fqdn&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6daf3c5ce"
>[6daf3c5ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Make strings const in functions that set defaults as they are not
modified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e9173df7"
>[5e9173df7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In cb_fqdn() just return if the fqdn flag is set to false.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08e369572"
>[08e369572]</a></li>
</ul>
</dd>
<dt>2016-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Implement callbacks for defaults flags (T_FLAG).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7218dbe54"
>[7218dbe54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
add debug_decl for cb_runas_default and cb_sudoers_locale
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d92a396da"
>[d92a396da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c:<br>
Convert fqdn to a callback and add it to the list of early defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b18c6e6"
>[36b18c6e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
Change defaults callbacks to take a union sudo_defs_val * instead of a
char *.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b42640ef"
>[9b42640ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
When updating defaults, process certain values fist since they can
influence how other defaults are parsed. Currently, runas_default and
sudoers_locale are processed early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ddc95a47"
>[6ddc95a47]</a></li>
</ul>
</dd>
<dt>2016-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
Fix typo introduced in last commit to fix fill_args() overflow check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eae8bc9d5"
>[eae8bc9d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
Fix underflow checl in fill_args().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73b0ac4bc"
>[73b0ac4bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
Make sure we account for the trailing NUL when computing arg_size in
fill_args(). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=752"
>Bug #752</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88ba54f47"
>[88ba54f47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
Make arg_size and arg_len unsigned since we do bitwise operations on
them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f816c440"
>[0f816c440]</a></li>
</ul>
</dd>
<dt>2016-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Only remove backup files as part of &ldquo;make uninstall&rdquo; when INSTALL_BACKUP
is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f5b8cf75"
>[6f5b8cf75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Only keep backups of installed files on HP-UX where you cannot unlink a
shared library that is in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=144e3bb53"
>[144e3bb53]</a></li>
</ul>
</dd>
<dt>2016-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Ignore a missing or insecure #includedir, it is not a fatal error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c80f8ae"
>[19c80f8ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Make sure we always call sudoerserror() on error in read_dir_files(),
otherwise sudo will not treat it as a fatal error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=026b403f2"
>[026b403f2]</a></li>
</ul>
</dd>
<dt>2016-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set the sudoers locale before opening the sudoers file. Previously the
sudoers locale was used when evaluating sudoers but not during the
inital parse. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=748"
>Bug #748</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bfe2e796"
>[7bfe2e796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/locale.c:<br>
Add debugging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a176e850"
>[5a176e850]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Don&rsquo;t link test programs with the sudoers-specific locale code if we
don&rsquo;t need to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c56d52ea6"
>[c56d52ea6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
sudoreplay does not need to link with the sudoers-specific locale code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbd2cf290"
>[cbd2cf290]</a></li>
</ul>
</dd>
<dt>2016-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
new_digest was prototyped as static but not explicitly declared static.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81e33e1f5"
>[81e33e1f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Some versions of HP-UX 11.11 do not expose struct sockaddr_ext if
_XOPEN_SOURCE_EXTENDED is defined. Only define _XOPEN_SOURCE_EXTENDED if
we can still compile net/if.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc354aae"
>[9cc354aae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Some versions of HP-UX make will ignore suffix rules if they are empty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c7680e01"
>[9c7680e01]</a></li>
</ul>
</dd>
<dt>2016-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t skip debug printfs in handle_sigchld() just because execve()
returned an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66ab525f1"
>[66ab525f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat/charclass.h, include/sudo_compat.h, lib/util/aix.c,
lib/util/getaddrinfo.c, lib/util/sudo_debug.c,
plugins/sudoers/insults.h,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/sudoers_debug.c:<br>
Add definition of nitems for those without it and use it throughout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f683cbd58"
>[f683cbd58]</a></li>
</ul>
</dd>
<dt>2016-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff2cd3cf2"
>[ff2cd3cf2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.17p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4118f66f"
>[c4118f66f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h:<br>
Set user groups in exec_setup() if they were not already set by
policy_init_session(). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=749"
>Bug
#749</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed9b457eb"
>[ed9b457eb]</a></li>
</ul>
</dd>
<dt>2016-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Point the reader to the sudoers manual for the list of supported
arguments after the plugin path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f98b481af"
>[f98b481af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
forgot to update date in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a85a8892"
>[3a85a8892]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Fix typo; cn=default should be cn=defaults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c7eb07e0"
>[6c7eb07e0]</a></li>
</ul>
</dd>
<dt>2016-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Fold lines at 80 characters for the clean: target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72f18cff9"
>[72f18cff9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Remove mksiglist, siglist.c, mksigname, signame.c as part of &ldquo;distclean&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5348d32ab"
>[5348d32ab]</a></li>
</ul>
</dd>
<dt>2016-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea23932af"
>[ea23932af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
LDAP sudoers doesn&rsquo;t support negated users, groups or netgroups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e14bc65"
>[d9e14bc65]</a></li>
</ul>
</dd>
<dt>2016-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=746"
>Bug #746</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63a242889"
>[63a242889]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
When matching paths with glob(3), check returned matches against
user_cmnd first if it is fully-qualified. This avoids a lot of needless
stat(2) calls and avoids a mismatch between safe_cmnd and argv[0] if
there are multiple matches with the same inode/dev due to links. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=746"
>Bug
#746</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2de0027d"
>[e2de0027d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add execve failure in pty bug fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74c2dc780"
>[74c2dc780]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce28b15ec"
>[ce28b15ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In handle_sigchld() fix the return value when we&rsquo;ve already received an
exec error. We don&rsquo;t want to overwrite the error status but we do need
to indicate that the command is no longer running. Fixes as hang on
execve(2) error when running in a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a86233c1"
>[8a86233c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_common.c:<br>
Move sudo_debug_execve() call into sudo_execve().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ec4d9918"
>[1ec4d9918]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/sr.mo,
po/sr.po, po/sv.mo, po/sv.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12ab5b810"
>[12ab5b810]</a></li>
</ul>
</dd>
<dt>2016-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update for 1.8.17 final
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd8e3b5fb"
>[bd8e3b5fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c:<br>
Fix setting of hard stack limit when stack_hard is not specified in
/etc/security/limits. When 64-bit resource limits are supported we can
use the default value of 8388608 512-byte blocks directly. We should
only resort to using RLIM_SAVED_MAX for 32-bit resource limits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1052a7205"
>[1052a7205]</a></li>
</ul>
</dd>
<dt>2016-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=734b43c6b"
>[734b43c6b]</a></li>
</ul>
</dd>
<dt>2016-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Ignore empty ipa_hostname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=316925982"
>[316925982]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Better martching of ipa_hostname in sssd.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6a21bd53"
>[c6a21bd53]</a></li>
</ul>
</dd>
<dt>2016-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, pathnames.h.in,
plugins/sudoers/sssd.c:<br>
Use the value of ipa_hostname from /etc/sssd/sssd.conf if present
instead of the system hostname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b027676c"
>[9b027676c]</a></li>
</ul>
</dd>
<dt>2016-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
When matching host, short-circuit the loop when we get a match. Only
check username as part of the netgroup when netgroup_tuple is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccf88d3bb"
>[ccf88d3bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Avoid using !strcmp()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71cac91f"
>[a71cac91f]</a></li>
</ul>
</dd>
<dt>2016-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
SSSD doesn&rsquo;t handle netgroups, we have to ensure they are correctly
filtered in sudo. The rules may contain mixed sudoUser specification so
we have to check not only for netgroup membership but also for user and
group matches. Adapted from a patch from Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6beccf19"
>[b6beccf19]</a></li>
</ul>
</dd>
<dt>2016-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Return PAM_CONV_ERR from the conversation function if getpass returns
NULL or the user pressed ^C.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a24f4b824"
>[a24f4b824]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/base64.c:<br>
Make base64 decoding table-driven.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a35bab8c"
>[7a35bab8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Back out cfa26b99228f, it was already fixed differently. Caught by
regress checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc517ba9f"
>[fc517ba9f]</a></li>
</ul>
</dd>
<dt>2016-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Allow double-quoted groups and netgroups to be part of a Defaults spec.
From Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c3c03ea2"
>[6c3c03ea2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
The sudoers.ldap manual is installed in section 4 or 5, not 1m or 8.
Also fix the section for ldap.conf cross-references.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=638acc28c"
>[638acc28c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Fix copy pasta, &ldquo;sudoNotAfter&rdquo; not &ldquo;sudoNotBefore&rdquo;. Add missing word
&ldquo;order&rdquo; in a sentence describing sudoOrder.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77331392e"
>[77331392e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
For sudo -ll (long list) print the SSSD role just like we do for the
LDAP backend. Adapted from sudo-1.8.6p3-sssdrulenames.patch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=461a419d0"
>[461a419d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Setting timestamp_timeout less than zero only lasts until the next
reboot. Adapted from a RedHat patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6b41b165"
>[c6b41b165]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/it.mo, po/it.po, po/nb.mo, po/nb.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77179d69d"
>[77179d69d]</a></li>
</ul>
</dd>
<dt>2016-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/conversation.c:<br>
fputs() is now specified as returning non-negative on success, not
explicitly zero. Fixes a failure on glibc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53ebf69af"
>[53ebf69af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Don&rsquo;t try to dereference replies[] if it is a NULL pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e93b4aa68"
>[e93b4aa68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
sudo_version should be unsigned
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db2c73293"
>[db2c73293]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/ca.mo,
po/ca.po, po/cs.mo, po/cs.po, po/da.mo, po/da.po, po/de.mo, po/de.po,
po/fr.mo, po/fr.po, po/hr.mo, po/hr.po, po/ja.mo, po/ja.po, po/pl.mo,
po/pl.po, po/sk.mo, po/sk.po, po/sv.mo, po/sv.po, po/uk.mo, po/uk.po,
po/vi.mo, po/vi.po, po/zh_CN.mo, po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d36fbec2"
>[4d36fbec2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, plugins/sudoers/po/ko.mo,
plugins/sudoers/po/ko.po, po/ko.mo, po/ko.po:<br>
Korean translation for sudo and sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63dbb7425"
>[63dbb7425]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/auth/pam.c:<br>
Ignore PAM_SESSION_ERR from pam_open_session() since this can apparently
happen on systems using Solaris-derived PAM. Other errors from
pam_open_session() are treated as fatal. This avoids the &ldquo;policy plugin
failed session initialization&rdquo; error message seen on some systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e1084c08"
>[5e1084c08]</a></li>
</ul>
</dd>
<dt>2016-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, src/exec_pty.c:<br>
Don&rsquo;t read from stdin when flushing final buffers in blocking mode.
Reading from the pipe can block too if the other end is not closed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=356e74e1d"
>[356e74e1d]</a></li>
</ul>
</dd>
<dt>2016-05-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention visudo -x change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3514817d"
>[e3514817d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test1.json.ok,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test15.json.ok,
plugins/sudoers/regress/sudoers/test16.json.ok,
plugins/sudoers/regress/sudoers/test2.json.ok,
plugins/sudoers/visudo_json.c:<br>
There&rsquo;s no need to escape forward slashes in JSON output. While it is
legal to escape a forward slash, it is not required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58ffab1df"
>[58ffab1df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Document that in 1.8.12 sudo started being able to check the NIS domain
on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab861b92d"
>[ab861b92d]</a></li>
</ul>
</dd>
<dt>2016-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Better description of the I/O logging pipe issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccece8c01"
>[ccece8c01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In del_io_events(), avoid reading from the pty master in blocking mode.
We now do two passes, one with SUDO_EVLOOP_NONBLOCK and another that
could block if stdin is a pipe. This ensures we consume the pipe until
EOF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f694cc22"
>[8f694cc22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c:<br>
Improve debug info in sudo_ev_add() and sudo_ev_del()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=223b251c1"
>[223b251c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In pty_close(), call del_io_events with the SUDO_EVLOOP_ONCE flag so the
event loop will exit after a single run through. Otherwise, we may hang
at exit on non-BSD systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=994f86b40"
>[994f86b40]</a></li>
</ul>
</dd>
<dt>2016-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8cfe6211"
>[d8cfe6211]</a></li>
</ul>
</dd>
<dt>2016-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Bump I/O buffer size to 64K. We don&rsquo;t use PIPE_BUF or _PC_PIPE_BUF for
this because that corresponds to the value for atomic pipe writes. The
actual pipe buffer is much larger on modern systems and 64K is what BSD
and Linux support for large pipe buffers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38f4ba224"
>[38f4ba224]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
I/O logging bug fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb247aa76"
>[fb247aa76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t use SUDO_EVLOOP_NONBLOCK when flushing buffers at pty close time,
only when the user suspends sudo. Fixes a problem where all buffers
might not get flushed at exit when logging I/O. Reproducible via &ldquo;sudo
tar cf - foo | (cd /tmp &amp;&amp; sudo tar xf -)&rdquo; on OpenBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b6cb9d65"
>[3b6cb9d65]</a></li>
</ul>
</dd>
<dt>2016-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Don&rsquo;t try to fflush(export_fp) or ferror(export_fp) if export_fp is
NULL, which can happen on the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb4510597"
>[eb4510597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/exec.c, src/exec_pty.c, src/sudo.c,
src/tgetpass.c:<br>
O_NOCTTY has no effect when opening /dev/tty as the open can only
succeed if there is already a controlling tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2e541aef"
>[a2e541aef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Do not need to open /dev/tty with O_NONBLOCK, it doesn&rsquo;t block on first
open like a physical terminal. By definition, if you have a controlling
tty, the first open (which might block) has already occurred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b3937724"
>[3b3937724]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Use O_NOCTTY when opening a tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e6b6fd0f"
>[4e6b6fd0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3161c05a0"
>[3161c05a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
No need to set pass to NULL after freeing at the end of the loop it
since it is already set to NULL each time through the loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9dde1480"
>[b9dde1480]</a></li>
</ul>
</dd>
<dt>2016-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
SELinux fixes in 1.8.17.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67eb6dad0"
>[67eb6dad0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.h, plugins/sudoers/logwrap.c:<br>
Check fprintf() return value in writeln_wrap() and return the number of
characters actually written, or -1 on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787912fa9"
>[787912fa9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Check fputs() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=009f3e645"
>[009f3e645]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Do not write directly to stdout/stderr, use sudo_printf which calls the
conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d526c1af"
>[9d526c1af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/securid5.c:<br>
Do not write directly to stdout/stderr, use sudo_printf which calls the
conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90fdb6a31"
>[90fdb6a31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/visudo_json.c:<br>
Use ferror() after fflush() to check the error status of the stdio
stream we wrote to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=578af5af4"
>[578af5af4]</a></li>
</ul>
</dd>
<dt>2016-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
printf() returns &lt; 0 on error, not explicitly -1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d63ed8a9"
>[6d63ed8a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat,
doc/sudoers.ldap.cat, doc/sudoreplay.cat, doc/visudo.cat:<br>
Regen for 1.8.17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7461dcf9a"
>[7461dcf9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that you need to preserve EDITOR and/or VISUAL for env_editor
to be useful.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d25500afa"
>[d25500afa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Fix last commit, now that argc is not reset we need to explicitly start
the copy from argv[1]. From Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2085809f"
>[a2085809f]</a></li>
</ul>
</dd>
<dt>2016-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/selinux.c:<br>
cosmetic change to warning string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea5bd18b9"
>[ea5bd18b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Avoid adding an extraneous warning string to sudoers.pot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f46e0720"
>[4f46e0720]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
Use EOVERFLOW, not ENOMEM for overflow conditions. For snprintf() and
vsnprintf(), POSIX says we should return -1 and set errno to EOVERFLOW
if the size param is &gt; INT_MAX; also zero out the string in this case
(not mandated by POSIX) for safety.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e014159fe"
>[e014159fe]</a></li>
</ul>
</dd>
<dt>2016-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Now that pam_open_session() failure is fatal we should print and log an
error from it. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=744"
>Bug #744</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0be9895d"
>[b0be9895d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Repair SELinux support, broken by 397722cdd7ec. From Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3622b0f2"
>[d3622b0f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/pwutil.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Remove sudo_mkpwcache() and sudo_mkgrcache(). We now create the caches
as needed on demand. Also remove calls to sudo_freepwcache() and
sudo_freegrcache() that are immediately followed by execve(), they are
not needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05db5aa3b"
>[05db5aa3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Eliminate use of setpwent()/endpwent() and setgrent()/endgrent(). Sudo
never iterates over the passwd or group file. Rename
sudo_set{pw,gr}ent() -&gt; sudo_mk{pw,gr}cache() and use
sudo_free{pw,gr}cache() instead of sudo_end{pw,gr}ent().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23d288563"
>[23d288563]</a></li>
</ul>
</dd>
<dt>2016-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.h:<br>
Remove unnecessary NULL checks in the RUNAS_CHANGED macro. The only
place where the pointers could be NULL is in visudo_json.c but we
already check for &ldquo;next&rdquo; being NULL there. Quiets a cppcheck warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b4de8404"
>[8b4de8404]</a></li>
</ul>
</dd>
<dt>2016-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
In replay_session() free iov at the end of the function (if needed)
instead of after processing each line from the timing file. Coverity CID
104843.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=398ddd046"
>[398ddd046]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add io_log_read() and io_log_gets() to hide differences between
gzread/fread and gzgets/fgets. Check for premature EOF and error from
io_log_read(). Also sanity check the index in the timing file. Coverity
CID 104630.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e528cad79"
>[e528cad79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Break up io_callback() into read_callback() and write_callback() to make
it clear that we can&rsquo;t get an event with both read and write set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b04c49dbd"
>[b04c49dbd]</a></li>
</ul>
</dd>
<dt>2016-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In io_callback() make sure we clear SUDO_EV_READ if we close the fd. It
should not be possible for SUDO_EV_READ to be set when revent is
non-NULL but this makes static analyzers happier. Coverity CID 104124.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=094854adf"
>[094854adf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
In sudo_krb5_copy_cc_file() move the close(ofd) to the done: label so we
only have to cleanup in one place. Coverity CID 104577.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=194c7c806"
>[194c7c806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix memory leak in sudo_netgroup_lookup() in the non-error case.
Coverity CID 104572, 104573, 104574, 104575.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0568fa90c"
>[0568fa90c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix fd leak in sudo_krb5_copy_cc_file() if restore_perms() fails.
Coverity CID 104571.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=334b8f36a"
>[334b8f36a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Free the events and event base before returning from replay_session().
Coverity CID 104116, 104117.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b84b2e680"
>[b84b2e680]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
In sudo_edit_create_tfiles(), fix fd leak if sudo_edit_mktemp() fails.
Coverity CID 104114.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e99e3c26c"
>[e99e3c26c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix fd leak in sudo_edit_open_nonwritable() if dir_is_writable() returns
an error. Coverity CID 104113.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=355cce457"
>[355cce457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix memory leak of sesh_args in selinux_edit_copy_tfiles(). Coverity CID
104112.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d733dd778"
>[d733dd778]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix memory leak in get_editor() if resolve_editor() fails with an error.
Coverity CID 104107.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbda2e7b5"
>[bbda2e7b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix memory leak on error if sudo_new_key_val() fails. Coverity CID
104103.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f359e038"
>[0f359e038]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Ignore the return value of the initial sudoersparse(), before we have
actually edited any files. Coverity CID 104078.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96f5fe4cd"
>[96f5fe4cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Ignore the result of send() on exec error, if it fails the other end of
the pipe is gone and we are headed for exit. Coverity CID 104066.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00727a310"
>[00727a310]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
In fill_args() clean up properly if there is an internal overflow (which
should not be possible). Coverity CID 104569.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edd1a1cac"
>[edd1a1cac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gc.c:<br>
Fix logic inversion in sudoers_gc_remove(), currently unused. Coverity
CID 104568
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ecc6025a"
>[0ecc6025a]</a></li>
</ul>
</dd>
<dt>2016-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
In io_mkdirs(), change the order from stat then mkdir, to mkdir then
stat. This more closely matches what &ldquo;mkdir -p&rdquo; does. Coverity CID
104120.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c56a812ea"
>[c56a812ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
In ts_mkdirs(), change the order from stat then mkdir, to mkdir then
stat. This more closely matches what &ldquo;mkdir -p&rdquo; does. Coverity CID
104119.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=602ed0c74"
>[602ed0c74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Newer versions of Ubuntu have switched from using the &ldquo;admin&rdquo; group to
the &ldquo;sudo&rdquo; group to align with Debian. create_admin_success_flag() now
accepts either one.
<a
  class="gdoc-markdown__link"
  href="https://bugs.launchpad.net/ubuntu/&#43;source/sudo/&#43;bug/1387347"
>https://bugs.launchpad.net/ubuntu/+source/sudo/+bug/1387347</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ee1e5bbc"
>[5ee1e5bbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Cast off_t printed via printf(3) instead of assuming it is long long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a86430d4"
>[7a86430d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Instead of using stat(2) to see if the admin flag file exists and
creating it if not, just try to create the file and treat EEXIST as a
non-error. Coverity CID 104121.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=151e03fb5"
>[151e03fb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sample/README:<br>
README file for the sample plugin that tells the user how to build,
install and enable it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb1232806"
>[bb1232806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Fix compilation error and export sample_policy struct. From Michael
Evans
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc82c3193"
>[cc82c3193]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.8.17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b4f2bbff"
>[3b4f2bbff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Sudo 1.8.17
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b043207b"
>[3b043207b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Check return value of restore_perms() in vlog_warning(). Coverity CID
104079.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b302e09a"
>[7b302e09a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/editor.c:<br>
Fix memory leaks in resolve_editor() in the error path. Coverity CID
104109, 104110
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4cb1c0a1"
>[b4cb1c0a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix memory leak of gid_list in sudoers_policy_exec_setup() in the error
path. Coverity CID 104111.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61c53c8e6"
>[61c53c8e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix fd leak in do_logfile() if we fail to lock the log file. Coverity
CID 104115.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0690793c2"
>[0690793c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix memory leak of sss_result in sudo_sss_lookup() Coverity CID 104106
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a5149d73"
>[7a5149d73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix fd leak in open_io_fd() if gzdopen/fdopen fails. Coverity CID 104105
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bfdf0c2b"
>[4bfdf0c2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix fd leak in io_nextid() in error path. Coverity CID 104104
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=444d2a5c3"
>[444d2a5c3]</a></li>
</ul>
</dd>
<dt>2016-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Check lseek() return value. Coverity CID 104061.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=562b5cb59"
>[562b5cb59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Ignore ts_write() return value when disabling an entry with a bogus
timestamp. We ignore the timestamp entry even it doesn&rsquo;t succeed.
Coverity CID 104062.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60e740dd6"
>[60e740dd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/match.c,
plugins/sudoers/tsgetgrpw.c, src/exec.c, src/exec_pty.c, src/sudo.c:<br>
Cast the return value of fcntl() to void when setting FD_CLOEXEC.
Coverity CID 104063, 104064, 104069, 104070, 104071, 104072, 104073,
104074
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6473d55aa"
>[6473d55aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/getgrent.c:<br>
Cast the return value of fcntl() to void when setting FD_CLOEXEC.
Coverity CID 104075, 104076, 104077.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9471ec45a"
>[9471ec45a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Avoid a false positive. Coverity CID 104056.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7fa036d4"
>[a7fa036d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Avoid calling fclose(NULL) on error in export_sudoers(). Coverity CID
104091.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0a3c6bb9"
>[c0a3c6bb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
In fill_args(), check for &ldquo;arg_size == 0&rdquo; instead of
&ldquo;sudoerslval.command.args == NULL&rdquo; since the latter leads Coverity to
imply that sudoerslval.command.args could be NULL later on. Coverity CID
104093.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a09e45d33"
>[a09e45d33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Avoid calling fclose(NULL) if the sudoers file is not secure and
restore_perms() fails. Coverity CID 104090.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64142f9da"
>[64142f9da]</a></li>
</ul>
</dd>
<dt>2016-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.h, plugins/sudoers/toke_util.c:<br>
In fill_args(), replace loop that increments arg_size() with a simple
add and mask. Should prevent a false positive from Coverity CID 104094.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5725acd1c"
>[5725acd1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
In parse_expr(), move the &ldquo;bad&rdquo; label after the &ldquo;default&rdquo; case in the
switch(), not before it. This seemed to confuse Covertity, resulting in
a false positive, CID 104095.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf734419b"
>[bf734419b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
For &ldquo;sudoreplay -l&rdquo;, not all predicates may be shortened to a single
character. Both &lsquo;c&rsquo; and &rsquo;t&rsquo; have more than one possibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea44d3757"
>[ea44d3757]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo.c:<br>
pid_t is defined by POSIX as a signed integer type so we don&rsquo;t need a
cast when comparing to -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=829917f00"
>[829917f00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
In dispatch_signal() for stopped processes check for tcgetpgrp()
returning -1. Also change checks from &ldquo;saved_pgrp != -1&rdquo; to &ldquo;fd != -1&rdquo;.
Coverity CID 104098.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c70da6dcd"
>[c70da6dcd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
In relabel_tty() always jump to bad: on error, regardless of the value
of se_state.enforcing. On error, return -1 if enforcing, else 0.
Coverity CID 104099.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cd22f290"
>[2cd22f290]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.ac:<br>
Define NO_LEAKS when sudo is built with Coverity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20b411e7"
>[b20b411e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
In io_callback() if we write the complete buffer and find that there is
no associated reader just return as there is nothing else to be done. In
practice is it not possible for SUDO_EV_READ to be set if revent is NULL
but an early return is harmless and possibly easier to understand.
Coverity CID 104124.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ce39df38"
>[4ce39df38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Handle read() returning -1 when creating temporary files. Coverity CID
104100
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ea903623"
>[6ea903623]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix cut and paste error when checking cols for 0. Coverity CID 104081
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20ff6023a"
>[20ff6023a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Use a single debug message for cache hit or store to avoid another
situation where they get out of sync. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=743"
>Bug
#743</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2152f053b"
>[2152f053b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Sync the &ldquo;cache hit&rdquo; debug messages with the &ldquo;cached&rdquo; debug messages.
This fixes a bug where we could dereference a NULL pointer when we look
up a negative cached entry which is stored as a NULL passwd or group
struct pointer. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=743"
>Bug
#743</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a152afaeb"
>[a152afaeb]</a></li>
</ul>
</dd>
<dt>2016-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove the check for __sprintf_chk when checking for _FORTIFY_SOURCE,
Some implementations are purely header-file based. As long as we can
link a test program using sprintf() when _FORTIFY_SOURCE=2 it should be
safe to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d5c6fbd6"
>[9d5c6fbd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Remove configure checks for dev_t, id_t, ino_t, ptrdiff_t, size_t and
ssize_t. These have been specified by either ANSI C or POSIX for long
enough that if the system doesn&rsquo;t support them, it is unlikely to be
able to compile sudo anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0f12d81a"
>[e0f12d81a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Do group setup in policy_init_session() before calling out to the
plugin. This makes it possible for the pam_group module to change the
group in pam_setcred(). It&rsquo;s a bit bogus since pam_setcred() is
documented as not changing the group or user ID, but pam_group is
shipped with stock Linux-PAM so we need to support it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f88da1c1a"
>[f88da1c1a]</a></li>
</ul>
</dd>
<dt>2016-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Add missing newline when logging to a file (not syslog) and loglinelen
is set to a non-positive number. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=742"
>Bug
#742</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57b1dc5e1"
>[57b1dc5e1]</a></li>
</ul>
</dd>
<dt>2016-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
style fix; fork_cmnd should start on a new line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e9702580"
>[3e9702580]</a></li>
</ul>
</dd>
<dt>2016-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c, src/signal.c,
src/sudo.c, src/tgetpass.c:<br>
Ignore SIGPIPE for the duration of sudo and not just in a few select
places. We have no control over what nss, PAM modules or sudo plugins
might do so ignoring SIGPIPE is safest.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4309d4ae"
>[b4309d4ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Use string_to_security_class() instead of pulling SECCLASS_CHR_FILE from
flask.h. Avoids a warning with new SELinux includes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70cf5674b"
>[70cf5674b]</a></li>
</ul>
</dd>
<dt>2016-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
When determining whether or not &ldquo;sudo -l&rdquo; or &ldquo;sudo -b&rdquo; should prompt for
a password, take all sudoers sources into account. In other words, if
both file and ldap sudoers sources are in use, &ldquo;sudo -v&rdquo; will now
require that all entries in both sources be have NOPASSWD (file) or
!authenticate (ldap) in the entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6717c3202"
>[6717c3202]</a></li>
</ul>
</dd>
<dt>2016-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sudo_auth.h:<br>
If the auth_type setting in /etc/security/login.cfg is set to PAM_AUTH
but pam_start() fails, fall back to use AIX authentication. Skip the
auth_type check if sudo is not compiled with PAM support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2d1c457c"
>[b2d1c457c]</a></li>
</ul>
</dd>
<dt>2016-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
The header for sudo.conf(5) should be SUDO.CONF(5) not SUDO(5).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cd6d4ec7"
>[7cd6d4ec7]</a></li>
</ul>
</dd>
<dt>2016-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
hook_version and hook_type are unsigned so use 0, not -1 in the final
(empty) entry. Quiets a warning on Solaris Studio 12.2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5cafb433"
>[c5cafb433]</a></li>
</ul>
</dd>
<dt>2016-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, config.h.in, configure, configure.ac, plugins/sudoers/auth/pam.c:<br>
Work around an ambiguity in the PAM spec with respect to the
conversation function. It is not clear whether the &ldquo;struct pam_message
**msg&rdquo; is an array of pointers or a pointer to an array. Linux-PAM and
OpenPAM use an array of pointers while Solaris/HP-UX/AIX uses a pointer
to an array. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=726"
>Bug #726</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48dff8408"
>[48dff8408]</a></li>
</ul>
</dd>
<dt>2016-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/eo.mo, po/eo.po,
po/it.mo, po/it.po, po/ja.mo, po/ja.po, po/ru.mo, po/ru.po, po/sr.mo,
po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=935367260"
>[935367260]</a></li>
</ul>
</dd>
<dt>2016-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=738"
>Bug #738</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5b8ad480"
>[f5b8ad480]</a></li>
</ul>
</dd>
<dt>2016-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po, po/nb.mo, po/nb.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=514c62fc2"
>[514c62fc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/fnmatch/fnm_test.in:<br>
Better test for negated character classes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70f2f4eee"
>[70f2f4eee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/fnmatch/fnm_test.in:<br>
Add test for negated character class
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f222a20b1"
>[f222a20b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/cs.mo, po/cs.po,
po/de.mo, po/de.po, po/fr.mo, po/fr.po, po/pl.mo, po/pl.po, po/pt_BR.mo,
po/pt_BR.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo,
po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=159aa2ba6"
>[159aa2ba6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1a3da417"
>[d1a3da417]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fnmatch.c:<br>
Fix negation of character classes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=547a9b7d9"
>[547a9b7d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix the check for whether a user is allowed to lists another user&rsquo;s
privileges. The &ldquo;matched&rdquo; variable is not boolean, it can also have the
value UNSPEC so we need to check explicitly for true. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=738"
>Bug
#738</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95dd64ea7"
>[95dd64ea7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Log the number of PAM messages in the conversation function at debug
level.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dd7ac20e"
>[5dd7ac20e]</a></li>
</ul>
</dd>
<dt>2016-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t check for posix_spawn() or posix_spawnp() if we were unable to
find spawn.h. This should only be a problem on systems with broken
headers. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=730"
>Bug #730</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b079ee7e"
>[4b079ee7e]</a></li>
</ul>
</dd>
<dt>2016-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update for 1.8.16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d796d629"
>[1d796d629]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/sudoers2ldif:<br>
Fix documented bug with duplicate role names and turn on perl warnings.
Based on a diff from Aaron Peschel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99978e4a7"
>[99978e4a7]</a></li>
</ul>
</dd>
<dt>2016-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/aix.c:<br>
Add declaration of getauthdb() for AIX 5.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47adf0d3c"
>[47adf0d3c]</a></li>
</ul>
</dd>
<dt>2016-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6848a7f1a"
>[6848a7f1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fafbc9a55"
>[fafbc9a55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Add a note that &ndash;with-solaris-audit is only for Solaris 11 and above.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=737"
>Bug #737</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8509229eb"
>[8509229eb]</a></li>
</ul>
</dd>
<dt>2016-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove last remnants of the deprecated &ndash;with-stow option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f7b0b115"
>[4f7b0b115]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
src/load_plugins.c needs _PATH_SUDO_CONF so allow it to be overridden
via the Makefile like other consumers of _PATH_SUDO_CONF. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=735"
>Bug
#735</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42548a1b0"
>[42548a1b0]</a></li>
</ul>
</dd>
<dt>2016-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_util.h, lib/util/aix.c,
lib/util/getgrouplist.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/set_perms.c, src/sudo.c:<br>
Add an administrative domain to the passwd/group cache key for AIX which
can have different name &lt;-&gt; ID mappings depending on whether the
database is local, LDAP, etc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cbba7d66"
>[6cbba7d66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Fedora dropped &ldquo;core&rdquo; from the name some time ago so just match on
f[0-9] for the rpm distro name provided by pp. Since the version numbers
of Fedora and RHEL are so different switch to defining variables to
indicate which features should be enabled. Works for Fedora 23.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b19ea440"
>[9b19ea440]</a></li>
</ul>
</dd>
<dt>2016-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Treat fedora core like centos/rhel for package building.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25abb7218"
>[25abb7218]</a></li>
</ul>
</dd>
<dt>2016-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Plug some memory leaks in the tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73163c750"
>[73163c750]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c:<br>
If realloc of sudoerslval.command.args fails, reset
sudoerslval.command.args as well as arg_len and arg_size after freeing
sudoerslval.command.args.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2224cfd00"
>[2224cfd00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
When freeing the iobs after pty tear-down, also free the associated
event structures. Quiets a memory leak warnings from address sanitizer
and valgrind.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7e5ae1e5"
>[a7e5ae1e5]</a></li>
</ul>
</dd>
<dt>2016-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
iolog_compress should be bool, not int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cbe1edcf"
>[5cbe1edcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Quiet address sanitizer leak detector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bebdfea7"
>[3bebdfea7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/gc.c, plugins/sudoers/sudoers.h:<br>
Simple garbage collection (really a to-be-freed list) for the sudoers
plugin. Almost identical to what sudo.c uses. Currenly only the
environment strings are collected at exit time which is enough to quiet
address sanitizer&rsquo;s leak detector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21d6fc3d8"
>[21d6fc3d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Rename gc_cleanup to gc_run and remove I/O plugins from the plugin list
when freeing them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b2fbed45"
>[7b2fbed45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Free up the garbage via an atexit() handler instead of requiring a call
to gc_exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23aeb0b5e"
>[23aeb0b5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Plug a memory leak in sudo_edit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78ac87cd9"
>[78ac87cd9]</a></li>
</ul>
</dd>
<dt>2016-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention &ndash;enable-asan
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd9f01006"
>[fd9f01006]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Try to deconfuse static analyzers a bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=873d5cc5f"
>[873d5cc5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Avoid possible NULL deref found by clang analyzer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23a82ab2e"
>[23a82ab2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Add &ndash;enable-asan configure flag to enable address sanitizer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d0b0f061"
>[3d0b0f061]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo_plugin_int.h, src/ttyname.c:<br>
Add support for garbage collecting info passed to the plugin before exit
to appease address sanitizer&rsquo;s leak detector (and valgrind&rsquo;s leak
checker). We can&rsquo;t free these sooner since the plugin may be using the
memory. For plugin API 2.0 it should be make clear that the plugin must
make a copy of the data in the arrays passed in to the plugin&rsquo;s open()
function. Only enabled if NO_LEAKS is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b3ef072f"
>[9b3ef072f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c:<br>
auth_getpass() returns a dynamically allocated copy of the plaintext
password which needs to be freed after checking (and clearing) it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab11cdde2"
>[ab11cdde2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Remove sudo_fatalx() calls from format_plugin_settings().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91bce65e2"
>[91bce65e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
fn_free_result() (aka sss_sudo_free_result() in sss_sudo.c) handles a
NULL poiner so there&rsquo;s no need to check before calling it. Add missing
initialization of sss_sudo_result to NULL in sudo_sss_setdefs().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e48ceebf1"
>[e48ceebf1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Add missing return when user is not found in sudo_sss_result_get().
Previously we fell through to the default case which just logged a debug
message and returned so this just avoids the extra (generic) debug
message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60ea106cc"
>[60ea106cc]</a></li>
</ul>
</dd>
<dt>2016-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/gettime.c:<br>
Fix a warning on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6635f97b3"
>[6635f97b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Pass updated user_env_out, not envp, to the I/O open function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5507b2328"
>[5507b2328]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Pass updated argv/envp to the I/O open function like the plugin API
documents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca330adad"
>[ca330adad]</a></li>
</ul>
</dd>
<dt>2016-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add check for I/O log file handle being NULL. This could only happen if
the front-end calls iolog_open with argc == 0 but actually runs a
command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6886d234"
>[a6886d234]</a></li>
</ul>
</dd>
<dt>2016-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Additional debugging for pwutil functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c28f59271"
>[c28f59271]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/aix.c:<br>
When calling setauthdb(), save the old registry value so we can restore
it properly. Previously we were setting the registry to unrestricted
instead of actually restoring it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41a32a1c5"
>[41a32a1c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Use SUDOERS_DEBUG_UTIL not SUDO_DEBUG_UTIL in the plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=578be4f39"
>[578be4f39]</a></li>
</ul>
</dd>
<dt>2016-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
When parsing debug entries, don&rsquo;t make a lower value override a higher
one. For example, for &ldquo;pcomm@debug,all@warn&rdquo; the &ldquo;all@warn&rdquo; should
not set pcomm to &ldquo;warn&rdquo; when it is already at &ldquo;debug&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5016fa23d"
>[5016fa23d]</a></li>
</ul>
</dd>
<dt>2016-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Set sudoedit_checkdir=false in command_details when it is disabled in
sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ed519125"
>[7ed519125]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/strtobool.c, plugins/sudoers/ldap.c,
plugins/sudoers/sssd.c, src/sudo_edit.c:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4e5b135b"
>[f4e5b135b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
If the user runs &ldquo;sudoedit /&rdquo; we will receive ENOENT from openat(2) and
sudoedit will try to create a file with the null string. If path is
empty, open the cwd instead so sudoedit can give a sensible error
message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=726b4dc96"
>[726b4dc96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strtobool.c:<br>
Log an error for invalid boolean strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=399ec8b2b"
>[399ec8b2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix off by one error in new SET_FLAG macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bae35c05"
>[5bae35c05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the race with sudoedit_checkdir in 1.8.15.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec37504df"
>[ec37504df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document sudoedit_checkdir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42671f6b9"
>[42671f6b9]</a></li>
</ul>
</dd>
<dt>2016-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
There are no systems that support O_SEARCH/O_PATH that do not also
support O_DIRECTORY so simplify the definition of DIR_OPEN_FLAGS a bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e300f1e4"
>[5e300f1e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dae4d3f3"
>[5dae4d3f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Add 1.8.16 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=647bfa4a9"
>[647bfa4a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/defaults.c,
src/sudo.c:<br>
Make sudoedit_checkdir the default and update the documentation
accordingly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de0208a01"
>[de0208a01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add a SET_FLAG macro to simplify parsing command details boolean flags.
Previously, flags were only set and never cleared even if the boolean
value was false. This was not a problem as there were no default flags
for the plugin to enable. That will change in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e719d954e"
>[e719d954e]</a></li>
</ul>
</dd>
<dt>2016-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Need to be root when switching to a different user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b96e94f3"
>[4b96e94f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Use O_SEARCH on systems without O_PATH if present. It can be used for a
similar purpose.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f481f128"
>[9f481f128]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_edit.c:<br>
Use faccessat(2) for directory writability instead of doing the checks
manually where possible. This also allows us to remove the #ifdef
<strong>linux</strong> bits since we no longer use fstat(2) on Linux with an O_PATH
fd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1b148120"
>[c1b148120]</a></li>
</ul>
</dd>
<dt>2016-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add &ldquo;I/O LOG FILES&rdquo; section to the manual and move many of the details
from the log_input and log_output descriptions to it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f8a29dfc"
>[7f8a29dfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use &ldquo;Nm sudoers&rdquo; when talking about the plugin and &ldquo;Em sudoers&rdquo; when
talking about the sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad8c96403"
>[ad8c96403]</a></li>
</ul>
</dd>
<dt>2016-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/zlib.exp:<br>
Remove gzopen_w which is only defined on Windows.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12a8becd7"
>[12a8becd7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Work around the buggy pread(2) on 32-bit HP-UX 11.00 by using pread64()
on that platform.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bcef637f"
>[4bcef637f]</a></li>
</ul>
</dd>
<dt>2016-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/sssd.c, plugins/sudoers/testsudoers.c:<br>
Add support for matching the entire netgroup tuple (user, host, domain).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a77989a3"
>[5a77989a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use asprintf() to generate the netgroup filter instead of using lots of
concatenation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d7bc0311"
>[9d7bc0311]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Add missing sudo_debug_exit_ssize_t_v1 symbol.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f97eba71f"
>[f97eba71f]</a></li>
</ul>
</dd>
<dt>2016-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
In sudo_netgroup_lookup() only build up the search filter once instead
of once per netgroup_base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55fdf66c1"
>[55fdf66c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
It is safe to pass ldap_msgfree() a NULL pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c454656d"
>[7c454656d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
On overflow, warn before freeing anything.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae5a2f407"
>[ae5a2f407]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Use user_runhost and user_srunhost instead of user_host and user_shost.
Fixes &ldquo;sudo -l -h other_host&rdquo; for LDAP and sssd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f991ff78"
>[0f991ff78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Silence warning in digest_matches() on systems with no fexecve(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=089b468de"
>[089b468de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix free() of invalid pointer introduced in the commit that stripped
whitespace between a &lsquo;!&rsquo; and the name in a sudoOption.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9308d05e7"
>[9308d05e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix free() of invalid pointer introduced in the commit that stripped
whitespace between a &lsquo;!&rsquo; and the name in a sudoOption.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14b454cc0"
>[14b454cc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Add missing dfd argument to the version of sudo_edit_openat_nofollow()
for systems without O_NOFOLLOW.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051fe2d4c"
>[051fe2d4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Update description of sudoedit_checkdir. Reported by Sander Bos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ed9f6172"
>[8ed9f6172]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
No need to check whether the fd we opened is really a directory in
sudo_edit_open_nonwritable() since if not, the openat() will fail with
ENOTDIR anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7c80913e"
>[c7c80913e]</a></li>
</ul>
</dd>
<dt>2016-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, doc/UPGRADE, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/sudo_compat.h, src/sudo_edit.c:<br>
Rewritten sudoedit_checkdir support that checks all the dirs in the path
and refuses to follow symlinks in writable directories. This is a better
fix for CVE-2015-5602. Adapted from a diff by Ben Hutchings. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=707"
>Bug
#707</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68c1073fe"
>[68c1073fe]</a></li>
</ul>
</dd>
<dt>2016-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/ca.mo, po/ca.po,
po/fi.mo, po/fi.po, po/hu.mo, po/hu.po, po/sr.mo, po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39db87e62"
>[39db87e62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, doc/sudo_plugin.cat, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, include/sudo_plugin.h, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h, src/exec.c,
src/exec_common.c, src/selinux.c, src/sesh.c, src/sudo.c, src/sudo.h,
src/sudo_exec.h:<br>
Add support for using fexecve() if supported on commands that are
checksummed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20977d44"
>[b20977d44]</a></li>
</ul>
</dd>
<dt>2015-12-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Call openat() with the basename not the full path. From Ben Hutchings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97e86c74f"
>[97e86c74f]</a></li>
</ul>
</dd>
<dt>2015-12-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, plugins/sudoers/policy.c:<br>
Fix compilation with &ndash;disable-shared
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=330a20969"
>[330a20969]</a></li>
</ul>
</dd>
<dt>2015-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_common.c:<br>
Check for existing dso in LD_PRELOAD and only add it if it is not
already present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88a634b7f"
>[88a634b7f]</a></li>
</ul>
</dd>
<dt>2015-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Clarify when SIGINT and SIGQUIT are relayed by sudo to the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=584aebe73"
>[584aebe73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, src/load_plugins.c:<br>
Actually use the plugin_dir Path setting in sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad1068c1e"
>[ad1068c1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
The Path setting for the plugin directory is &ldquo;plugin_dir&rdquo; not &ldquo;plugin&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0123cf63f"
>[0123cf63f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
lib/util/sudo_conf.c, src/exec_common.c:<br>
Allow sudo.conf Path settings to disable path names (by setting the
value of NULL).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55531958d"
>[55531958d]</a></li>
</ul>
</dd>
<dt>2015-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/selinux.c, src/sudo.h:<br>
Change noexec flag in selinux_execve() from int to bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a57bae1e"
>[7a57bae1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c, src/sudo_exec.h:<br>
Refactor code to set LD_PRELOAD (or the equivalent) in the environment
into a preload_dso() function. Also avoid allocating a new copy of the
environment array if the size of the array does not change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=453648080"
>[453648080]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add missing square brackets in configure option descriptions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b338830c"
>[3b338830c]</a></li>
</ul>
</dd>
<dt>2015-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the names of the I/O log files and mention buffering. Document
that I/O logs are in gzip format by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6f8994a5"
>[a6f8994a5]</a></li>
</ul>
</dd>
<dt>2015-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add BASHOPTS to initial_badenv_table[]; from Stephane Chazelas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=290dafda3"
>[290dafda3]</a></li>
</ul>
</dd>
<dt>2015-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
When parsing sudoOptions that include an operator (!, +, +=, -=) strip
out any whitespace on either side of the operator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d46d0fbc6"
>[d46d0fbc6]</a></li>
</ul>
</dd>
<dt>2015-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers2ldif:<br>
Strip whitespace around &lsquo;!&rsquo;, &lsquo;=&rsquo;, &lsquo;+=&rsquo; and &lsquo;-=&rsquo; in Defaults entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2add4ae2"
>[e2add4ae2]</a></li>
</ul>
</dd>
<dt>2015-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the race condition between the digest check and command
execution.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96201a275"
>[96201a275]</a></li>
</ul>
</dd>
<dt>2015-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
When checking the query results, don&rsquo;t set user_matches in the netgroup
pass unless sudo_ldap_check_non_unix_group() returns true. This was
preventing the mail_no_user sudoOption from being effective.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29e9273a4"
>[29e9273a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
In list mode, we always want to clear FLAG_NO_USER and FLAG_NO_HOST
regardless of whether or not there was an actual match. Otherwise,
warning mail may be sent which is not what we want in list mode. This is
consistent with what the sudoers file backend does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c9b487b0"
>[9c9b487b0]</a></li>
</ul>
</dd>
<dt>2015-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.h, plugins/sudoers/toke_util.c:<br>
Use size_t for length parameters in the fill functions used by the
lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=604d35034"
>[604d35034]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Use yy_size_t for digest_len since newer flex uses yy_size_t for yyleng.
Old flex uses int for yyleng so we need to use a cast to avoid a sign
compare warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90e6bf318"
>[90e6bf318]</a></li>
</ul>
</dd>
<dt>2015-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, README, configure, configure.ac,
plugins/sudoers/regress/sudoers/test1.in, sudo.pp:<br>
Use https in sudo.ws urls
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d13bb39d1"
>[d13bb39d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Use https in urls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79be007bd"
>[79be007bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
sudo 1.8.16
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48a95973a"
>[48a95973a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
When preserving variables from the invoking user&rsquo;s environment, if there
are duplicates only keep the first instance.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c0354730"
>[9c0354730]</a></li>
</ul>
</dd>
<dt>2015-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/parseln.c, lib/util/sudo_debug.c,
plugins/sudoers/timestamp.c:<br>
Add debug_return_ssize_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b12390ab"
>[8b12390ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Avoid compilation error on Solaris 10 with Stun Studio 12. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=727"
>Bug
#727</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6dad0001"
>[c6dad0001]</a></li>
</ul>
</dd>
<dt>2015-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po, po/da.mo, po/da.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c752d91a3"
>[c752d91a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention ssp configure fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fd8a7df3"
>[7fd8a7df3]</a></li>
</ul>
</dd>
<dt>2015-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/fr.mo, po/fr.po, po/it.mo, po/it.po,
po/ja.mo, po/ja.po, po/nb.mo, po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo,
po/pt_BR.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo,
po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a012fba17"
>[a012fba17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t use CPPFLAGS for the -fstack-protector check. Otherwise on systems
with _FORTIFY_SOURCE support we&rsquo;ll get an error due to the lack of
optimization flags. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=725"
>Bug
#725</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=640e867db"
>[640e867db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
When checking for stack protector support we need to actually link the
test program.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=448f7f25f"
>[448f7f25f]</a></li>
</ul>
</dd>
<dt>2015-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Preserve LDFLAGS when checking for stack protector as they may include
rpath settings to allow the stack protector lib to be found. Avoid using
existing CFLAGS since we don&rsquo;t want the compiler to optimize away the
stack variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b87ac0f0a"
>[b87ac0f0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Better configure test for -fstack-protector. Some gcc installations may
be missing the ssp library even though the compiler supports it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdcb83be9"
>[bdcb83be9]</a></li>
</ul>
</dd>
<dt>2015-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Set errno to EISDIR instead of ENOTDIR if directory is writable since
ENOTDIR can be a legitimate errno. This avoids a bogus &ldquo;directory is
writable&rdquo; error in that case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ecf12daa"
>[9ecf12daa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Fix the check for whether to include 32-bit arch in Mac OS X packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e244b0cda"
>[e244b0cda]</a></li>
</ul>
</dd>
<dt>2015-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=202dd1ccf"
>[202dd1ccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, src/sudo_edit.c:<br>
When creating a new file, sudoedit will now check that the file&rsquo;s parent
directory exists before running the editor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d66b840d"
>[5d66b840d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/match.c:<br>
Add always_query_group_plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7761af6d7"
>[7761af6d7]</a></li>
</ul>
</dd>
<dt>2015-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>ABOUT-NLS, MANIFEST:<br>
Add ABOUT-NLS from GNU gettext.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f1912148"
>[4f1912148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, config.h.in, configure, configure.ac, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/policy.c, plugins/sudoers/sudoers_version.h, src/sudo.c,
src/sudo.h, src/sudo_edit.c:<br>
Add directory writability checks for sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c50cead83"
>[c50cead83]</a></li>
</ul>
</dd>
<dt>2015-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Latest.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54a10726c"
>[54a10726c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Ignore the SUDO_CONV_PROMPT_ECHO_OK flag when echo is enabled. This was
preventing a match of SUDO_CONV_PROMPT_ECHO_ON which resulted in a
masked password instead of an echoed one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e91a10ce4"
>[e91a10ce4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c:<br>
Repair challenge/response prompting for BSD authentication which got
broken while it was converted to use the conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2afb2f204"
>[2afb2f204]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h:<br>
Use the auth_getpass (and the plugin conversation fuction) for Tru64
SIA. This prevents sudo from sleeping while holding the tty ticket lock.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ecda6d65"
>[2ecda6d65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE, plugins/sudoers/env.c:<br>
For env_reset, SHELL should be set based on the target user, not the
invoking user unless preserved via env_keep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=588460405"
>[588460405]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e21a5a1cf"
>[e21a5a1cf]</a></li>
</ul>
</dd>
<dt>2015-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Hungarian and Slovak translations
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=507150d8f"
>[507150d8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/hu.mo,
plugins/sudoers/po/hu.po, plugins/sudoers/po/sk.mo,
plugins/sudoers/po/sk.po, po/sk.mo, po/sk.po:<br>
Add new Slovak and Hungarian translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c7431ecb"
>[4c7431ecb]</a></li>
</ul>
</dd>
<dt>2015-10-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Remove S_ISREG check from sudo_edit_open(), it is already done in the
caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dc5151d5"
>[6dc5151d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Open sudoedit files with O_NONBLOCK and fail if they are not regular
files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37dff5fbc"
>[37dff5fbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/visudo.c, src/tgetpass.c:<br>
It is possible for WIFSTOPPED to be true even if waitpid() is not given
WUNTRACED if the child is ptraced. Don&rsquo;t exit the waitpid() loop if
WIFSTOPPED is true, just in case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ad68edd6"
>[5ad68edd6]</a></li>
</ul>
</dd>
<dt>2015-09-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/de.mo,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/it.mo,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/nb.mo,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pt_BR.mo,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/vi.mo,
plugins/sudoers/po/zh_CN.mo, po/cs.mo, po/de.mo, po/fi.mo, po/fr.mo,
po/gl.mo, po/it.mo, po/ja.mo, po/nb.mo, po/pl.mo, po/pt_BR.mo, po/uk.mo,
po/vi.mo, po/zh_CN.mo:<br>
rebuild .mo files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f883a80a"
>[3f883a80a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/pt_BR.po, po/pt_BR.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f98b2b260"
>[f98b2b260]</a></li>
</ul>
</dd>
<dt>2015-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo_noexec.c:<br>
There&rsquo;s no point in trying to interpose protected versions of the exec
family of functions. Many modern C libraries use hidden symbols for the
functions and syscalls defined in libc such that they cannot be
overridden inside libc itself. We have to just wrap all the exec
variants plus system and popen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37abc1b7e"
>[37abc1b7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
List all the functions wrapped by sudo_noexec.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5086dfde"
>[d5086dfde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
The section is now called &ldquo;EXEC and NOEXEC&rdquo; and it is above, not below.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b81f0b88"
>[6b81f0b88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_noexec.c:<br>
Also wrap popen(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=282b92133"
>[282b92133]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_noexec.c:<br>
Also interpose system(3). On glibc systems you cannot interpose the
syscalls used internally by libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8695ae104"
>[8695ae104]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Set active debug instance to sudo_debug_instance() during the
conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04457ecee"
>[04457ecee]</a></li>
</ul>
</dd>
<dt>2015-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
LOGNAME and USERNAME are set the same way as USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52ec12f52"
>[52ec12f52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Document behavior when the command dies from a signal in EXIT STATUS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4be48e784"
>[4be48e784]</a></li>
</ul>
</dd>
<dt>2015-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=722"
>Bug #722</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99322bcf3"
>[99322bcf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
When the command sudo is running is killed by a signal, sudo will now
send itself the same signal with the default signal handler instead of
exiting. The bash shell appears to ignore some signals, e.g. SIGINT,
unless the command is killed by that signal. This makes the behavior of
commands run under sudo the same as without sudo when bash is the shell.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=722"
>Bug #722</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9486afb4e"
>[9486afb4e]</a></li>
</ul>
</dd>
<dt>2015-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Adjust set_logname description to new behavior when any of LOGNAME, USER
or USERNAME are preserved.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b7db55db"
>[7b7db55db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/env.c:<br>
If some, but not all, of the LOGNAME, USER or USERNAME environment
variables have been preserved from the invoking user&rsquo;s environment, sudo
will now use the preserved value to set the remaining variables instead
of using the runas user. This ensures that if, for example, only LOGNAME
is present in the env_keep list, that sudo will not set USER and
USERNAME to the runas user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29a3fcd06"
>[29a3fcd06]</a></li>
</ul>
</dd>
<dt>2015-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix passing of the callback pointer to the conversation function. This
was preventing the on_suspend and on_resume functions from being called
on PAM systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0649a261e"
>[0649a261e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h:<br>
Explicitly mark large hex constants unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c7ff33ea"
>[2c7ff33ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Cast sizeof(entry) to off_t before making it a negative offset for
lseek(). Fixes &ldquo;sudo -k&rdquo; on Solaris and probably others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=118680eab"
>[118680eab]</a></li>
</ul>
</dd>
<dt>2015-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add explicit mention of sudo&rsquo;s netgroup semantics since they differ from
most other netgroup consumers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=824021b51"
>[824021b51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fi.po, po/fi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80673750c"
>[80673750c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix potential double free of the cookie when sudo is suspended at the
password prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cfce655b"
>[0cfce655b]</a></li>
</ul>
</dd>
<dt>2015-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.po, plugins/sudoers/po/zh_CN.po, po/cs.po,
po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71d024632"
>[71d024632]</a></li>
</ul>
</dd>
<dt>2015-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.po, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.po, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.po, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.po, po/de.po, po/fr.po, po/gl.po, po/it.po,
po/ja.po, po/nb.po, po/pl.po, po/uk.po, po/vi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51c2ef7ae"
>[51c2ef7ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=719"
>Bug #719</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43fd191cf"
>[43fd191cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
SIGHUP is now relayed to the command. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=719"
>Bug
#719</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ac17b302"
>[3ac17b302]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
When a terminal device is closed, SIGHUP is sent to the controlling
process associated with that terminal. It is not sent to the entire
process group so sudo needs to relay SIGHUP to the command when it is
not being run in a new pty. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=719"
>Bug
#719</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f6f1cd15"
>[3f6f1cd15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention visudo bug in 1.8.14
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b12500993"
>[b12500993]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
We reserved two slots at the end of the editor argv for the line number
and the file name. However, resolve_editor() adds &ldquo;&ndash;&rdquo; before the file
names so the +line_number is interpreted as a file name, not a line
number so we need to overwrite the &ldquo;&ndash;&rdquo; as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6cb1b65c"
>[b6cb1b65c]</a></li>
</ul>
</dd>
<dt>2015-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/sig2str.c,
lib/util/strsignal.c:<br>
Remove checks for __sys_siglist and __sys_signame. They are internal to
libc and there are no known systems that export those symbols that do
not already export the single underbar or no-underbar versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2979ed80"
>[a2979ed80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po, po/es.mo, po/es.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ff93c307"
>[9ff93c307]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4132f184e"
>[4132f184e]</a></li>
</ul>
</dd>
<dt>2015-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Restore old signal handlers before tty settings. That way SIGTTOU is at
its original value if sudo_term_restore() should fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38b7aea6b"
>[38b7aea6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document what happens when the on_suspend/on_resume callbacks return an
error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=241174ea2"
>[241174ea2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h, plugins/group_file/group_file.c,
plugins/group_file/plugin_test.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/policy.c, plugins/system_group/system_group.c,
src/hooks.c:<br>
No need to have version macros for hooks, callbacks and the sudoers
group plugin. We can just use the main sudo API macros. The sudoers
group plugin macros are preserved for source compatibility but are not
documented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edfeee6a7"
>[edfeee6a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Properly escape the backslash before a comma in an example so the
example rule is parsable by visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c45559e6c"
>[c45559e6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Ignore callbacks if major version doesn&rsquo;t match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f1d67505"
>[2f1d67505]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac,
include/compat/timespec.h, lib/util/Makefile.in, lib/util/gettime.c,
lib/util/utimens.c, plugins/sudoers/Makefile.in,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/sudo_edit.c:<br>
Remove include/compat/timespec.h. Systems old enough to lack struct
timespec are too old to build a modern sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67183d74f"
>[67183d74f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=713"
>Bug #713</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69d51b759"
>[69d51b759]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Fill in cstat if exec_setup() fails. Previously it was only filled in
for an execve() failure. Fixes an unkillable sudo process when
exec_setup() fails and I/O logging is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d08faa73a"
>[d08faa73a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix running commands as non-root when neither setresuid() not setreuid()
are available. At this point we are already root so setuid() must
succeed. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=713"
>Bug #713</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27c2a3d15"
>[27c2a3d15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Cast uid_t to unsigned int when printing as %u
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0dbfbee03"
>[0dbfbee03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention time stamp file locking changes, fix some spelling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2042aa2b7"
>[2042aa2b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with latest changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fd97f6ba"
>[3fd97f6ba]</a></li>
</ul>
</dd>
<dt>2015-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Avoid touching the time stamp directory for &ldquo;sudo -k command&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dedc65a7"
>[9dedc65a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Bring back the check for time stamp files that predate the boot time.
Instead of truncating we now unlink the file since another process may
be sleeping on the lock.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69050f934"
>[69050f934]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/iolog.c,
plugins/sudoers/timestamp.c:<br>
Use pread(2) and pwrite(2) where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d0a623fd"
>[7d0a623fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
sudo_term_* already restart themselve for all but SIGTTOU so we don&rsquo;t
need to use our own restart loops.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70914b332"
>[70914b332]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/locking.c:<br>
Set errno to EINVAL if sudo_lock_* is called with a bad type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=448b18de2"
>[448b18de2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Adjust new locking to work when tty_tickets is disabled. We need to use
per-tty/ppid locking to gain exclusive access to the tty for the
password prompt but use a separate (short term) lock that is shared
among all sudo processes for the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0487b6da9"
>[0487b6da9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Allow the time stamp lock to be interrupted by signals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b8a4381"
>[f9b8a4381]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>lib/util/term.c, plugins/sudoers/check.c, plugins/sudoers/sudoreplay.c,
src/tgetpass.c:<br>
Implement suspend/resume callbacks for the conversation function. If
suspended, close the timestamp file (dropping all locks). On resume,
lock the record before reading the password.</p>
<p>For this to work properly we need to be able to run th callback when
tsetattr() suspends us, not just when the user does. To accomplish this
the term_* functions now return EINTR if SIGTTOU would be generated. The
caller now has to restart the term_* function (and send itself SIGTTOU)
instead of it being done automatically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c70df5de"
>[0c70df5de]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_util.h,
lib/util/locking.c, lib/util/util.exp.in, plugins/sudoers/check.c,
plugins/sudoers/check.h, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.c:<br>
Lock individual records in the timestamp file instead of the entire
file. This will make it possible for multiple sudo processes using the
same tty to serialize their timestamp lookups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00142c91f"
>[00142c91f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_fatal.h, include/sudo_plugin.h, lib/util/fatal.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/check.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.h, src/conversation.c, src/sudo.c, src/sudo.h,
src/sudo_plugin_int.h, src/tgetpass.c:<br>
Add a struct sudo_conv_callback that contains on_suspend and on_resume
function pointer args plus a closure pointer and at it to the
conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98a15d987"
>[98a15d987]</a></li>
</ul>
</dd>
<dt>2015-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h:<br>
Make hook_version and hook_type unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af4729380"
>[af4729380]</a></li>
</ul>
</dd>
<dt>2015-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/base64.c, plugins/sudoers/match.c,
plugins/sudoers/regress/parser/check_base64.c:<br>
When decoding base64, avoid using &lsquo;=&rsquo; in the decoded temporary array as
a sentinel as it can legitimately be present. Instead, just use the
count of bytes stored in the temp array to determine which bytes to fold
into the destination.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfb1cead6"
>[bfb1cead6]</a></li>
</ul>
</dd>
<dt>2015-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, plugins/sudoers/sudoers.c, plugins/sudoers/visudo.c:<br>
When parsing def_editor, break out of the loop when we find the first
valid editor. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=714"
>Bug #714</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=333faa20e"
>[333faa20e]</a></li>
</ul>
</dd>
<dt>2015-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
The condition for adding a missing newline at the end of sudoers was
never reached. Keep track of the last character and write a newline
character if when copying to the temp file. Found by Radovan Sroka.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7df248716"
>[7df248716]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/visudo.c:<br>
Remove extraneous while() from botched do {} while() loop conversion to
use sudo_strsplit. Noticed by Radovan Sroka.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ef9b5827"
>[7ef9b5827]</a></li>
</ul>
</dd>
<dt>2015-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sudo_auth.c:<br>
In sudo_pam_begin_session() and sudo_pam_end_session() return AUTH_FATAL
on error, not AUTH_FAILURE. In sudo_auth_begin_session() treat anything
other than AUTH_SUCCESS as a fatal error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b6085760"
>[2b6085760]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS, src/exec.c, src/exec_pty.c:<br>
Linux sets si_pid in struct siginfo to 0 when the process that sent the
signal is in a different container since the PID namespaces in different
conatiners are separate. Avoid looking up the process group by id when
si_pid is 0 since getpgid(0) returns the process group of the current
process. Since sudo ignores signals sent by processes in its own process
group, this had the effect of ignoring signals sent from other
containers. From Maarten de Vries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13869d349"
>[13869d349]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Sprinkle some debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db5376001"
>[db5376001]</a></li>
</ul>
</dd>
<dt>2015-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.man.in,
doc/sudo.mdoc.in:<br>
Document that sudo uses the real uid to map from uid to passwd file user
name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad9a51bd9"
>[ad9a51bd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
disable_coredump can be set to no on modern OSes without security
consequences.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2f1bbfb0"
>[b2f1bbfb0]</a></li>
</ul>
</dd>
<dt>2015-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Emphasis on the never.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1053af3b"
>[f1053af3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Explicitly tell people not to grant sudoedit to directories the user can
write to. While sudoedit will no longer open symbolic links, hard links
are still an issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4f1aeb19"
>[d4f1aeb19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Add warning about writable directories and sudo/sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c12dd68d1"
>[c12dd68d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Emphasize that wildcards are not regexps. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=692"
>Bug
#692</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=796911b3f"
>[796911b3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Emphasize that wildcards in command line arguments are dangerous.
Document the failings of the passwd example on GNU systems. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=691"
>Bug
#691</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=329a8dee8"
>[329a8dee8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Escape the colons in [[:alpha:]] as required by sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc5ccf473"
>[dc5ccf473]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/sudo.pot, src/sudo_edit.c:<br>
Change warning when user tries to sudoedit a symbolic link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fbce103f"
>[2fbce103f]</a></li>
</ul>
</dd>
<dt>2015-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=531bcc8aa"
>[531bcc8aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudoers.ldap.cat, doc/sudoreplay.cat,
doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b2ea42d4"
>[5b2ea42d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE, doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
include/sudo_compat.h, include/sudo_plugin.h,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/ldap.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/policy.c, plugins/sudoers/regress/sudoers/test1.in,
plugins/sudoers/regress/sudoers/test1.json.ok,
plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/regress/sudoers/test1.toke.ok,
plugins/sudoers/sudoers_version.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo_json.c, src/sesh.c, src/sudo.c, src/sudo.h,
src/sudo_edit.c:<br>
Do not follow symbolic links in sudoedit by default. This behavior can
be controlled by the sudoedit_follow Defaults flag as well as the
FOLLOW/NOFOLLOW tags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3354d27a1"
>[3354d27a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, aclocal.m4, configure, configure.ac:<br>
Sudo 1.8.15
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=079167d2c"
>[079167d2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
add .json regress files to MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f11e02ddd"
>[f11e02ddd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/sudoers/test1.json.ok,
plugins/sudoers/regress/sudoers/test10.json.ok,
plugins/sudoers/regress/sudoers/test11.json.ok,
plugins/sudoers/regress/sudoers/test12.json.ok,
plugins/sudoers/regress/sudoers/test13.json.ok,
plugins/sudoers/regress/sudoers/test14.json.ok,
plugins/sudoers/regress/sudoers/test15.json.ok,
plugins/sudoers/regress/sudoers/test16.json.ok,
plugins/sudoers/regress/sudoers/test2.json.ok,
plugins/sudoers/regress/sudoers/test3.json.ok,
plugins/sudoers/regress/sudoers/test4.json.ok,
plugins/sudoers/regress/sudoers/test5.json.ok,
plugins/sudoers/regress/sudoers/test6.json.ok,
plugins/sudoers/regress/sudoers/test7.json.ok,
plugins/sudoers/regress/sudoers/test8.json.ok,
plugins/sudoers/regress/sudoers/test9.json.ok:<br>
Check JSON output of sudoers test files too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4501b7416"
>[4501b7416]</a></li>
</ul>
</dd>
<dt>2015-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Move comment to match moved code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4abc13bfc"
>[4abc13bfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
maxseq is an int not a string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0969c162"
>[e0969c162]</a></li>
</ul>
</dd>
<dt>2015-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
Include sys/types.h for id_t. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=711"
>Bug
#711</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=918190fce"
>[918190fce]</a></li>
</ul>
</dd>
<dt>2015-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/fnmatch.c:<br>
Avoid a potential out of bounds read found by enh while fuzzing with
address sanitizer enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1965da8c3"
>[1965da8c3]</a></li>
</ul>
</dd>
<dt>2015-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Set sssd lib location to /usr/lib64 on 64-bit RHEL/Centos. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=710"
>Bug
#710</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d536626b1"
>[d536626b1]</a></li>
</ul>
</dd>
<dt>2015-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Jakub Wilk
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01bfae5ba"
>[01bfae5ba]</a></li>
</ul>
</dd>
<dt>2015-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, src/Makefile.in:<br>
The init.d files are generated from a .in file so we need to install
from top_builddir not top_srcdir. From Ross Burton. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=708"
>Bug
#708</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddd35459c"
>[ddd35459c]</a></li>
</ul>
</dd>
<dt>2015-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
Replace two &ldquo;return 0&rdquo; with debug_return_bool(false).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e941f97eb"
>[e941f97eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
fix typo in previous commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0765f5fe7"
>[0765f5fe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.14p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=620f8a33e"
>[620f8a33e]</a></li>
</ul>
</dd>
<dt>2015-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Fix errno value from get_process_ttyname() when no tty is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83d8cbf81"
>[83d8cbf81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
On AIX, only convert the tty device number from dev64_t to dev32_t if
dev_t is 32-bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeaa6a611"
>[aeaa6a611]</a></li>
</ul>
</dd>
<dt>2015-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.14p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef47c692c"
>[ef47c692c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix creation of the timestamp file; bug #704
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f8485797"
>[8f8485797]</a></li>
</ul>
</dd>
<dt>2015-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c, src/sudo.c, src/sudo.h,
src/ttyname.c:<br>
Avoid needless memory allocation when resolving the tty name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d96f8bcab"
>[d96f8bcab]</a></li>
</ul>
</dd>
<dt>2015-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.14p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0b8e7148"
>[c0b8e7148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix typo in sudo_sss_attrcpy() that caused a memory allocation error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db8607fe4"
>[db8607fe4]</a></li>
</ul>
</dd>
<dt>2015-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/zh_CN.mo:<br>
rebuild
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6eb4d142e"
>[6eb4d142e]</a></li>
</ul>
</dd>
<dt>2015-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/lbuf.c, plugins/sudoers/env.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/interfaces.c,
plugins/sudoers/match.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/redblack.c, src/hooks.c, src/net_ifs.c, src/sudo.c:<br>
Add some debugging printfs when malloc fails and we don&rsquo;t have an
explicit call to sudo_warnx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4211081c"
>[d4211081c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Add missing warnings for memory allocation failure. Add function name to
memory allocation warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=108bfb7af"
>[108bfb7af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/parseln.c:<br>
Return -1 if realloc() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c644f5bc"
>[3c644f5bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c:<br>
Add line number to debug log for memory allocation errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2f5c2949"
>[f2f5c2949]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Add warning if calloc() fails. Add debugging for other unexpected
errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7187c19c8"
>[7187c19c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add missing check for calloc(3) return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff5b6dbb6"
>[ff5b6dbb6]</a></li>
</ul>
</dd>
<dt>2015-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that the values printed by &ldquo;sudo -V&rdquo; are affected by Defaults
settings in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5125f82c4"
>[5125f82c4]</a></li>
</ul>
</dd>
<dt>2015-07-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/sssd.c, src/load_plugins.c:<br>
Avoid calling dlerror() multiple times since it clear the error status
after printing the error. Problem caused by sudo_warn/sudo_fatal being
macros&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=374146f70"
>[374146f70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Attempt to clarify the conditions under which MAIL and HOME are set to
the target user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42666204e"
>[42666204e]</a></li>
</ul>
</dd>
<dt>2015-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Better checks for the libaudit package for Debian and error out if we
can&rsquo;t figure it out.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4870060e9"
>[4870060e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Fix linux_audit setting on non-multiarch Debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d11ffce66"
>[d11ffce66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix typo that broke the linux_audit dependency on Debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=246063609"
>[246063609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention /proc/stat btime fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f00f170f"
>[2f00f170f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/getaddrinfo.c,
plugins/sudoers/interfaces.c, plugins/sudoers/match_addr.c,
src/net_ifs.c:<br>
Solaris 2.6 has the prototypes for inet_pton() and inet_ntop() in
resolv.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43a57126e"
>[43a57126e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Sprinkle debugging for boottime.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b73d96804"
>[b73d96804]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
The old Solaris /bin/sh doesn&rsquo;t support POSIX $( .. ) syntax, use
backquotes instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c9e92aba"
>[6c9e92aba]</a></li>
</ul>
</dd>
<dt>2015-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Only use &ndash;with-sssd-lib on Debian/Ubuntu w/ multipackage. Use
dpkg-query to determine the name of the audit package for proper
dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d0699a07"
>[2d0699a07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg, plugins/sudoers/sudoers.in, sudo.pp:<br>
Update Debian/Ubuntu packages to be more like the vendor ones. One
notable exception is that sudo.ws packages use /var/run, not /var/lib
for timestamp files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3b4e4ce3"
>[c3b4e4ce3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Strip newline from /proc/stat btime line to avoid a strtonum() failure.
From Jakub Wilk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06ad0f642"
>[06ad0f642]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/exec_pty.c:<br>
In io_callback() service writes before reads. That way, if both
SUDO_EV_READ and SUDO_EV_WRITE are set and read() returns 0 (EOF) we
don&rsquo;t close the fd before the write() is performed.</p>
<p>If the write() returns EPIPE, ENXIO, EIO or EBADF, clear SUDO_EV_READ
before we close the fd to avoid calling read() on a closed fd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61182c87e"
>[61182c87e]</a></p>
</li>
</ul>
</dd>
<dt>2015-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/regress/sudo_conf/conf_test.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/sesh.c,
src/sudo.c:<br>
Check sudo_conf_read() return value and exit on fatal error (a warning
was already printed by sudo_conf_read()).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=445e6f2e9"
>[445e6f2e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention double-quoted sudoOption value support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4620bc31c"
>[4620bc31c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Add support for parsing quoted strings in a sudoOption just like sudoers
Defaults settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea85db3ec"
>[ea85db3ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po, po/da.mo, po/da.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3586e2a4"
>[e3586e2a4]</a></li>
</ul>
</dd>
<dt>2015-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0be01517"
>[d0be01517]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po, po/de.mo, po/de.po,
po/nb.mo, po/nb.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4dcc6505"
>[d4dcc6505]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix utmp setup broken by commit be0ca60facf8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=854c08495"
>[854c08495]</a></li>
</ul>
</dd>
<dt>2015-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/ja.po, plugins/sudoers/po/pl.mo,
plugins/sudoers/po/pl.po, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.po, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/fr.mo, po/fr.po, po/it.mo, po/it.po, po/pl.mo, po/pl.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef69b7c73"
>[ef69b7c73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3353b99d"
>[b3353b99d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix typo in error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=701534c63"
>[701534c63]</a></li>
</ul>
</dd>
<dt>2015-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=702"
>Bug #702</a> is the AIX
timespec issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7583e8d76"
>[7583e8d76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/closefrom.c,
lib/util/getcwd.c, lib/util/glob.c, plugins/sudoers/match.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, src/ttyname.c:<br>
We require POSIX so no need to conditionally include dirent.h. Add a
check for d_namlen and use the result in the NAMLEN macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d77941c2b"
>[d77941c2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c,
lib/util/getcwd.c, lib/util/gettime.c, lib/util/glob.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/mktemp.c, lib/util/parseln.c,
lib/util/secure_path.c, lib/util/setgroups.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/ttysize.c,
plugins/group_file/group_file.c, plugins/sample/sample_plugin.c,
plugins/sudoers/alias.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, plugins/system_group/system_group.c,
src/conversation.c, src/exec.c, src/exec_common.c, src/exec_pty.c,
src/get_pty.c, src/hooks.c, src/load_plugins.c, src/net_ifs.c,
src/openbsd.c, src/parse_args.c, src/preserve_fds.c, src/signal.c,
src/solaris.c, src/sudo.c, src/sudo_edit.c, src/sudo_noexec.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
There&rsquo;s no need to conditionalize the #include &lt;unistd.h&gt;, we require
a POSIX system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b241088b"
>[0b241088b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Remove some compatibilty defines that should no longer be needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=540b09b32"
>[540b09b32]</a></li>
</ul>
</dd>
<dt>2015-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Final changes in 1.8.14
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a89dd2f46"
>[a89dd2f46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Need to include stddef.h to get rsize_t on Mac OS X for sudo_memset_s()
prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f9aa5af2"
>[8f9aa5af2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/strsplit/strsplit_test.c:<br>
Add missing exit value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e695d4cd"
>[5e695d4cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/mktemp/mktemp_test.c:<br>
Add missing fcntl.h include.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=662f9ec56"
>[662f9ec56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Do check for inet_pton before inet_ntop since we may need to record
dependent libraries for inet_pton when linking our getaddrinfo
replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=433c3dca5"
>[433c3dca5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c:<br>
Fix build on compilers w/o <strong>func</strong> or <strong>FUNCTION</strong>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=105f199f6"
>[105f199f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Remove sudo_evasprintf_v1, missed during alloc.c removal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44f7ed3b1"
>[44f7ed3b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
Add missing fcntl.h include.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b756b6a11"
>[b756b6a11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Add check for inline support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d87a0a4aa"
>[d87a0a4aa]</a></li>
</ul>
</dd>
<dt>2015-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE:<br>
Add reallocarray.c license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=032729f1b"
>[032729f1b]</a></li>
</ul>
</dd>
<dt>2015-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Fix entry for Joel Pelaez Jorge.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b4e44f33"
>[2b4e44f33]</a></li>
</ul>
</dd>
<dt>2015-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_lbuf.h, lib/util/lbuf.c, lib/util/util.exp.in,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c:<br>
Add an error flag to the lbuf struct to simplify error checking. Callers
of the lbuf functions now check the error flag to tell if a memory
allocation error ocurred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54f9de6cc"
>[54f9de6cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers.h:<br>
display_privs() and display_cmnd() may need to return -1 on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=275141346"
>[275141346]</a></li>
</ul>
</dd>
<dt>2015-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Return -1, not 0 from sudoers when there is an error (as opposed to a
policy denial).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3bc17a61"
>[d3bc17a61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/check.h,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.c:<br>
Check restore_perms() return value in all cases, pushing the return
value back up the call stack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81f94499b"
>[81f94499b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Joel Pelaez Jorge
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5ed416a7"
>[c5ed416a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
When checking whether the PAM prompt matches &ldquo;Password:&rdquo;, also check for
the untranslated version. The PAM module might not be using the
localized string even though it exists. From Joel Pelaez Jorge. Fixes
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=701"
>Bug #701</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea5ce39c9"
>[ea5ce39c9]</a></li>
</ul>
</dd>
<dt>2015-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Silence clang analyzer warning on glibc systems where the first argument
to qsort() is marked as non-NULL. Also change some counters from into to
unsigned int and two flags from int to bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d84757951"
>[d84757951]</a></li>
</ul>
</dd>
<dt>2015-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Silence clang analyzer warning on glibc systems where the first argument
to qsort() is marked as non-NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aedaac8cc"
>[aedaac8cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, include/sudo_debug.h, include/sudo_util.h,
src/preserve_fds.c:<br>
Use our own bitmap macros instead of borrowing the ones from select.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a76b93e23"
>[a76b93e23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Quiet clang analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b086b684"
>[7b086b684]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Fix uninitialized variables warnings in error case when src file cannot
be opened. At least one of these is a false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aeeb54f3"
>[2aeeb54f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Must call round_nfds() with fd+1 since it takes a count not the fd
number. In other words, the lowest value is 1, not 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d36e46cb6"
>[d36e46cb6]</a></li>
</ul>
</dd>
<dt>2015-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getline.c, plugins/sudoers/toke_util.c:<br>
It&rsquo;s safe to rely on C89 semantics for realloc(NULL, size).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7224ea50"
>[d7224ea50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
malloc() sets errno to ENOMEM on failure so we don&rsquo;t need to set it
explicitly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=887a76489"
>[887a76489]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
No longer need __malloc_like
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6627e70b"
>[f6627e70b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Remove symbols from the now-removed alloc.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da6468d5"
>[4da6468d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, lib/util/aix.c, lib/util/closefrom.c,
lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c,
lib/util/getaddrinfo.c, lib/util/getcwd.c, lib/util/getgrouplist.c,
lib/util/gethostname.c, lib/util/getline.c, lib/util/getopt_long.c,
lib/util/gettime.c, lib/util/gidlist.c, lib/util/glob.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/locking.c,
lib/util/mksiglist.c, lib/util/mksigname.c, lib/util/parseln.c,
lib/util/progname.c, lib/util/pw_dup.c, lib/util/reallocarray.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c, lib/util/setgroups.c,
lib/util/sha2.c, lib/util/sig2str.c, lib/util/snprintf.c,
lib/util/strndup.c, lib/util/strsplit.c, lib/util/strtobool.c,
lib/util/strtoid.c, lib/util/strtomode.c, lib/util/strtonum.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/sudo_dso.c,
lib/util/term.c, lib/util/ttysize.c, plugins/group_file/getgrent.c,
plugins/group_file/group_file.c, plugins/group_file/plugin_test.c,
plugins/sample/sample_plugin.c, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/base64.c, plugins/sudoers/boottime.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/editor.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/getspwuid.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/timestr.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c,
plugins/system_group/system_group.c, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_pty.c,
src/get_pty.c, src/hooks.c, src/load_plugins.c, src/net_ifs.c,
src/openbsd.c, src/parse_args.c, src/preserve_fds.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/signal.c,
src/solaris.c, src/sudo.c, src/sudo_edit.c, src/tgetpass.c,
src/ttyname.c, src/utmp.c:<br>
Only include stddef.h where it is needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a07b472f"
>[4a07b472f]</a></li>
</ul>
</dd>
<dt>2015-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=941bfe309"
>[941bfe309]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c, plugins/sudoers/locale.c:<br>
Better handling of setlocale() returning NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8dd6512c"
>[d8dd6512c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c, lib/util/gidlist.c, lib/util/sudo_conf.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/defaults.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/conversation.c, src/exec.c, src/exec_common.c, src/exec_pty.c,
src/load_plugins.c, src/parse_args.c, src/preserve_fds.c, src/selinux.c,
src/sesh.c, src/sudo.c, src/sudo_edit.c:<br>
Add function name to &ldquo;unable to allocate memory&rdquo; warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c36415417"
>[c36415417]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, lib/util/aix.c,
lib/util/closefrom.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/getaddrinfo.c, lib/util/getcwd.c,
lib/util/getgrouplist.c, lib/util/gethostname.c, lib/util/getline.c,
lib/util/getopt_long.c, lib/util/gettime.c, lib/util/gidlist.c,
lib/util/glob.c, lib/util/key_val.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/parseln.c, lib/util/progname.c, lib/util/pw_dup.c,
lib/util/reallocarray.c, lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/setgroups.c,
lib/util/sha2.c, lib/util/sig2str.c, lib/util/snprintf.c,
lib/util/strndup.c, lib/util/strsplit.c, lib/util/strtobool.c,
lib/util/strtoid.c, lib/util/strtomode.c, lib/util/strtonum.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/sudo_dso.c,
lib/util/term.c, lib/util/ttysize.c, plugins/group_file/getgrent.c,
plugins/group_file/group_file.c, plugins/sample/sample_plugin.c,
plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/editor.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/getspwuid.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/timestr.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c,
plugins/system_group/system_group.c, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_pty.c,
src/get_pty.c, src/hooks.c, src/load_plugins.c, src/net_ifs.c,
src/openbsd.c, src/parse_args.c, src/preserve_fds.c,
src/regress/ttyname/check_ttyname.c, src/signal.c, src/solaris.c,
src/sudo.c, src/sudo_edit.c, src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
We require ANSI C so stop using the obsolete STDC_HEADERS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc883f245"
>[dc883f245]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Add back _REENTRANT define on HP-UX to expose strtok_r on some versions.
We may need to define it on other systems too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09b07fe21"
>[09b07fe21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c, lib/util/regress/glob/globtest.c,
lib/util/sudo_debug.c, plugins/group_file/getgrent.c,
plugins/group_file/plugin_test.c, plugins/sample/sample_plugin.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/tsgetgrpw.c:<br>
Use strtok_r() instead of strtok()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2328479d"
>[e2328479d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for strnlen() when cross-compiling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=048e251ae"
>[048e251ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c:<br>
Use sudo_strsplit() in dump_interfaces.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69a4af9e7"
>[69a4af9e7]</a></li>
</ul>
</dd>
<dt>2015-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/inet_pton.c, lib/util/key_val.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/parseln.c,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/progname/progname_test.c,
lib/util/regress/strsplit/strsplit_test.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/sha2.c,
lib/util/snprintf.c, lib/util/strtobool.c, lib/util/term.c,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/sample/sample_plugin.c, plugins/sudoers/boottime.c,
plugins/sudoers/editor.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_hexchar.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/tsgetgrpw.c, plugins/system_group/system_group.c,
src/conversation.c, src/exec_pty.c, src/net_ifs.c, src/openbsd.c,
src/preserve_fds.c, src/regress/ttyname/check_ttyname.c, src/solaris.c,
src/sudo.c, src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Remove obsolete memory.h include.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9cabd00"
>[4f9cabd00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/getcwd.c,
lib/util/gethostname.c, lib/util/glob.c, lib/util/locking.c,
lib/util/parseln.c, lib/util/pw_dup.c, lib/util/reallocarray.c,
lib/util/snprintf.c, lib/util/strndup.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c, src/env_hooks.c:<br>
Remove support for the obsolete malloc.h header.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a50555faa"
>[a50555faa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/defaults.c,
plugins/sudoers/logging.c:<br>
Remove BROKEN_SYSLOG define which was for obsolete versions of HP-UX.
Remove last remnants of 4.2BSD syslog support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=138aa2ccd"
>[138aa2ccd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Use sudo_strsplit() instead of doing the equivalent manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86fb8e15a"
>[86fb8e15a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/strsplit/strsplit_test.c:<br>
Test strsplit behavior with an empty string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db3012645"
>[db3012645]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Allow &ldquo;make LIBTOOL=/path/to/libtool&rdquo; to work properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea744042e"
>[ea744042e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/editor.c,
plugins/sudoers/find_path.c, plugins/sudoers/goodpath.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/visudo.c:<br>
Use a common function for resolviong the user&rsquo;s editor in sudoedit and
visudo. The find_path() function now returns a dynamically allocated
path instead of using a static string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac13264b4"
>[ac13264b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/Makefile.in,
lib/zlib/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Replace use of OSDEFS with config.h defines. Rename DEFS in Makefile.in
to CPPDEFS and include in CPPFLAGS. Bring back _BSD_SOURCE as a config.h
define. Remove obsolescent _REENTRANT define.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a38253b10"
>[a38253b10]</a></li>
</ul>
</dd>
<dt>2015-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_alloc.h, lib/util/Makefile.in, lib/util/alloc.c:<br>
Remove now-unused sudo_alloc.h and alloc.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4be97a6c4"
>[4be97a6c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in, src/conversation.c,
src/env_hooks.c, src/exec.c, src/exec_common.c, src/exec_pty.c,
src/hooks.c, src/load_plugins.c, src/net_ifs.c, src/parse_args.c,
src/preserve_fds.c, src/regress/ttyname/check_ttyname.c, src/selinux.c,
src/sesh.c, src/sudo.c, src/sudo.h, src/sudo_edit.c, src/ttyname.c:<br>
Avoid using exiting allocators in the front end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb63ca701"
>[cb63ca701]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_conf.h, include/sudo_lbuf.h, lib/util/Makefile.in,
lib/util/aix.c, lib/util/gidlist.c, lib/util/lbuf.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c:<br>
Use non-exiting allocators in libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ce50a885"
>[5ce50a885]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/logging.c:<br>
Remove asprintf() return value warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec7e467c5"
>[ec7e467c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Use AC_FUNC_STRNLEN to check for broken strnlen() on AIX. This requires
that we use AC_USE_SYSTEM_EXTENSIONS so remove things from OSDEFS that
are enabled by AC_USE_SYSTEM_EXTENSIONS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c7a264f1"
>[4c7a264f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Remove extraneous semicolons in CHECK_* macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f02874fe5"
>[f02874fe5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Remove remaining SUDO_MAIN remnants.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07f981445"
>[07f981445]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/interfaces.h, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/parser/check_addr.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Use non-exiting allocatings in the sudoers plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d004b02fc"
>[d004b02fc]</a></li>
</ul>
</dd>
<dt>2015-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Use non-exiting allocators in the sudoers SSSD backend.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6da04821d"
>[6da04821d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use non-exiting allocators in the sudoers LDAP backend.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5413637ae"
>[5413637ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
regen dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c63f1b5b"
>[2c63f1b5b]</a></li>
</ul>
</dd>
<dt>2015-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, lib/util/Makefile.in, mkdep.pl:<br>
Add missing dependency info for reallocarray.lo in lib/util/Makefile.in
and regen configure to match last configure.ac change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23d72149b"
>[23d72149b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use \28 and \29 instead of ( and ) in the ldap query as per RFC 2254.
Fixes netgroup queries on AIX. From Steven Soulen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea34d0101"
>[ea34d0101]</a></li>
</ul>
</dd>
<dt>2015-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/glob.c:<br>
Move pattern length check until after we have initialized the glob_t so
we can call globfree() even on error. From Frank Denis.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f43f53098"
>[f43f53098]</a></li>
</ul>
</dd>
<dt>2015-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
We need to unlimit RLIMIT_NPROC in sudoers as well as the sudo front end
since set_perms() and restore_perms change the read uid and may fail
with EAGAIN on Linux kernels prior to 3.1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25917e435"
>[25917e435]</a></li>
</ul>
</dd>
<dt>2015-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Fix underlining of &ldquo;root&rdquo; in -u option descriptions. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=699"
>Bug
#699</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db8aae12e"
>[db8aae12e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE, src/load_plugins.c:<br>
Remove support for converting plugin.so -&gt; plugin.sl on HP-UX when
plugin.so can not be found. This was a temporary hack for using an older
(pre 1.8.7) sudoers plugin with a newer sudo front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7107ce4d1"
>[7107ce4d1]</a></li>
</ul>
</dd>
<dt>2015-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_select.c:<br>
Add debugging output on memory alloc failure. Add missing checks in
event_select.c for reallocarray() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0fa0e248"
>[c0fa0e248]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event_poll.c:<br>
Use non-exiting allocators.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=564eb7e7d"
>[564eb7e7d]</a></li>
</ul>
</dd>
<dt>2015-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Bring back VALIDATE_ERROR which will be used in the case of memory
allocation errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eff57f07"
>[8eff57f07]</a></li>
</ul>
</dd>
<dt>2015-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/snprintf.c:<br>
If asprintf() or vasprintf() fail, set the dest pointer to NULL like BSD
and Solaris do. This appears to be the direction glibc is going as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9884df8c9"
>[9884df8c9]</a></li>
</ul>
</dd>
<dt>2015-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Use a stack buffer for the validate_env_vars() error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a1cf7f53"
>[7a1cf7f53]</a></li>
</ul>
</dd>
<dt>2015-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Fix typo/thinko in static buffer conversion; use vsnprintf() not
snprintf()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1100d91e8"
>[1100d91e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix old gcc2 variadic macro support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dee7a6dda"
>[dee7a6dda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Restore old behavior where visudo prevents you from making the main
sudoers file zero length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21f5753b7"
>[21f5753b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c:<br>
Non-exiting allocators for log functions. If log_allowed() fails the
user may not run the command. We don&rsquo;t try to return early for
log_failure(), log_auth_failure() or log_denial() as we would not run
the command in that case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d1c408b7"
>[9d1c408b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Use non-exiting allocators in the parser (much of it already did).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da9e1097"
>[4da9e1097]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/aix.c, plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c:
Use non-existing allocators in the passwd/group cache functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b7be032a"
>[6b7be032a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure.ac, lib/util/alloc.c, lib/util/reallocarray.c:<br>
Add standalone reallocarray.c from OpenBSD instead of rolling our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40d72f26e"
>[40d72f26e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/iolog.c, plugins/sudoers/parse.h,
plugins/sudoers/pwutil.c, plugins/sudoers/redblack.c,
plugins/sudoers/redblack.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Use non-exiting allocators in the redblack tree and fix the fallout.
Also switch to non-exiting allocators in affected code blocks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bf454b74"
>[2bf454b74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/parse.h:<br>
The error string returned by alias_add should be const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46770c958"
>[46770c958]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix typo, efree vs. free.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5e4c3055"
>[c5e4c3055]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, src/exec_common.c, src/sudo.c:<br>
Add a few missing sudo_new_key_val() return value checks. Also use
non-exiting allocators for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4131449ff"
>[4131449ff]</a></li>
</ul>
</dd>
<dt>2015-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in,
lib/util/regress/parse_gids/parse_gids_test.c,
lib/util/regress/strsplit/strsplit_test.c:<br>
Add unit tests for strsplit and parse_gid_list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c3fd195d"
>[8c3fd195d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in,
lib/util/strsplit.c, lib/util/util.exp.in, plugins/sudoers/sudoers.c:<br>
Add sudo_strsplit(), similar to strtok_r() but non-destructive and
operates on non-C strings (requires a length parameter).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d1708434"
>[8d1708434]</a></li>
</ul>
</dd>
<dt>2015-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sia.c:<br>
Use reallocarray() instead of sudo_emallocarray() and return an error on
allocation failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69e62f316"
>[69e62f316]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c:<br>
In our krb5_get_init_creds_opt_alloc() replacement use malloc() instead
of sudo_emalloc() and return KRB5_CC_NOMEM on allocation failure. Only
old versions of Kerberos V will need this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=212ff5d96"
>[212ff5d96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/event.c, lib/util/event_select.c:<br>
Use non-exiting allocators.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6741fb537"
>[6741fb537]</a></li>
</ul>
</dd>
<dt>2015-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Use a static buffer for sudo_warn/sudo_fatal messages where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f18aa478d"
>[f18aa478d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix sudo_strnlen() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11840308c"
>[11840308c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/strndup.c, mkdep.pl:<br>
Add strndup() for those without it. As strndup.c uses strnlen(), use our
own if it is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82286d8b7"
>[82286d8b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strnlen.c:<br>
Add missing sudo_ prefix and include sudo_compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8437e3606"
>[8437e3606]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/strnlen.c:<br>
Add strnlen() replacement needed for glob.c. Only used if no glob() and
no strnlen().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49d56f323"
>[49d56f323]</a></li>
</ul>
</dd>
<dt>2015-05-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.h, plugins/sudoers/sudoers.h:<br>
Get rid of SUDO_MAIN. Modern compilers don&rsquo;t warn about mixing extern
and auto declarations unless they conflict.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04128f598"
>[04128f598]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.ac, include/compat/endian.h,
include/compat/fnmatch.h, include/compat/getaddrinfo.h,
include/compat/getopt.h, include/compat/glob.h,
include/compat/nss_dbdefs.h, include/compat/sha2.h,
include/compat/stdbool.h, include/compat/timespec.h,
include/sudo_alloc.h, include/sudo_compat.h, include/sudo_conf.h,
include/sudo_debug.h, include/sudo_dso.h, include/sudo_event.h,
include/sudo_fatal.h, include/sudo_gettext.h, include/sudo_lbuf.h,
include/sudo_plugin.h, include/sudo_queue.h, include/sudo_util.h,
lib/util/fatal.c, plugins/sudoers/bsm_audit.h, plugins/sudoers/check.h,
plugins/sudoers/defaults.h, plugins/sudoers/ins_2001.h,
plugins/sudoers/ins_classic.h, plugins/sudoers/ins_csops.h,
plugins/sudoers/ins_goons.h, plugins/sudoers/insults.h,
plugins/sudoers/interfaces.h, plugins/sudoers/iolog.h,
plugins/sudoers/linux_audit.h, plugins/sudoers/logging.h,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/pwutil.h, plugins/sudoers/redblack.c,
plugins/sudoers/redblack.h,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/solaris_audit.h, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudo_printf.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_debug.h, plugins/sudoers/sudoers_version.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c, src/net_ifs.c, src/sudo.h, src/sudo_exec.h,
src/sudo_plugin_int.h, src/sudo_usage.h.in:<br>
Avoid using a leading underbar in defines as they are reserved in ISO C.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05a01d4c5"
>[05a01d4c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, examples/Makefile.in, include/Makefile.in,
lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/solaris_audit.c, plugins/sudoers/sssd.c,
plugins/system_group/Makefile.in, src/Makefile.in, src/selinux.c:<br>
Add target for &ldquo;make splint&rdquo;. A few files need extra guards to avoid
errors on systems where they would not otherwise be compiled. No
warnings from splint.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1298ea910"
>[1298ea910]</a></li>
</ul>
</dd>
<dt>2015-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, src/sudo.c:<br>
There should be no need to check for tzset() as it is POSIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40cf3e28"
>[a40cf3e28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add sudo_reallocarrary to util.exp.in if reallocarray is not found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1491fe13"
>[f1491fe13]</a></li>
</ul>
</dd>
<dt>2015-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
NLS now works on Mac OS X properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c03b6b45"
>[5c03b6b45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, src/Makefile.in:<br>
Force flat namespace on darwin to make the getenv() hooking work as it
does on ELF.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b1e027b1"
>[0b1e027b1]</a></li>
</ul>
</dd>
<dt>2015-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/alloc.c, lib/util/snprintf.c, plugins/sample/sample_plugin.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/redblack.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke_util.c:<br>
No need to cast malloc() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbcaaa299"
>[cbcaaa299]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getcwd.c, lib/util/getline.c, lib/util/glob.c,
plugins/sudoers/env.c, plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Use reallocarray where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c75eb5bf0"
>[c75eb5bf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/alloc.c:<br>
Add reallocarray() for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3595807f4"
>[3595807f4]</a></li>
</ul>
</dd>
<dt>2015-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
The getenv() hook still doesn&rsquo;t work on Mac OS X.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d418df03"
>[0d418df03]</a></li>
</ul>
</dd>
<dt>2015-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_fatal.h, lib/util/fatal.c:<br>
In sudo_warn_gettext_v1() call dgettext() not gettext() to make sure the
domain is set correctly. The sudoers plugin uses its own text domain.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80cb630bc"
>[80cb630bc]</a></li>
</ul>
</dd>
<dt>2015-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
man pages should explicitly depend on config.status since it is used to
substitute in variables/settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=336b99ade"
>[336b99ade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c525c5ca7"
>[c525c5ca7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.14
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051bf0d55"
>[051bf0d55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, aclocal.m4, config.h.in, configure, configure.ac,
include/sudo_fatal.h, lib/util/Makefile.in, lib/util/fatal.c,
lib/util/locale_weak.c, lib/util/util.exp.in, m4/ax_sys_weak_alias.m4,
mkdep.pl, plugins/sudoers/Makefile.in, plugins/sudoers/locale.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c, src/Makefile.in,
src/locale_stub.c:<br>
Instead of trying to make weak functions work on all platforms, just use
a registration function for a plugin-specific setlocale function. The
sudoers version just wraps sudoers_setlocale().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bc70a635"
>[8bc70a635]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Fix indentation of -a flag help line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc7143760"
>[fc7143760]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
Fix compilation when HAVE_DECL_SIG2STR_MAX is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ab599415"
>[6ab599415]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Add lint target to run &ldquo;mandoc -Tlint&rdquo; over the manuals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c77de559"
>[0c77de559]</a></li>
</ul>
</dd>
<dt>2015-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_compat.h:<br>
HAVE_DECL_SIG2STR_MAX is always defined so use a !HAVE_DECL_SIG2STR_MAX
check instead of #ifndef.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ae1bdf9c"
>[4ae1bdf9c]</a></li>
</ul>
</dd>
<dt>2015-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Sync tty_present() with sudoers version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166ee6879"
>[166ee6879]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
sudo_check_plugin() returns bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=253008e62"
>[253008e62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
In usergr_matches() matched should be bool but we have to take care to
handle group_plugin_query() returning a value other than 0/1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c80b9c945"
>[c80b9c945]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
sudo_ldap_check_non_unix_group() returns bool, not int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d16434f97"
>[d16434f97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Convert two debug_return_int to debug_return_bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eea4e1afd"
>[eea4e1afd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/check.c, plugins/sudoers/env.c,
plugins/sudoers/group_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c, src/sudo.c:<br>
Previously, debug_return_bool was the same as debug_return_int except
that it logged true/false for 1/0. However, this appears to trigger a
bug in some compilers. To avoid this, debug_return_bool now uses bool,
not int. Callers that were passing it an int have been converted to use
debug_return_int instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf5d45e0"
>[caf5d45e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/get_pty.c, src/sudo.h:<br>
get_pty() should return bool
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c9ff3dc4"
>[9c9ff3dc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.h, src/tgetpass.c:<br>
Make tty_present static to tgetpass.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2624ffa9"
>[d2624ffa9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Add configure check for SIG2STR_MAX, which may be missing on UnixWare.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5647736ef"
>[5647736ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>m4/ax_sys_weak_alias.m4:<br>
Need to quote $GCC as it may include arguments. From Tim Rice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1b67e617"
>[e1b67e617]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add missing m4/ax_sys_weak_alias.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff806216f"
>[ff806216f]</a></li>
</ul>
</dd>
<dt>2015-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
There&rsquo;s no point in building i386 binaries for Mac OS X 10.7 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5f5e17cb"
>[f5f5e17cb]</a></li>
</ul>
</dd>
<dt>2015-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/fr.mo, plugins/sudoers/po/fr.po, po/ja.mo, po/ja.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff89dde11"
>[ff89dde11]</a></li>
</ul>
</dd>
<dt>2015-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Only fall back on AUE_DARWIN_sudo if au_preselect() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8930db0e0"
>[8930db0e0]</a></li>
</ul>
</dd>
<dt>2015-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Work around a problem on Mac OS X 10.10 which defines AUE_sudo but where
au_preselect() only accepts AUE_DARWIN_sudo (the old value).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a1838364"
>[8a1838364]</a></li>
</ul>
</dd>
<dt>2015-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/env_hooks.c:<br>
Don&rsquo;t use dlsym() to find the libc getenv() since this may allocate
memory on some systems (glibc) which leads to a hang if malloc() calls
getenv() (jemalloc).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3715ab57d"
>[3715ab57d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Defer conversation initialization until right before plugins are
initialized.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41f3666a1"
>[41f3666a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, src/sudo.c:<br>
Split variable declaration out of debug_decl into debug_decl_vars() so
we can use it in main() when we know sudo_debug_enter() cannot succeed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f8af4d26"
>[6f8af4d26]</a></li>
</ul>
</dd>
<dt>2015-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
When creating a passwd struct from a uid that is not in the passwd
database, set pw_gid to the user&rsquo;s gid instead of whatever the user
specified via the -g flag (or 0 if no -g).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e98778b2a"
>[e98778b2a]</a></li>
</ul>
</dd>
<dt>2015-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add some ldap_err2string() debugging when the LDAP search fails. Adapted
from a diff from Steven Soulen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3de14196c"
>[3de14196c]</a></li>
</ul>
</dd>
<dt>2015-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/sr.mo, po/sr.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db7404898"
>[db7404898]</a></li>
</ul>
</dd>
<dt>2015-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add David Michael and Andrey Klyachkin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28b64d296"
>[28b64d296]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Sync tmpfiles.d/sudo.conf with init.d/sudo.conf.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02aa57c16"
>[02aa57c16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h:<br>
Avoid struct assignment when stashing mtime since AIX at least uses a
struct st_timespec that differs from struct timespec. From Andrey
Klyachkin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9240018ce"
>[9240018ce]</a></li>
</ul>
</dd>
<dt>2015-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Work around a bug in pp that caused a warning when exampledir is a
subdir of docdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68339fa9c"
>[68339fa9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/solaris_audit.c:<br>
Add sys/types.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a79f3790e"
>[a79f3790e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getopt_long.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/regress/fnmatch/fnm_test.c, lib/util/regress/glob/globtest.c,
lib/util/sha2.c, plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_hexchar.c:<br>
Include sys/types.h instead of unistd.h to get uid_t and gid_t. Add
missing include of sys/types.h to a few places.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eeca3b0ca"
>[eeca3b0ca]</a></li>
</ul>
</dd>
<dt>2015-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Remove unintended commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e1c2fa00"
>[7e1c2fa00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>init.d/sudo.conf.in:<br>
Add tmpfiles.d/sudo.conf template.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfe7a4cb3"
>[cfe7a4cb3]</a></li>
</ul>
</dd>
<dt>2015-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>.hgignore, INSTALL, MANIFEST, Makefile.in, configure, configure.ac,
mkpkg, src/Makefile.in, sudo.pp:<br>
Create template tmpfiles.d/sudo.conf for installation instead of
creating one via echo commands in the Makefile.</p>
<p>Add &ndash;enable-tmpfiles.d configure option to enable/disable use of
tmpfiles.d and override the default directory.</p>
<p>Use &ndash;disable-tmpfiles.d in mkpkg so we no longer need to ignore
tmpfiles.d/sudo.conf in sudo.pp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa3552fa7"
>[fa3552fa7]</a></p>
</li>
</ul>
</dd>
<dt>2015-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, Makefile.in, configure, configure.ac, doc/sudoers.mdoc.in,
examples/Makefile.in, mkpkg, sudo.pp:<br>
Make exampledir configurable and default to DATAROOTDIR/examples/sudo on
BSD systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d297f5fd8"
>[d297f5fd8]</a></li>
</ul>
</dd>
<dt>2015-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Fix setting of pp_rpm_version when there is no patchlevel present. Also
tighten up the regexp for pp_rpm_release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d63ca32f"
>[6d63ca32f]</a></li>
</ul>
</dd>
<dt>2015-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in, sudo.pp:<br>
Install /usr/lib/tmpfiles.d/sudo.conf on systems with systemd but do not
package it. For packages we create /usr/lib/tmpfiles.d/sudo.conf as
needed in the postinstall script.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f63896e7d"
>[f63896e7d]</a></li>
</ul>
</dd>
<dt>2015-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix &ldquo;mandoc -Tlint&rdquo; warnings. Sync AUTHORS section in man pages.
Regenerate all man pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd669526e"
>[cd669526e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Make libsudo_util depend on libintl instead of requiring users of
libsudo_util to link with libintl directly. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=690"
>Bug
#690</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15037d3b7"
>[15037d3b7]</a></li>
</ul>
</dd>
<dt>2015-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Use saved errno in vlog_warning() before calling sudo_vwarn_nodebug().
Fixes the error message printed if set_perms() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b3098440"
>[3b3098440]</a></li>
</ul>
</dd>
<dt>2015-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.8.13 final.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfeda97b0"
>[cfeda97b0]</a></li>
</ul>
</dd>
<dt>2015-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
For sudoedit, run the editor with the user&rsquo;s original environment as per
the documentation (and as in sudo 1.7.x). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=688"
>Bug
#688</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be4872f69"
>[be4872f69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po, po/fr.mo, po/fr.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8d6fae79"
>[d8d6fae79]</a></li>
</ul>
</dd>
<dt>2015-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/term.c:<br>
Update function names in debug_decl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8088806bd"
>[8088806bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/term.c:<br>
Use TCSAFLUSH instead of TCSANOW in sudo_term_copy(). Be consistent with
where we put TCSASOFT in the action flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef1b2c3be"
>[ef1b2c3be]</a></li>
</ul>
</dd>
<dt>2015-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/da.mo,
po/da.po, po/fi.mo, po/fi.po, po/zh_CN.mo, po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0600a0d0a"
>[0600a0d0a]</a></li>
</ul>
</dd>
<dt>2015-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sha2.c:<br>
Include unistd.h since sudo_compat.h uses gid_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f2241693"
>[9f2241693]</a></li>
</ul>
</dd>
<dt>2015-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.ac:<br>
Add &ndash;disable-weak-symbols option to disable use of weak symbols in
libsudo_util.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cfd0cff9"
>[5cfd0cff9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e724eac8"
>[1e724eac8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>m4/ax_sys_weak_alias.m4:<br>
When checking for weak aliases, check the gcc attribute format last
since some C compilers just ignore unsupported attributes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26f0d6d80"
>[26f0d6d80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da092640b"
>[da092640b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, po/cs.mo, po/cs.po,
po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/it.mo, po/it.po, po/nb.mo,
po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/uk.mo,
po/uk.po, po/vi.mo, po/vi.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9896b2243"
>[9896b2243]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/compat/sha2.h:<br>
Fix symbol name collision with systems that have their own sha2
implementation. This can result in PAM using the wrong sha2
implementation on Solaris systems configured to use SHA512 for
passwords.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35dcb05a5"
>[35dcb05a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Use SSP_LDFLAGS when linking sudo_noexec.la
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dd0540ad"
>[2dd0540ad]</a></li>
</ul>
</dd>
<dt>2015-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/compat/utime.h,
lib/util/Makefile.in, lib/util/utimens.c:<br>
Remove compat/utime.h, it was only useful for ancient systems that are
no longer capable of compiling sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7edf7d98"
>[a7edf7d98]</a></li>
</ul>
</dd>
<dt>2015-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in:<br>
Link libsudo_util with -lrt on systems where clock_gettime is in -lrt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1592192ce"
>[1592192ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=480d26711"
>[480d26711]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strlcat.c, lib/util/strlcpy.c:<br>
Update OpenBSD CVS Ids
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30adf83b1"
>[30adf83b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strlcat.c:<br>
Make comment match code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5647a1ac4"
>[5647a1ac4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/utimens.c:<br>
Fix compilation error on systems without futimes().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c79ea75b"
>[3c79ea75b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
include/sudo_util.h, lib/util/Makefile.in, lib/util/gettime.c,
lib/util/util.exp.in, lib/util/utimens.c, lib/util/utimes.c, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/boottime.c,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/sesh.c, src/sudo_edit.c:<br>
Use futimens() and utimensat() instead of futimes() and utimes().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee72cba93"
>[ee72cba93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix compiler warning on systems where mode_t is not unsigned int, such
as 32-bit Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea514dc39"
>[ea514dc39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Fix logic for verifypw/listpw all in sudoers LDAP and sssd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9d4e1084"
>[c9d4e1084]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Fix cut &amp; pasto that prevented the SIGPIPE handler from being restored
before returning from tgetpass(). From mancha
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b78a985bf"
>[b78a985bf]</a></li>
</ul>
</dd>
<dt>2015-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c, src/sudo_edit.c:<br>
Our utimes() emulation support futime() too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f25cf9967"
>[f25cf9967]</a></li>
</ul>
</dd>
<dt>2015-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74d3745cc"
>[74d3745cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Define YYDEBUG to 0 if not already defined so we can protect use of
sudoersdebug with &ldquo;#if YYDEBUG&rdquo; like the generated parser does. From
David Michael.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=233783511"
>[233783511]</a></li>
</ul>
</dd>
<dt>2015-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that Aliases may not be redefined and that &ldquo;sudo -f
/etc/sudo.d/foo&rdquo; will not catch the redefinition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f95d76258"
>[f95d76258]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Only create /usr/lib/tmpfiles.d/sudo.conf if
/usr/lib/tmpfiles.d/systemd.conf also exists. Some other package may
have created /usr/lib/tmpfiles.d even though it is not used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e1ceb5a7"
>[8e1ceb5a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d09a83893"
>[d09a83893]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Clear the ts dir instead of just making sure it exists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a056794e9"
>[a056794e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Only substiture init.d scripts that we are going to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=083f59a75"
>[083f59a75]</a></li>
</ul>
</dd>
<dt>2015-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, sudo.pp:<br>
Create /usr/lib/tmpfiles.d/sudo.conf when systemd is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fdc46433"
>[8fdc46433]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/visudo.c, src/sudo_edit.c,
src/utmp.c:<br>
Check the return value of gettimeofday(), even though it should never
fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=973286c7a"
>[973286c7a]</a></li>
</ul>
</dd>
<dt>2015-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>MANIFEST, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/clock_gettime.c, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/gettime.c,
plugins/sudoers/po/sudoers.pot, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
We cannot (easily) use clock_gettime(CLOCK_MONOTONIC) directly as it may
be present but not implemented. Add sudo_gettime_real() and
sudo_gettime_mono() functions to get the real and monotonic times
respectively. Now sudo_gettime_mono() checks the value of
sysconf(_SC_MONOTONIC_CLOCK) before calling
clock_gettime(CLOCK_MONOTONIC) and falls back on sudo_gettime_real() as
needed. The Mach version of sudo_gettime_mono() uses
mach_absolute_time().</p>
<p>This should fix problems with timestamp files on systems where the
CLOCK_MONOTONIC is defined but not actually implemented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d2e9426b"
>[5d2e9426b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_compat.h, plugins/sudoers/timestamp.c:<br>
Check clock_gettime() return value and warn if it fails. Currently, the
timestamp will be ignored if clock_gettime() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01a4d6ccb"
>[01a4d6ccb]</a></li>
</ul>
</dd>
<dt>2015-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Plug memory leak when debug file cannot be opened. Use %zu printf format
now that our snprintf support it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23f4e49f4"
>[23f4e49f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/pam.c:<br>
Pam conversation function changes: o use PAM_BUF_ERR as the return value
when calloc() fails. o sanity check the value of num_msg o remove the
workaround for old Apple PAM o PAM_AUTH_ERR is not a valid PAM
conversation function return value</p>
<p>If getpass_error is set after a call to pam_verify (usually because the
user pressed ^C), return AUTH_INTR immediately instead of checking the
pam_verify return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a604f0f02"
>[a604f0f02]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, NEWS, configure, configure.ac, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h:<br>
On AIX use the value of auth_type in /etc/security/login.cfg to
determine whether to use LAM or PAM unless the user specified the
&ndash;with-pam or &ndash;with-aixauth configure flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e11f32fd4"
>[e11f32fd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/parseln.c:<br>
Fix cast.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ce9dd5e0"
>[1ce9dd5e0]</a></li>
</ul>
</dd>
<dt>2015-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/snprintf.c:<br>
Update snprintf.c from OpenBSD. The floating point and wide character
code has been retained but is not compiled by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5831d55d"
>[b5831d55d]</a></li>
</ul>
</dd>
<dt>2015-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test1.in,
plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/regress/sudoers/test1.toke.ok:<br>
Update the regression test that check that all tags are parsed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ca3e1834"
>[1ca3e1834]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, lib/util/Makefile.in,
lib/util/mktemp.c, lib/util/regress/mktemp/mktemp_test.c, mkdep.pl:<br>
Add regress for mkdtemp and mkstemps from OpenBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49128a79e"
>[49128a79e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd8eebd6f"
>[bd8eebd6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po, po/tr.mo, po/tr.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb5093f40"
>[bb5093f40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.ac:<br>
Correct SECURE_PATH comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9af2bc99"
>[f9af2bc99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.13
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93b52daab"
>[93b52daab]</a></li>
</ul>
</dd>
<dt>2015-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, include/sudo_compat.h,
include/sudo_util.h, lib/util/Makefile.in, lib/util/gethostname.c,
lib/util/util.exp.in, plugins/sudoers/match.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Avoid using HOST_NAME_MAX directly and use sysconf(_SC_HOST_NAME_MAX)
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be8dbeb22"
>[be8dbeb22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c:<br>
Historically, crypt() returned the empty string on error, which ensured
that crypt(&rdquo;&rdquo;, &ldquo;&rdquo;) would return &ldquo;&rdquo;, which supported matcing empty
encrypted passwords with no additional code. Some modern versions of
crypt() (such as glibc) return NULL on error so we need an explicit test
to match an empty plaintext password and an empty encrypted password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b514ed83"
>[9b514ed83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Sort tags lexically in the sudoers manual
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=615aee9d1"
>[615aee9d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers_version.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo_json.c:<br>
Add support for MAIL and NOMAIL command tags to toggle mail sending
behavior on a per-command (or Cmnd_Alias) basis.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45548cf04"
>[45548cf04]</a></li>
</ul>
</dd>
<dt>2015-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/logging.c:<br>
Add mail_all_cmnds to always mail when a user runs a command (or tries
to) including sudoedit. The mail_always flag goes back to its old
semantic of always mailing when sudo is run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53ac30b63"
>[53ac30b63]</a></li>
</ul>
</dd>
<dt>2015-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/getline.c, plugins/group_file/getgrent.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/tsgetgrpw.c:<br>
All modern systems should have LINE_MAX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bb589709"
>[8bb589709]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h,
lib/util/closefrom.c, lib/util/setgroups.c,
plugins/sudoers/pwutil_impl.c, src/sudo.c:<br>
Almost no systems actually define OPEN_MAX since it is dynamic on modern
OSes. If sysconf(_SC_OPEN_MAX) ever fails, fall back on <em>POSIX_OPEN_MAX
instead. We can assume modern systems have sysconf(). Also remove checks
for strrchr() and strtoll() for which the HAVE</em>* defines are no longer
used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96eddddc1"
>[96eddddc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.pp:<br>
Don&rsquo;t need to pass exampledir to polypkg now that it is just under
docdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d1ee7713"
>[7d1ee7713]</a></li>
</ul>
</dd>
<dt>2015-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Fix packaging of the example dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ed7f2dd9"
>[2ed7f2dd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mktemp.c:<br>
Fix mkstemps() extension handling. Sudoedit will now preserve the
extension properly when the system libc lacks mkstemps().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae2e5514"
>[1ae2e5514]</a></li>
</ul>
</dd>
<dt>2015-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, config.h.in, configure, configure.ac,
lib/util/Makefile.in, lib/util/locale_weak.c, m4/ax_sys_weak_alias.m4,
mkdep.pl, src/Makefile.in, src/locale_stub.c:<br>
Use weak symbols for sudo_warn_gettext() and sudo_warn_strerror() so
distros using &ldquo;-Wl,&ndash;no-undefined&rdquo; in LDFLAGS don&rsquo;t run into problems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166db8eeb"
>[166db8eeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/mksiglist.c, lib/util/mksigname.c:<br>
Include unistd.h in siglist.c and signame.c to get gid_t which is used
by sudo_compat.h. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=686"
>Bug
#686</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cae9876f"
>[8cae9876f]</a></li>
</ul>
</dd>
<dt>2015-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Minor change in description of TZ path handling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=915e08eec"
>[915e08eec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, examples/Makefile.in:<br>
Move example dir under the doc dir to conform to Debian guidelines. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=682"
>Bug
#682</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=117a30fac"
>[117a30fac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that a leading &lsquo;:&rsquo; is skipped when checking TZ for a
fully-qualified path name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00f663d54"
>[00f663d54]</a></li>
</ul>
</dd>
<dt>2015-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9669abdaf"
>[9669abdaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0414ea457"
>[0414ea457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Fix compilation on systems w/o __dso_public
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e32bb10f"
>[2e32bb10f]</a></li>
</ul>
</dd>
<dt>2015-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, plugins/sudoers/po/ru.mo, plugins/sudoers/po/ru.po:<br>
Russian translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9206ba54c"
>[9206ba54c]</a></li>
</ul>
</dd>
<dt>2015-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/ru.mo,
plugins/sudoers/po/ru.po:<br>
Russian translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cecdd7e72"
>[cecdd7e72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Add check for getresuid() declaration, which may be missing on HP-UX.
When checking for getdomainname() prototype, look in netdb.h too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3eb9a854d"
>[3eb9a854d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, NEWS, configure, configure.ac, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, m4/sudo.m4, pathnames.h.in,
plugins/sudoers/env.c:<br>
Sanity check the TZ environment variable by special casing it in
env_check. The &ndash;with-tzdir configure option can be used to specify the
zoneinfo directory if configure doesn&rsquo;t find it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3c28773f"
>[c3c28773f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention crash fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de1181619"
>[de1181619]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Bail with usage() early if argc &lt;= 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0008747be"
>[0008747be]</a></li>
</ul>
</dd>
<dt>2015-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Remove extraneous casts of node-&gt;data (which is void *).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c299cdd66"
>[c299cdd66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Stephane Chazelas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5218f74e8"
>[5218f74e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Fix a potential crash when getpwnam() of the running user fails and we
don&rsquo;t replace the negative cached entry with a faked up one. From
Stephane Chazelas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cebd92a88"
>[cebd92a88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c:<br>
Don&rsquo;t assume argv[0] is set without first checking argc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67eba7e53"
>[67eba7e53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Handle sudo_get_grlist() returning NULL which can happen if
getgrouplist() fails even after allocating the appropriate amount of
memory. From Stephane Chazelas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b727d4309"
>[b727d4309]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/progname.c:<br>
Call setprogname(&ldquo;sudo&rdquo;) if getprogname() returns NULL or the empty
string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d71b488b"
>[6d71b488b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac:<br>
Remove configure checks for strrchr() and strtoll() for which the HAVE_*
defines are no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88f79588e"
>[88f79588e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
Require POSIX regular expression support for sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3435e7d1"
>[a3435e7d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
The plugin no longer needs to call initprogname() now that it links with
the same libsudo_util as sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e30824a1"
>[1e30824a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Check whether getdomainname(), innetgr(), setresuid() and setresgid()
are declared and add prototypes in sudo_compat.h as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bb633a21"
>[1bb633a21]</a></li>
</ul>
</dd>
<dt>2015-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Add /usr/local/share/examples/ directory to parentdirs so it is
explicitly added to the package.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f82c8e57"
>[3f82c8e57]</a></li>
</ul>
</dd>
<dt>2015-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/logging.c:<br>
Don&rsquo;t send mail about pseudo-command failure unless it is an
authentication failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed4ffa626"
>[ed4ffa626]</a></li>
</ul>
</dd>
<dt>2015-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, po/da.mo:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfb369198"
>[dfb369198]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/nl.mo,
po/nl.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1ce08369"
>[d1ce08369]</a></li>
</ul>
</dd>
<dt>2015-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/gram.c:<br>
Regen with yacc skeleton that the clang analyzer doesn&rsquo;t complain about.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2033be83c"
>[2033be83c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/alloc.c, lib/util/glob.c,
plugins/sudoers/env.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/gram.c,
plugins/sudoers/gram.y:<br>
Use stdint.h to get SIZE_MAX as inttypes.h on some pre-C99 HP-UX systems
doesn&rsquo;t include stdint.h itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9bf105ed"
>[a9bf105ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
SIZE_MAX may be in limits.h on pre-C99 compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a17d562fd"
>[a17d562fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/aix.c:<br>
Add missing prototypes for usrinfo() and setauthdb() for AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2a554f29"
>[f2a554f29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/match.c:<br>
Solaris uses sysinfo(SI_SRPC_DOMAIN) instead of getdomainname() to get
the host&rsquo;s NIS domain.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=536c83cec"
>[536c83cec]</a></li>
</ul>
</dd>
<dt>2015-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove AC_PROG_GCC_TRADITIONAL and add AC_PROG_CC_STDC since we need
C99.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fdbbf16a"
>[7fdbbf16a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Actually use the check for prior initialization in sudo_getdomainname().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15717c518"
>[15717c518]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
We need to add OSDEFS to CFLAGS to expose LLONG_MAX et al on glibc when
not explicitly asking for c99.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109a866fb"
>[109a866fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix check for SIZE_MAX, which should be in stdint.h not limits.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb19428fc"
>[bb19428fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/glob.c:<br>
Need to include inttypes.h for SIZE_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd149e632"
>[fd149e632]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fde8776d5"
>[fde8776d5]</a></li>
</ul>
</dd>
<dt>2015-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/aix.c, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/gidlist.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/locking.c,
lib/util/parseln.c, lib/util/secure_path.c, lib/util/setgroups.c,
lib/util/strtobool.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/term.c,
lib/util/ttysize.c, lib/util/util.exp.in, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/base64.c, plugins/sudoers/boottime.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/hexchar.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/ldap.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/redblack.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/load_plugins.c, src/net_ifs.c, src/parse_args.c, src/preserve_fds.c,
src/selinux.c, src/sesh.c, src/signal.c, src/solaris.c, src/sudo.c,
src/sudo_edit.c, src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Go back to a 2 args debug_decl and just use the &ldquo;default&rdquo; instance, now
renamed &ldquo;active&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59ab26dbc"
>[59ab26dbc]</a></li>
</ul>
</dd>
<dt>2015-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e71726d0f"
>[e71726d0f]</a></li>
</ul>
</dd>
<dt>2015-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/parse.h:<br>
When querying LDAP netgroups, use the NIS domain if it is sent but also
match nisNetgroupTriple entries that have no domain.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ec9cfb49"
>[7ec9cfb49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Avoid setting the tty to non-blocking mode so &ldquo;sudoreplay | cat&rdquo; (for
example) works as expected. We only read a single byte from the keyboard
and only when interactive anyway so this should be fine.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97469c243"
>[97469c243]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/zlib/Makefile.in, plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00e7dbd64"
>[00e7dbd64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Avoid a cppcheck warning about undefined behavior (using the address of
a stack buffer - 1) and fix a memory leak of the iov when doing
nl-&gt;crnl conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ac881ba4"
>[0ac881ba4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Steven Soulen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1517d18b1"
>[1517d18b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix handling of partial writes from writev() which can occur with large
output buffers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=770e6ca19"
>[770e6ca19]</a></li>
</ul>
</dd>
<dt>2015-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, plugins/sudoers/ldap.c:<br>
Add support for querying netgroups directly via LDAP since there is no
other way to look up all the netgroups for a user (unlike regular
groups). This introduces netgroup_base and netgroup_search_filter
options to ldap.conf. Based on a diff from Steven Soulen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dd2a3c6b"
>[4dd2a3c6b]</a></li>
</ul>
</dd>
<dt>2015-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Sort ldap.conf options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ae3ab43c"
>[4ae3ab43c]</a></li>
</ul>
</dd>
<dt>2015-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add macros to ease the checking of strlcpy, strlcat and
sudo_ldap_value_cat return values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=741bb8ec7"
>[741bb8ec7]</a></li>
</ul>
</dd>
<dt>2015-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/parse.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Rename VALIDATE_OK -&gt; VALIDATE_SUCCESS Rename VALIDATE_NOT_OK -&gt;
VALIDATE_FAILURE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57553fffd"
>[57553fffd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.h:<br>
Remove now-unused VALIDATE_ERROR define.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=399d364a9"
>[399d364a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
should_mail() now returns bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5415b3d2a"
>[5415b3d2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
If sudo_debug_register() fails return SUDO_DEBUG_INSTANCE_INITIALIZER,
not -1. Otherwise we could end up setting the instance to -1 which is
invalid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2188c83a2"
>[2188c83a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=721cab85e"
>[721cab85e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Use &ldquo;mandoc -Tascii&rdquo; to generate .cat pages to avoid locale-specific
characters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=716e6a991"
>[716e6a991]</a></li>
</ul>
</dd>
<dt>2015-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Use AC_PATH_PROG to find programs instead of checking the path manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a33d88c99"
>[a33d88c99]</a></li>
</ul>
</dd>
<dt>2015-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/strlcat.c, lib/util/strlcpy.c:<br>
Sync with OpenBSD version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2d9e6fcc"
>[d2d9e6fcc]</a></li>
</ul>
</dd>
<dt>2015-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use AC_CHECK_HEADERS_ONCE and AC_CHECK_FUNCS_ONCE where possible and
quote the first args in AC_CHECK_FUNCS calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f80ffcc91"
>[f80ffcc91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Avoid inadvertantly defining things like PATH_MAX simply because the
source file doesn&rsquo;t include limits.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55a34e694"
>[55a34e694]</a></li>
</ul>
</dd>
<dt>2015-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, ltmain.sh, m4/libtool.m4, m4/ltoptions.m4, m4/ltversion.m4:<br>
Update to libtool 2.4.4 + HP-UX patches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=078ba3806"
>[078ba3806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Document why we need sys/param.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acea28b9a"
>[acea28b9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Don&rsquo;t need sys/param.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=532a0e6cc"
>[532a0e6cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/closefrom.c:<br>
Don&rsquo;t appear to need sys/param.h for pstat_getproc() on HP-UX even
though the man page lists it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19a8a69a9"
>[19a8a69a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/inet_ntop.c, lib/util/inet_pton.c:<br>
Should not need sys/param.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bd40c622"
>[6bd40c622]</a></li>
</ul>
</dd>
<dt>2014-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_addr.c:<br>
Use standard CIDR -&gt; netmask conversion and disallow 0-bit CIDRs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb09010da"
>[cb09010da]</a></li>
</ul>
</dd>
<dt>2014-12-24  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
Update link to gq LDAP editor, now on sourceforge.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86fbde75b"
>[86fbde75b]</a></li>
</ul>
</dd>
<dt>2014-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>include/compat/glob.h, lib/util/glob.c:<br>
Add support for GLOB_LIMIT from OpenBSD (not currently used) and also a
limit on the max recursion depth for glob().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237f3c9df"
>[237f3c9df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/glob.c:<br>
Quiet compiler sign compare warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b633e88c1"
>[b633e88c1]</a></li>
</ul>
</dd>
<dt>2014-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fnmatch fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88c4a9668"
>[88c4a9668]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fnmatch.c:<br>
Remove artificial limit on length of pattern and string. It is possible
to use fnmatch() on things other than paths (such as arguments) so a
limit of PATH_MAX does not make sense. Fixes a bug where rules would
fail to match if the length of the arguments were larger than PATH_MAX
(usually 1024).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0c333969"
>[d0c333969]</a></li>
</ul>
</dd>
<dt>2014-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Remove the extra /sudo in sudo.ws urls
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1dc5c54d"
>[b1dc5c54d]</a></li>
</ul>
</dd>
<dt>2014-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Reference bugzilla.sudo.ws
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d3fe082f"
>[9d3fe082f]</a></li>
</ul>
</dd>
<dt>2014-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0d927a98"
>[e0d927a98]</a></li>
</ul>
</dd>
<dt>2014-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Require that a digest be specified with a real command, not an alias or
pseudo-command. Found via a crash by afl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c28741978"
>[c28741978]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=034ad90e1"
>[034ad90e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/fr.mo,
plugins/sudoers/po/fr.po:<br>
French translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02b3fa2fd"
>[02b3fa2fd]</a></li>
</ul>
</dd>
<dt>2014-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/tgetpass.c:<br>
Defer registration of the SIGCHLD handler until just before we exec the
command. Fixes a problem where pam_gnome_keyring installs its own
SIGCHLD handler and may not restore the original one. As a result, we
now have to explicitly wait for the askpass helper to finish. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=657"
>Bug
#657</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29039859b"
>[29039859b]</a></li>
</ul>
</dd>
<dt>2014-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Mention sssd support in the sudoers.ldap manual and cross-reference
sssd-sudo(5).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=552dbe525"
>[552dbe525]</a></li>
</ul>
</dd>
<dt>2014-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Reorder an entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eab8a28ab"
>[eab8a28ab]</a></li>
</ul>
</dd>
<dt>2014-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, lib/util/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Prevent cppcheck from getting confused by our compat definition of the
va_copy macro for pre-C99.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc6269e58"
>[bc6269e58]</a></li>
</ul>
</dd>
<dt>2014-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Fix potential NULL pointer deref found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3870fdf62"
>[3870fdf62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
Quiet a cppcheck false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c88ecd3b"
>[0c88ecd3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
If there are multiple outputs, ap will be re-used so make a copy and
operate on it instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbe917c54"
>[cbe917c54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/hooks.c:<br>
Fix typo in hook return value check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c96c5ec3"
>[1c96c5ec3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention visudo use of sudoers plugin args to set default sudoers file
name and owner/mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cafd7baa2"
>[cafd7baa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention fix for bug #678
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d956785e9"
>[d956785e9]</a></li>
</ul>
</dd>
<dt>2014-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/da.mo, po/da.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po,
po/fi.mo, po/fi.po, po/it.mo, po/it.po, po/nb.mo, po/nb.po, po/pl.mo,
po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/ru.mo, po/ru.po, po/uk.mo,
po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo, po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4432df5e"
>[b4432df5e]</a></li>
</ul>
</dd>
<dt>2014-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In set_fqdn() we neeed to set user_runhost/user_srunhost at the same
time we set user_host/user_shost since that is what hostlist_matches()
uses. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=678"
>Bug #678</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=832a4dee6"
>[832a4dee6]</a></li>
</ul>
</dd>
<dt>2014-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/hooks.c:<br>
Do not call sudo_warnx() on invalid value from the env hook functions as
the printf() family may call getenv() for locale reasons.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae00eb719"
>[ae00eb719]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.man.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, doc/sudoreplay.mdoc.in, doc/visudo.cat,
doc/visudo.man.in, doc/visudo.mdoc.in:<br>
No need to keep specifying &ldquo;.Nm foo&rdquo; since the Nm macro remembers the
argument it was first called with and uses it if none is specified. Also
fix a few minor formatting errors and regen bulleted lists in the
.man.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d04c5644"
>[4d04c5644]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Add sudo.conf to SEE ALSO and rename section on sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbac05467"
>[fbac05467]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Mention sudo.conf use for debugging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=328429832"
>[328429832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.man.in, doc/sudoreplay.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e71c646c9"
>[e71c646c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Document sudo.conf usage now that visudo will parse the sudoers
arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc7cbcb55"
>[bc7cbcb55]</a></li>
</ul>
</dd>
<dt>2014-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Use sudoers.so args from sudo.conf to set sudoers_file, sudoers_uid,
sudoers_gid, and sudoers_mode in visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c13889f2"
>[5c13889f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Use sudoers_file, sudoers_uid, sudoers_gid, and sudoers_mode symbols
from toke.l instead of the upper case defines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d4589abd"
>[9d4589abd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in:<br>
Use SSP_LDFLAGS when creating shared objects.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04d803c79"
>[04d803c79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
We only build .lo (not .o) files for libsudo_util
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d00142f55"
>[d00142f55]</a></li>
</ul>
</dd>
<dt>2014-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57b50b470"
>[57b50b470]</a></li>
</ul>
</dd>
<dt>2014-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Make sure that SIGCHLD is not treated as a user-generated signal in
which case it could be ignored. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=676"
>Bug
#676</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21166d4da"
>[21166d4da]</a></li>
</ul>
</dd>
<dt>2014-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, ltmain.sh, m4/libtool.m4, m4/ltoptions.m4, m4/ltsugar.m4,
m4/ltversion.m4, m4/lt~obsolete.m4:<br>
Update to libtool 2.4.3 + HP-UX patches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be2de71df"
>[be2de71df]</a></li>
</ul>
</dd>
<dt>2014-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, lib/util/mktemp.c:<br>
Use arc4random() for mkstemp/mkdtemp if available. If not, try to seed
from /dev/urandom before falling back to the gettimeofday seed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2040d4dde"
>[2040d4dde]</a></li>
</ul>
</dd>
<dt>2014-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, lib/util/mktemp.c:<br>
If a system lacks mkdtemp() or mkstemps(), use our own mkdtemp() and
mkstemps(). Previously we only exposed the missing one but since the
guts are the same we might as well use them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccc210edd"
>[ccc210edd]</a></li>
</ul>
</dd>
<dt>2014-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Use a static buffer for sudo_debug_execve2() if possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eed95639"
>[2eed95639]</a></li>
</ul>
</dd>
<dt>2014-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/env_hooks.c:<br>
Mark the putenv(), setenv() and unsetenv() symbols as global, not
hidden. Fixes a mismatch where a plugin (or its loaded dso) would call
setenv() to set a variables but be unable to find it later with
getenv().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55098ff6e"
>[55098ff6e]</a></li>
</ul>
</dd>
<dt>2014-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix install-nls target from builddir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbf3c0832"
>[bbf3c0832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix dependency on sudo.pp, it needs to relative to srcdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53d4a02a4"
>[53d4a02a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Adapt to new debug subsystem registration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef6dfb3ce"
>[ef6dfb3ce]</a></li>
</ul>
</dd>
<dt>2014-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/Makefile.in, lib/zlib/zlib.exp:<br>
Add missing zlib.exp file and common LT_LDFLAGS Makefile.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67c7c7f9d"
>[67c7c7f9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Fix path settings broken in rev 9731.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1be81d572"
>[1be81d572]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/regress/sudo_conf/test4.err.ok:<br>
Adjust regress test now that boolean settings display an error for
invalid input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f730b28ce"
>[f730b28ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers_debug.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Add sudoers_debug_deregister() and use it instead of calling
sudo_debug_deregister() directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d6e1a57d"
>[9d6e1a57d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in, lib/zlib/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in:<br>
Use AC_PROG_AWK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0982f7838"
>[0982f7838]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention shared zlib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=640c9d7ec"
>[640c9d7ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add lib/zlib/zlib.exp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be376aae"
>[2be376aae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.ac, lib/zlib/Makefile.in,
lib/zlib/zconf.h.in:<br>
Add support for installing a shared zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a9e86537"
>[9a9e86537]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
fix comment typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d6895cbd"
>[0d6895cbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/zlib/Makefile.in:<br>
Newer zlib uses HAVE_HIDDEN to turn on symbol hiding so we don&rsquo;t need to
disable it with NO_VIS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c295e40d"
>[7c295e40d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11feb6bfa"
>[11feb6bfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac, include/sudo_debug.h, lib/util/sudo_debug.c,
lib/util/util.exp.in:<br>
Version the symbols for sudo_debug.c now that the API is stable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adfdad9ae"
>[adfdad9ae]</a></li>
</ul>
</dd>
<dt>2014-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/sudo_conf.c:<br>
Go back to parsing sudo.conf in place for settings and paths and improve
debugging info for unsupported entries and parse errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5fdd1ea0"
>[d5fdd1ea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_conf.h, lib/util/regress/sudo_conf/conf_test.c,
lib/util/sudo_conf.c, lib/util/util.exp.in,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/load_plugins.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Add a flag argument to sudo_conf_read() so we can decide which bits get
parsed. This lets us parse Debug statements first and init the debug
subsystem early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b1b734ff"
>[6b1b734ff]</a></li>
</ul>
</dd>
<dt>2014-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/zlib/gzguts.h:<br>
Include stdio.h after zlib.h, not before. We need the large file defines
to come first.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8bd2af4d"
>[f8bd2af4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE, lib/zlib/compress.c, lib/zlib/crc32.c, lib/zlib/crc32.h,
lib/zlib/deflate.c, lib/zlib/deflate.h, lib/zlib/gzguts.h,
lib/zlib/gzlib.c, lib/zlib/gzread.c, lib/zlib/gzwrite.c,
lib/zlib/infback.c, lib/zlib/inffast.c, lib/zlib/inflate.c,
lib/zlib/inftrees.c, lib/zlib/trees.c, lib/zlib/uncompr.c,
lib/zlib/zconf.h.in, lib/zlib/zlib.h, lib/zlib/zutil.c,
lib/zlib/zutil.h:<br>
Update zlib to version 1.2.8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c783f01ad"
>[c783f01ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t add -Wold-style-definition to CFLAGS as it causes problems with
3rd party libraries such as zlib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5a2d0f2d"
>[d5a2d0f2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Free up plugin info structs after converting to plugin containers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c8573ac2"
>[4c8573ac2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, Makefile.in, configure, configure.ac,
doc/Makefile.in, doc/TROUBLESHOOTING, doc/UPGRADE, examples/Makefile.in,
examples/pam.conf, examples/sudo.conf, examples/sudoers,
examples/syslog.conf, sudo.pp:<br>
Move sample.* files to a sudo examples dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b91a91d28"
>[b91a91d28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix a packaging problem with the sudoedit man page link on Debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e8b84fda"
>[6e8b84fda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
Initialize the debug subsystem in sudoers early. Currently this means
iterating over the settings list twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34d9cfe1c"
>[34d9cfe1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
No need to convert sudoedit -&gt; sudo in sudo_debug_get_instance() as we
store the actual program name and only do the sudoedit -&gt; sudo
conversion when reading the sudo.conf file. Fixes debugging when invoked
as sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd8cf2c89"
>[fd8cf2c89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_conf.c, lib/util/sudo_debug.c, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c, src/exec_pty.c, src/load_plugins.c,
src/sudo.c, src/sudo_plugin_int.h:<br>
In the plugin registers with the debug framework at open time, the sudo
front-end will now set the default debug instance appropriately before
calling into the plugin. This means the plugin no longer needs to do the
sudo_debug_set_default_instance() dance.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bf641df6"
>[4bf641df6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove duplicate -U__NBBY in CPPCHECK_OPTS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2e9d66be"
>[a2e9d66be]</a></li>
</ul>
</dd>
<dt>2014-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Older shells don&rsquo;t support unset.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c6f50283"
>[6c6f50283]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, include/sudo_compat.h, lib/util/inet_ntop.c,
src/net_ifs.c:<br>
Fix inet_ntop() replacement on older systems without it. We only expose
the prototype for net_ifs.c due to the use of socklen_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0cc4d9e4"
>[d0cc4d9e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Dynamically allocate debug_fds bitmap and realloc as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dc2c8fa1"
>[7dc2c8fa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, include/sudo_debug.h, lib/util/Makefile.in,
lib/util/sudo_debug.c, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoers_debug.h,
plugins/system_group/Makefile.in, src/Makefile.in, src/exec.c:<br>
Use generic bitmap macros instead of select-style fd_set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17a2a27e4"
>[17a2a27e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Replace sudo_debug_num_instances with sudo_debug_max_instance
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4baa7e6d2"
>[4baa7e6d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
Don&rsquo;t call into the debug subsystem after we&rsquo;ve deregistered the
plugin&rsquo;s instance.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=935e48c6e"
>[935e48c6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Only fill in subsystem_ids[] for the instance if the caller passed in an
array for it. If the caller only wants the default subsystems we don&rsquo;t
actually need ids[].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a47abad2"
>[2a47abad2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Link with -ldl if needed when built with &ndash;disable-shared-libutil/
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2eb6dcc0"
>[f2eb6dcc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Fix includes order.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=119c13d8b"
>[119c13d8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/util.exp.in:<br>
Remove extra newline mistakenly introduced in rev 9682.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2968ce060"
>[2968ce060]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix typo in unset.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=386055271"
>[386055271]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/sesh.c:<br>
Set debug instance for standalone programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe9e035cc"
>[fe9e035cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c, plugins/sudoers/linux_audit.c,
src/net_ifs.c:<br>
Fix compilation issues, fallout from the debug changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ca52382a"
>[1ca52382a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d2be1fd6"
>[6d2be1fd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Sudo 1.8.12
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbc54368c"
>[fbc54368c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with debug system changes and revent bug fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=323b4a814"
>[323b4a814]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoers_debug.h:<br>
When registering with the debug subsystem, the caller now passes in an
arrary of ints that gets filled in with the subsytem IDs to be used in
debug_decl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5270ebf1f"
>[5270ebf1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
sudoers_debug_instance is now included in libparsesudoers so we don&rsquo;t
need to declare it here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db5f2939"
>[8db5f2939]</a></li>
</ul>
</dd>
<dt>2014-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_debug.h, lib/util/sudo_debug.c,
lib/util/ttysize.c, plugins/sudoers/Makefile.in,
plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/hexchar.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoers_debug.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c:<br>
The sudoers plugin now defines its own list of debugging subsystem names
and defines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9914a91b"
>[e9914a91b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_debug.h, lib/util/aix.c, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/gidlist.c,
lib/util/key_val.c, lib/util/lbuf.c, lib/util/locking.c,
lib/util/parseln.c, lib/util/secure_path.c, lib/util/setgroups.c,
lib/util/strtobool.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/term.c,
lib/util/ttysize.c, lib/util/util.exp.in, plugins/sudoers/Makefile.in,
plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/hexchar.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logwrap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/parse.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoers_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, src/Makefile.in, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/get_pty.c, src/hooks.c,
src/load_plugins.c, src/net_ifs.c, src/parse_args.c, src/preserve_fds.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/sesh.c,
src/signal.c, src/solaris.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Add support for multiple Debug lines per program. Callers may register
arbitrary debug facilities or use built-in defaults. We now use separate
Debug statements for plugins and programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=866cfc4fc"
>[866cfc4fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo_plugin.cat, doc/sudo_plugin.man.in,
doc/sudo_plugin.mdoc.in, include/sudo_conf.h, include/sudo_debug.h,
lib/util/Makefile.in, lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test7.in,
lib/util/regress/sudo_conf/test7.out.ok, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/util.exp.in,
plugins/sudoers/Makefile.in, plugins/sudoers/solaris_audit.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.h, src/hooks.c,
src/load_plugins.c, src/parse_args.c, src/sudo.c, src/sudo_plugin_int.h:
Change how sudo.conf is parsed. We now do a quick parse and then set the
values after the entire file has been parsed. This lets us init the
debug system earlier. Plugin-specific debug flags are now stored in
struct plugin_info and struct plugin_container and passed to the plugin
via one or more debug_flags settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7e724b75"
>[a7e724b75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h, src/load_plugins.c, src/sudo.c,
src/sudo_plugin_int.h:<br>
Pass plugin path in the settings array.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=346ff6766"
>[346ff6766]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Return settings from parse_args as struct sudo_settings and format for
the plugin at plugin open time. This will allow for additional,
plugin-specific settings to be added to the array.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e0b8903f"
>[1e0b8903f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Remove an unneeded NULL check to quiet a cppcheck warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f71d4abd7"
>[f71d4abd7]</a></li>
</ul>
</dd>
<dt>2014-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Set locale to C for visudo and testsudoers regression tests. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=672"
>Bug
#672</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15f5af06d"
>[15f5af06d]</a></li>
</ul>
</dd>
<dt>2014-10-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/linux_audit.c:<br>
Fix logic bug. We only want to return -1 from linux_audit_open() when
audit_open() fails and errno is not one of EINVAL, EPROTONOSUPPORT, or
EAFNOSUPPORT. For those errno values, we return AUDIT_NOT_CONFIGURED
which is not a fatal error. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=671"
>Bug
#671</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38c7d7abc"
>[38c7d7abc]</a></li>
</ul>
</dd>
<dt>2014-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add back fix for <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=663"
>Bug
#663</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c5239a3a"
>[2c5239a3a]</a></li>
</ul>
</dd>
<dt>2014-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
The older style bash function exporting is not used by post-shellshock
versions of bash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f1fb89d5"
>[8f1fb89d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Apple uses a different variant of the BASH_FUNC prefix for bash
functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a901d4c0"
>[7a901d4c0]</a></li>
</ul>
</dd>
<dt>2014-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Remove change that is part of 1.8.12 not 1.8.11p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0be86df4d"
>[0be86df4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.8.11p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a50e72b81"
>[a50e72b81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Only check stdin for the tty and avoid the check entirely if we don&rsquo;t
have a way to get the tty from the kernel. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=643"
>Bug
#643</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=837fb1f81"
>[837fb1f81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Make a copy of ap in sudo_debug_vprintf2() in case the static buffer is
not big enough and we need to call vasprintf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dd96778e"
>[1dd96778e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Avoid comparing new cwd with old one if getcwd() failed. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=670"
>Bug
#670</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc6744215"
>[dc6744215]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix debugging printout output for env_should_keep()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1890f0fcd"
>[1890f0fcd]</a></li>
</ul>
</dd>
<dt>2014-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, include/Makefile.in:<br>
Use INSTALL_OWNER instead of -O/-G flags so we can work with the
autotools install-sh too. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=669"
>Bug
#669</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7574a344"
>[d7574a344]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Move sudo_printf to policy.c to match sudo_conv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79f4471e4"
>[79f4471e4]</a></li>
</ul>
</dd>
<dt>2014-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, include/sudo_fatal.h, lib/util/Makefile.in, lib/util/fatal.c,
lib/util/util.exp.in, plugins/sudoers/Makefile.in,
plugins/sudoers/sudo_printf.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/conversation.c, src/sudo.c,
src/sudo_plugin_int.h:<br>
Add sudo_warn_set_conversation() to specify a conversation function to
use for warn/fatal. If no conversation function is specified, the
standard error will be used. We now only need sudo_printf() for things
that use the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd99dcc02"
>[bd99dcc02]</a></li>
</ul>
</dd>
<dt>2014-10-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Use correct names when referring to subsections in the sudoers manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29be09364"
>[29be09364]</a></li>
</ul>
</dd>
<dt>2014-10-02  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.ac, lib/util/inet_ntop.c,
src/net_ifs.c:<br>
Use inet_ntop() instead of inet_ntoa() and include a version for systems
that are missing it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f9e84ea5"
>[5f9e84ea5]</a></li>
</ul>
</dd>
<dt>2014-10-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix detection of functions in network libs like -lsocket, -lnsl and
-linet when we have already added those libs to NET_LIBS. Fixes a
problem where inet_pton() was not detected on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d7bab504"
>[1d7bab504]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention &ndash;disable-shared-libutil fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1faf2b595"
>[1faf2b595]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Always use &ndash;tag=disable-static to avoid installing a static
sudo_noexec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f3ebce11"
>[2f3ebce11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Instead of building libutil statically for &ndash;disable-shared-libutil,
just treat it as a convenience library. Do the same with sudoers for
&ndash;enable-static-sudoers. Fixes link errors on Solaris among others when
&ndash;disable-shared-libutil is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b0481fa3"
>[0b0481fa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in:<br>
Remove LT_LDMAP and LT_LDOPT and just use LT_LDEXPORTS for the
compiler-specific option to restrict symbol exporting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05d3a4c5e"
>[05d3a4c5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preload.c:<br>
Include sys/types.h to get gid_t, etc used in sudo_compat.h. Fixes a
build issue on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d0b5422a"
>[1d0b5422a]</a></li>
</ul>
</dd>
<dt>2014-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Fix cust &amp; pasto in error message when there is a mismatch between the
sudo and libc ttys. From Diego Elio Petteno&rsquo;. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=643"
>Bug
#643</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2e138bde"
>[b2e138bde]</a></li>
</ul>
</dd>
<dt>2014-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add BASH_FUNC_* to environment blacklist for newer-style bash functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c823eb3ef"
>[c823eb3ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Pull additional password prompts out of mkpkg instead of hard-coding
them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a62662fa3"
>[a62662fa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add post-1.8.11 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38df51ffe"
>[38df51ffe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure.ac, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/po/sudoers.pot:<br>
Add a space after &ldquo;Password:&rdquo; in default password prompt so it is easier
to read when pwfeedback is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=496c2e287"
>[496c2e287]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Simplify how we count the password tries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7444e0f8"
>[b7444e0f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c:<br>
Block SIGINT and SIGQUIT while verifying passwords so that
authentication modules that use sleep() are not interrupted. If the user
interrupted authentication, exit the loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=355834c76"
>[355834c76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Remove Convex support; it is not modern enough to run sudo 1.8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0660d88b2"
>[0660d88b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Only check for -lshadow if we haven&rsquo;t already found getspnam() in libc.
Rather than treat this specially, just add -lshadow as another place to
search in addition to -lgen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27943df34"
>[27943df34]</a></li>
</ul>
</dd>
<dt>2014-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
If all authentication methods fail init/setup, fail with an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d28c525ed"
>[d28c525ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Move pass_warn() so that it is defined before it is called().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=410573474"
>[410573474]</a></li>
</ul>
</dd>
<dt>2014-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Remove duplicate Requires: line in generated rpm spec file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6432173c"
>[b6432173c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
In pp_files_expand() set _target to be empty. Fixes a problem with
Solaris sh where simply using typeset doesn&rsquo;t causes the variable to be
treated as local so we can inadvertantly inherit a value from a previous
call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d92df7974"
>[d92df7974]</a></li>
</ul>
</dd>
<dt>2014-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix version for release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1073df76c"
>[1073df76c]</a></li>
</ul>
</dd>
<dt>2014-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, pathnames.h.in:<br>
Only redefine _PATH_BSHELL on AIX if we included paths.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f75f65bb"
>[8f75f65bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Bug 661
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6be0a820d"
>[6be0a820d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in, src/exec_common.c, src/sudo.c:<br>
On AIX, _PATH_BSHELL is /usr/bin/bsh but we want to use /usr/bin/sh
(which is usually ksh). This makes sudo&rsquo;s behavior when executing a
shell without the #! magic number match execvp() on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ab40be5c"
>[7ab40be5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
Whitespace changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4d724b88"
>[d4d724b88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, m4/sudo.m4:<br>
Prefer /usr/bin/sh to /bin/sh to match modern systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c952155b7"
>[c952155b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, lib/util/Makefile.in:<br>
Don&rsquo;t use SSP_CFLAGS or PIE_CFLAGS when building mksiglist/mksigname as
they are built with the host compiler which may be different when
cross-compiling. From Gustavo Zacarias. Bug 662.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5647654d"
>[f5647654d]</a></li>
</ul>
</dd>
<dt>2014-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po, po/cs.mo, po/cs.po,
po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po, po/nb.mo,
po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/ru.mo,
po/ru.po, po/sr.mo, po/sr.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po,
po/zh_CN.mo, po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae137ba55"
>[ae137ba55]</a></li>
</ul>
</dd>
<dt>2014-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Make sure we can&rsquo;t insert an nss entry in the list that has already been
used before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09a876ced"
>[09a876ced]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Use correct gettext macro with sudo_warnx()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7de8f66f"
>[e7de8f66f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Make nsswitch.conf bug fix description more accurrate. It affects the
&ldquo;files&rdquo; nsswitch source too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109b2116c"
>[109b2116c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention nsswitch.conf duplicate entry fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52b675d74"
>[52b675d74]</a></li>
</ul>
</dd>
<dt>2014-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/sudoers.h:<br>
Make sudoers file nsswitch functions static to parse.c since they are
self-contained.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15dee8745"
>[15dee8745]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Fix infinite loop when mulitple sudoers entries are present in
nsswitch.conf. From Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9ac17776"
>[f9ac17776]</a></li>
</ul>
</dd>
<dt>2014-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Fix for bug #660
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=326167bad"
>[326167bad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/get_pty.c:<br>
Fix compilation on systems without openpty(), _getpty() or grantpt().
From Vasilyy Balyasnyy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1fe802f0"
>[d1fe802f0]</a></li>
</ul>
</dd>
<dt>2014-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>src/conversation.c:<br>
Remove remaining use of SUDO_CONV_DEBUG_MSG.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=398a16c6a"
>[398a16c6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h:<br>
SUDO_CONV_DEBUG_MSG is no longer supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4913e02b4"
>[4913e02b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudoers.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=393e57b82"
>[393e57b82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c, lib/util/sudo_printf.c,
plugins/sudoers/iolog.c, plugins/sudoers/policy.c:<br>
There is no longer a reason for the plugin to init the debug subsystem
itself. It will always be initialized by the front-end if needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e20475922"
>[e20475922]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_alloc.h, include/sudo_compat.h, include/sudo_fatal.h:<br>
Add function arg names to prototypes where missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f735f658"
>[0f735f658]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/alloc.c:<br>
Remove obsolete definition of SIZE_T which is now handled by
sudo_compat.h and rename the format arg to fmt in sudo_evasprintf_v1()
for consistency with sudo_easprintf_v1().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d557aee1e"
>[d557aee1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
If we were invoked with any name ending in &ldquo;edit&rdquo;, treat as sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cc243342"
>[1cc243342]</a></li>
</ul>
</dd>
<dt>2014-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fcc7a8f2"
>[5fcc7a8f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/signal.c:<br>
Check return value of sigaction(), even though it should never fail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=328c56379"
>[328c56379]</a></li>
</ul>
</dd>
<dt>2014-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in, src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=111136dc8"
>[111136dc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/parser/check_hexchar.c:<br>
Add hexchar unit test
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cc8ac30a"
>[2cc8ac30a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_addr.c:<br>
Avoid division by zero if there was no test data.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3586c46e"
>[b3586c46e]</a></li>
</ul>
</dd>
<dt>2014-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/event.c:<br>
Remove confusing comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f95ca8d4f"
>[f95ca8d4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c:<br>
Use a stack buffer for the debug message when possible, most are small.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fa58d697"
>[4fa58d697]</a></li>
</ul>
</dd>
<dt>2014-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po, po/ca.mo, po/ca.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e738fee"
>[f6e738fee]</a></li>
</ul>
</dd>
<dt>2014-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Convert a debug printf to a user-visible warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0546f0b6a"
>[0546f0b6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_fatal.h, include/sudo_util.h, lib/util/fatal.c:<br>
Move sudo_printf extern to sudo_util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bc688188"
>[8bc688188]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_fatal.h, include/sudo_lbuf.h, lib/util/fatal.c,
lib/util/lbuf.c:<br>
Some versions of the HP C Compiler don&rsquo;t export functions that take
function pointers as arguments unless a typedef is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a07ce849f"
>[a07ce849f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_lbuf.h:<br>
Work around a bug in the HP C compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73d5fb33e"
>[73d5fb33e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/lbuf.c:<br>
Don&rsquo;t need sudo_fatal.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=152178e4b"
>[152178e4b]</a></li>
</ul>
</dd>
<dt>2014-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>po/da.mo, po/da.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fdf9028e"
>[6fdf9028e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Remove signal_event from evbase before calling sudo_ev_loopexit() when
the command has exited or been killed. It is possible that we could
receive another signal on the pipe if they are delivered out of order.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfa4cebf1"
>[cfa4cebf1]</a></li>
</ul>
</dd>
<dt>2014-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Treat EOF on signal pipe (which should never happen) as ECONNRESET.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26e61adc5"
>[26e61adc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, src/exec_pty.c:<br>
Don&rsquo;t allow sudo_ev_loopcont() to override sudo_ev_loopexit()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b849b268"
>[2b849b268]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_event.h, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c:<br>
Add some internal convenience functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9370718f"
>[e9370718f]</a></li>
</ul>
</dd>
<dt>2014-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Fix osrelease sed expression. It wasn&rsquo;t matching distros with a single
digit version such as sles9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef11361ee"
>[ef11361ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, po/cs.mo,
po/cs.po, po/de.mo, po/de.po, po/eo.mo, po/eo.po, po/fi.mo, po/fi.po,
po/it.mo, po/it.po, po/nb.mo, po/nb.po, po/pl.mo, po/pl.po, po/pt_BR.mo,
po/pt_BR.po, po/ru.mo, po/ru.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po,
po/zh_CN.mo, po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=191a0569f"
>[191a0569f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Return -1 from logging functions if we get a write error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af9306cd8"
>[af9306cd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention I/O plugin changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1345ebbcc"
>[1345ebbcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/sudo_plugin.h, src/exec_pty.c:<br>
Change behavior when plugin I/O logging function returns 0 or -1. For -1
(error) return, we now kill the command and disable the I/O logging
function that returned the error. For a 0 (reject) return, we no longer
display the rejected output to the user&rsquo;s terminal. The plugin API
revision is now 1.6.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acdb6d369"
>[acdb6d369]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat:<br>
regen to fix version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e13662f3"
>[3e13662f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Add trivial dirty word check to the sample output logging function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=136e6e616"
>[136e6e616]</a></li>
</ul>
</dd>
<dt>2014-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.8.11b2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0af3bb6b"
>[f0af3bb6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix restoration of effective uid/gid in command_details. This masked the
effects an unset (really zero) egid. Bug 656
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79f209dbd"
>[79f209dbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Set runas egid to the same value as runas gid if egid not specified by
the plugin. Only affects new files created by sudoedit. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=656"
>Bug
#656</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f1deee57"
>[4f1deee57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Don&rsquo;t leak temp fd in sudo_edit_copy_tfiles(). Fix fd leak in error path
in sudo_edit_copy_tfiles().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5676d9874"
>[5676d9874]</a></li>
</ul>
</dd>
<dt>2014-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ad53f458"
>[8ad53f458]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/signal.c:<br>
We write an unsigned char, not an int, to the signal pipe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db494700d"
>[db494700d]</a></li>
</ul>
</dd>
<dt>2014-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Sprinkle some debugging around uid/gid setting in sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8f63191e"
>[a8f63191e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c, src/sudo.c, src/sudo.h, src/sudo_edit.c, src/sudo_exec.h:<br>
Make sudoedit work with SELinux RBAC. Adapted from RedHat patches
(Daniel Kopecek) but made to behave a bit more like the non-SELinux
bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db35c7c0e"
>[db35c7c0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Refactor code that copies temp files into separate functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a147330f3"
>[a147330f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Fix typo, .em should be .Em
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbc003b7"
>[ffbc003b7]</a></li>
</ul>
</dd>
<dt>2014-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c:<br>
Add missing call to initprogname().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c542178a"
>[2c542178a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/sudo_debug.c, lib/util/sudo_printf.c:<br>
Don&rsquo;t recurse infinitely until we blow the stack when the debug file
can&rsquo;t be opened in the front-end. The conversation-type debug mode will
be removed in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2246b1827"
>[2246b1827]</a></li>
</ul>
</dd>
<dt>2014-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Only use the first two digits of the version number. Fixes a problem on
RHEL 7 which has version numbers like 7.0.1406
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbe0b213d"
>[dbe0b213d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/linux_audit.c:<br>
Fix return value when kernel has no audit support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb82e823f"
>[fb82e823f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/progname.c:<br>
remove unused label
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d8c6ed37"
>[6d8c6ed37]</a></li>
</ul>
</dd>
<dt>2014-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, autogen.sh:<br>
Update to automake 1.14 (no code changes).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0faa6da1"
>[b0faa6da1]</a></li>
</ul>
</dd>
<dt>2014-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document the interaction between sudoers environment handling and the
pam_env module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d22d0dca"
>[2d22d0dca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Don&rsquo;t allow pam_env to overwrite existing variables when env_reset is
disabled unless the variables match the black list and would normally be
removed. It may just be better to never overwrite when env_reset is
disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c49ca1d31"
>[c49ca1d31]</a></li>
</ul>
</dd>
<dt>2014-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Update year range to include 2014
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f472d596"
>[2f472d596]</a></li>
</ul>
</dd>
<dt>2014-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Remove regress .err files in distclean target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcd505d0c"
>[dcd505d0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in:<br>
Remove generated files for linker as part of distclean.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69762d888"
>[69762d888]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
Ignore .out and .err files in lib/util regress
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd57aad60"
>[bd57aad60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add additional 1.8.11 changes and fix typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53a251dc0"
>[53a251dc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/Makefile.in:<br>
Avoid building/running the check_symbols test program unless we are
building a shared sudoers plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=696080917"
>[696080917]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Remove two instances of -no-fast-install that were missed before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd43530f0"
>[dd43530f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, NEWS, configure, configure.ac, lib/util/Makefile.in:<br>
Add &ndash;disable-shared-libutil configure option. It may only be used in
conjunction with the &ndash;enable-static-sudoers option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76a6dad42"
>[76a6dad42]</a></li>
</ul>
</dd>
<dt>2014-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove noop man.sed files Use full path instead of $@.in when calling
config.status with &ndash;file=-
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=779946ea3"
>[779946ea3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
Fix &ldquo;sudo -C&rdquo; when we have internal fds to preserve from closefrom().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=703263bf0"
>[703263bf0]</a></li>
</ul>
</dd>
<dt>2014-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/env.c:<br>
Add explicit support for matching the full environment string
(name=value). Bash functions may now be preserved for full matches, but
not for name-only matches.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df0fd4153"
>[df0fd4153]</a></li>
</ul>
</dd>
<dt>2014-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
Ignore lib/util/util.exp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84fa5a505"
>[84fa5a505]</a></li>
</ul>
</dd>
<dt>2014-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix exporting of asprintf/vasprintf symbols.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d75d22e98"
>[d75d22e98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Don&rsquo;t export getaddrinfo symbols if we found the function in a library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a9e9016f"
>[0a9e9016f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
It is now sudo_efree() not efree(). Don&rsquo;t try to free a pointer to
garbage on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a988d489"
>[7a988d489]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, po/sudo.pot:<br>
Regen .pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=080d0e650"
>[080d0e650]</a></li>
</ul>
</dd>
<dt>2014-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Plug memory leak, even though we are headed for exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edf0d3970"
>[edf0d3970]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in,
plugins/sudoers/Makefile.in:<br>
If getaddrinfo() is missing libsudoutil may need to pull in networking
libraries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f29880c1c"
>[f29880c1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.ac, include/sudo_compat.h,
lib/util/Makefile.in, lib/util/util.exp.in, m4/sudo.m4:<br>
Only include functions in util.exp that are actually in the library.
Fixes a problem on Solaris where undefined functions that are listed as
exported in the map file result in a link error. Also make sure we use
our glob.c if the system is missing glob().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=daf634b72"
>[daf634b72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Make sure shadow libs don&rsquo;t end up in LIBS, only SUDOERS_LIBS (and
SUDO_LIBS if set_auth_parameters() or initprivs() are present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f99a91023"
>[f99a91023]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
No need to AC_SUBST HAVE_BSM_AUDIT and HAVE_SOLARIS_AUDIT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58a59896b"
>[58a59896b]</a></li>
</ul>
</dd>
<dt>2014-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo_exec.h:<br>
Attempt to handle systems with SA_SIGINFO but that lack SI_USER.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae0014d6f"
>[ae0014d6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/sudo_compat.h:<br>
Replace use of HAVE_GETCWD with PREFER_PORTABLE_GETCWD. It is safe to
assume getcwd() exists, we just need to handle broken ones.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99ae71452"
>[99ae71452]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/Makefile.in:<br>
Add check for inet_ntoa() since it may live in libnsl. Make getcwd()
replacement private to the SunOS 4 section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0a09fb67"
>[b0a09fb67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Avoid mixing declarations and code for non-C99 compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=014edc20a"
>[014edc20a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h:<br>
For C89, use &ldquo;const char <strong>func</strong>[]&rdquo; instead of &ldquo;const char *<strong>func</strong>&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=120f0684b"
>[120f0684b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix compilation on systems w/o netgroups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d058611bd"
>[d058611bd]</a></li>
</ul>
</dd>
<dt>2014-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
Back out old workaround for sudoedit hang when debugging was enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787a89ed0"
>[787a89ed0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Don&rsquo;t memcpy() the preserved_fds TAILQ as the pointers into the head
will be wrong. All we need to do is save the old command details and
restore them after calling run_command(). Fixes a hang with sudoedit
when debugging is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f77ffd7c"
>[6f77ffd7c]</a></li>
</ul>
</dd>
<dt>2014-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
The default policy close function should only print an error message if
the error_code is non-zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32a837623"
>[32a837623]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
If there the preserved fds list is empty, add a new element with
TAILQ_INSERT_HEAD instead of TAILQ_INSERT_TAIL to avoid an infinite loop
on AIX, Solaris and possibly others when debug mode is active.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e5a23974"
>[7e5a23974]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/progname.c:<br>
Remove support for getting program name via /proc as pr_fname is usually
filled in after symbolic links have been processed, even on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c86e5c11"
>[8c86e5c11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Use shlib_enable instead of soext when determining whether to install
the library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceb1f6eae"
>[ceb1f6eae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/regress/atofoo/atofoo_test.c:<br>
Avoid potential division by zero
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd56a8759"
>[cd56a8759]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Don&rsquo;t link progname test with libsudo_util, just link in progname.lo
directly since that is all we need. Avoid a linker issue on darwin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebbd62eac"
>[ebbd62eac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/progname.c:<br>
Remove pstat_getproc() path as pst_ucomm on HP-UX will return the target
of a symbolic link and not the name of the link itself. Avoid using
pr_fname on AIX for the same reason. Bug 654
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=742152447"
>[742152447]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in,
lib/util/regress/progname/progname_test.c:<br>
Add test for getprogname() and symbolic links; bug 654
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6fec0603"
>[f6fec0603]</a></li>
</ul>
</dd>
<dt>2014-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Document tracing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ff2c8025"
>[5ff2c8025]</a></li>
</ul>
</dd>
<dt>2014-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>lib/util/util.exp:<br>
sudo_term_{erase,kill} are regular symbols not functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=536e5f418"
>[536e5f418]</a></li>
</ul>
</dd>
<dt>2014-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix NULL deref if base64_decode returns -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28f6ee5f9"
>[28f6ee5f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_compat.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/alloc.c, lib/util/clock_gettime.c, lib/util/closefrom.c,
lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c,
lib/util/fatal.c, lib/util/fnmatch.c, lib/util/getaddrinfo.c,
lib/util/getcwd.c, lib/util/getgrouplist.c, lib/util/getline.c,
lib/util/getopt_long.c, lib/util/gidlist.c, lib/util/glob.c,
lib/util/inet_pton.c, lib/util/isblank.c, lib/util/key_val.c,
lib/util/lbuf.c, lib/util/locking.c, lib/util/memrchr.c,
lib/util/memset_s.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/mktemp.c, lib/util/parseln.c, lib/util/progname.c,
lib/util/pw_dup.c, lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/fnmatch/fnm_test.c, lib/util/regress/glob/globtest.c,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/snprintf.c, lib/util/strlcat.c, lib/util/strlcpy.c,
lib/util/strsignal.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/strtonum.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, lib/util/sudo_dso.c, lib/util/sudo_printf.c,
lib/util/term.c, lib/util/ttysize.c, lib/util/utimes.c,
plugins/group_file/Makefile.in, plugins/group_file/getgrent.c,
plugins/group_file/group_file.c, plugins/sample/Makefile.in,
plugins/sample/sample_plugin.c, plugins/sudoers/Makefile.in,
plugins/sudoers/audit.c, plugins/sudoers/base64.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/hexchar.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/redblack.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestr.c,
plugins/system_group/Makefile.in, plugins/system_group/system_group.c,
src/Makefile.in, src/locale_stub.c, src/net_ifs.c, src/preload.c,
src/regress/ttyname/check_ttyname.c, src/sesh.c, src/sudo.h,
src/sudo_noexec.c:<br>
Rename missing.h -&gt; sudo_compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47835ff28"
>[47835ff28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/secure_path.h, include/sudo_util.h,
lib/util/Makefile.in, lib/util/secure_path.c, lib/util/sudo_conf.c,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Merge secure_path.h -&gt; sudo_util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecaecdc1f"
>[ecaecdc1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/secure_path.h, include/sudo_alloc.h, include/sudo_conf.h,
include/sudo_dso.h, include/sudo_event.h, include/sudo_fatal.h,
include/sudo_lbuf.h, include/sudo_util.h, lib/util/aix.c,
lib/util/alloc.c, lib/util/event.c, lib/util/fatal.c,
lib/util/gidlist.c, lib/util/key_val.c, lib/util/lbuf.c,
lib/util/locking.c, lib/util/parseln.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/strtobool.c, lib/util/strtoid.c,
lib/util/strtomode.c, lib/util/sudo_conf.c, lib/util/sudo_dso.c,
lib/util/term.c, lib/util/ttysize.c, lib/util/util.exp,
plugins/sudoers/locale.c, src/locale_stub.c:<br>
Version the functions in libsudo_util
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=844a28539"
>[844a28539]</a></li>
</ul>
</dd>
<dt>2014-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_gettext.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/alloc.c, lib/util/fatal.c, lib/util/gidlist.c,
lib/util/strsignal.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/strtonum.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, src/Makefile.in, src/locale_stub.c,
src/net_ifs.c, src/sesh.c, src/sudo.h:<br>
Rename gettext.h -&gt; sudo_gettext.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=127ba1354"
>[127ba1354]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_fatal.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/alloc.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/getopt_long.c,
lib/util/gidlist.c, lib/util/lbuf.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/sudo_conf.c,
lib/util/sudo_debug.c, plugins/sudoers/Makefile.in,
plugins/sudoers/bsm_audit.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/logging/check_wrap.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, src/Makefile.in, src/locale_stub.c,
src/net_ifs.c, src/regress/ttyname/check_ttyname.c, src/sesh.c,
src/sudo.h:<br>
Rename fatal.h -&gt; sudo_fatal.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3687b665c"
>[3687b665c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_conf.h, include/sudo_event.h, include/sudo_queue.h,
lib/util/Makefile.in, lib/util/fatal.c,
lib/util/regress/tailq/hltq_test.c, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, src/Makefile.in, src/hooks.c:<br>
Rename queue.h -&gt; sudo_queue.h to avoid collisions with the system
version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b45727cef"
>[b45727cef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, lib/util/sudo_debug.c:<br>
Conver sudo_debug_write() to a macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7c309f70"
>[d7c309f70]</a></li>
</ul>
</dd>
<dt>2014-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/fixman.sh, doc/fixmdoc.sh:<br>
Fix man page post-processing; it was deleting more than intended.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b104d6b3"
>[2b104d6b3]</a></li>
</ul>
</dd>
<dt>2014-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove double $(srcdir) when running sed scripts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6879683a"
>[c6879683a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
&ldquo;an EXEC tag&rdquo; not &ldquo;a EXEC tag&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1da1d1e4"
>[a1da1d1e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat:<br>
Document that I/O logging is not enabled by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d6e81ee5"
>[0d6e81ee5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that exec_background is off by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64005c2e0"
>[64005c2e0]</a></li>
</ul>
</dd>
<dt>2014-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c:<br>
Error out if sesh is run as a login shell but the shell it needs to run
has no slash. This shouldn&rsquo;t happen in practice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb96eb244"
>[fb96eb244]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, lib/util/Makefile.in, lib/util/mksiglist.c,
lib/util/mksiglist.h, lib/util/mksigname.c, lib/util/mksigname.h:<br>
Move mksiglist.h and mksigname.h to lib/util where they belong.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9071e9508"
>[9071e9508]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/missing.h,
lib/util/progname.c, lib/util/util.exp, plugins/sudoers/Makefile.in:<br>
Avoid passing -no-fast-install to libtool as this results in the build
dir being left in the library path of the installed executable. Instead,
we remove the &ldquo;lt-&rdquo; prefix from the program name in initprogname() so
that the regress test output is unaffected by libtool&rsquo;s binary wrapper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96d1967ab"
>[96d1967ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix syntax error with some shells.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bc4522ed"
>[4bc4522ed]</a></li>
</ul>
</dd>
<dt>2014-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Force libtool to use runtime linking on AIX so that it installs the
plugins as .so files and not .a files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00bac387b"
>[00bac387b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Be sure to NUL-terminate the decoded secret when converting from base64.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=430ad0fa8"
>[430ad0fa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix a pointer signednes warning calling base64_decode().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5a6037a6"
>[b5a6037a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/getgrouplist.c:<br>
Use sudo_strtoid() now that it is located in the same library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f3caa5a6"
>[9f3caa5a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/strtoid.c:<br>
Skip leading space (ala strtol) so that we can pick up the sign even if
it is not the first character of the string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c10c9cd5e"
>[c10c9cd5e]</a></li>
</ul>
</dd>
<dt>2014-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
For sudoedit, audit the actual editor being run, not just the sudoedit
command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cedc34561"
>[cedc34561]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/selinux.c:<br>
Audit failed user role changes. RedHat bz #665131
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5ecc1590"
>[d5ecc1590]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Avoid running check_symbols for static sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de56eb8b9"
>[de56eb8b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/visudo/test3.err.ok,
plugins/sudoers/regress/visudo/test3.sh:<br>
Adapt to unused alias changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be9149f6c"
>[be9149f6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/visudo.c:<br>
An unused alias is not really an error, even in strict mode. RedHat bz
#604297
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e64f1198b"
>[e64f1198b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
When running a login shell via sesh, make new argv[0] -shell, not
/path/to-shell. RedHat bz #1065418
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f216cc2b"
>[3f216cc2b]</a></li>
</ul>
</dd>
<dt>2014-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
The RHEL sudo package allows users in group wheel to run sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=691421011"
>[691421011]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.pp:<br>
Avoid packaging parent directories when they are system directories.
Currently we just skip this when prefix is /usr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d86df074d"
>[d86df074d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix typo: sudo.d -&gt; sudoers.d. From RedHat bz #726634
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a989fd1"
>[81a989fd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
RHEL 6 and above use /etc/sudo-ldap.conf not /etc/ldap.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06076e445"
>[06076e445]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
For rpm, do not specify a mode in %attr for symbolic links. Avoids the
warning &ldquo;Explicit %attr() mode not applicaple to symlink&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16b9aed75"
>[16b9aed75]</a></li>
</ul>
</dd>
<dt>2014-07-10  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_alloc.h, lib/util/aix.c, lib/util/event.c,
lib/util/event_poll.c, lib/util/event_select.c, lib/util/fatal.c,
lib/util/lbuf.c, lib/util/sudo_conf.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/ldap.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/policy.c,
plugins/sudoers/pwutil.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/redblack.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/hooks.c, src/load_plugins.c,
src/net_ifs.c, src/preserve_fds.c, src/regress/ttyname/check_ttyname.c,
src/selinux.c, src/sudo.c, src/ttyname.c:<br>
efree -&gt; sudo_efree for consistency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36a5767e3"
>[36a5767e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo_plugin.cat, doc/sudoers.cat,
doc/sudoreplay.cat, doc/visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1996777cd"
>[1996777cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c:<br>
Add support for base64 secrets in ldap.conf and ldap.secret. Based on an
idea from anthony AT rlost DOT com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c35d7f2b0"
>[c35d7f2b0]</a></li>
</ul>
</dd>
<dt>2014-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Don&rsquo;t use the HP compiler in preference to gcc. Some versions have
trouble compiling lbuf.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd0787b68"
>[bd0787b68]</a></li>
</ul>
</dd>
<dt>2014-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Remove @SOEXT@ and @SHLIB_EXT@ now that we use libtool to install
shared objects. Instead, use the new @SHLIB_ENABLE@ that is set to the
value of $enable_dlopen. For sudo_noexec.so there is nothing special to
do since the install-noexec target is only called when noexec is enabled
by configure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78d2b42b7"
>[78d2b42b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Make dynamic shared objects non-writable on HP-UX. Using writable DSOs
can substantially increase the load time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e806b9651"
>[e806b9651]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fatal.h, lib/util/fatal.c, lib/util/util.exp,
plugins/sudoers/locale.c, src/locale_stub.c:<br>
Add sudo_warn_strerror() that wraps strerror() with calls to setlocale()
in sudoers so we always get the error string in the user&rsquo;s locale. Also
change _warning() to take the error number as a parameter instead of
examining errno.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12c3b456d"
>[12c3b456d]</a></li>
</ul>
</dd>
<dt>2014-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, lib/util/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Avoid a cppcheck warning when NSIG is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bad71754"
>[2bad71754]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Fix typos in utimes/futimes macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c117d480"
>[5c117d480]</a></li>
</ul>
</dd>
<dt>2014-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ad98300d"
>[4ad98300d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.ac:<br>
Fix sudo when &ndash;disable-shared configure option was specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb2b6e59f"
>[fb2b6e59f]</a></li>
</ul>
</dd>
<dt>2014-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, lib/util/Makefile.in,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Use libtool to install/uninstall the plugins and sudo_noexec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e1e76a4b"
>[4e1e76a4b]</a></li>
</ul>
</dd>
<dt>2014-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/libtool.m4:<br>
Do not set an internal name for HP-UX modules, only archives. This works
around a problem with some versions of HP-UX ld where setting an
internal name that doesn&rsquo;t end in .sl causes link errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da13a1430"
>[da13a1430]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/system_group/Makefile.in:<br>
Never build build static versions of other plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd7646bce"
>[fd7646bce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/Makefile.in:<br>
Don&rsquo;t build a static libsudo_util.a unless we are linking sudoers
statically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ab61a128"
>[2ab61a128]</a></li>
</ul>
</dd>
<dt>2014-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, ltmain.sh, m4/libtool.m4:<br>
Fix my typos in the HP-UX libtool patch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67efcf092"
>[67efcf092]</a></li>
</ul>
</dd>
<dt>2014-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention Solaris audit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb60fd863"
>[fb60fd863]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, config.h.in, configure, configure.ac, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/solaris_audit.c, plugins/sudoers/solaris_audit.h:<br>
Add Solaris audit support; from Gary Winiger at Oracle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18dbc52e4"
>[18dbc52e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Sync MANIFEST with file name changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6df640411"
>[6df640411]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6217df4c1"
>[6217df4c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/Makefile.in, lib/util/getgrouplist.c,
lib/util/gidlist.c, lib/util/regress/atofoo/atofoo_test.c,
lib/util/strtobool.c, lib/util/strtoid.c, lib/util/strtomode.c,
lib/util/sudo_conf.c, lib/util/util.exp, plugins/group_file/getgrent.c,
plugins/sudoers/defaults.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/pwutil.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo_json.c,
plugins/system_group/system_group.c, src/sudo.c:<br>
atobool -&gt; sudo_strtobool atoid-&gt; sudo_strtoid atomode -&gt;
sudo_strtomode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8fa112a5"
>[a8fa112a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/alloc.c, lib/util/event_select.c:<br>
Fix regexp damage when renaming erecalloc() -&gt; sudo_erecalloc()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6948f5a4"
>[d6948f5a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Handle systems like AIX that lack a way to set the modification time on
open fds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be0929f2"
>[2be0929f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
update MANIFEST for alloc.h -&gt; sudo_alloc.h change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ee8afe1b"
>[1ee8afe1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_alloc.h, lib/util/Makefile.in, lib/util/aix.c,
lib/util/alloc.c, lib/util/event.c, lib/util/event_poll.c,
lib/util/event_select.c, lib/util/fatal.c, lib/util/gidlist.c,
lib/util/lbuf.c, lib/util/sudo_conf.c, lib/util/sudo_debug.c,
lib/util/util.exp, plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/redblack.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/Makefile.in, src/conversation.c, src/env_hooks.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/hooks.c, src/load_plugins.c,
src/net_ifs.c, src/parse_args.c, src/preserve_fds.c,
src/regress/ttyname/check_ttyname.c, src/selinux.c, src/sesh.c,
src/sudo.c, src/sudo.h, src/sudo_edit.c, src/ttyname.c:<br>
Add sudo_ prefix to alloc.c functions and rename alloc.h -&gt;
sudo_alloc.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d61d38c2"
>[2d61d38c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lib/util/fatal.c:<br>
Remove extra sudo_ prefix from vfatalxnodebug and vfatalx_nodebug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4c253847"
>[c4c253847]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/fileops.h, include/sudo_util.h, lib/util/Makefile.in,
lib/util/locking.c, lib/util/parseln.c,
lib/util/regress/sudo_parseln/parseln_test.c, lib/util/sudo_conf.c,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.h, src/Makefile.in,
src/sudo.h:<br>
Split fileops.c into parseln.c and locking.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e088e65c"
>[8e088e65c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fatal.h, include/gettext.h, lib/util/aix.c, lib/util/alloc.c,
lib/util/fatal.c, lib/util/getopt_long.c, lib/util/gidlist.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/tailq/hltq_test.c, lib/util/sudo_conf.c,
lib/util/util.exp, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/timestamp.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, src/exec.c, src/exec_common.c,
src/exec_pty.c, src/hooks.c, src/load_plugins.c, src/locale_stub.c,
src/net_ifs.c, src/parse_args.c, src/selinux.c, src/sesh.c,
src/signal.c, src/solaris.c, src/sudo.c, src/sudo_edit.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Rename warning/fatal -&gt; sudo_warn/sudo_fatal to avoid namespace
pollution in libsudo_util.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aecef4aa1"
>[aecef4aa1]</a></li>
</ul>
</dd>
<dt>2014-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/term.c, lib/util/ttysize.c,
lib/util/util.exp, plugins/sudoers/sudoreplay.c, src/exec_pty.c,
src/sudo.c, src/tgetpass.c:<br>
Reduce name space pollution in libsudo_util.so
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d36846a69"
>[d36846a69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/solaris.c:<br>
Use sudo_dso_load() from libsudo_util.so instead of dlopen() since we no
longer link sudo directly with libdl.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b3c19cc3"
>[9b3c19cc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, include/sudo_lbuf.h, lib/util/Makefile.in,
lib/util/lbuf.c, lib/util/util.exp, plugins/sudoers/Makefile.in,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, src/Makefile.in, src/parse_args.c:<br>
Don&rsquo;t pollute the namespace with lbuf struct and functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bafa63c1"
>[7bafa63c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_util.h, lib/util/gidlist.c, lib/util/util.exp,
plugins/sudoers/policy.c, src/sudo.c:<br>
Rename parse_gid_list -&gt; sudo_parse_gids to avoid namespace pollution.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bdee0488"
>[6bdee0488]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_util.h, lib/util/Makefile.in, lib/util/key_val.c,
lib/util/util.exp, plugins/sample/sample_plugin.c,
plugins/sudoers/policy.c, src/Makefile.in, src/exec_common.c,
src/parse_args.c, src/sudo.c:<br>
Rename fmt_string -&gt; sudo_new_key_val to better describe its function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ba5d8292"
>[9ba5d8292]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fileops.h, lib/util/fileops.c, lib/util/util.exp,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/sudo_edit.c:<br>
Remove touch() from fileops.c and just call utimes/futimes directly.
Rename lock_file -&gt; sudo_lock_file to avoid namespace pollution
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f029e3e74"
>[f029e3e74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36e828b59"
>[36e828b59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fatal.h, lib/util/fatal.c, lib/util/util.exp,
plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c:<br>
Remove use of setjmp/longjmp in the sudoers plugin. We no longer call
fatal() except in the malloc wrappers and due to libsudo_util there is
now a single copy of fatal/fatalx.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2166a6afe"
>[2166a6afe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, doc/Makefile.in, include/alloc.h,
include/compat/fnmatch.h, include/compat/getaddrinfo.h,
include/compat/getopt.h, include/compat/glob.h, include/compat/sha2.h,
include/fatal.h, include/fileops.h, include/lbuf.h, include/missing.h,
include/secure_path.h, include/sudo_conf.h, include/sudo_debug.h,
include/sudo_dso.h, include/sudo_event.h, include/sudo_util.h,
install-sh, lib/util/Makefile.in, lib/util/fatal.c,
lib/util/getaddrinfo.c, lib/util/pw_dup.c,
lib/util/regress/fnmatch/fnm_test.c, lib/util/sudo_dso.c,
lib/util/sudo_printf.c, lib/util/term.c, lib/util/util.exp,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/sudoers/match.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c,
plugins/system_group/Makefile.in, src/Makefile.in, src/parse_args.c,
src/preload.c:<br>
Add exported libsudo_util functions to util.exp and mark in headers
using __dso_public.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=088edcb6f"
>[088edcb6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, include/compat/fnmatch.h,
include/compat/getaddrinfo.h, include/compat/getopt.h,
include/compat/glob.h, include/missing.h, lib/util/clock_gettime.c,
lib/util/closefrom.c, lib/util/fnmatch.c, lib/util/getaddrinfo.c,
lib/util/getcwd.c, lib/util/getgrouplist.c, lib/util/getline.c,
lib/util/getopt_long.c, lib/util/glob.c, lib/util/inet_pton.c,
lib/util/memrchr.c, lib/util/memset_s.c, lib/util/mktemp.c,
lib/util/pw_dup.c, lib/util/sig2str.c, lib/util/snprintf.c,
lib/util/strlcat.c, lib/util/strlcpy.c, lib/util/strsignal.c,
lib/util/strtonum.c, lib/util/utimes.c:<br>
Prefix all libc replacements with sudo_ and #define the real name to the
sudo_ version. That way we don&rsquo;t pollute the libc namespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87c2fe5a3"
>[87c2fe5a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, MANIFEST, Makefile.in, common/Makefile.in,
compat/Makefile.in, configure, configure.ac, include/compat/charclass.h,
include/compat/endian.h, include/compat/fnmatch.h,
include/compat/getaddrinfo.h, include/compat/getopt.h,
include/compat/glob.h, include/compat/mksiglist.h,
include/compat/mksigname.h, include/compat/nss_dbdefs.h,
include/compat/sha2.h, include/compat/stdbool.h,
include/compat/timespec.h, include/compat/utime.h, lib/util/Makefile.in,
lib/util/aix.c, lib/util/alloc.c, lib/util/atobool.c, lib/util/atoid.c,
lib/util/atomode.c, lib/util/clock_gettime.c, lib/util/closefrom.c,
lib/util/event.c, lib/util/event_poll.c, lib/util/event_select.c,
lib/util/fatal.c, lib/util/fileops.c, lib/util/fmt_string.c,
lib/util/fnmatch.c, lib/util/getaddrinfo.c, lib/util/getcwd.c,
lib/util/getgrouplist.c, lib/util/getline.c, lib/util/getopt_long.c,
lib/util/gidlist.c, lib/util/glob.c, lib/util/inet_pton.c,
lib/util/isblank.c, lib/util/lbuf.c, lib/util/memrchr.c,
lib/util/memset_s.c, lib/util/mksiglist.c, lib/util/mksigname.c,
lib/util/mktemp.c, lib/util/progname.c, lib/util/pw_dup.c,
lib/util/regress/atofoo/atofoo_test.c,
lib/util/regress/fnmatch/fnm_test.c,
lib/util/regress/fnmatch/fnm_test.in, lib/util/regress/glob/files,
lib/util/regress/glob/globtest.c, lib/util/regress/glob/globtest.in,
lib/util/regress/sudo_conf/conf_test.c,
lib/util/regress/sudo_conf/test1.in,
lib/util/regress/sudo_conf/test1.out.ok,
lib/util/regress/sudo_conf/test2.in,
lib/util/regress/sudo_conf/test2.out.ok,
lib/util/regress/sudo_conf/test3.in,
lib/util/regress/sudo_conf/test3.out.ok,
lib/util/regress/sudo_conf/test4.in,
lib/util/regress/sudo_conf/test4.out.ok,
lib/util/regress/sudo_conf/test5.err.ok,
lib/util/regress/sudo_conf/test5.in,
lib/util/regress/sudo_conf/test5.out.ok,
lib/util/regress/sudo_conf/test6.in,
lib/util/regress/sudo_conf/test6.out.ok,
lib/util/regress/sudo_parseln/parseln_test.c,
lib/util/regress/sudo_parseln/test1.in,
lib/util/regress/sudo_parseln/test1.out.ok,
lib/util/regress/sudo_parseln/test2.in,
lib/util/regress/sudo_parseln/test2.out.ok,
lib/util/regress/sudo_parseln/test3.in,
lib/util/regress/sudo_parseln/test3.out.ok,
lib/util/regress/sudo_parseln/test4.in,
lib/util/regress/sudo_parseln/test4.out.ok,
lib/util/regress/sudo_parseln/test5.in,
lib/util/regress/sudo_parseln/test5.out.ok,
lib/util/regress/sudo_parseln/test6.in,
lib/util/regress/sudo_parseln/test6.out.ok,
lib/util/regress/tailq/hltq_test.c, lib/util/secure_path.c,
lib/util/setgroups.c, lib/util/sha2.c, lib/util/sig2str.c,
lib/util/siglist.in, lib/util/snprintf.c, lib/util/strlcat.c,
lib/util/strlcpy.c, lib/util/strsignal.c, lib/util/strtonum.c,
lib/util/sudo_conf.c, lib/util/sudo_debug.c, lib/util/sudo_dso.c,
lib/util/sudo_printf.c, lib/util/term.c, lib/util/ttysize.c,
lib/util/utimes.c, lib/zlib/Makefile.in, lib/zlib/adler32.c,
lib/zlib/compress.c, lib/zlib/crc32.c, lib/zlib/crc32.h,
lib/zlib/deflate.c, lib/zlib/deflate.h, lib/zlib/gzclose.c,
lib/zlib/gzguts.h, lib/zlib/gzlib.c, lib/zlib/gzread.c,
lib/zlib/gzwrite.c, lib/zlib/infback.c, lib/zlib/inffast.c,
lib/zlib/inffast.h, lib/zlib/inffixed.h, lib/zlib/inflate.c,
lib/zlib/inflate.h, lib/zlib/inftrees.c, lib/zlib/inftrees.h,
lib/zlib/trees.c, lib/zlib/trees.h, lib/zlib/uncompr.c,
lib/zlib/zconf.h.in, lib/zlib/zlib.h, lib/zlib/zutil.c,
lib/zlib/zutil.h, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, po/README, po/ca.mo, po/ca.po,
po/cs.mo, po/cs.po, po/da.mo, po/da.po, po/de.mo, po/de.po, po/eo.mo,
po/eo.po, po/es.mo, po/es.po, po/eu.mo, po/eu.po, po/fi.mo, po/fi.po,
po/fr.mo, po/fr.po, po/gl.mo, po/gl.po, po/hr.mo, po/hr.po, po/it.mo,
po/it.po, po/ja.mo, po/ja.po, po/nb.mo, po/nb.po, po/nl.mo, po/nl.po,
po/pl.mo, po/pl.po, po/pt_BR.mo, po/pt_BR.po, po/ru.mo, po/ru.po,
po/sl.mo, po/sl.po, po/sr.mo, po/sr.po, po/sudo.pot, po/sv.mo, po/sv.po,
po/tr.mo, po/tr.po, po/uk.mo, po/uk.po, po/vi.mo, po/vi.po, po/zh_CN.mo,
po/zh_CN.po, src/Makefile.in:<br>
Top level directory reorg Move src/po -&gt; po Combine common and compat
-&gt; lib/util Move zlib -&gt; lib/zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d37a4a16"
>[4d37a4a16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, ltmain.sh, m4/libtool.m4:<br>
libtool patches for HP-UX to support DESTDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d41276f17"
>[d41276f17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Update polypkg from trunk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=976836a3d"
>[976836a3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c, plugins/sudoers/sudo_nss.c:<br>
Fix sssd compiler warnings and fix the sha2 digest support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdda9b109"
>[fdda9b109]</a></li>
</ul>
</dd>
<dt>2014-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Don&rsquo;t call gss_krb5_ccache_name() with a NULL pointer when restoring the
old credential cache file name. This can happen if there was no old name
returned by gss_krb5_ccache_name(). Fixes a crash on kerberized LDAP on
some platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5b75b2d8"
>[b5b75b2d8]</a></li>
</ul>
</dd>
<dt>2014-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/el.mo,
plugins/sudoers/po/el.po:<br>
Add Greek PO file for sudoers from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e24b8e65"
>[7e24b8e65]</a></li>
</ul>
</dd>
<dt>2014-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Ignore signals sent by the command&rsquo;s process group, not just the command
itself. If we cannot determine the process group ID of the sender (as it
may no longer exist), just check the process ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=826e190f3"
>[826e190f3]</a></li>
</ul>
</dd>
<dt>2014-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
In handler_user_only() only forward the signal if it was not generated
by the command. This should fix a problem with programs that catch
SIGTSTP, perform cleanup, and then re-send the signal to their process
group (of which sudo is the leader).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b121da2e2"
>[b121da2e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/signal.c:<br>
Handle EINTR from write(2) when writing to pipes and socket pairs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d628e17ea"
>[d628e17ea]</a></li>
</ul>
</dd>
<dt>2014-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/nb.mo, plugins/sudoers/po/nb.po:<br>
Norwegian Bokmaal translation for sudoers from translationproject.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e5a68627"
>[9e5a68627]</a></li>
</ul>
</dd>
<dt>2014-05-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, src/po/nb.mo, src/po/nb.po:<br>
Norwegian Bokmaal translation for sudo from translationproject.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eb0122e9"
>[4eb0122e9]</a></li>
</ul>
</dd>
<dt>2014-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/visudo.c:<br>
Try to be clearer about which are the input and output files in export
mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0e6977c3"
>[b0e6977c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
In -x mode, require that the input and output files be different. This
won&rsquo;t currently catch collisions between the output file and an include
file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=372e30851"
>[372e30851]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.h, plugins/sudoers/linux_audit.h:<br>
BSM and Linux audit do not yet use the argc function argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb5a36732"
>[eb5a36732]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/bsm_audit.h, plugins/sudoers/linux_audit.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c:<br>
Pass argc to audit functions too. Will be needed for Solaris audit
support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=337a71274"
>[337a71274]</a></li>
</ul>
</dd>
<dt>2014-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>common/fatal.c, include/fatal.h, plugins/sudoers/policy.c:<br>
Do not allow the same callback function to be registered more that once
in fatal_callback_register(). Add fatal_callback_deregister() to
deregister a callback.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffb07443c"
>[ffb07443c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test15.in,
plugins/sudoers/regress/sudoers/test15.out.ok,
plugins/sudoers/regress/sudoers/test15.toke.ok,
plugins/sudoers/regress/sudoers/test16.in,
plugins/sudoers/regress/sudoers/test16.out.ok,
plugins/sudoers/regress/sudoers/test16.toke.ok:<br>
Add trivial sudoedit parsing tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e3fbaa2c"
>[2e3fbaa2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/ca.mo, plugins/sudoers/po/ca.po:<br>
Catalan translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c5353c2b"
>[3c5353c2b]</a></li>
</ul>
</dd>
<dt>2014-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/ca.mo,
src/po/ca.po, src/po/gl.mo, src/po/gl.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70f624976"
>[70f624976]</a></li>
</ul>
</dd>
<dt>2014-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
lockf() is broken on the Hurd &ndash; use flock instead <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=647"
>Bug
#647</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2efec5b3"
>[e2efec5b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Don&rsquo;t try to install the temporary sudoers file if we didn&rsquo;t edit it. By
default, visudo does not edit files in a #includedir. Fixes a NULL
pointer defef on GNU hurd; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=647"
>Bug
#647</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45ff42eb9"
>[45ff42eb9]</a></li>
</ul>
</dd>
<dt>2014-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
When comparing tty names, resolve the tty for fds 0-3 and compare each
one instead of just using the first that resolves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cdf7797c"
>[9cdf7797c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c, configure, configure.ac:<br>
Solaris 8 doesn&rsquo;t export _nss_initf_group() so we need to provide out
own for getgrouplist().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4902f4e3e"
>[4902f4e3e]</a></li>
</ul>
</dd>
<dt>2014-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/getgrouplist.c, plugins/group_file/group_file.c,
plugins/system_group/system_group.c:<br>
deal with NULL gr_mem here too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17cbfea8b"
>[17cbfea8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.10p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54fe5a26"
>[e54fe5a26]</a></li>
</ul>
</dd>
<dt>2014-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/env.c, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/parse.c, plugins/sudoers/sudoers.c,
plugins/sudoers/timestamp.c:<br>
Rename log_warning flags and only send mail if SLOG_SEND_MAIL is set
instead of mailing by default like we used to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0f1fa7d0"
>[b0f1fa7d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/env.c, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/parse.c, plugins/sudoers/sudoers.c,
plugins/sudoers/timestamp.c:<br>
Add log_warningx
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=954a3e77b"
>[954a3e77b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add debugging info for when we delete I/O events that still have
buffered data in them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f0b9eca0"
>[7f0b9eca0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c:<br>
Fix non-blocking mode. We only want to exit the event loop when poll()
or select() returns 0 and there are no active events. This fixes a
problem on some systems where the last buffer was not being written when
the command exited.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e333c516"
>[4e333c516]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Change return value of switch_dir() to an int so we can distinguish
between an error and an empty dir in push_includedir().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a53946b02"
>[a53946b02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Move code to fill in the list of dirs out of switch_dir and into its own
function. Quiets a false positive from cppcheck which got confused due
to variable reuse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=480a94d07"
>[480a94d07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Avoid unused variable warning if auditing is not supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=983ab1d16"
>[983ab1d16]</a></li>
</ul>
</dd>
<dt>2014-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix library order when linking binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a297a19fb"
>[a297a19fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Include limits.h and inttypes.h for SIZE_MAX define.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbe7d1da"
>[ffbe7d1da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h, plugins/sudoers/env.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y:<br>
Move SIZE_MAX compat define into missing.h where it belongs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a9a8d956"
>[0a9a8d956]</a></li>
</ul>
</dd>
<dt>2014-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c:<br>
Remove now-unused log_fatal()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbee9cc8c"
>[cbee9cc8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/env.c, plugins/sudoers/ldap.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Eliminate calls to fatal()/fatalx()/log_fatal() in env.c and just pass
back a return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5086194c6"
>[5086194c6]</a></li>
</ul>
</dd>
<dt>2014-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/boottime.c, plugins/sudoers/sudoers.h:<br>
Make get_boottime() return bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e45b388a3"
>[e45b388a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/boottime.c:<br>
Fix fd leak on Linux when determing boot time. This is usually masked by
the closefrom() call in sudo. From Jamie Anderson. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=645"
>Bug
#645</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e61af9e6d"
>[e61af9e6d]</a></li>
</ul>
</dd>
<dt>2014-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Handle the (currently impossible) case where both BSM and Linux auditing
are supported. Pacifies cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3b432671"
>[d3b432671]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Don&rsquo;t call ferror() on a closed stream, just check the return value of
fclose() instead. Found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd86ced96"
>[bd86ced96]</a></li>
</ul>
</dd>
<dt>2014-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/auth/pam.c:<br>
Use calloc() instead of malloc(n * s) followed by memset(). From
Jean-Philippe Ouellet.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8bb08cc4"
>[e8bb08cc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Format string safety in error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62a278183"
>[62a278183]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/event_poll.c, common/gidlist.c,
common/sudo_conf.c, include/alloc.h, plugins/sudoers/auth/sia.c,
plugins/sudoers/env.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/env_hooks.c,
src/exec_common.c, src/parse_args.c, src/selinux.c, src/sudo.c,
src/sudo_edit.c, src/ttyname.c:<br>
Rename emalloc2() -&gt; emallocarray() and erealloc3() -&gt;
ereallocarray().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=134b2a422"
>[134b2a422]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, mkdep.pl, plugins/sudoers/Makefile.in:<br>
Add missing rule for building sha2.lo when not supported by libc or
libmd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28b564daa"
>[28b564daa]</a></li>
</ul>
</dd>
<dt>2014-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.in:<br>
Disable I/O logging for halt and poweroff in addition to reboot in
commented out example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4262391e"
>[b4262391e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/auth/pam.c:<br>
Use PAM_REINITIALIZE_CRED instead of PAM_ESTABLISH_CRED when changing
the user. This is the correct flag to use with a program that changes
the uid like su or sudo and fixes a role problem on Solaris. From Gary
Winiger; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=642"
>Bug #642</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d91691e1"
>[7d91691e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
pam_setcred should default to true; from Gary Winiger <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=642"
>Bug
#642</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=278a8ba39"
>[278a8ba39]</a></li>
</ul>
</dd>
<dt>2014-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c:<br>
Make set_perms() and restore_perms() return an error instead of calling
exit() on failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a78da3748"
>[a78da3748]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Eliminate calls to fatal() in sudoers.c and just pass back a return
value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40375a626"
>[40375a626]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Elimate calls to fatal() in the logging code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a48c00dc3"
>[a48c00dc3]</a></li>
</ul>
</dd>
<dt>2014-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>common/regress/atofoo/atofoo_test.c:<br>
Quiet a compiler warning on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db831ace3"
>[db831ace3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, compat/Makefile.in, compat/sha2.c,
compat/sha2.h, config.h.in, configure, configure.ac, m4/sudo.m4,
plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/match.c,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/sudoers/test14.toke.ok, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Move the sha2 code into libreplace and add configure checks for
SHA224Update in libc and libmd. Solaris uses &ldquo;void *&rdquo; where we use
&ldquo;unsigned char *&rdquo; so we need a check for that too. Solaris sha2.h
defines SHA224, SHA256, SHA384, and SHA512 so rename those tokens.
Adapted from changes from Vladimir Marek in bug #641.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=218aa1e59"
>[218aa1e59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/match.c,
plugins/sudoers/regress/testsudoers/test6.out.ok,
plugins/sudoers/regress/testsudoers/test6.sh,
plugins/sudoers/regress/testsudoers/test7.out.ok,
plugins/sudoers/regress/testsudoers/test7.sh:<br>
Fix matching of uids and gids broken in sudo 1.8.9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27aff732f"
>[27aff732f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Fix -P option in usage()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecae6b4f9"
>[ecae6b4f9]</a></li>
</ul>
</dd>
<dt>2014-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/prompt.c,
plugins/sudoers/set_perms.c:<br>
Remove a few more unnecessary uses of fatal().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1cdb3708"
>[b1cdb3708]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Use log_warning() not log_fatal() for the &ldquo;Invalid authentication
methods compiled into sudo&rdquo; message. We return -1 on error anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d702ee981"
>[d702ee981]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Return MODE_ERROR from sudoers_policy_deserialize_info() instead of
calling fatalx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a290f812"
>[2a290f812]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/gidlist.c, src/sudo.c:<br>
parse_gid_list() now returns -1 on error instead of calling fatalx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac3ffde5e"
>[ac3ffde5e]</a></li>
</ul>
</dd>
<dt>2014-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Forward SIGINFO to running command if supported. If the command is being
run in the background (or exec_background is set in sudoers), it is the
sudo process, not the actual command, that receives the ^T.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b991348"
>[36b991348]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.h, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Remove calls to log_fatal() in I/O log functions and just pass an error
back to the caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b7dfa752"
>[9b7dfa752]</a></li>
</ul>
</dd>
<dt>2014-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>common/alloc.c, plugins/sudoers/env.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
Make &ldquo;internal error, %s overflow&rdquo; arguments consistent, using <strong>func</strong>
where possible (when debugging is allowed).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a295400b"
>[6a295400b]</a></li>
</ul>
</dd>
<dt>2014-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke_util.c, src/net_ifs.c:<br>
Use common printf format when warning of buffer overflow prevention.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1240a541"
>[a1240a541]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove init.d/*.sh in distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0415632e"
>[e0415632e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
Correctly ignore init.d/*.sh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=275b2edbd"
>[275b2edbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Remove remaining calls to fatalx(); just pass the error to the caller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d994b503"
>[7d994b503]</a></li>
</ul>
</dd>
<dt>2014-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.h:<br>
Make a password/group cache collision a warning rather than fatal. This
should not be possible in practice and we can safely return the new
(potentially duplicate) item as it will be freed by the caller. Make
sudo_set_grlist() return an error on failure instead of calling
fatalx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d1484fe8"
>[2d1484fe8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Use log_warning() instead of log_fatal() if the ticket or lecture path
is too long and just return an error. This can only happen from a
misconfiguration so just ignoring the ticket/lecture file is safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db5481599"
>[db5481599]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/find_path.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
In find_path(), return NOT_FOUND_ERROR instead of calling fatal() if the
path is too long. Remove an extraneous check against PATH_MAX in
set_cmnd() since find_path() already contains such a check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=639ac92e6"
>[639ac92e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
Remove unused MODE_LISTDEFS define and correct a comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4848b5691"
>[4848b5691]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/hexchar.c, plugins/sudoers/match.c,
plugins/sudoers/toke_util.c:<br>
Make hexchar() return -1 on invalid input instead of calling fatalx().
Callers used to check that the string was hex before calling hexchar().
Now callers must check for a -1 return value instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ff3b1b57"
>[9ff3b1b57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/bsm_audit.h, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c:<br>
Propagate errors in audit code to caller instead of using fatal(). If we
fail to audit an otherwise successful command, return an error from the
policy. For Linux audit, sudo may be compiled with audit support but
auditing may not be setup, so we don&rsquo;t consider that an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2220f55ae"
>[2220f55ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Remove unused variable on Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d7f9cb55"
>[7d7f9cb55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix warning on systems where mode_t is not unsigned int (Solaris).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dfc10830"
>[2dfc10830]</a></li>
</ul>
</dd>
<dt>2014-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.c:<br>
Audit path too long errror. Add comments about non-audit events and
placeholders for future audit hooks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1017ad4e2"
>[1017ad4e2]</a></li>
</ul>
</dd>
<dt>2014-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h:<br>
Remove unused FLAG_USER auth flag. We have no auth methods that require
that authentication be run as the invoking user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e3e5077e"
>[4e3e5077e]</a></li>
</ul>
</dd>
<dt>2014-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Fix aliasing warning in old-style interface probe code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a7ebd280"
>[6a7ebd280]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix some sign comparision warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5aeaf20d"
>[a5aeaf20d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/gidlist.c, compat/getgrouplist.c,
include/sudo_util.h, src/sudo.c:<br>
Don&rsquo;t call fatal/fatalx in common/*.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=250e8e750"
>[250e8e750]</a></li>
</ul>
</dd>
<dt>2014-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/prompt.c,
plugins/sudoers/sudoers.h:<br>
Fix expansion of %p in the prompt for &ldquo;sudo -l&rdquo; when rootpw, runaspw or
targetpw is set. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=639"
>Bug
#639</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cdb944de"
>[3cdb944de]</a></li>
</ul>
</dd>
<dt>2014-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.10p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=122257e09"
>[122257e09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Don&rsquo;t write an empty timestamp record when timestamp_timeout is zero. If
we find an empty record in the timestamp file, overwrite it with a good
one, truncating the file as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d712aa90"
>[4d712aa90]</a></li>
</ul>
</dd>
<dt>2014-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix typos in description of the -x option. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=637"
>Bug
#637</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60cf68ad1"
>[60cf68ad1]</a></li>
</ul>
</dd>
<dt>2014-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Sudo 1.8.10p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01cf646a7"
>[01cf646a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix typo/thinko that prevented &ldquo;Defaults !tty_tickets&rdquo; from working.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=403a48da4"
>[403a48da4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix &ldquo;sudo -l command&rdquo; output when the matching command is negated. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=636"
>Bug
#636</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35c41deb4"
>[35c41deb4]</a></li>
</ul>
</dd>
<dt>2014-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/regress/atofoo/atofoo_test.c,
common/regress/sudo_conf/test5.err.ok, common/regress/tailq/hltq_test.c:
The atofoo_test and hltq_test tests now display their own test error
rate. Display pass/fail count separately for sudo_conf and sudo_parseln
tests. Check stderr output for the sudo_conf test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=967fda0fb"
>[967fda0fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Don&rsquo;t run the check_ttyname test if cross compiling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f12a546a5"
>[f12a546a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
CWD no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c6d2ad68"
>[5c6d2ad68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix diff of toke and err output files in &ldquo;make check&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee135ea26"
>[ee135ea26]</a></li>
</ul>
</dd>
<dt>2014-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/po/de.mo, src/po/de.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dec05d7d"
>[7dec05d7d]</a></li>
</ul>
</dd>
<dt>2014-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Check whether ber.h is needed before ldap.h even if we are not using any
ber functions. Needed for older versions of nss ldap.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cf7f404a"
>[0cf7f404a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix compiler warning in debug code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8461dc6e2"
>[8461dc6e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, src/po/ca.mo, src/po/ca.po:<br>
Catalan translation for sudo from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed87af2ae"
>[ed87af2ae]</a></li>
</ul>
</dd>
<dt>2014-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Document negation fix in JSON output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23e7f606a"
>[23e7f606a]</a></li>
</ul>
</dd>
<dt>2014-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Fix handling of &lsquo;!&rsquo; operator when converting sudoers. We now add a
&ldquo;negated&rdquo; boolean flag to objects that have the &lsquo;!&rsquo; operator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0030bfe7d"
>[0030bfe7d]</a></li>
</ul>
</dd>
<dt>2014-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/cs.mo, plugins/sudoers/po/cs.po:<br>
Czech translation for sudoers from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c934882c3"
>[c934882c3]</a></li>
</ul>
</dd>
<dt>2014-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure, configure.ac:<br>
Try -libmldap before -lldap in case there is no link from libibmldap.so
to libldap.so. Since IBM ldap is installed under /opt we should only be
able to reach it if &ndash;with-ldap was given an explicit path.</p>
<p>Only check for ber_set_option() if LBER_OPT_DEBUG_LEVEL is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c17914bf"
>[9c17914bf]</a></p>
</li>
</ul>
</dd>
<dt>2014-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix typo in setreuid() PERM_ROOT error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d75e5f6fe"
>[d75e5f6fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
No longer need to disable setresuid() on debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8f94bdfd"
>[d8f94bdfd]</a></li>
</ul>
</dd>
<dt>2014-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix conversion of timestamp_timeout from double to struct timeval. Also
quiet a printf format warning on 32-bit systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2f96d849"
>[f2f96d849]</a></li>
</ul>
</dd>
<dt>2014-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/sr.mo, plugins/sudoers/po/sr.po:<br>
Serbian translation for sudoers from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b41f5c2d3"
>[b41f5c2d3]</a></li>
</ul>
</dd>
<dt>2014-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Ingo Schwarze
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=addef6224"
>[addef6224]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/visudo_json.c:<br>
When exporting sudoers in JSON format, use the same type of Options
object for both Defaults and Cmnd_Specs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58341a8bf"
>[58341a8bf]</a></li>
</ul>
</dd>
<dt>2014-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/inet_pton.c:<br>
Silence cppcheck false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c38207138"
>[c38207138]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cdf4407d"
>[0cdf4407d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Mention init.d scripts on AIX and HP-UX Mention sudoers group mismatch
fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bffa9a4a"
>[6bffa9a4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Talk about clearing files at boot time, not reboot time since it happens
when the system comes up, not down.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53d9429b8"
>[53d9429b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
We also need to open the sudoers file as root if there is a GID
mismatch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6e310b94"
>[c6e310b94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Install /etc/rc.d/init.d/sudo and /etc/rc.d/rc2.d/S90sudo for AIX rpm
packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b4bc87c0"
>[2b4bc87c0]</a></li>
</ul>
</dd>
<dt>2014-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Remove init.d file and link in uninstall target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e9b4d30c"
>[0e9b4d30c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, sudo.pp:<br>
Fix INIT_DIR for real this time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb3cea3fa"
>[cb3cea3fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, sudo.pp:<br>
Use correct init.d dir on HP-UX. Fix pp warnings from rc.d and init.d
dirs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bf299c69"
>[0bf299c69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, MANIFEST, configure, configure.ac, init.d/aix.sh.in,
init.d/hpux.sh.in, src/Makefile.in, sudo.pp:<br>
First cut add installing an init.d file for HP-UX and AIX to remove old
sudo timestamp files at boot time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96d87d55d"
>[96d87d55d]</a></li>
</ul>
</dd>
<dt>2014-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Use .Ar macro instead of &ldquo;file &hellip;&rdquo; Use &ldquo;.Cm -&rdquo; instead of &ldquo;.Li -&rdquo; for
the default login class. From Ingo Schwarze.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a61935c2b"
>[a61935c2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.mdoc.in, doc/sudo.mdoc.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.mdoc.in, doc/sudoreplay.mdoc.in,
doc/visudo.mdoc.in:<br>
Remove some extraneous markup; from Ingo Schwarze * No need to
explicitly end a macro with No before | because | counts as middle
punctuation and falls out of the macro, anyway. * No need to explicitly
re-open in-line macros after | because | counts as middle punctuation
and the macros resume afterwards, anyway. * Simplify the mnemonic
remarks regarding the option letters, no need for manual font and
spacing control with No and Ns. * Trim Ns No to just Ns, it already
implies No.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f909c0d13"
>[f909c0d13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Move zerowidth space in :alpha: after the colon for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6397e27c"
>[d6397e27c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.man.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.cat,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ec92dae8"
>[0ec92dae8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.mdoc.in, doc/sudoreplay.mdoc.in, doc/visudo.mdoc.in:<br>
Remove extraneous keeps in SYNOPSIS now that mandoc does implied keeps
when converting from mdoc to man.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9cfe4fc4"
>[a9cfe4fc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.mdoc.in:<br>
Properly escape the : in :alpha:
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94d448223"
>[94d448223]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Replace some uses of .Sy with .Ar, .Ev and .Pa as appropriate. From Jan
Stary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28c49748a"
>[28c49748a]</a></li>
</ul>
</dd>
<dt>2014-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Fix indentation of Defaults entries. The initial indent should be
outside the loop iterating over the entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a6ec9615"
>[0a6ec9615]</a></li>
</ul>
</dd>
<dt>2014-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=198e73b5c"
>[198e73b5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, common/atoid.c, common/atomode.c,
common/fatal.c, common/gidlist.c, common/sudo_conf.c,
common/sudo_debug.c, compat/strsignal.c, compat/strtonum.c,
plugins/sudoers/audit.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c,
src/locale_stub.c, src/net_ifs.c, src/sesh.c, src/sudo.h:<br>
We must include gettext.h before missing.h as it includes system
headers. Also add missing DEFAULT_TEXT_DOMAIN defines in sudoers audit
code that does not include sudoers.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12a1b672c"
>[12a1b672c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_dso.c:<br>
When emulating DSO_NEXT with shl_get() we need to skip the program&rsquo;s
handle. This used to be documented as being index -2 but now it seems to
be index 0. As this is not guaranteed we need to look up the real handle
value for PROG_HANDLE and skip it when interating through all the DSOs.
Fixes infinite recursion on HP-UX in the getenv() replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02d86aafe"
>[02d86aafe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/env_hooks.c:<br>
Export getenv() so it is visible to shared objects we link with.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=151f001d8"
>[151f001d8]</a></li>
</ul>
</dd>
<dt>2014-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>common/regress/atofoo/atofoo_test.c,
common/regress/sudo_conf/conf_test.c,
common/regress/sudo_parseln/parseln_test.c,
common/regress/tailq/hltq_test.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Add some initprogname() calls to the test programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d748ebe48"
>[d748ebe48]</a></li>
</ul>
</dd>
<dt>2014-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b94d558d"
>[8b94d558d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention that there is now a default LDAP search filter.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=414edf65e"
>[414edf65e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Minor word choice change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a54e52d58"
>[a54e52d58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c:<br>
Add use_netgroups sudoers option. For LDAP-based sudoers, netgroup
support requires an expensive substring match on the server. If
netgroups are not needed, this option can be disabled to reduce the load
on the LDAP server.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8287e21d3"
>[8287e21d3]</a></li>
</ul>
</dd>
<dt>2014-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a1cd11c0"
>[7a1cd11c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention LDAP changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4727c52e1"
>[4727c52e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
plugins/sudoers/ldap.c:<br>
Use a default LDAP search filter of (objectClass=sudoRole). When
constructing the netgroup query, add (sudoUser=*) to the query so we
don&rsquo;t fall below the 3 character OpenLDAP substring threshold. Otherwise
the index for sudoUser will never be used for that query. Pointed out by
Michael Stroeder.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7a419b5f"
>[f7a419b5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Don&rsquo;t warn about an insecure lecture dir twice. Display warnings in the
user&rsquo;s locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b299763e3"
>[b299763e3]</a></li>
</ul>
</dd>
<dt>2014-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention the fix for ^Z at the password prompt when sudo was started in
the background.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e733589e"
>[4e733589e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/term.c, src/exec_pty.c:<br>
In term_restore(), only restores the terminal if we are in the foregroup
process group. Instead of calling tcgetpgrp(), which is racy, we set a
temporary handler for SIGTTOU and check whether it was received after a
failed call to tcsetattr().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=135c85e15"
>[135c85e15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/getaddrinfo.c, compat/inet_pton.c, config.h.in,
configure, configure.ac, doc/LICENSE, include/missing.h, mkdep.pl,
plugins/sudoers/interfaces.c, plugins/sudoers/match_addr.c:<br>
Use inet_pton() instead of inet_aton() and include a version from BIND
for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85598f77b"
>[85598f77b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/regress/atofoo/atofoo_test.c:<br>
Quiet a gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91141e5cc"
>[91141e5cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getaddrinfo.c:<br>
Need to include limits.h for USHRT_MAX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbfe7caba"
>[fbfe7caba]</a></li>
</ul>
</dd>
<dt>2014-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>common/term.c, include/sudo_util.h:<br>
Use bool for function return values instead of 1 or 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08af9d051"
>[08af9d051]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Warn the user if the rundir needs to be cleared in the rc files. Neither
AIX not HP-UX clear /var/run (if it even exists).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=249becb1a"
>[249becb1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.9p5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1851f693"
>[b1851f693]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
When the closefrom limit is greater than any of the preserved fds, the
pfds list will be non-empty but lastfd will be -1 triggering an
ecalloc(0) assertion. Instead, test for lastfd being -1 and make sure we
always update it, even if dup() fails. Also restore initial value of
lowfd after we are done relocating. Fixes bug #633
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31858894c"
>[31858894c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/term.c:<br>
Document function return values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8984598e"
>[c8984598e]</a></li>
</ul>
</dd>
<dt>2014-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
term_restore() now restarts itself so we don&rsquo;t need to do it ourselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1de1bce3"
>[b1de1bce3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/term.c:<br>
syscall restarting is broken on Mac OS X when interrupted by a tty
signal so restart tcsetattr() by hand. For details, see.
<a class="gdoc-markdown__link" href="https://openradar.appspot.com/radar?id=6402578615107584">http://openradar.appspot.com/radar?id=6402578615107584</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a61abeb36"
>[a61abeb36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/regress/atofoo/atofoo_test.c:<br>
Add regress for atobool(), atoid() and atomode()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26f2dd3b9"
>[26f2dd3b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add back boottime.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efd31a31e"
>[efd31a31e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Mention that rundir and vardir may be the same and what to do if they
are.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7292e607f"
>[7292e607f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/boottime.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c:<br>
Bring back boot time checking code and zero out time stamp files that
predate the boot time. This should help systems w/o /var/run where the
admin has setup rc.d to clear the timestamp directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7155fc526"
>[7155fc526]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Check libraries for inet_pton() if not in libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b590182ab"
>[b590182ab]</a></li>
</ul>
</dd>
<dt>2014-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix clock_gettime() detection when it lives in librt. Some systems have
inet_aton() in libresolv (older Solaris).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=719e58740"
>[719e58740]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Avoid duplicate directories if vardir and rundir are the same.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4831eeaac"
>[4831eeaac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a7768d5"
>[a9a7768d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Elaborate on time stamp error message causes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5502051eb"
>[5502051eb]</a></li>
</ul>
</dd>
<dt>2014-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Remove the time stamp dir and its contents when uninstalling. We
currently leave the lecture status files installed until there is a
better way to detect upgrades.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17ab16824"
>[17ab16824]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Update time stamp error messages and regen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c224953"
>[23c224953]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Restore warning when sudoers is unable to update the time stamp file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32b897ac6"
>[32b897ac6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, configure, configure.ac, doc/sudoers.mdoc.in,
m4/sudo.m4, plugins/sudoers/Makefile.in, sudo.pp:<br>
Replace &ndash;with-timedir and &ndash;with-lecture_dir with &ndash;with-rundir and
&ndash;with-vardir which are the parent directories of the time stamp and
lecture dirs. These directories need to be searchable by non-root so
that the timestampowner setting can function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeb5ceead"
>[aeb5ceead]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix use of timestampowner in the new time stamp world order. Parent
directories for timestampdir and lecture_dir are now created with the
execute bit set so that we can traverse them as non-root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb29e91ef"
>[fb29e91ef]</a></li>
</ul>
</dd>
<dt>2014-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>common/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Regen Makefiles.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2dc10ece"
>[a2dc10ece]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, config.h.in, include/sudo_util.h,
plugins/sample/sample_plugin.c:<br>
Move ctim_get and mtim_get to sudo_util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0f343ba2"
>[d0f343ba2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
sprinkle some debug printfs and add function header comments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32b4713d6"
>[32b4713d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Properly handle the case where /var/run/sudo/ts doesn&rsquo;t exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7257a63e"
>[d7257a63e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b15b03560"
>[b15b03560]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention &ldquo;sudo -K&rdquo; change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f04f6eeb4"
>[f04f6eeb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Upgrade info for 1.8.10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51cab5679"
>[51cab5679]</a></li>
</ul>
</dd>
<dt>2014-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Warn on ftruncate failure().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=596fc68ac"
>[596fc68ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Fix checking of lecture status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e7aa994"
>[63e7aa994]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Do not override timedir on Debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4e037a0d"
>[f4e037a0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c, common/event_select.c, include/missing.h,
plugins/sudoers/iolog.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/sudo_edit.c:<br>
Use sudo_timeval macros and remove compat macros from missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b813c4de4"
>[b813c4de4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, NEWS, compat/Makefile.in, compat/clock_gettime.c,
config.h.in, configure, configure.ac, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, include/missing.h,
include/sudo_util.h, m4/sudo.m4, mkdep.pl, pathnames.h.in,
plugins/sudoers/Makefile.in, plugins/sudoers/boottime.c,
plugins/sudoers/check.h, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c, src/Makefile.in:<br>
Switch to new time stamp file format. Each user now has a single file
which may contain multiple records when per-tty time stamps are in use
(the default). The time stamps use a monotonic timer where available and
are once again stored in /var/run/sudo. The lecture status is now stored
separately from the time stamps in a different directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=659b1f0e3"
>[659b1f0e3]</a></li>
</ul>
</dd>
<dt>2014-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/check.c:<br>
When listing a user&rsquo;s privileges, always prompt the user for their own
password, regardless of the value of target_pw, root_pw or runas_pw.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db3b77627"
>[db3b77627]</a></li>
</ul>
</dd>
<dt>2014-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>common/atomode.c:<br>
Zero out errstr when there is no error; fixes bug #632
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a636f2ea"
>[5a636f2ea]</a></li>
</ul>
</dd>
<dt>2014-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/interfaces.c,
plugins/sudoers/match_addr.c:<br>
Use inet_aton() instead of inet_addr() as it allows us to distinguish
between the address (or mask 255.255.255.255) and an error. In the
future we may consider switching to inet_pton() for IPv4 too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaecd326e"
>[aaecd326e]</a></li>
</ul>
</dd>
<dt>2014-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Fix typo, ULONG_MAX vs. ULLONG_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e008eb67"
>[7e008eb67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Fix typo in the AIX case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6542e90f"
>[f6542e90f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Size pointer for sudo_parseln() should be size_t not ssize_t. This was
already correct for the nsswitch.conf case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e88cc27b"
>[7e88cc27b]</a></li>
</ul>
</dd>
<dt>2014-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, common/sudo_conf.c, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, include/sudo_conf.h, src/net_ifs.c:<br>
It is now possible to disable network interface probing in sudo.conf by
changing the value of the probe_interfaces setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a42e5f63"
>[1a42e5f63]</a></li>
</ul>
</dd>
<dt>2014-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match_addr.c:<br>
If inet_addr() returns INADDR_NONE, return false instead of iterating
through the interfaces looking for a match that will never happen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c9650f78"
>[4c9650f78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac, src/Makefile.in:<br>
Add explicit dependency on sudoers.la to sudo target when sudoers is
compiled statically into the sudo binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf6bca139"
>[cf6bca139]</a></li>
</ul>
</dd>
<dt>2014-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/iolog_path.c, plugins/sudoers/logging.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestr.c:<br>
Do not assume localtime(), gmtime() and ctime() always return non-NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae6fb933f"
>[ae6fb933f]</a></li>
</ul>
</dd>
<dt>2014-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in, zlib/Makefile.in:<br>
Update copyright years
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a6db565c"
>[5a6db565c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Eliminate dead store found by clang checker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f88e95bc"
>[5f88e95bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.8.9p4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2de0115cb"
>[2de0115cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/sudo_debug.h, src/preserve_fds.c:<br>
When relocating fds, update the debug fd if it is set so we are
guaranteed to get debugging output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca711ee1"
>[8ca711ee1]</a></li>
</ul>
</dd>
<dt>2014-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
If the event loop exits due to an error and we are not logging I/O, kill
the command if still running. Fixes a bug where sudo could exit while
the command was still running.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=640a5ddb4"
>[640a5ddb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
When relocating preserved fds, start with the highest ones first to
avoid moving fds around more than we have to. Now uses a bitmap to keep
track of which fds are being preserved. Fixes a bug where the debugging
fd could be relocated to the same fd as the error backchannel
temporarily, resulting in debugging output being printed to the
backchannel if util@debug was enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77b126acc"
>[77b126acc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
When restoring fds traverse list from high -&gt; low, not low -&gt; high to
avoid implicitly closing an fd we want to relocate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26cff8bcb"
>[26cff8bcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
If not logging I/O we may get EOF when the command is executed and the
other end of the backchannel is closed. Just remove the backchannel
event in this case or we will continue to receive the event. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=631"
>Bug
#631</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7277fc96"
>[d7277fc96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/sr.mo, src/po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a76d1a1c"
>[6a76d1a1c]</a></li>
</ul>
</dd>
<dt>2014-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Fix strtonum() usage when parsing /proc/self/stat on Linux. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=630"
>Bug
#630</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d99b4f090"
>[d99b4f090]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.8.9p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50c7e759d"
>[50c7e759d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logwrap.c:<br>
Remove dead store; found by cppcheck
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bec5786e5"
>[bec5786e5]</a></li>
</ul>
</dd>
<dt>2014-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sesh.c:<br>
Quiet a cppcheck warning about a negative subscript.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73f6e56c5"
>[73f6e56c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c, src/selinux.c, src/sesh.c, src/sudo_exec.h:<br>
Make noexec parameter to sudo_execve() bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb9775879"
>[bb9775879]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Quiet a few innocuous cppcheck warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa93ef78a"
>[aa93ef78a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Handle in_res being NULL for sudo_debug_printf() in
sudo_sss_filter_result().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57113a536"
>[57113a536]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
When writing length to timing file, use %u not %d as it is unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12fc51060"
>[12fc51060]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Close export_fp in the error path too, but do not close stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5ad37b4"
>[4b5ad37b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/secureware.c:<br>
Move right brace outside #ifdef HAVE_DISPCRYPT; found by cppcheck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ace435d4"
>[7ace435d4]</a></li>
</ul>
</dd>
<dt>2014-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/group_file/plugin_test.c:<br>
Make this compile again
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cadba501e"
>[cadba501e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/term.c:<br>
Add suppression line to quiet a bogus (inconclusive) cppcheck warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7421f769"
>[f7421f769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Do not leak old istack if realloc fails; found by cppcheck. Also modify
yyless() to avoid a harmless cppcheck warning every time it is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b75bb6991"
>[b75bb6991]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in, zlib/Makefile.in:<br>
Add cppcheck target to run cppcheck on all source files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78355e618"
>[78355e618]</a></li>
</ul>
</dd>
<dt>2014-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.8.9p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf7a51389"
>[bf7a51389]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, ltmain.sh, m4/libtool.m4, m4/ltoptions.m4,
m4/ltsugar.m4, m4/ltversion.m4, m4/lt~obsolete.m4:<br>
Update to libtool-2.4.2.418
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2a029ecf"
>[a2a029ecf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Update from <a
  class="gdoc-markdown__link"
  href="http://git.savannah.gnu.org/gitweb/?p=config.git"
>http://git.savannah.gnu.org/gitweb/?p=config.git</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11b1fe60d"
>[11b1fe60d]</a></li>
</ul>
</dd>
<dt>2014-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.9 also fixes bug #617
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d94a35709"
>[d94a35709]</a></li>
</ul>
</dd>
<dt>2014-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
The fix for the hang was already in the 1.8.9 tarballs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c2ab9c32"
>[2c2ab9c32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.ac:<br>
Update for sudo 1.8.9p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3d88b9db"
>[a3d88b9db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atobool.c, common/event.c, plugins/sudoers/iolog.c,
plugins/sudoers/parse.h, src/exec.c, src/preserve_fds.c:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27598bc0a"
>[27598bc0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.h:<br>
Go back to making the bit fields in struct cmndtag explicitly signed.
This fixes a problem on gcc 4.8 (at least) which appears to be treating
the value as unsigned by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f57beb1af"
>[f57beb1af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atobool.c:<br>
Use debug_return_int() instead of bare return for debugging support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bd694362"
>[1bd694362]</a></li>
</ul>
</dd>
<dt>2014-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/event.c:<br>
Fix infinite loop that could be triggered by sudo_ev_loopbreak() and
sudo_ev_loopcontinue().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a6d211d6"
>[5a6d211d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for 1.8.9 final.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3fd43fd2"
>[d3fd43fd2]</a></li>
</ul>
</dd>
<dt>2014-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Handle a sequence file with no trailing newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e1d726aa"
>[0e1d726aa]</a></li>
</ul>
</dd>
<dt>2014-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Truncate io log and timing files on open when recycling them. Only an
issue when the sequence number wraps around.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=391bc02e2"
>[391bc02e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Repair reading of the iolog sequence number that got broken when adding
stricter strtoul() checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fe419423"
>[6fe419423]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
If invoked as sudoedit we can&rsquo;t just exec the command directly since the
temporary files need to be updated before sudo exits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d013b23ce"
>[d013b23ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preserve_fds.c:<br>
Fix restoration of the close-on-exec flag when moving a relocated fd
back into its original position.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38bf95a76"
>[38bf95a76]</a></li>
</ul>
</dd>
<dt>2014-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add &ldquo;see below&rdquo; to reference &ldquo;Secure editing&rdquo; section in &ldquo;Preventing
shell escapes&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed029f9a6"
>[ed029f9a6]</a></li>
</ul>
</dd>
<dt>2014-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add initial &ldquo;Secure editing&rdquo; section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bbf4c728"
>[9bbf4c728]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76fb02390"
>[76fb02390]</a></li>
</ul>
</dd>
<dt>2013-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po, src/po/eo.mo,
src/po/eo.po, src/po/fi.mo, src/po/fi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=929d8a38e"
>[929d8a38e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Make user_cwd and user_tty dynamically allocated even for the &ldquo;unknown&rdquo;
case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1943396d7"
>[1943396d7]</a></li>
</ul>
</dd>
<dt>2013-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Use -fstack-protector-strong in preference to -fstack-protector-all or
-fstack-protector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=483e6972f"
>[483e6972f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/HISTORY:<br>
Dell acquired Quest
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd77926e1"
>[cd77926e1]</a></li>
</ul>
</dd>
<dt>2013-12-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, src/po/ru.mo,
src/po/ru.po, src/po/vi.mo, src/po/vi.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42dbe7f4b"
>[42dbe7f4b]</a></li>
</ul>
</dd>
<dt>2013-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/cs.mo,
src/po/cs.po, src/po/da.mo, src/po/da.po, src/po/it.mo, src/po/it.po,
src/po/pl.mo, src/po/pl.po, src/po/pt_BR.mo, src/po/pt_BR.po,
src/po/uk.mo, src/po/uk.po, src/po/zh_CN.mo, src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72cd57dea"
>[72cd57dea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11babdaab"
>[11babdaab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for recent changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb87b3abf"
>[bb87b3abf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Fix typo; we want setlocale(LC_ALL, &ldquo;&rdquo;) since we are setting the locale
for the first time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6e1766dd"
>[a6e1766dd]</a></li>
</ul>
</dd>
<dt>2013-12-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Use sudoers_initlocale() in main() startup, not sudoers_setlocal() as
the latter assumes we are already in the user&rsquo;s locale which may not be
the case. For sudoreplay, we can just use setlocale() directly as there
is no sudoers locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91db1efe9"
>[91db1efe9]</a></li>
</ul>
</dd>
<dt>2013-12-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/preserve_fds.c, src/sudo.c, src/sudo.h:<br>
Redo preserve_fds support to remap high fds so we can get the most out
of closefrom(). The fds are then restored after closefrom().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d80e7cea"
>[4d80e7cea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix install-plugin when sudoers is compiled statically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76544011e"
>[76544011e]</a></li>
</ul>
</dd>
<dt>2013-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/sudo_debug.c, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, include/sudo_debug.h,
include/sudo_plugin.h, src/Makefile.in, src/exec.c, src/exec_pty.c,
src/preserve_fds.c, src/sudo.c, src/sudo.h, src/sudo_exec.h:<br>
Add support for preventing fds from getting clobbered by closefrom().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1adeda54e"
>[1adeda54e]</a></li>
</ul>
</dd>
<dt>2013-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=388ad69f0"
>[388ad69f0]</a></li>
</ul>
</dd>
<dt>2013-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>common/alloc.c:<br>
Need to include limits.h here too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=291f88d2b"
>[291f88d2b]</a></li>
</ul>
</dd>
<dt>2013-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.ac, plugins/sudoers/parse.h:<br>
No need to use __signed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb44a5ba5"
>[eb44a5ba5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/logging/check_wrap.c:<br>
Need limits.h here too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0204080e"
>[a0204080e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Still need limits.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a18395a90"
>[a18395a90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cfe027b5"
>[0cfe027b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Go back to using /proc/self/fd instead of /proc/$$/fd as only AIX lacks
/proc/self and it has F_CLOSEM.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa849ed94"
>[aa849ed94]</a></li>
</ul>
</dd>
<dt>2013-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Use a switch to map digest type to name instead of an array of strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65012dd66"
>[65012dd66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Use /dev/fd in closefrom() on FreeBSD &lt; 8.0 and Mac OS X.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c3f2ac1e"
>[1c3f2ac1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/snprintf.c:<br>
Remove _MAX and _MIN compat; we rely on missing.h for that. We already
require the compiler handle long long so there&rsquo;s no need to use
HAVE_LONG_LONG_INT everywhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c184dcec"
>[8c184dcec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/ttysize.c, include/missing.h:<br>
Remove _MAX and _MIN defines that any system from the last 20 years
should have. Add ULLONG_MAX in case it is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f689a8635"
>[f689a8635]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c:<br>
Change visudo -x to take a file name argument, which may be &lsquo;-&rsquo; to write
the exported sudoers file to stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68f6e23b0"
>[68f6e23b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c, src/regress/ttyname/check_ttyname.c:<br>
Move symbol extern defs into sudoers.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2c456341"
>[b2c456341]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/logging/check_wrap.c:<br>
Add missing sudo_util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=624f4fdb1"
>[624f4fdb1]</a></li>
</ul>
</dd>
<dt>2013-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Warn if the time stamp in the I/O log file does not fit in time_t. Warn
if the info line is not well-formed instead of silently ignoring it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf47b156f"
>[cf47b156f]</a></li>
</ul>
</dd>
<dt>2013-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>common/Makefile.in, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Rename libcommon libsudo_util
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62b559db1"
>[62b559db1]</a></li>
</ul>
</dd>
<dt>2013-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/aix.c, common/atobool.c,
common/atoid.c, common/atomode.c, common/fmt_string.c, common/gidlist.c,
common/progname.c, common/setgroups.c, common/sudo_conf.c,
common/term.c, common/ttysize.c, include/missing.h, include/sudo_util.h,
plugins/group_file/Makefile.in, plugins/group_file/getgrent.c,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c, src/Makefile.in, src/sudo.h:<br>
Move prototypes for functions provided by libcommon that don&rsquo;t have
their own header files into sudo_util.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e2d818ed"
>[3e2d818ed]</a></li>
</ul>
</dd>
<dt>2013-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/mkdefaults:<br>
Now that we have proper number parsing functions we should store T_UINT
defaults values as unsigned int, not int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef2cff1d3"
>[ef2cff1d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Don&rsquo;t use int where we really mean enum def_tuple. When this code was
written it was assumed that we may have multiple tuple types. However,
that hasn&rsquo;t happened and probably never will.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e4f5c584"
>[3e4f5c584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Regen after string parsing changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03b013ab2"
>[03b013ab2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atoid.c, common/atomode.c, compat/strtonum.c, configure,
configure.ac, include/missing.h, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/sudoreplay.c, src/parse_args.c, src/ttyname.c:<br>
The OpenBSD strtonum() uses very short error strings that can&rsquo;t be
translated usefully. Convert them to longer strings on error. Also use
the longer strings for atomode() and atoid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbf41b8b9"
>[cbf41b8b9]</a></li>
</ul>
</dd>
<dt>2013-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/atoid.c, common/atomode.c,
plugins/sudoers/defaults.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, src/sudo.c, src/sudo.h:<br>
Add atomode() function for parsing a file mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d83bfb9fe"
>[d83bfb9fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, common/ttysize.c, compat/Makefile.in,
compat/closefrom.c, compat/getaddrinfo.c, compat/strtonum.c, configure,
configure.ac, include/missing.h, plugins/sudoers/boottime.c,
plugins/sudoers/defaults.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/match_addr.c,
plugins/sudoers/policy.c, plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/sudoreplay.c, plugins/system_group/system_group.c,
src/parse_args.c, src/sudo.c, src/ttyname.c:<br>
Use strtonum() instead of atoi(), strtol() or strtoul() where possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f9ce7249"
>[8f9ce7249]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/Makefile.in, compat/strtonum.c, config.h.in, configure,
configure.ac, include/missing.h, mkdep.pl:<br>
Add strtonum.c to compat for simpler number parsing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f83eac40e"
>[f83eac40e]</a></li>
</ul>
</dd>
<dt>2013-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_common.c:<br>
Fix a warning on Solaris, we need to use debug_return_const_ptr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dabe334b"
>[7dabe334b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
check_symbols needs to link with SUDO_LIBS in order to get -lpthread on
HP-UX for libldap (which uses threads). It would be better to have a
separate variable for the pthread library but this is no worse than it
used to be.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7c647a4f"
>[b7c647a4f]</a></li>
</ul>
</dd>
<dt>2013-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
add missing comma
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e04c592a"
>[8e04c592a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Make -c option description more accurate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47dbe189f"
>[47dbe189f]</a></li>
</ul>
</dd>
<dt>2013-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/sudoers.c:<br>
When checking whether a user may change the login class, just check
pw_uid of the runas user, which was passed in to set_loginclass().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8bdf3d9a2"
>[8bdf3d9a2]</a></li>
</ul>
</dd>
<dt>2013-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Use atoid() when parsing user/group IDs and print them as unsigned int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acdff2d99"
>[acdff2d99]</a></li>
</ul>
</dd>
<dt>2013-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Correctly parse 64-bit times in I/O log files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e964aa4d8"
>[e964aa4d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c, plugins/group_file/getgrent.c,
plugins/sudoers/pwutil.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
Use atoid() not atoi() when parsing uids/gids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1ac1a2ff"
>[e1ac1a2ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.h, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/sudoers.h:<br>
Better match debugging. Sprinkle const in match functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2508da6f6"
>[2508da6f6]</a></li>
</ul>
</dd>
<dt>2013-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document that plugins can be compiled statically into the sudo binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1739350e2"
>[1739350e2]</a></li>
</ul>
</dd>
<dt>2013-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
sudo_sss_filter_user_netgroup(): fix comment typos, break out of loop
early if we match ALL or netgroup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e964a8c0"
>[9e964a8c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
When filtering netgroups, use the passwd struct stashed in the handle,
not user_name since we may be listing another users privileges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=302d3273a"
>[302d3273a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
RHEL 6 and above builds sudo with SSSD support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af72b1ad5"
>[af72b1ad5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Avoid passing NULL domainname to sudo_debug_printf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f477b343f"
>[f477b343f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document sssd debug subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ede55a2f7"
>[ede55a2f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Document &ldquo;event&rdquo; debug subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b491573e"
>[5b491573e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Use atoid() instead of atoi() when parsing uids/gids so we get proper
range checking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=878ddb178"
>[878ddb178]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Add user netgroup filtering for SSSD. Previously, rules for a netgroup
were applied to all even when they did not belong to the specified
netgroup. RedHat Bugzilla 880150.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f56eca805"
>[f56eca805]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix several issues found by the clang static analyzer; Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=543d3b701"
>[543d3b701]</a></li>
</ul>
</dd>
<dt>2013-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
Mention how to dump sudoers info from LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc69e5af5"
>[dc69e5af5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c:<br>
On Solaris, disabling the proc_exec privilege appears to interfere with
DAC file permissions. Adding DAC override permissions to the inheritable
set works around this for commands run as root without giving extra
permissions to other users. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=626"
>Bug
#626</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b082a614f"
>[b082a614f]</a></li>
</ul>
</dd>
<dt>2013-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/progname.c, compat/Makefile.in,
compat/getprogname.c, configure, configure.ac, include/missing.h,
mkdep.pl, plugins/sample/sample_plugin.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/parse_args.c,
src/regress/ttyname/check_ttyname.c, src/sudo.c:<br>
Instead of setprogname(), add initprogname() which gets the program name
for getprogname() using /proc or pstat() if possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d81263e2"
>[0d81263e2]</a></li>
</ul>
</dd>
<dt>2013-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Ignore EOVERFLOW from pstat_getproc(). The HP-UX kernel appears to
return this in certain situations but it appears to be harmless at least
insofar as retrieving the tty goes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=902215a8c"
>[902215a8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/cs.mo,
src/po/cs.po, src/po/eo.mo, src/po/eo.po, src/po/fi.mo, src/po/fi.po,
src/po/it.mo, src/po/it.po, src/po/pl.mo, src/po/pl.po, src/po/pt_BR.mo,
src/po/pt_BR.po, src/po/ru.mo, src/po/ru.po, src/po/uk.mo, src/po/uk.po,
src/po/vi.mo, src/po/vi.po, src/po/zh_CN.mo, src/po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdf56ee94"
>[fdf56ee94]</a></li>
</ul>
</dd>
<dt>2013-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Add missing newline in help message after export option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=188e92156"
>[188e92156]</a></li>
</ul>
</dd>
<dt>2013-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Do not add LIBDL to SUDO_LIBS or SUDOERS_LIBS in configure, do it in
Makefile.in so we can make it last. Fixes a linking problem on Ubuntu
precise.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4247c1741"
>[4247c1741]</a></li>
</ul>
</dd>
<dt>2013-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, m4/ax_func_getaddrinfo.m4:<br>
Do not rely on NULL being defined for getaddrinfo() test. Fixes the
check on HP-UX 11.23.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94ad47ff9"
>[94ad47ff9]</a></li>
</ul>
</dd>
<dt>2013-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Regen for sudo 1.8.9b1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58a0540b9"
>[58a0540b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/de.mo, src/po/de.po, src/po/sr.mo, src/po/sr.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=853384124"
>[853384124]</a></li>
</ul>
</dd>
<dt>2013-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, MANIFEST, NEWS, common/Makefile.in, common/sudo_dso.c,
compat/Makefile.in, compat/dlfcn.h, compat/dlopen.c, config.h.in,
configure, configure.ac, include/sudo_dso.h, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/sssd.c, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c, src/Makefile.in, src/env_hooks.c,
src/load_plugins.c, src/preload.c, src/sudo.c, src/sudo.h:<br>
Add wrapper functions for dlopen() et al so that we can support
statically compiling in the sudoers plugin but still allow other plugins
to be loaded. The new &ndash;enable-static-sudoers configure option will
cause the sudoers plugin to be compiled statically into the sudo binary.
This does not prevent other plugins from being loaded as per sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12f3bdf60"
>[12f3bdf60]</a></li>
</ul>
</dd>
<dt>2013-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Handle non-unix groups correctly. Get rid of runasuser and runasgroup
types and use username and usergroup instead. The fact that the user or
group is inside a Runas_List doesn&rsquo;t affect its underlying type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fb17059a"
>[0fb17059a]</a></li>
</ul>
</dd>
<dt>2013-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Simplify Defaults list option object. The name and value strings are
superfluous.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf700fdd5"
>[bf700fdd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Back out unintended change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=627099136"
>[627099136]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, configure, configure.ac,
m4/ax_func_getaddrinfo.m4:<br>
Add dedicated test for getaddrinfo(). Tru64 UNIX contains two versions
of getaddrinfo and we must include netdb.h to get the proper definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a1d1e148"
>[6a1d1e148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c, plugins/sudoers/regress/check_symbols/check_symbols.c:<br>
Define RTLD_GLOBAL for older systems without it. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=621"
>Bug
#621</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba40be9dd"
>[ba40be9dd]</a></li>
</ul>
</dd>
<dt>2013-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/snprintf.c, include/missing.h:<br>
Rename snprintf replacement rpl_snprintf since we may now replace the
libc version and #define rpl_snprintf snprintf in missing.h so we get
our version when needed. This is consistent with how we replace glob and
fnmatch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=192cbbb49"
>[192cbbb49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, common/regress/sudo_conf/conf_test.c,
common/regress/sudo_parseln/parseln_test.c,
common/regress/tailq/hltq_test.c, src/Makefile.in:<br>
libcommon tests need locale_stub.lo to link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4075ee77c"
>[4075ee77c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, compat/snprintf.c, config.h.in, configure,
configure.ac, m4/ax_func_snprintf.m4:<br>
Add check for C99 compliant (v)snprintf function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42b1e4a9c"
>[42b1e4a9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/sig2str.c, configure, configure.ac:<br>
Include unistd.h in sig2str.c for Tru64 as it defines SIGRTMIN and
SIGRTMAX in terms of sysconf(), which is prototyped in unistd.h. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=621"
>Bug
#621</a>; from Daniel Richard
G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a47860ef"
>[0a47860ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/gettext.h, plugins/sudoers/locale.c, src/locale_stub.c:<br>
Add definition of U_ for &ndash;disable-nsl Don&rsquo;t define warning_gettext if
&ndash;disable-nsl <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=621"
>Bug #621</a>;
from Daniel Richard G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=054a94e6c"
>[054a94e6c]</a></li>
</ul>
</dd>
<dt>2013-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
When merging Defaults entries we need to check the type of the next
entry and not just assume it is the same as the previous one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a7ebf8b2"
>[0a7ebf8b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
runasgroups not runasgroup in the Cmnd_Spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f16ce9714"
>[f16ce9714]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo_json.c:<br>
Fix some syntax errors and change how lists are handled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1b1c80b2"
>[a1b1c80b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, config.h.in, configure, configure.ac,
include/fatal.h, include/sudo_debug.h:<br>
Allow sudo to compile without variadic macro support in cpp. Debugging
support will be limited (no file info from warnings.) From Daniel
Richard G.; <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=621"
>Bug #621</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dab6bd8e"
>[3dab6bd8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/aix.c, common/fatal.c, common/gidlist.c,
common/sudo_conf.c, include/fatal.h, include/gettext.h,
include/missing.h, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sssd.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/visudo.c, plugins/sudoers/visudo_json.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/load_plugins.c,
src/locale_stub.c, src/net_ifs.c, src/parse_args.c, src/selinux.c,
src/sesh.c, src/signal.c, src/solaris.c, src/sudo.c, src/sudo_edit.c,
src/tgetpass.c, src/utmp.c:<br>
Add warning_gettext() wrapper function that changes to the user locale,
then calls gettext(). Add U_ macro that calls warning_gettext() instead
of gettext(). Rename warning2()/error2() back to
warning_nodebug()/error_nodebug().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96eb2c4f8"
>[96eb2c4f8]</a></li>
</ul>
</dd>
<dt>2013-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>common/fileops.c, compat/getaddrinfo.c, compat/mktemp.c,
compat/utimes.c, configure.ac, plugins/sudoers/boottime.c,
plugins/sudoers/check.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.h, plugins/sudoers/sssd.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c,
plugins/sudoers/visudo.c, src/exec.c, src/exec_pty.c, src/preload.c,
src/sudo.c, src/sudo_edit.c, src/ttyname.c, src/utmp.c:<br>
Fix some #if vs. #ifdef and remove an extraneous semicolon. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=624"
>Bug
#624</a>; from Daniel Richard
G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99b7351de"
>[99b7351de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_debug.h, plugins/sudoers/defaults.c,
plugins/sudoers/ldap.c, src/exec_common.c:<br>
Add debug_return_const_str and debug_return_const_ptr for returning a
const string or pointer. Using const for the normal versions produces
warnings with the Tru64 compiler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c71ad5c1"
>[6c71ad5c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_poll.c, compat/getaddrinfo.c, config.h.in, configure,
configure.ac, m4/sudo.m4:<br>
Fixes for building under Tru64; from Daniel Richard G. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=624"
>Bug
#624</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf65cc041"
>[bf65cc041]</a></li>
</ul>
</dd>
<dt>2013-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
log_{fatal,warning} now logs to the debug file itself.
log_{fatal,warning} now calls warningx2() after setting the locale
itself instead of using the wrapper macros. This removes the only use of
warningx(ngettext(&hellip;)).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7017c904c"
>[7017c904c]</a></li>
</ul>
</dd>
<dt>2013-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.ac:<br>
Add -Wpointer-arith to &ndash;enable-warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=942f732a5"
>[942f732a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.ac:<br>
Fix more instances of #include directives where the &lsquo;#&rsquo; was not in
column 1. From Daniel Richard G. (bug #622)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e684f6a09"
>[e684f6a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in,
plugins/sudoers/Makefile.in, plugins/sudoers/visudo.c,
plugins/sudoers/visudo_json.c:<br>
Add support to visudo to export sudoers in JSON format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d8b078e2"
>[6d8b078e2]</a></li>
</ul>
</dd>
<dt>2013-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.h:<br>
Remove unused digest field from struct cmndspec, the digest really lives
in struct sudo_command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bba91c008"
>[bba91c008]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure:<br>
Regen with autoconf 2.69
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=362080220"
>[362080220]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, Makefile.in, config.h.in, configure.ac, doc/Makefile.in:<br>
Rename configure.in -&gt; configure.ac
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e31b2ba6a"
>[e31b2ba6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, autogen.sh, config.h.in, configure, configure.in,
ltmain.sh, m4/sudo.m4:<br>
From Daniel Richard G. (bug #622) Add an autogen.sh script that rebuilds
the autoconf world. Move old aclocal.m4 contents to m4/sudo.m4. New
(generayed) aclocal.m4 contains the m4_include directives. Some tests
had #include directives where the &lsquo;#&rsquo; was not in column 1. Updated
obsolete macro usage via autoupdate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97b60e3eb"
>[97b60e3eb]</a></li>
</ul>
</dd>
<dt>2013-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_exec.h:<br>
Very old systems (pre XPG 4.2) may not support MSG_WAITALL. The
likelihood of receiving a partial message is quite low so this is not a
big deal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb45f8e84"
>[bb45f8e84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
HP-UX may require _XOPEN_SOURCE_EXTENDED to be defined for MSG_WAITALL
to be visible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=142fff6db"
>[142fff6db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/visudo/test5.out.ok,
plugins/sudoers/regress/visudo/test5.sh:<br>
Add regress test for bug #623
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69f7ed79c"
>[69f7ed79c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Cope with a comment on the last line of the file with no newline. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=623"
>Bug
#623</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3aa40b0f"
>[a3aa40b0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getaddrinfo.c:<br>
Include arpa/inet.h for HP-UX; from Daniel Richard G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d9d8e852"
>[9d9d8e852]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Add missing $(mansrcdir) to visudo.mdoc and visudo.man. From Daniel
Richard G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89c162ec6"
>[89c162ec6]</a></li>
</ul>
</dd>
<dt>2013-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>include/fatal.h:<br>
In v{warning,fatal}x?() make a new copy of ap for the debug functions.
It is not legal to use ap twice without reinitializing it. Noticed by
Daniel Richard G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237ae0b77"
>[237ae0b77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fatal.h:<br>
Remove errant warning_restore_locale() call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31e83c3e7"
>[31e83c3e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h, plugins/sudoers/logging.c:<br>
Move va_copy compat macro to missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=702ec173d"
>[702ec173d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, mkdep.pl,
plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in, zlib/Makefile.in:<br>
Uniquify header dependencies so we don&rsquo;t end up with duplicates when a
header file includes other headers. The header dependencies are sorted
so the generated order is stable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87e1ae76a"
>[87e1ae76a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in, doc/CONTRIBUTORS, mkdep.pl:
Add getaddrinfo.lo to LTLIBOBJS for systems that need it. From Daniel
Richard G.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88a57822e"
>[88a57822e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Fix pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=906eba927"
>[906eba927]</a></li>
</ul>
</dd>
<dt>2013-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.mdoc.in:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a69ed4a2d"
>[a69ed4a2d]</a></li>
</ul>
</dd>
<dt>2013-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8dac0e4a"
>[e8dac0e4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/sudoreplay.c, plugins/sudoers/toke.c:<br>
Fix warnings from -Wold-style-definition
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e503a229"
>[8e503a229]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add -Wold-style-definition to &ndash;enable-warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b65249bd"
>[3b65249bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_poll.c:<br>
Extra debugging for ready fds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b616a0431"
>[b616a0431]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_select.c:<br>
When deleting an event, check ev-&gt;events to determine whether to remove
from readfds or writefds instead of blinding removing from both. Also
fix highfd adjustment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60d58f3a6"
>[60d58f3a6]</a></li>
</ul>
</dd>
<dt>2013-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>common/event_select.c:<br>
Only check an fd that is &gt;= 0. Timeout-only events may have a negative
fd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eb38a228"
>[0eb38a228]</a></li>
</ul>
</dd>
<dt>2013-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>common/event.c:<br>
Don&rsquo;t call sudo_ev_{add,del}_impl() for timeout-only events. This makes
it possible to pass sudo_ev_alloc() an fd of -1 for events only use
SUDO_EV_TIMEOUT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a548a5dd"
>[1a548a5dd]</a></li>
</ul>
</dd>
<dt>2013-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>common/alloc.c, common/event_select.c, include/sudo_event.h:<br>
Make a copy of readfds/writefds before calling select() instead of
calculating it each time. Keep track of high fd in the base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adef363d0"
>[adef363d0]</a></li>
</ul>
</dd>
<dt>2013-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Stephen Gelman
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7af8c3484"
>[7af8c3484]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/gram.c:<br>
Fix sign comparison warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1202e54cd"
>[1202e54cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix potential NULL dereference in non-interactive mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f761dc44"
>[9f761dc44]</a></li>
</ul>
</dd>
<dt>2013-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Use MSG_WAITALL when receiving struct command_status over the Unix
domain socket since we no longer use datagrams. This should avoid the
need to handle incomplete reads, though in theory it is still possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd88ed42c"
>[fd88ed42c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
SIGKILL is not catchable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abe0314e0"
>[abe0314e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c, include/sudo_event.h, plugins/sudoers/sudoreplay.c:<br>
Add sudo_ev_get_timeleft() to get the amount of time left before an
event times out and use it in sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=449c4a290"
>[449c4a290]</a></li>
</ul>
</dd>
<dt>2013-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in,
plugins/sudoers/sudoreplay.c:<br>
If the user presses &lt;return&gt; or &lt;enter&gt; in sudoreplay, skip to the
next event. Useful for skipping past long pauses in the data.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4cd08ef6"
>[f4cd08ef6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c, common/event_poll.c, common/event_select.c:<br>
Fix sudo_ev_scan_impl() return value in event_poll.c. Make sure we clear
active flag from unprocessed events if sudo_ev_loopbreak() or
sudo_ev_loopcontinue() are used. Remove bogus optimization when the
timeout is zero or negative; it could prevent an I/O event from being
triggered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bc2901a2"
>[1bc2901a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Move session replay into its own function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8f5d3edf"
>[b8f5d3edf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c, common/event_poll.c, common/event_select.c,
include/sudo_event.h:<br>
Get rid of cur and pending pointers in struct sudo_event_base. We now
pop the first event off the active queue instead of using a foreach loop
with deferred removal of the event. Add SUDO_EVQ_INSERTED and
SUDO_EVQ_TIMEOUTS flags to indicate that the event on the event queue
and timeouts queue respectively. No longer need to compare the timeout
to {0,0} or compare the event&rsquo;s base pointer to NULL to determine queue
membership.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d1f91274"
>[4d1f91274]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_poll.c:<br>
rename sudo_ev_loop_impl() -&gt; sudo_ev_scan_impl()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4413f89bd"
>[4413f89bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/event.c, common/event_poll.c, common/event_select.c,
compat/Makefile.in, compat/nanosleep.c, config.h.in, configure,
configure.in, include/missing.h, include/sudo_event.h, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoreplay.c, src/exec.c,
src/exec_pty.c:<br>
Add support for libevent-style timed events. Adding a timed event is
currently O(n). The only consumer of timed events is sudoreplay which
only used a singled one so O(n) == O(1) for now. This also allows us to
remove the nanosleep compat function as we now use a timeout event
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8861e01d1"
>[8861e01d1]</a></li>
</ul>
</dd>
<dt>2013-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Now that sudo_ev_base_free() removes all events before freeing we don&rsquo;t
need to do this by hand.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8b368b50"
>[d8b368b50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c, common/event_poll.c, common/event_select.c,
include/sudo_event.h:<br>
Add a list of active events in the base that the back end sets when it
calls poll or select. This allows the front end to iterate over the
events instead of having that code in both back ends. It will also
simplify support for timeout events. Also make sure we can&rsquo;t touch freed
memory if a callback frees its own event.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e16c99cd2"
>[e16c99cd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event.c:<br>
Remove any existing events before freeing the event base.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f68ca0168"
>[f68ca0168]</a></li>
</ul>
</dd>
<dt>2013-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
mon_handler() should be static
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60d20f1e6"
>[60d20f1e6]</a></li>
</ul>
</dd>
<dt>2013-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
If user specified start_tls and ldaps, display a warning and ignore
start_tls. There&rsquo;s no reason to make this a fatal error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2bfbe603"
>[e2bfbe603]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add missing else when the connection from the monitor to the parent sudo
process is broken (due to the parent dying). Prevents a spurious
&ldquo;unexpected reply type on backchannel&rdquo; warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07e0a068d"
>[07e0a068d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
When flushing output we don&rsquo;t care whether we are the foreground process
or not, we still need to flush to /dev/tty. If we are in the background,
it is OK to get SIGTTOU.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a090d0678"
>[a090d0678]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Should not attempt start_tls on an ldaps connection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38a5b0a65"
>[38a5b0a65]</a></li>
</ul>
</dd>
<dt>2013-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_fill.c:<br>
Fix sign compare warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=548efb83d"
>[548efb83d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Eliminate warning about circular dependency from GNU make.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dfe0b605"
>[8dfe0b605]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c, src/ttyname.c:<br>
More sign compare fixes. On Solaris id_t is signed so use uid_t in the
set_perms.c ID macro instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=081742958"
>[081742958]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/fileops.c, common/lbuf.c, common/secure_path.c,
common/sudo_debug.c, include/secure_path.h, plugins/sudoers/find_path.c,
plugins/sudoers/getdate.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.h, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.h, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/timestamp.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c, src/load_plugins.c,
src/sudo.c, src/ttyname.c:<br>
Quiet sign comparision warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07a804caf"
>[07a804caf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add -Wsign-compare to &ndash;enable-warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4d2978f3"
>[f4d2978f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Ignore SIGPIPE when connecting to the LDAP server so we can get a proper
error message with the IBM LDAP libs. Also return LDAP_SUCCESS instead
of 0 from most sudo_ldap_* functions that return an int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=994879c04"
>[994879c04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_base64.c,
plugins/sudoers/regress/parser/check_digest.c:<br>
Quiet compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=340fc0a58"
>[340fc0a58]</a></li>
</ul>
</dd>
<dt>2013-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
sudo_ldap_parse_uri() should join multiple URIs in the string list
together but it was clearing the host entry each time through the loop.
Fixes a bug with multiple URI entries in ldap.conf where only the last
one was being honored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29361ec00"
>[29361ec00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Avoid a double free introduced when plugging a memory leak in
safe_close(). A new ev_free_by_fd() function is used to remove and free
any events sharing the specified fd. This can be used after safe_close()
to make sure we don&rsquo;t try to select() on a closed fd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d825a5894"
>[d825a5894]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, src/exec.c:<br>
Quiet some llvm check false positives. The common idiom of using
TAILQ_FIRST, TAILQ_REMOVE and free in a loop to free each entry in a
TAILQ confuses llvm. Use TAILQ_FOREACH_SAFE instead (which is probably
faster anyway).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8ce021e7"
>[e8ce021e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
If pam_open_session() fails don&rsquo;t call pam_getenvlist() with a NULL pam
handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65c6f34aa"
>[65c6f34aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c:<br>
Fix newly introduced use after frees found by llvm checker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=798e82bd6"
>[798e82bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_select.c:<br>
Remove an errant list_next() call that should have been removed in the
TAILQ conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2cba8368"
>[b2cba8368]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/list.c,
common/regress/tailq/hltq_test.c, include/list.h, include/queue.h,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Add &ldquo;headless&rdquo; tail queues and use them in place of the semi-circular
lists in sudoers. Once the headless tail queue is built up it is
converted to a normal TAILQ. This removes the last consumer of list.c
and list.h so those can now be removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b38d253e9"
>[b38d253e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, common/fatal.c, plugins/sudoers/Makefile.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/env.c, plugins/sudoers/interfaces.c,
plugins/sudoers/interfaces.h, plugins/sudoers/ldap.c,
plugins/sudoers/match_addr.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c, src/Makefile.in, src/exec_pty.c, src/hooks.c:<br>
Use SLIST and STAILQ macros instead of doing headless singly linked
lists manually. As a bonus we now use a tail queue for ldap.c and
sudoreplay.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f85106ea6"
>[f85106ea6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/event.c, common/event_poll.c,
common/event_select.c, common/list.c,
common/regress/sudo_conf/conf_test.c, common/sudo_conf.c, doc/LICENSE,
include/list.h, include/missing.h, include/queue.h, include/sudo_conf.h,
include/sudo_event.h, plugins/sudoers/Makefile.in,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/visudo.c, src/Makefile.in, src/exec.c, src/exec_pty.c,
src/load_plugins.c, src/sudo.c, src/sudo.h, src/sudo_plugin_int.h:<br>
Convert sudo to use BSD TAILQ macros instead of home ground tail queue
functions. This includes a private queue.h header derived from FreeBSD.
It is simpler to just use our own header rather than try to deal with
macros that may or may not be present in various queue.h incarnations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=923edabe6"
>[923edabe6]</a></li>
</ul>
</dd>
<dt>2013-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix AND operator broken by changes to fix OR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe0e953e9"
>[fe0e953e9]</a></li>
</ul>
</dd>
<dt>2013-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix OR operator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c8d5add8"
>[2c8d5add8]</a></li>
</ul>
</dd>
<dt>2013-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Fix memory leak of I/O buffer events in safe_close().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04588f613"
>[04588f613]</a></li>
</ul>
</dd>
<dt>2013-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Don&rsquo;t allow the debug subsystem to be initialized twice. Otherwise we
can exhuast our stack when built in static mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69ab48f16"
>[69ab48f16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/event_poll.c:<br>
Make sure we do not try to usie index -1 in base-&gt;pfds[].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5d6f9e9"
>[6a5d6f9e9]</a></li>
</ul>
</dd>
<dt>2013-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
Bump version to 1.8.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58f71c00e"
>[58f71c00e]</a></li>
</ul>
</dd>
<dt>2013-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Convert the monitor process to the event subsystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b985948e7"
>[b985948e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo_exec.h:<br>
Convert the main sudo event loop to use the event subsystem. Read events
for I/O buffers are added before the loop starts. Write events are added
on demand as the buffers are filled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83d2d25c4"
>[83d2d25c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, common/Makefile.in, common/event.c,
common/event_poll.c, common/event_select.c, common/list.c,
common/sudo_debug.c, config.h.in, configure, configure.in,
include/list.h, include/sudo_debug.h, include/sudo_event.h, mkdep.pl,
plugins/sudoers/Makefile.in, src/Makefile.in, src/exec_pty.c:<br>
Simple event subsystem that uses poll() or select(). Basically a
simplied subset of libevent2. Currently only fd events are supported
(since that&rsquo;s all we need). The poll() backend is used by default,
except on Mac OS X where poll() is broken for devices (including
/dev/tty and ptys).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79acd5db4"
>[79acd5db4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Use SOCK_STREAM for socketpair, not SOCK_DGRAM so we get consistent
semantics when the other end closes. This should make the conversion to
poll() less problematic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff18c6586"
>[ff18c6586]</a></li>
</ul>
</dd>
<dt>2013-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Fix removal of trailing newlines in a debug message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6b4f4110"
>[a6b4f4110]</a></li>
</ul>
</dd>
<dt>2013-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
When checking for unused Runas_Aliases, count those used as part of a
Runas Group too. Fixes a false positive warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=020fb0094"
>[020fb0094]</a></li>
</ul>
</dd>
<dt>2013-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Include stddef.h for rsize_t and errno_t on systems that support it
natively.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e223df690"
>[e223df690]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Fix braino.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48d7c407e"
>[48d7c407e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/de.mo,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/fi.mo,
plugins/sudoers/po/it.mo, plugins/sudoers/po/pl.mo,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/zh_CN.mo:<br>
Rebuild message catalog files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc332461e"
>[fc332461e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/da.mo, src/po/eo.mo, src/po/fi.mo, src/po/it.mo, src/po/pl.mo,
src/po/pt_BR.mo, src/po/ru.mo, src/po/uk.mo, src/po/vi.mo,
src/po/zh_CN.mo:<br>
Rebuild message catalog files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b5021fed"
>[4b5021fed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, src/po/cs.mo, src/po/cs.po:<br>
Czech translation for sudo from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aff3320f3"
>[aff3320f3]</a></li>
</ul>
</dd>
<dt>2013-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.po, plugins/sudoers/po/de.po,
plugins/sudoers/po/eo.po, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.po, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.po, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.po, plugins/sudoers/po/zh_CN.po, src/po/da.po,
src/po/eo.po, src/po/fi.po, src/po/it.po, src/po/pl.po, src/po/pt_BR.po,
src/po/ru.po, src/po/uk.po, src/po/vi.po, src/po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b10880f8"
>[4b10880f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Change &ldquo;next&rdquo; back to 2. In the context of &ldquo;next Friday&rdquo; we really do
want the friday of the upcoming (not current) week. Unfortunately, this
means that things like &ldquo;next week&rdquo; and &ldquo;next year&rdquo; will match one more
than we really want. Fixing this will require some fairly major changes
to the grammar.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a657e884"
>[9a657e884]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Mention that relative times don&rsquo;t always do what you might expect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d197e42d4"
>[d197e42d4]</a></li>
</ul>
</dd>
<dt>2013-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add diacritical for Zdenek Behan.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6833bed7"
>[e6833bed7]</a></li>
</ul>
</dd>
<dt>2013-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Do not fail if ttyname() cannot determine the tty but sudo can. Should
fix problems with running &ldquo;make check&rdquo; under pbuilder.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c91c5343e"
>[c91c5343e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Remove extraneous $$CWD; from Bdale Garbee
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d56fd5f8"
>[5d56fd5f8]</a></li>
</ul>
</dd>
<dt>2013-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Make &ldquo;this&rdquo; and &ldquo;next&rdquo; qualifiers work a bit better. There is still room
for improvement as &ldquo;this week&rdquo; will use the current time instead of the
beginning of the week. That&rsquo;s a separate issue though.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e59d5624d"
>[e59d5624d]</a></li>
</ul>
</dd>
<dt>2013-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/regress/sudo_conf/conf_test.c,
common/regress/sudo_parseln/parseln_test.c:<br>
Mark main() public to silence a warning on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fbcde304"
>[4fbcde304]</a></li>
</ul>
</dd>
<dt>2013-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, plugins/sudoers/timestamp.c:<br>
Be specific that we are talking about the Unix epoch; bug #615
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd5286905"
>[bd5286905]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/po/sudoers.pot,
src/po/sudo.pot, src/selinux.c:<br>
Do not use &ldquo;setup&rdquo; as a verb; bug #614
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b0a909d9"
>[6b0a909d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Fix logic goof when checking open() status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b57ef4f6"
>[6b57ef4f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po, src/po/nl.mo,
src/po/nl.po, src/po/ru.mo, src/po/ru.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13fd13e17"
>[13fd13e17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/sudoreplay.c:<br>
Work around a bug in sudo 1.8.7 timing files where the indexes are off
by two.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2d0bdee2"
>[b2d0bdee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/iolog.c, plugins/sudoers/iolog.h,
plugins/sudoers/sudoreplay.c:<br>
Repair writing of the I/O log file indices broken in sudo 1.8.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=422115d72"
>[422115d72]</a></li>
</ul>
</dd>
<dt>2013-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Try to improve the PAGERS noexec example a bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92a3e13e6"
>[92a3e13e6]</a></li>
</ul>
</dd>
<dt>2013-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Document comment character in ldap.conf Clarify what is and is not
supported in TLS_KEYPW Mention that gsk8capicmd can be used to create a
stash file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55ea043a9"
>[55ea043a9]</a></li>
</ul>
</dd>
<dt>2013-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
New bugs fixed for 1.8.8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=596d94dc6"
>[596d94dc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix setting of quiet flag when -q / &ndash;quiet is specified. Do not print
&ldquo;sudoers: parsed OK&rdquo; in quiet mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de566ac2c"
>[de566ac2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po, src/po/fi.mo,
src/po/fi.po, src/po/it.mo, src/po/it.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=316fe3612"
>[316fe3612]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t allow root to change its SELinux role without a password. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=611"
>Bug
#611</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3389108f1"
>[3389108f1]</a></li>
</ul>
</dd>
<dt>2013-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention new Mac OS X symbol interposition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95d41437d"
>[95d41437d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po, src/po/eo.mo,
src/po/eo.po, src/po/fr.mo, src/po/fr.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d1ee8cf2"
>[6d1ee8cf2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/sudo_noexec.c:<br>
Add configure checks for the exec functions we will dummy out. This is
only really needed on Mac OS X when symbol interposition is being
performed but won&rsquo;t hurt elsewhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b24c5da"
>[40b24c5da]</a></li>
</ul>
</dd>
<dt>2013-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/Makefile.in,
src/sudo_noexec.c:<br>
Fix installation of sudo_noexec on Mac OS X. Use library symbol
interposition on Mac OS X 10.4 and higher so we don&rsquo;t need to set
DYLD_FORCE_FLAT_NAMESPACE=1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0f5c498f"
>[b0f5c498f]</a></li>
</ul>
</dd>
<dt>2013-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix error display from ldap_ssl_client_init(). There are two error
codes. The return value can be decoded via ldap_err2string() but the ssl
reason code cannot (you have to look it up in a table online).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=925984d88"
>[925984d88]</a></li>
</ul>
</dd>
<dt>2013-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Fix typo in tls_key example for Tivoli
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbdd328f4"
>[dbdd328f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Don&rsquo;t escape &lsquo;$&rsquo; when running &ldquo;sudo -i command&rdquo;. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=564"
>Bug
#564</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6484574f9"
>[6484574f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Fix typo in comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e507c05bb"
>[e507c05bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54f11ae4"
>[e54f11ae4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestr.c, plugins/sudoers/visudo.c:<br>
Quiet some gcc -Wformat=2 false positives
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd589f234"
>[bd589f234]</a></li>
</ul>
</dd>
<dt>2013-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Remove now-obsolete arg to env_merge()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebbdee421"
>[ebbdee421]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/pt_BR.mo, plugins/sudoers/po/pt_BR.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/pl.mo,
src/po/pl.po, src/po/pt_BR.mo, src/po/pt_BR.po, src/po/uk.mo,
src/po/uk.po, src/po/vi.mo, src/po/vi.po, src/po/zh_CN.mo,
src/po/zh_CN.po:<br>
Updated translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffef732ac"
>[ffef732ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, src/po/fr.mo, src/po/fr.po:<br>
French translation for sudo from translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1624e8987"
>[1624e8987]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.h:<br>
Add __printflike to audit_failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f091f478"
>[0f091f478]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Use <strong>nonnull</strong> attribute in __printflike.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5caa61d68"
>[5caa61d68]</a></li>
</ul>
</dd>
<dt>2013-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.h:<br>
When merging the PAM environment, allow environment variables set in PAM
to override ones set by sudo as long as they do not match the env_keep
or env_check lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a76844d9"
>[7a76844d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Call pam_getenvlist() after we&rsquo;ve opened the session to get the
session-specific environment variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f72f47aa1"
>[f72f47aa1]</a></li>
</ul>
</dd>
<dt>2013-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
option not flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a652757c"
>[1a652757c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getopt_long.c, config.h.in, configure, configure.in:<br>
Don&rsquo;t redefine opterr, optind, optopt, optarg in getopt_long.c. Add a
check for optreset which is a BSD extension and provide a definition in
getopt_long.c if it is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c2a9b994"
>[3c2a9b994]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=082c73338"
>[082c73338]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c:<br>
Use lower case for the long option arguments to match the manual. This
is inconsistent with GNU but it is better to match the sudo
documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acac6ae2a"
>[acac6ae2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=752418ffe"
>[752418ffe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Use lower card for the long option arguments to match the manual. This
is inconsistent with GNU but it is better to match the sudo
documentation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5b64a1d2"
>[a5b64a1d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Describe how remote command execution can be implemented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87ec2dd6e"
>[87ec2dd6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat:<br>
Bump version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f76bd772e"
>[f76bd772e]</a></li>
</ul>
</dd>
<dt>2013-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Make it a fatal error if the plugin returns invalid or out of range
command info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d40b30284"
>[d40b30284]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Use strtol() instead of atoi() and perform error checking of parameters
passed from the sudo front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8d539984"
>[b8d539984]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
It is not possible for auth to be NULL here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91ec1c476"
>[91ec1c476]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Initialize user_runhost and user_srunhost to user_host and user_shost in
visudo and testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea65c82b6"
>[ea65c82b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/aix.c, common/alloc.c,
common/fatal.c, common/gidlist.c, common/lbuf.c, common/list.c,
common/sudo_conf.c, common/sudo_debug.c, compat/Makefile.in,
compat/getopt_long.c, include/fatal.h, plugins/sudoers/Makefile.in,
plugins/sudoers/bsm_audit.c, plugins/sudoers/hexchar.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/locale.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/logging/check_wrap.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, src/Makefile.in, src/locale_stub.c,
src/net_ifs.c, src/regress/ttyname/check_ttyname.c, src/sesh.c,
src/sudo.h:<br>
Rename error.h -&gt; fatal.h now that there is no error() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99352d673"
>[99352d673]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/sudo_debug.h:<br>
Add support to the debug subsystem for zero-length strings. This can
happen for things like warning(NULL) or fatal(NULL) where we just want
to log the errno string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bec394dc1"
>[bec394dc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/error.h:<br>
Add __printflike for vfatal, vfatalx, vwarning and vwarningx.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a44d82763"
>[a44d82763]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c:<br>
Need to include gettext.h for BSM audit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b39c3758"
>[1b39c3758]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, plugins/sudoers/env.c, src/exec_common.c,
src/parse_args.c, src/sudo.c:<br>
Change some fatalx(NULL) that should be fatal(NULL).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85fc5792d"
>[85fc5792d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/error.h, include/missing.h:<br>
Use __printf0like for warning() and fatal() since the fmt string may be
NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4928c8c72"
>[4928c8c72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/pw_dup.c:<br>
Quiet a gcc &ldquo;used uninitialized in this function&rdquo; false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5f0e1f75"
>[e5f0e1f75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Enable bsm audit on Mac OS X and Solaris &gt;= 11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e34fe030b"
>[e34fe030b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Fix compilation on Solaris 11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f251caf4"
>[2f251caf4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Add missing missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=251c79a77"
>[251c79a77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Move the -C (user_closefrom) check until after set_cmnd() so that
closefrom_override can be used in a command-specific Defaults line.
Fixes bug #610 from Mengtao Sun.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c376c7161"
>[c376c7161]</a></li>
</ul>
</dd>
<dt>2013-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
If not using a pty and the child process gets SIGTTOU or SIGTTIN and
sudo is the foreground process, make the child the foreground process
and continue it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=299a881fe"
>[299a881fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
If sudo is not setuid and was not invoked with a full path, look in the
user&rsquo;s PATH for the sudo binary to give a better error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c909f6100"
>[c909f6100]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/policy.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.h:<br>
Add limited support for &ldquo;sudo -l -h other_host&rdquo;. Since group lookups are
done on the local host, rules that use group membership may be incorrect
if the group database is not synchronized between hosts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0e386758"
>[d0e386758]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Fix parsing of &ldquo;-h host&rdquo; when used in conjunction with the -l flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79104ce75"
>[79104ce75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/fixman.sh, doc/fixmdoc.sh, doc/sudo.cat,
doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in, doc/visudo.cat,
doc/visudo.man.in, doc/visudo.mdoc.in, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/parse_args.c, src/sudo.c,
src/sudo_usage.h.in:<br>
Simplify usage messages a bit and make &ndash;help output more closely
resemble GNU usage wrt long options. Sync usage and man page SYNOPSYS
sections and improve long options in the manual pages. Now that we have
long options we don&rsquo;t need to give the mnemonic for the single-character
options in the description.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b1d64553"
>[8b1d64553]</a></li>
</ul>
</dd>
<dt>2013-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix setting of mailer argv[0] to basename of mailerpath. No need to
strdup() mailerpath as it is not modified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91e66c481"
>[91e66c481]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Make sure the mailer exists and is a regular file before trying to exec
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04b290e38"
>[04b290e38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
If tty_tickets are enabled but there is no tty, use a ticket file based
on the parent pid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39d630f2f"
>[39d630f2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, include/sudo_conf.h, src/parse_args.c:<br>
Allow default plugin dir to be configured in sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9fd6281e"
>[d9fd6281e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
UTF8 for Ruusamae, Elan; from Tae Wong
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d10641cdb"
>[d10641cdb]</a></li>
</ul>
</dd>
<dt>2013-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/regress/sudo_conf/test5.in,
common/regress/sudo_conf/test5.out.ok,
common/regress/sudo_conf/test6.in,
common/regress/sudo_conf/test6.out.ok, common/sudo_conf.c,
doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
plugins/sudoers/policy.c, plugins/sudoers/pwutil_impl.c, src/sudo.c:<br>
Don&rsquo;t allow max_groups to be set to zero, it just complicates things
needlessly. Fixes an assertion in visudo when there is a group-based
Defaults entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b2fb418c"
>[9b2fb418c]</a></li>
</ul>
</dd>
<dt>2013-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/gidlist.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.h, src/sudo.c,
src/sudo.h:<br>
Refactor code to parse list of gids into its own function that is shared
by the sudo front-end and the sudoers module. Make uid/gid parse error
be fatal, not just a warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b4fbc5cc"
>[8b4fbc5cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atoid.c:<br>
Add function comment block.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6126c08f7"
>[6126c08f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atoid.c:<br>
Default text domain is now sudo, not sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=141f91e77"
>[141f91e77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in:<br>
Update dependency for atoid.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5556a0f21"
>[5556a0f21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atoid.c, plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h, plugins/sudoers/tsgetgrpw.c, src/sudo.c,
src/sudo.h:<br>
Add endpointer and separator args to atoid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe23e7c03"
>[fe23e7c03]</a></li>
</ul>
</dd>
<dt>2013-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/getgrouplist.c:<br>
Use private version of atoid() to avoid a dependency on libcommon.a
(since that already depends on libreplace.a).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39cbfcd40"
>[39cbfcd40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
More UTF8 in names; from Tae Wong
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03fc668e5"
>[03fc668e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c, plugins/sudoers/iolog.c,
plugins/sudoers/tsgetgrpw.c, src/sudo.c, src/sudo.h:<br>
Use atoid() in more places.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde7331a0"
>[dde7331a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/atoid.c,
plugins/sudoers/Makefile.in:<br>
Move atoid() to common so it can be used in src and compat too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40cb480f0"
>[40cb480f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Avoid a crash on Mac OS X 10.8 (at least) when we close libdispatch&rsquo;s
fds out from under it before executing the command. Switch to just
setting the close on exec flag instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c6e68df0"
>[2c6e68df0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Convert to last, first for easier sorting and use UTF8 (including a
BOM).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30adf33ea"
>[30adf33ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/atoid.c:<br>
Add atoid() function to convert a string to an id_t (uid, gid or pid).
We have to be careful to choose() either strtol() or strtoul() depending
on whether the string appears to be signed or unsigned. Always using
strtoul() is unsafe on 64-bit platforms since the uid might be
represented as a negative number and (unsigned long)-1 on a 64-bit
system is 0xffffffffffffffff not 0xffffffff. Fixes a problem with uids
larger than 0x7fffffff on 32-bit platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3fb47a88"
>[c3fb47a88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.in,
plugins/sudoers/Makefile.in, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h:<br>
Add atoid() function to convert a string to an id_t (uid, gid or pid).
We have to be careful to choose() either strtol() or strtoul() depending
on whether the string appears to be signed or unsigned. Always using
strtoul() is unsafe on 64-bit platforms since the uid might be
represented as a negative number and (unsigned long)-1 on a 64-bit
system is 0xffffffffffffffff not 0xffffffff. Fixes a problem with uids
larger than 0x7fffffff on 32-bit platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dc56ea81"
>[5dc56ea81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Avoid &ldquo;perm stack underflow&rdquo; error when logging the unknown uid error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=972ee9a0f"
>[972ee9a0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
In rewind_perms() there is nothing to do if perm_stack_depth == 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23a2bdbcb"
>[23a2bdbcb]</a></li>
</ul>
</dd>
<dt>2013-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/auth/pam.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in:<br>
Add pam_setcred sudoers option to allow the user to control whether
pam_setcred() is called on the user&rsquo;s behalf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3898f5d7f"
>[3898f5d7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add pam_service and pam_login_service sudoers settings to control the
service name passed to pam_start.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52954481e"
>[52954481e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Newer Xcode places the SDKs under Xcode.app
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=385e20c7b"
>[385e20c7b]</a></li>
</ul>
</dd>
<dt>2013-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/zero_bytes.c, compat/Makefile.in,
compat/memset_s.c, config.h.in, configure, configure.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
include/missing.h, include/sudo_plugin.h, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/defaults.c, plugins/sudoers/logging.c,
plugins/sudoers/sha2.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/conversation.c,
src/sudo.h, src/sudo_edit.c, src/tgetpass.c:<br>
Implement memset_s() and use it instead of zero_bytes(). A new constant,
SUDO_CONV_REPL_MAX, is defined by the plugin API as the max conversation
reply length. This constant can be used as a max value for memset_s()
when clearing passwords filled in by the conversation function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f3ea50af"
>[1f3ea50af]</a></li>
</ul>
</dd>
<dt>2013-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/group_file/Makefile.in, plugins/sample/Makefile.in,
plugins/system_group/Makefile.in:<br>
Do not try to install plugins when shared modules are disabled (sudoers
already had the check).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c867be41"
>[8c867be41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Update dependencies to take into account compat/getopt.h and
compat/dlfcn.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d882303b8"
>[d882303b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Update dependencies now that sudo_usage.h is always included from the
build dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=235d32c99"
>[235d32c99]</a></li>
</ul>
</dd>
<dt>2013-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add some warnings and debugging to sasl ccname handling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62da46a9c"
>[62da46a9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix write loop invariant in sudo_krb5_copy_cc_file()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0c782ae1"
>[c0c782ae1]</a></li>
</ul>
</dd>
<dt>2013-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Strip off leading FILE: or WRFILE: prefix before trying to copy the
user&rsquo;s credential cache.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09e752274"
>[09e752274]</a></li>
</ul>
</dd>
<dt>2013-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Instead of setting RLIMIT_NPROC to unlimited when sudo initializes, just
save RLIMIT_NPROC in exec_setup() before the final setuid() and restore
it immediately after. We don&rsquo;t need to modify RLIMIT_NPROC for simple
euid changes, just for changing the real (and saved) uids before we
exec. This also means we no longer need to worry about _SC_CHILD_MAX
returning -1. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=565"
>Bug #565</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3582ad340"
>[3582ad340]</a></li>
</ul>
</dd>
<dt>2013-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, src/preload.c:<br>
Now that the ldap code runs with the real and effective uid set to 0, it
is not possible for the gssapi libs to find the user&rsquo;s krb5 credential
cache file. To work around this, we make a temporary copy of the user&rsquo;s
credential cache specified by KRB5CCNAME (opened with the user&rsquo;s
effective uid) and point gssapi to it. To set the credential cache file
name, we dynamically look up gss_krb5_ccache_name() and use it if
available, otherwise fall back to setting KRB5CCNAME.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1c8f0575"
>[b1c8f0575]</a></li>
</ul>
</dd>
<dt>2013-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudoreplay.cat, doc/sudoreplay.man.in,
doc/sudoreplay.mdoc.in, doc/visudo.cat, doc/visudo.man.in,
doc/visudo.mdoc.in, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c:<br>
Long option support for visudo and sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39575aecf"
>[39575aecf]</a></li>
</ul>
</dd>
<dt>2013-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, src/Makefile.in,
src/parse_args.c, src/sudo.c, src/sudo_usage.h.in:<br>
Add support for long options and fix inclusion of sudo_usage.h with
modern gcc broken in 8597:1fcb7ba13018.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e56e6d8c"
>[6e56e6d8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Add rule to rebuild sudo_usage.h when the .in file changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbfd0ad63"
>[fbfd0ad63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, mkdep.pl, src/Makefile.in:<br>
Add make rules for building getopt_long.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb384495"
>[deb384495]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Make &ldquo;-h hostname&rdquo; work. Optional args in GNU getopt() only work when
there is no space between the option flag and the argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db05b9ae0"
>[db05b9ae0]</a></li>
</ul>
</dd>
<dt>2013-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, compat/getopt.h, compat/getopt_long.c, config.h.in, configure,
configure.in, doc/LICENSE, src/parse_args.c:<br>
Use getopt_long() so we can make the -h flag take an optional argument.
Includes a version for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9309c9eab"
>[9309c9eab]</a></li>
</ul>
</dd>
<dt>2013-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Document that the -h option can be used specify a host name for future
plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29908cb6d"
>[29908cb6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, src/parse_args.c, src/sudo_usage.h.in:<br>
Overload -h option to specify an optional hostname for remote access.
This is future-proofing; no policy plugins currently support this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2860cce5"
>[c2860cce5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Bump version to 1.8.8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e4497331"
>[1e4497331]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document the remote_host setting (-h host)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d20a0ab6"
>[1d20a0ab6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
fix &ldquo;the the&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba615bd58"
>[ba615bd58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Do not error out if arg to -U option cannot be resolved, that is for the
plugin to decide. There is no need for runas_user and runas_group to be
global, make them local to parse_args() instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4e1f7c44"
>[b4e1f7c44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, plugins/sudoers/po/pt_BR.mo,
plugins/sudoers/po/pt_BR.po, src/po/es.mo, src/po/es.po,
src/po/pt_BR.mo, src/po/pt_BR.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e53e80187"
>[e53e80187]</a></li>
</ul>
</dd>
<dt>2013-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Remove old bits about sudo setuid problems that should have been cleaned
up in changeset 7917:fa4894896d8a. Also update the mode of sudo to 04755
to match current packaging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adce34358"
>[adce34358]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Go back to ignoring the return value of pam_setcred() since with stacked
PAM auth modules a failure from one module may override PAM_SUCCESS from
another. If the first module in the stack fails, the others may be run
(and succeed) but an error will be returned. This can cause a spurious
warning on systems with non-local users (e.g. pam_ldap or pam_sss) where
pam_unix is consulted first.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dff70db0"
>[6dff70db0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Remove unused variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f32a1c7ed"
>[f32a1c7ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72d04c39"
>[a72d04c39]</a></li>
</ul>
</dd>
<dt>2013-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Fix pasto; sudo_sss_extract_digest() not sudo_ldap_extract_digest().
From Dan Harnett.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d6cb6eff"
>[4d6cb6eff]</a></li>
</ul>
</dd>
<dt>2013-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Fix formatting typo; from Eric S. Raymond
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf9d823c2"
>[bf9d823c2]</a></li>
</ul>
</dd>
<dt>2013-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Use -gxcoff on aix so dbx can be used to debug sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0799e9679"
>[0799e9679]</a></li>
</ul>
</dd>
<dt>2013-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Fix typo; bug 605
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8046e4be"
>[e8046e4be]</a></li>
</ul>
</dd>
<dt>2013-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>src/po/da.mo, src/po/eo.mo, src/po/es.mo, src/po/it.mo, src/po/tr.mo:<br>
Regen .mo files that were out of date.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b44c5d42"
>[8b44c5d42]</a></li>
</ul>
</dd>
<dt>2013-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
On Solaris 11 and higher, tag binaries for ASLR if supported by the
linker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c057692da"
>[c057692da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
No longer need to disable PIE on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d962673a7"
>[d962673a7]</a></li>
</ul>
</dd>
<dt>2013-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, NEWS, configure, configure.in, doc/TROUBLESHOOTING:<br>
Restrict default creation of PIE binaries (-fPIE and -pie) to Linux.
OpenBSD also supports PIE but enables it by default so we don&rsquo;t need to
do anything. This fixes problems on systems with a version of GNU ld
that accepts -pie but where the run-time linker doesn&rsquo;t actually support
PIE. Also verify that a trivial PIE binary works unless PIE is
explicitly enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67d8af4be"
>[67d8af4be]</a></li>
</ul>
</dd>
<dt>2013-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Attempt to detect PIE failure on Solaris 10 with GNU as and GNU ld where
we can end up crashing due to malloc() failures. Sems OK when Using Sun
as and ld.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=521e17b13"
>[521e17b13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with final changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6ee84b0a"
>[a6ee84b0a]</a></li>
</ul>
</dd>
<dt>2013-05-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add -fPIE to PIE_LDFLAGS as per gcc manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62c7945c0"
>[62c7945c0]</a></li>
</ul>
</dd>
<dt>2013-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in:<br>
Add missing $(PIE_LDFLAGS) $(SSP_LDFLAGS) for test programs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9c4fb69d"
>[f9c4fb69d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/alias.c, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/visudo/test4.out.ok,
plugins/sudoers/regress/visudo/test4.sh, plugins/sudoers/visudo.c:<br>
Replace sequence number-based cycle detection in visudo with a &ldquo;used&rdquo;
flag in struct alias. The caller is required to call alias_put() when it
is done with the alias. Inspired by a patch from Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab61c0254"
>[ab61c0254]</a></li>
</ul>
</dd>
<dt>2013-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Eliminate a few relocations related to sudoers_io.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a57f129a"
>[8a57f129a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32a29d596"
>[32a29d596]</a></li>
</ul>
</dd>
<dt>2013-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Clarify a comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=586991653"
>[586991653]</a></li>
</ul>
</dd>
<dt>2013-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Handle d_type == DT_UNKNOWN when resolving the device to a name and
sprinkle some more debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5549e44cd"
>[5549e44cd]</a></li>
</ul>
</dd>
<dt>2013-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Add message about disabling PIE if sudo gets SIGSEGV.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dd71e838"
>[2dd71e838]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.h, plugins/sudoers/timestamp.c:<br>
No longer store the ctime of a devpts tty. The handling of ctime on
devpts in Linux has been changed to conform to POSIX. As a result we can
no longer assume that the ctime will stay unchanged throughout the life
of the session. We store the session ID in the time stamp file so there
is a much smaller chance of the time stamp file being reused by a new
login. While here, store the uid/gid in the timestamp file too for good
measure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e5e5fb44"
>[1e5e5fb44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
PIE is broken on FreeBSD/arm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca4f8d949"
>[ca4f8d949]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add explicit sendmail path for Linux since we may not have sendmail
installed in the build chroot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04f9cedef"
>[04f9cedef]</a></li>
</ul>
</dd>
<dt>2013-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c, plugins/sudoers/iolog.c,
plugins/sudoers/set_perms.c, src/sudo.c, src/tgetpass.c:<br>
Quiet a few -Wunused-result compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e8fb8b1"
>[f6e8fb8b1]</a></li>
</ul>
</dd>
<dt>2013-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Mention what SHA-2 formats are supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=874d84f26"
>[874d84f26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
List code and translations separately.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61c0a24c8"
>[61c0a24c8]</a></li>
</ul>
</dd>
<dt>2013-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/de.mo, plugins/sudoers/po/de.po,
plugins/sudoers/po/tr.mo, plugins/sudoers/po/tr.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a971ac423"
>[a971ac423]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aaea60a7"
>[8aaea60a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix c-format for fatal/fatalx
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf5f505fb"
>[cf5f505fb]</a></li>
</ul>
</dd>
<dt>2013-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/exec_pty.c, src/sudo.h:<br>
Change some error/errorx -&gt; fatal/fatalx in comments and xgettext
flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368a6558c"
>[368a6558c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
There is now a Turkish translation of sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08506b66a"
>[08506b66a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/tr.mo, plugins/sudoers/po/tr.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po:<br>
Updated translations from translationproject.org including new Turkish
translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17e4c951"
>[e17e4c951]</a></li>
</ul>
</dd>
<dt>2013-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document that sudoers will re-use existing I/O log paths unless they are
mktemp-style with trailing X&rsquo;s.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c9aaa2f2"
>[7c9aaa2f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/ldap.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h:<br>
Allow ldap_conf and ldap_secret to be specified as plugin arguments in
sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa6c85711"
>[fa6c85711]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
sudoers_debug is now deprecated in favor of the sudo debugging
framework.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67dad9a83"
>[67dad9a83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Replace DPRINTF with DPRINTF1 and DPRINTF2 macros that use
SUDO_DEBUG_DIAG and SUDO_DEBUG_INFO respectively for logging to the
debug file with the ldap subsystem. The sudoers_debug setting in
ldap.conf is still honored for now but will be removed in a future
release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40de4135"
>[a40de4135]</a></li>
</ul>
</dd>
<dt>2013-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers2ldif:<br>
Add support for converting sudoers files with SHA-2 command digests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8248fb329"
>[8248fb329]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixman.sh, doc/fixmdoc.sh, mkdep.pl, mkpkg,
plugins/sudoers/sudoers2ldif:<br>
Add copyright notice to scripts
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e05d2732a"
>[e05d2732a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test14.in,
plugins/sudoers/regress/sudoers/test14.out.ok,
plugins/sudoers/regress/sudoers/test14.toke.ok:<br>
Add regress for SHA-2 digests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a7e54d37"
>[5a7e54d37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c:<br>
Solaris maps negative gids to GID_NOBODY.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5971524f"
>[c5971524f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Clear up an llvm checker warning which appears to be a false positive
and fix an old XXX while I&rsquo;m at it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50bdd5f13"
>[50bdd5f13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Correct last change date
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ab68a35d"
>[7ab68a35d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, plugins/sudoers/sudoreplay.c:<br>
No need to translate this error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca50e13b"
>[8ca50e13b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention .sl vs. .so extension handling on HP-UX Mention group membership
changes Fix typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad019da9e"
>[ad019da9e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, common/aix.c, common/alloc.c, common/atobool.c,
common/error.c, common/fmt_string.c, common/lbuf.c, common/list.c,
common/setgroups.c, common/term.c, common/ttysize.c, compat/Makefile.in,
compat/dlopen.c, compat/endian.h, compat/getline.c,
compat/getprogname.c, compat/isblank.c, compat/memrchr.c,
compat/mksiglist.c, compat/mktemp.c, compat/nanosleep.c,
compat/pw_dup.c, compat/sig2str.c, compat/snprintf.c, compat/strlcat.c,
compat/strlcpy.c, compat/strsignal.c, compat/utimes.c, doc/Makefile.in,
include/Makefile.in, include/alloc.h, include/fileops.h,
include/gettext.h, include/lbuf.h, include/missing.h,
include/sudo_plugin.h, pathnames.h.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sample/sample_plugin.c,
plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/bsm_audit.c, plugins/sudoers/bsm_audit.h,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/interfaces.h, plugins/sudoers/iolog_path.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/linux_audit.h,
plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.h,
plugins/sudoers/redblack.c, plugins/sudoers/redblack.h,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers_version.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c, src/Makefile.in,
src/conversation.c, src/exec.c, src/exec_common.c, src/get_pty.c,
src/net_ifs.c, src/parse_args.c, src/preload.c, src/selinux.c,
src/sesh.c, src/signal.c, src/sudo_edit.c, src/sudo_exec.h,
src/sudo_noexec.c, src/sudo_plugin_int.h, src/tgetpass.c, src/utmp.c:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6282d154"
>[d6282d154]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mon_systrace.h:<br>
Systrace support was removed long ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b4f990d1"
>[7b4f990d1]</a></li>
</ul>
</dd>
<dt>2013-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/sudoers/test10.toke.out.ok,
plugins/sudoers/regress/sudoers/test9.toke.out.ok:<br>
Remove some files that were mistakenly added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2923a6652"
>[2923a6652]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, config.h.in, configure, configure.in,
plugins/sudoers/boottime.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestamp.c:<br>
Use time(&amp;now) instead of now = time(NULL) when storing the current time
in a time_t (better compiler error checking). Better parsing and
printing of 64-bit time_t on 32-bit platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95b50f84a"
>[95b50f84a]</a></li>
</ul>
</dd>
<dt>2013-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Don&rsquo;t check the tty of the parent process. Now that we get the
controlling tty device number from the kernel there is no need. If the
process has really disassociated from the tty then reporting &ldquo;unknown&rdquo;
is appropriate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b1b9ae72"
>[2b1b9ae72]</a></li>
</ul>
</dd>
<dt>2013-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>common/error.c:<br>
Use EXIT_FAILURE instead of 1 as the fatal() exit value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ac5730a4"
>[7ac5730a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Change remaining errorx -&gt; fatalx
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b0c6c508"
>[8b0c6c508]</a></li>
</ul>
</dd>
<dt>2013-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Replace sudo_fakepwnamid() with sudo_mkpwent() and don&rsquo;t return an error
if the entry already exists in the cache.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5337da144"
>[5337da144]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c, plugins/sudoers/po/sudoers.pot:<br>
Change &ldquo;foo: failed&rdquo; to just &ldquo;foo&rdquo; since we print the string form of
errno. Gets rids of some useless translations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d913fe69c"
>[d913fe69c]</a></li>
</ul>
</dd>
<dt>2013-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix pasto in debug_decl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40772f5aa"
>[40772f5aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71f9fe33d"
>[71f9fe33d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/parse.c,
plugins/sudoers/sudoers.c, plugins/sudoers/timestamp.c:<br>
Rename log_error() -&gt; log_warning() for consistency with
warning()/fatal()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1162b5504"
>[1162b5504]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API:<br>
The NO_EXIT flag was removed a while ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c3a4e035"
>[2c3a4e035]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, common/error.c, include/error.h,
plugins/sudoers/bsm_audit.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/hexchar.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/policy.c, plugins/sudoers/prompt.c,
plugins/sudoers/pwutil.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/net_ifs.c, src/parse_args.c,
src/selinux.c, src/signal.c, src/sudo.c, src/sudo_edit.c,
src/tgetpass.c, src/utmp.c:<br>
Rename error/errorx -&gt; fatal/fatalx and remove the exit value as it was
always 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39acd2fcb"
>[39acd2fcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
digests are supported in sudoers ldap too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fe2c3eb9"
>[0fe2c3eb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/check_symbols/check_symbols.c:<br>
Print test failures to stdout like the final count so the outputis not
displayed out of order.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbcff81cd"
>[fbcff81cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.po, plugins/sudoers/po/hr.mo,
plugins/sudoers/po/hr.po, plugins/sudoers/po/it.po, src/po/da.mo,
src/po/da.po, src/po/eo.po, src/po/hr.mo, src/po/hr.po, src/po/it.po,
src/po/tr.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=904428dd5"
>[904428dd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Check for any uncommitted changes in dist target and add force-dist
target that omit check-dist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc618b991"
>[dc618b991]</a></li>
</ul>
</dd>
<dt>2013-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/regress/ttyname/check_ttyname.c:<br>
Fix logic bug when checking tty via ttyname().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c9c2b242"
>[6c9c2b242]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/endian.h:<br>
Fix check for _BIG_ENDIAN and _LITTLE_ENDIAN (Solaris) and
<strong>BIG_ENDIAN</strong> and <strong>LITTLE_ENDIAN</strong> (HP-UX)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d7579816"
>[5d7579816]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8cd84c35"
>[e8cd84c35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sample.sudoers, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in,
doc/sudoers.mdoc.in:<br>
Document digest support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed6d6963d"
>[ed6d6963d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/parser/check_base64.c:<br>
Simple bas64 decode unit test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e91e30b4b"
>[e91e30b4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/base64.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h:<br>
Move base64_decode into its own source file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c1ee1fe7"
>[9c1ee1fe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Only check year against 2038 if time_t is 32-bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d32cb3d65"
>[d32cb3d65]</a></li>
</ul>
</dd>
<dt>2013-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.h, plugins/sudoers/sssd.c:
Add digest support for sudoers in ldap and sss.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc3c76b85"
>[cc3c76b85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Error out in configure if the compiler doesn&rsquo;t support &ldquo;long long&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1580ff59"
>[d1580ff59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c, plugins/sudoers/toke.c, plugins/sudoers/toke.l:
Include stdint.h or inttypes.h before sha2.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26a256260"
>[26a256260]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Simplify lbuf append functions by moving the realloc code into
lbuf_expand(). We now expand as needed each time bytes need to be
written to the lbuf. Also handle a NULL pointer being passed in for
paranoia&rsquo;s sake.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19d094602"
>[19d094602]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Zero out struct iolog_details early to avoid a potential (though
unlikely) dereference of stack garbage if we hit a fatal error before
iolog_deserialize_info() is called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c737f043"
>[6c737f043]</a></li>
</ul>
</dd>
<dt>2013-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2a007fb9"
>[f2a007fb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers_version.h:<br>
Bump SUDOERS_GRAMMAR_VERSION for new digest support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0df32a77"
>[b0df32a77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/match.c, plugins/sudoers/toke.c, plugins/sudoers/toke.l:
Sanity check digest in parser so visudo can catch errors. Add base64
support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e715841fc"
>[e715841fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/endian.h, config.h.in, configure, configure.in,
plugins/sudoers/Makefile.in, plugins/sudoers/sha2.c:<br>
For big endian architectures just use memcpy() instead of BE macros in a
loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89759fa36"
>[89759fa36]</a></li>
</ul>
</dd>
<dt>2013-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.in,
plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/hexchar.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/parse.h,
plugins/sudoers/regress/parser/check_digest.c,
plugins/sudoers/regress/parser/check_digest.out.ok,
plugins/sudoers/sha2.h, plugins/sudoers/sssd.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c:<br>
Initial implementation of checksum support in sudoers. Currently
supports SHA-224, SHA-256, SHA-384, SHA-512. TODO: checksum format
validation in parser and base64 support. checksum support for ldap
sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35375a2b7"
>[35375a2b7]</a></li>
</ul>
</dd>
<dt>2013-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/sha2.c, plugins/sudoers/sha2.h:<br>
SHA-224, SHA-256, SHA-384 and SHA-512. Derived from the public domain
SHA-1 and SHA-2 implementations by Steve Reid and Wei Dai respectively.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1aa490352"
>[1aa490352]</a></li>
</ul>
</dd>
<dt>2013-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add sudo 1.8.6p8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22c8c1217"
>[22c8c1217]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/po/sudoers.pot:<br>
Add missing &ldquo;not&rdquo; in error message when mixing standalone and
non-standalone authentication methods.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bce9a96a6"
>[bce9a96a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c:<br>
Check for crypt() returning NULL. Traditionally, crypt() never returned
NULL but newer versions of eglibc have a crypt() that does. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=598"
>Bug
#598</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f718ee3c"
>[6f718ee3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Better PAM error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9726e597"
>[e9726e597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb5.c:<br>
Better error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c00cc3bfe"
>[c00cc3bfe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Use same error message for getauid() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d2c79180"
>[8d2c79180]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Start warning with a lower case letter for consistency and to match
existing translated strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=236f306a2"
>[236f306a2]</a></li>
</ul>
</dd>
<dt>2013-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Disable PIE on Solaris where it is not really supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ffac2aa6"
>[8ffac2aa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
AIX may have a 64-bit pr_ttydev that we need to convert to 32-bit before
we try to match it against st_rdev.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42313adc0"
>[42313adc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Break out of the loop if sudo_ttyname_scan() returns non-NULL. Fixes a
problem finding the tty name when it is not in /dev/pts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54f092c3e"
>[54f092c3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/snprintf.c:<br>
Support %lld and %llu
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3b61c11f"
>[e3b61c11f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, MANIFEST, src/Makefile.in,
src/regress/ttyname/check_ttyname.c:<br>
Add ttyname test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec3219415"
>[ec3219415]</a></li>
</ul>
</dd>
<dt>2013-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/sl.mo, plugins/sudoers/po/sl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/de.mo,
src/po/de.po, src/po/fi.mo, src/po/fi.po, src/po/pl.mo, src/po/pl.po,
src/po/ru.mo, src/po/ru.po, src/po/sl.mo, src/po/sl.po, src/po/uk.mo,
src/po/uk.po, src/po/vi.mo, src/po/vi.po, src/po/zh_CN.mo,
src/po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3b9c94e8"
>[c3b9c94e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Log timestampfile to debug file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5555b86d7"
>[5555b86d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c, plugins/sudoers/po/sudoers.pot:<br>
Don&rsquo;t add the &ldquo;Password: &quot; string we look up in the PAM text domain to
the sudoers.pot file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9914cd8a7"
>[9914cd8a7]</a></li>
</ul>
</dd>
<dt>2013-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
Synce with regcomp() error message change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2ed8cc9f"
>[e2ed8cc9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Be consistent with error message when regcomp() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6d644b30"
>[b6d644b30]</a></li>
</ul>
</dd>
<dt>2013-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Use group -1 instead of 1 as the invalid group since the running user
might have group 1 as their default group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17267b5e"
>[e17267b5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
PWD may be a shell builtin, use CWD instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1aed773e"
>[f1aed773e]</a></li>
</ul>
</dd>
<dt>2013-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Split up check_user().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faf150c4d"
>[faf150c4d]</a></li>
</ul>
</dd>
<dt>2013-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Cosmetic fixes in the comments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baa9041fe"
>[baa9041fe]</a></li>
</ul>
</dd>
<dt>2013-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Use AC_LINK_IFELSE instead of AC_TRY_LINK Fix printing of status message
for visibility checks when the test fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e003c793b"
>[e003c793b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9438c8ab3"
>[9438c8ab3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
We no longer use mbr_check_membership() and setrlimit64() is
AIX-specific.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bd1b5e35"
>[4bd1b5e35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
The first (all) target must be by itself or some makes will choose the
run the entire target list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09754a11a"
>[09754a11a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Do exec_prefix expansion when enable_shared even if noexec is not
enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7364f0ce9"
>[7364f0ce9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c:<br>
Use free() not efree() since we don&rsquo;t include alloc.h here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9bb50ff5"
>[b9bb50ff5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=382640839"
>[382640839]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Pass in expected gid to testsudoers in addition to the uid that matches
the test sudoers files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46db7a20e"
>[46db7a20e]</a></li>
</ul>
</dd>
<dt>2013-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Tru64 5.x does declare innetgr() and getdomainname().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=414fc377c"
>[414fc377c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix compilation when getdomainame() is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd980f0b4"
>[cd980f0b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in, include/missing.h:<br>
Move SET/CLR/ISSET from config.h.in to missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7b62e8dc"
>[f7b62e8dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix getgrouplist() check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a83dbafb"
>[3a83dbafb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
No more timestamp.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=159664ad7"
>[159664ad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Neded sys/time.h for struct timeval in struct sudo_tty_info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=073989aa6"
>[073989aa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
regen depends
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7e739f65"
>[e7e739f65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention libibmldap on HP-UX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87e191787"
>[87e191787]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/match.c:<br>
Instead of checking the domain name explicitly for &ldquo;(none)&rdquo;, just check
for illegal characters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e23ebd53c"
>[e23ebd53c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Only warn once when we are unable to open the sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=328994740"
>[328994740]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fall back to opening /dev/tty to determine whether there is a tty if the
system doesn&rsquo;t have kernel support for determing the tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41ab8da22"
>[41ab8da22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getprogname.c:<br>
Update guard to take __progname into account
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afc95dd11"
>[afc95dd11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/snprintf.c:<br>
Some older systems have inttypes.h but not stdint.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7ea8fead"
>[d7ea8fead]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c, compat/dlopen.c, compat/fnmatch.c,
compat/getaddrinfo.c, compat/getcwd.c, compat/getgrouplist.c,
compat/getline.c, compat/getprogname.c, compat/glob.c, compat/isblank.c,
compat/memrchr.c, compat/mktemp.c, compat/nanosleep.c, compat/pw_dup.c,
compat/sig2str.c, compat/snprintf.c, compat/strlcat.c, compat/strlcpy.c,
compat/strsignal.c, compat/utimes.c:<br>
Add guards in compat source files. Not really needed since we only
include them in the Makefile if they are needed but should not hurt
either.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ffa5154"
>[98ffa5154]</a></li>
</ul>
</dd>
<dt>2013-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Don&rsquo;t include gram.h in gram.y, its contents are already included. Move
sudoerserror to the end of gram.y so COMMENT is declared when we need to
use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d30008d58"
>[d30008d58]</a></li>
</ul>
</dd>
<dt>2013-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Remove some pre-ANSI cruft.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b2a085a2"
>[6b2a085a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Rename NAME_MATCH -&gt; SUDOERS_NAME_MATCH and avoid pulling in glob.h
when it is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7796d6456"
>[7796d6456]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, plugins/sudoers/iolog_path.c:<br>
We still want to recognize %{seq} for the SUDOERS_NO_SEQ case but just
leave it as-is.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a17d17115"
>[a17d17115]</a></li>
</ul>
</dd>
<dt>2013-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Add missing semicolon in rule.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2ce6fd29"
>[a2ce6fd29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Now that we can determine the terminal even when file descriptors are
redirected we can check user_ttypath rather than opening /dev/tty when
enforcing requiretty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37b4b5d15"
>[37b4b5d15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Stash umask in struct sudo_user so we don&rsquo;t need to look it up later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38dac1e0a"
>[38dac1e0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Minor cosmetic change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bac16f5c"
>[5bac16f5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_addr.c:<br>
No longer need to declare interfaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d482b00ec"
>[d482b00ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix compilation in SUDOERS_NO_SEQ case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7e351683"
>[b7e351683]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_addr.c:<br>
No longer need to define sudo_printf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=155669cfe"
>[155669cfe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/check.h,
plugins/sudoers/timestamp.c:<br>
Pass auth_pw to the timestamp functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d3fc204f"
>[4d3fc204f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Fix SUDOERS_NO_SEQ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=254125769"
>[254125769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/locale.c:<br>
Don&rsquo;t need all of sudoers.h in here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7eb2394b4"
>[7eb2394b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t need to include sudoers_version.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=213f7ff11"
>[213f7ff11]</a></li>
</ul>
</dd>
<dt>2013-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
DEFAULT_LECTURE is no longer used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec19ea97f"
>[ec19ea97f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.c:<br>
Move sudo_conv into policy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13dbba174"
>[13dbba174]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
cosmetic fixes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c66cf7c87"
>[c66cf7c87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
RHEL (and perhaps other Linux distros) use the string &ldquo;(none)&rdquo; instead
of an empty string when there is no actual NIS-style domain name. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=596"
>Bug
#596</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddc1d36a0"
>[ddc1d36a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix return values when NAME_MATCH is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64e558bcf"
>[64e558bcf]</a></li>
</ul>
</dd>
<dt>2013-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/pwutil.h:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b729284df"
>[b729284df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/pwutil.h,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/sudoers.h:<br>
Add sudo_set_grlist(), currently unused by the back end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e5008701"
>[6e5008701]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Remove unused macros, fix a debug_decl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cee83cbf2"
>[cee83cbf2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Tru64 Unix doesn&rsquo;t prototype innetgr() or getdomainname().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=608394793"
>[608394793]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Whitespace fixes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d710f1b41"
>[d710f1b41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/error.c:<br>
Don&rsquo;t need to include setjmp.h here, error.h already includes it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adee3cded"
>[adee3cded]</a></li>
</ul>
</dd>
<dt>2013-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/Makefile.in, plugins/sudoers/Makefile.in:<br>
regen depends
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=837cda0c5"
>[837cda0c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.h:<br>
Rename guard define.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84ff871a5"
>[84ff871a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/check.h,
plugins/sudoers/timestamp.c, plugins/sudoers/timestamp.h:<br>
Move contents of timestamp.h into check.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b4c19205"
>[8b4c19205]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
expand_prompt() is now in prompt.c sudo_printf extern is now in error.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6b5ffbbd"
>[d6b5ffbbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.h, plugins/sudoers/defaults.h,
plugins/sudoers/ins_2001.h, plugins/sudoers/ins_classic.h,
plugins/sudoers/ins_csops.h, plugins/sudoers/ins_goons.h,
plugins/sudoers/insults.h, plugins/sudoers/interfaces.h,
plugins/sudoers/linux_audit.h, plugins/sudoers/logging.h,
plugins/sudoers/parse.h, plugins/sudoers/pwutil.h,
plugins/sudoers/redblack.h, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.h, plugins/sudoers/timestamp.h,
plugins/sudoers/toke.h:<br>
Change multiple inclusion guards to be _SUDOERS_FOO_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a803b4d2e"
>[a803b4d2e]</a></li>
</ul>
</dd>
<dt>2013-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/nl.mo, plugins/sudoers/po/nl.po,
src/po/nl.mo, src/po/nl.po, src/po/tr.mo, src/po/tr.po:<br>
New Dutch translation for sudo and sudoers New Turkish translation for
sudo From translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b507f0a85"
>[b507f0a85]</a></li>
</ul>
</dd>
<dt>2013-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Fix a typo in a comment and make sure we don&rsquo;t mistakenly include
_PATH_SUDO_ASKPASS and _PATH_SUDO_SESH in config.h.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4ca9535b"
>[b4ca9535b]</a></li>
</ul>
</dd>
<dt>2013-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Don&rsquo;t build check_symbols if we are linking sudoers in statically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17c5f8b15"
>[17c5f8b15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use $host_os not $host when we only care about the os name and version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=575466027"
>[575466027]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Suppress duplicate -L and -I flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=017c7a15d"
>[017c7a15d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/regress/fnmatch/fnm_test.c:<br>
Fix regress tests on non-OpenBSD platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c078614b4"
>[c078614b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
If we find sasl/sasl.h there&rsquo;s no need to check for sasl.h too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c139fa3c"
>[3c139fa3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Add -R flags at the very end after configure link tests are done since
we can only count on libtool to accept -R, the compiler front end may
not. Also unify the libldap and libibmldap tests using AC_SEARCH_LIBS
and check for -lCsup on HP-UX which is needed by libibmldap (but is not
an explicit dependency).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46da6159d"
>[46da6159d]</a></li>
</ul>
</dd>
<dt>2013-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Back out changes that broke detection of skey, opie and ldap libraries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b9967927"
>[0b9967927]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test1.sh,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.sh,
plugins/sudoers/regress/visudo/test1.sh,
plugins/sudoers/regress/visudo/test2.sh,
plugins/sudoers/regress/visudo/test3.sh:<br>
Add explicit &ldquo;exit 0&rdquo; to prevent the check target from ending
prematurely.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f86c1c09"
>[2f86c1c09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix exit values in check target so we don&rsquo;t have to ignore errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0ab02854"
>[b0ab02854]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fail a test if there is unexpected stderr output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae7679a31"
>[ae7679a31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Fix path to sudo.conf manuals; remove non-existant test2.err.ok
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bd884860"
>[6bd884860]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix compilation in dynamic mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce502e2ae"
>[ce502e2ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
On HP-UX, libibmldap has a hidden dependency on libCsup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a51a993d"
>[1a51a993d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Pass BIND_VERBOSE to shl_load()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7109e46de"
>[7109e46de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only create static helper libs when &ndash;disable-shared is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eef31be22"
>[eef31be22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Ubreak static build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e78381e7c"
>[e78381e7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, aclocal.m4, configure, configure.in:<br>
Replace &ndash;with-rpath and &ndash;with-blibpath with &ndash;disable-rpath. Now that
we use libtool for linking we can just use the -R flag and have libtool
translate it to the proper linker flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8f630c06"
>[c8f630c06]</a></li>
</ul>
</dd>
<dt>2013-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Bump I/O buffer size 32K
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cda642eb"
>[5cda642eb]</a></li>
</ul>
</dd>
<dt>2013-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in:<br>
Document sesh Path setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1614c3cad"
>[1614c3cad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_common.c:<br>
Move exec_cmnd to exec.c to fix a compilation issue with sesh.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb2259bc1"
>[eb2259bc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, configure, configure.in, include/sudo_conf.h,
src/selinux.c:<br>
Make sesh path configurable in sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f32d1ca4"
>[7f32d1ca4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use -fno-pie and -nopie if supported when &ndash;disable-pie is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=449355429"
>[449355429]</a></li>
</ul>
</dd>
<dt>2013-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Document direct execution of the command if the policy plugin has no
close function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e84f169c"
>[2e84f169c]</a></li>
</ul>
</dd>
<dt>2013-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Only delete creds if we actually established them. Print an error if
pam_setcred() fails and we actually authenticated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1791721ef"
>[1791721ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, plugins/group_file/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=496dc384a"
>[496dc384a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, include/alloc.h:<br>
Convert efree() to a macro that just casts to void * and does free(). If
the system free() can&rsquo;t handle free(NULL) this may crash but C89 was a
long time ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d26c0d87f"
>[d26c0d87f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Define _REENTRANT for HP-UX when we add -lpthread to SUDO_LIBS. Fixes a
problem with errno sometimes not being set on error on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d07d453ab"
>[d07d453ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Fix debug logging from the plugin when there is no error number. This
was broken in the big debugging reorg for 1.8.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e0a7d511"
>[1e0a7d511]</a></li>
</ul>
</dd>
<dt>2013-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, plugins/group_file/Makefile.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/load_plugins.c:<br>
Always install plugins with a .so extension regardless of what extension
the system uses for shared libraries. That way the group_plugin sudoers
setting can be shared between heterogenous systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9722784e1"
>[9722784e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Mac OS X has netgroup functions in netdb.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e051df657"
>[e051df657]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.h:<br>
Tags in struct cmndtag can be set to IMPLIED as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f7657943"
>[8f7657943]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0595e6e2"
>[b0595e6e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Quiet an llvm checker warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bfeed221"
>[4bfeed221]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Quiet gcc -Wuninitialized false positive
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56d45003e"
>[56d45003e]</a></li>
</ul>
</dd>
<dt>2013-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document group_file and system_group plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d3ce01a0"
>[7d3ce01a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sudo 1.8.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d695d7be9"
>[d695d7be9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Try to clarify that sudoedit in sudoers should not include a leading
pathname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8397297de"
>[8397297de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c:<br>
Make sure groupname_len is at least 32 just to be on the safe side. It
is better to allocate a little extra and not need it than to have to
reallocate and start over.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=593832152"
>[593832152]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/alloc.h, include/missing.h:<br>
Add __malloc_like macro to apply <strong>malloc</strong> attribute to emalloc,
ecalloc and estrdup. It cannot be applied to realloc since that may
return the same pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e5baccb9"
>[4e5baccb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix potential double free in an error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c47f5f7ab"
>[c47f5f7ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
When running the command in a pty, defer the call to exec_setup() until
just before we exec the command. This is consistent with the non-pty
path. As a side effect, the monitor process runs as root and not the
runas user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19f37400d"
>[19f37400d]</a></li>
</ul>
</dd>
<dt>2013-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a43318959"
>[a43318959]</a></li>
</ul>
</dd>
<dt>2013-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/closefrom.c:<br>
Use pst_highestfd from pstat_getproc() on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f524c515e"
>[f524c515e]</a></li>
</ul>
</dd>
<dt>2013-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, doc/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Clean up generated test files and other minor housekeeping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e6843383"
>[3e6843383]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add back gettimeofday() call inadvertantly removed in e1abb9810a83
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa93dede3"
>[fa93dede3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Use pstat() on HP-UX to determine the tty device.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e30b0bd12"
>[e30b0bd12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix PAM compilation: def_pam_session, not just pam_session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a4bd3cce"
>[9a4bd3cce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixmdoc.sh:<br>
Don&rsquo;t remove the -S option description when trimming out selinux. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=592"
>Bug
#592</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af2d4dbfb"
>[af2d4dbfb]</a></li>
</ul>
</dd>
<dt>2013-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for Sudo 1.8.6p7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c30fbb71"
>[1c30fbb71]</a></li>
</ul>
</dd>
<dt>2013-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Document when sudo may exec the command directly instead of forking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30f63386d"
>[30f63386d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document that close and version be NULL for plugin API &gt;= 1.3 and that
sudo may execute the command directly if there is no close, or pty or
timeout needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d946fdaa7"
>[d946fdaa7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Fix debug_decl for sudo_auth_begin_session and sudo_auth_end_session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eef336ed"
>[0eef336ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.mdoc.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c:<br>
Add pam_session sudoers option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59692ad28"
>[59692ad28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.h:<br>
Dummy out close function if there is no end_session for the auth method
and the front-end can handle a NULL close function. Avoids the extra
sudo process when we don&rsquo;t actually need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3ff0f31e"
>[d3ff0f31e]</a></li>
</ul>
</dd>
<dt>2013-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, aclocal.m4:<br>
Add m4/ to paths m4_include parameters so we don&rsquo;t need to use
autoconf&rsquo;s -I flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b8cb9898"
>[2b8cb9898]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_common.c, src/exec_pty.c, src/sudo_exec.h,
src/sudo_plugin_int.h:<br>
If the policy plugin does not provide a close function, there is no
command timeout and no pty is required, skip the event loop and just
exec the command directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cb928c51"
>[5cb928c51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Do not crash if the plugin close and version functions are not defined.
If there is no policy close function, simply print a warning that the
command was not found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e674a790"
>[5e674a790]</a></li>
</ul>
</dd>
<dt>2013-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix typos in selinux/solaris privs specific code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2228763ff"
>[2228763ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
src/parse_args.c:<br>
Pass the default plugin directory to the plugin via the settings list.
Could be used by a stacking plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af4d3489f"
>[af4d3489f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/timestamp.c:<br>
Completely ignore time stamp file if it is set to the epoch, regardless
of what gettimeofday() returns.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04b25a8bc"
>[04b25a8bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Nikolai Kondrashov
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f336580bb"
>[f336580bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sssd.c:<br>
Use userpw_matches() for username matching so #uid works for
sudoRunAsUser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1da8739c3"
>[1da8739c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Avoid calling realloc3() with a zero size parameter when all retrieved
sssd rules fail. Otherwise we&rsquo;ll get a run-time error due to malloc(0)
checking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b929dd3c4"
>[b929dd3c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sssd.c:<br>
Do not send error mail if a user is not found in SSSD. Local users can
run sudo too. From Nikolai Kondrashov
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c80603eac"
>[c80603eac]</a></li>
</ul>
</dd>
<dt>2013-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/regress/sudo_conf/test4.in,
common/regress/sudo_conf/test4.out.ok:<br>
Test setting disable_coredump to illegal value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d7925b24"
>[5d7925b24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c:<br>
Fix atobool() usage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a17fb1de7"
>[a17fb1de7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/regress/sudo_conf/conf_test.c:<br>
Remove unused variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=299298ae4"
>[299298ae4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Make &ldquo;sudo -l non_existent_command&rdquo; warn that non_existent_command
doesn&rsquo;t exist, not the &ldquo;list&rdquo; pseudo-command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29becec0e"
>[29becec0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Make sudoers file long list output better match the format used by ldap
sudoers. Tags are now converted to options and there is a single command
per line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa924d09b"
>[fa924d09b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use the correct the sudoers policy symbol names and undo an editor goof
committed when adding max_groups to sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05e53aea0"
>[05e53aea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/sudo_nss.c:<br>
For &ldquo;sudo -l&rdquo; start a new line if the runas list changes to make the
output easier to read.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064cb0ced"
>[064cb0ced]</a></li>
</ul>
</dd>
<dt>2013-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/sudo_nss.c:<br>
For &ldquo;sudo -l&rdquo; and &ldquo;sudo -ll&rdquo; only print the runas info for subsequent
commands in a list if the runas info has changed. If we have new runas
info, print out the tags again so as to be less confusing to the user.
For &ldquo;sudo -ll&rdquo; set the line continuation indent to 8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d00ad3bbe"
>[d00ad3bbe]</a></li>
</ul>
</dd>
<dt>2013-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, configure, configure.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.mdoc.in, plugins/group_file/Makefile.in,
plugins/group_file/getgrent.c, plugins/group_file/group_file.c,
plugins/group_file/group_file.exp, plugins/group_file/plugin_test.c:<br>
Rename sample_group plugin to group_file. Install group_file and
system_group plugins by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e07280eee"
>[e07280eee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/iolog.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add maxseq sudoers option to limit the max number of I/O log files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9159ecb2"
>[b9159ecb2]</a></li>
</ul>
</dd>
<dt>2013-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Log lines and columns in the iolog file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=618871a33"
>[618871a33]</a></li>
</ul>
</dd>
<dt>2013-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/regress/sudo_conf/conf_test.c,
common/regress/sudo_conf/test1.in,
common/regress/sudo_conf/test1.out.ok,
common/regress/sudo_conf/test2.in,
common/regress/sudo_conf/test2.out.ok,
common/regress/sudo_conf/test3.in,
common/regress/sudo_conf/test3.out.ok, common/sudo_conf.c,
include/sudo_conf.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/sesh.c,
src/sudo.c:<br>
Add simple regress tests for sudo.conf parsing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c40e82c1"
>[0c40e82c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Always display the I/O plugin version as long as its open functions
doesn&rsquo;t return an error. Previously it was only displayed if the plugin
open returned 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=790304789"
>[790304789]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c:<br>
Use sysconf(_SC_LOGIN_NAME_MAX) to find max username length instead of
poking around in struct utmpx.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=791b75142"
>[791b75142]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil_impl.c, src/parse_args.c, src/sudo.c:<br>
#include &ldquo;sudo_usage.h&rdquo; not &lt;sudo_usage.h&gt; so we get the one in the
build directory and not the src dir when using a separate build
directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d9da6588"
>[2d9da6588]</a></li>
</ul>
</dd>
<dt>2013-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>common/fileops.c:<br>
If a line was longer that 0x80000000 the bit hack to round to the next
power of two would roll over to zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f0ef228a"
>[0f0ef228a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/pwutil_impl.c,
plugins/sudoers/sudoers.h, src/sudo.c:<br>
Use max_groups in front-end and plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d83770034"
>[d83770034]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
src/parse_args.c:<br>
Pass max_groups to plugin in settings list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35548ae4e"
>[35548ae4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, include/sudo_conf.h:<br>
Add max_groups setting to sudo.conf (currently unused) and remove unused
return value from setters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67fed118b"
>[67fed118b]</a></li>
</ul>
</dd>
<dt>2013-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Reorganize configure options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c715df98f"
>[c715df98f]</a></li>
</ul>
</dd>
<dt>2013-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add Sudo 1.8.6p7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6871b25df"
>[6871b25df]</a></li>
</ul>
</dd>
<dt>2013-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.configure:<br>
Sync with autoconf 2.68
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72c8d7ac"
>[a72c8d7ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README:<br>
Remove obsolete OS notes and move build requirements to INSTALL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d18e05045"
>[d18e05045]</a></li>
</ul>
</dd>
<dt>2013-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Sort elements of the settings, user_info and command_info lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=987d62ec5"
>[987d62ec5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Remove trailing white space
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ba6a454e"
>[6ba6a454e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c, plugins/sudoers/timestamp.h:<br>
Store the session ID in the tty ticket file too. A tty may only be in
one session at a time so if the session ID doesn&rsquo;t match we ignore the
ticket.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e08777f2"
>[2e08777f2]</a></li>
</ul>
</dd>
<dt>2013-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
Move tzset() call from sudoers plugin to sudo front end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0bb5528"
>[af0bb5528]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in:<br>
Mention line continuation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74881843e"
>[74881843e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/fileops.c,
common/regress/sudo_parseln/parseln_test.c,
common/regress/sudo_parseln/test1.in,
common/regress/sudo_parseln/test1.out.ok,
common/regress/sudo_parseln/test2.in,
common/regress/sudo_parseln/test2.out.ok,
common/regress/sudo_parseln/test3.in,
common/regress/sudo_parseln/test3.out.ok,
common/regress/sudo_parseln/test4.in,
common/regress/sudo_parseln/test4.out.ok,
common/regress/sudo_parseln/test5.in,
common/regress/sudo_parseln/test5.out.ok,
common/regress/sudo_parseln/test6.in,
common/regress/sudo_parseln/test6.out.ok, common/sudo_conf.c,
include/fileops.h, plugins/sudoers/env.c, plugins/sudoers/ldap.c,
plugins/sudoers/sudo_nss.c:<br>
Add line continuation support to sudo_parseln() and make it use
getline() instead of fgets() internally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aae6bd6e"
>[7aae6bd6e]</a></li>
</ul>
</dd>
<dt>2013-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Fix memory leak in error path; found by llvm checker
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d6095420"
>[2d6095420]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Remove useless store detected by llvm checker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11e04d30d"
>[11e04d30d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/UPGRADE, mkpkg, src/Makefile.in,
src/load_plugins.c, sudo.pp:<br>
Sudo now stores its libexec files in a &ldquo;sudo&rdquo; subdirectory instead of in
libexec itself. For backwards compatibility, if the plugin is not found
in the default plugin directory, sudo will check the parent directory
default directory ends in &ldquo;/sudo&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b09c76a2"
>[6b09c76a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c, plugins/sample_group/sample_group.c,
plugins/system_group/system_group.c:<br>
Add missing __dso_public to plugin structs so they are exported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=becc5fca7"
>[becc5fca7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.conf.cat, doc/sudo.conf.man.in, doc/sudo.conf.mdoc.in:<br>
Mention that sudoers has its own plugins too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbb8ea504"
>[fbb8ea504]</a></li>
</ul>
</dd>
<dt>2013-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.cat, doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Correct last change date.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b51d1a9f6"
>[b51d1a9f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Remove duplicated sudo.conf info in the sudo, sudoers and sudo_plugin
manuals and cross-reference the new sudo.conf manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14bf23c4a"
>[14bf23c4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in:<br>
Fix typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5debfeeaf"
>[5debfeeaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in:
Fix some typos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6e61640d"
>[f6e61640d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/sudo.conf.cat, doc/sudo.conf.man.in,
doc/sudo.conf.mdoc.in:<br>
Add standalone sudo.conf manual page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5816ca6a"
>[c5816ca6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sample.sudo.conf:<br>
add group_source example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0fdf41d2"
>[f0fdf41d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/sample.sudo.conf, doc/sudo.man.in,
doc/sudo.mdoc.in, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use PLUGINDIR in the manuals and fix a typo in the sample sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bd79612b"
>[0bd79612b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/it.mo, plugins/sudoers/po/it.po, src/po/it.mo,
src/po/it.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=380fa828d"
>[380fa828d]</a></li>
</ul>
</dd>
<dt>2013-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/vi.mo, plugins/sudoers/po/vi.po, src/po/fi.mo,
src/po/fi.po, src/po/gl.mo, src/po/gl.po, src/po/vi.mo, src/po/vi.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e96d58304"
>[e96d58304]</a></li>
</ul>
</dd>
<dt>2013-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.po, plugins/sudoers/po/eo.mo,
plugins/sudoers/po/eo.po, src/po/da.po, src/po/eo.mo, src/po/eo.po,
src/po/es.po, src/po/gl.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78ca828a3"
>[78ca828a3]</a></li>
</ul>
</dd>
<dt>2013-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Clarify ttyname changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a76946cd"
>[9a76946cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add 1.8.6p6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fb8749bf"
>[5fb8749bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Remove ttyname() fall back code on systems where we can query the kernel
for the tty device via /proc or sysctl(). If there is no controlling
tty, it is better to just treat the tty as unknown rather than to
blindly use what is hooked up to std{in,out,err}.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23649bef1"
>[23649bef1]</a></li>
</ul>
</dd>
<dt>2013-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_conf.c, include/sudo_conf.h, src/sudo.c:<br>
Add group_source setting in sudo.conf to allow the admin to specify how
a user&rsquo;s groups are looked up. Legal values are static (just the kernel
list from getgroups), dynamic (whatever the group database includes) and
adaptive (only use group db if kernel group list is full).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=630b47e22"
>[630b47e22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Pass back exec_background to front end if it is enabled in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ab7cf61b"
>[8ab7cf61b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Mention that exec_background is for 1.8.7 and higher only.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ed1f0287"
>[9ed1f0287]</a></li>
</ul>
</dd>
<dt>2013-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
Add missing test files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=479cd25b2"
>[479cd25b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/visudo/test3.err.ok,
plugins/sudoers/regress/visudo/test3.out.ok,
plugins/sudoers/regress/visudo/test3.sh:<br>
Add regress test for bug 361
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2e678d73"
>[c2e678d73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add __dso_public to extern declaration of declaration to match actual
definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2beaaa89"
>[f2beaaa89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Add 1.8.6p5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=210ab2449"
>[210ab2449]</a></li>
</ul>
</dd>
<dt>2013-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/regress/visudo/test2.err.ok,
plugins/sudoers/regress/visudo/test2.out.ok,
plugins/sudoers/regress/visudo/test2.sh:<br>
Add test for visudo cycle check core dump; test case from Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db7ea4123"
>[db7ea4123]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix potential stack overflow due to infinite recursion in alias cycle
detection. From Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fe6ccb04"
>[6fe6ccb04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, include/sudo_conf.h, src/load_plugins.c:<br>
Ignore duplicate entries in sudo.conf and report the line number when
there is an error. Warn, don&rsquo;t abort if there is more than one policy
plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef8e14124"
>[ef8e14124]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsgetgrpw.c:<br>
Use strtoul() not atoi().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c00c96801"
>[c00c96801]</a></li>
</ul>
</dd>
<dt>2013-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/Makefile.in:<br>
regen depends for to add compat/nss_dbdefs.h for getgrouplist.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fdb89e3b"
>[0fdb89e3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/nss_dbdefs.h:<br>
Fix typo that breaks the build on HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1859cac1"
>[e1859cac1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/getgrouplist.c, compat/nss_dbdefs.h, config.h.in,
configure, configure.in:<br>
Use nss_search() to implement getgrouplist() where available. Tested on
Solaris and HP-UX. We need to include a compatibility header for HP-UX
which uses the Solaris nsswitch implementation but doesn&rsquo;t ship
nss_dbdefs.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bc3d4aed"
>[6bc3d4aed]</a></li>
</ul>
</dd>
<dt>2013-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/signal.c, src/sudo.h:<br>
Remove extra flag to sudo_sigaction(). We want to trap the signal
regardless of whether or not it is ignored by the underlying command
since there&rsquo;s no way to know what signal handlers the command will
install. Now we just use sudo_sigaction() to set a flag in
saved_signals[] to indicate whether a signal needs to be restored before
exec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e76460448"
>[e76460448]</a></li>
</ul>
</dd>
<dt>2013-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/getgrouplist.c, config.h.in, configure, configure.in:<br>
Use _getgroupsbymember() on Solaris to get the groups list. Fixes
performance problems with the getgroupslist() compat on Solaris systems
with network-based group databases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a06a14838"
>[a06a14838]</a></li>
</ul>
</dd>
<dt>2013-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Document signal handler behavior in plugin API 1.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=872e16883"
>[872e16883]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, include/sudo_plugin.h, src/Makefile.in, src/exec.c,
src/exec_pty.c, src/signal.c, src/sudo.c, src/sudo.h:<br>
Move signal code into its own source file and add sudo_sigaction()
wrapper that has an extra flag to check the saved_signals list to only
install the handler if the signal is not already ignored. Bump plugin
API version for the new front-end signal behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=855a11af2"
>[855a11af2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/exec.c, src/sudo.c, src/sudo.h,
src/sudo_exec.h:<br>
Catch SIGINT, SIGQUIT and SIGTSTP in the front end before we execute the
command. If we get SIGINT or SIGQUIT, call the plugin close() functions
as if the command was interrupted. If we get SIGTSTP, uninstall the
handler and deliver SIGTSTP to ourselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99704cc10"
>[99704cc10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Rename handle_signals() to dispatch_signals(). Block other signals in
handler() so we don&rsquo;t have to worry about the write() being interrupted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=541315212"
>[541315212]</a></li>
</ul>
</dd>
<dt>2013-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Rename signal handler to avoid name clash with one in exec.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be741d8a"
>[2be741d8a]</a></li>
</ul>
</dd>
<dt>2013-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Add missing call to save_signals().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90c6ace77"
>[90c6ace77]</a></li>
</ul>
</dd>
<dt>2013-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Fill in the comment block at the top of the .pot files and preserve it
when regenerating them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70976f30e"
>[70976f30e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/sudoers.c, src/exec_pty.c,
src/sudo.c, src/sudo.h:<br>
Add exec_background option in plugin command info and a sudoers option
to match. When set, commands are started in the background and
automatically foregrounded as needed. There are issues with some
ill-mannered programs (like Linux su) so this is not the default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9479bb623"
>[9479bb623]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6f3517f2"
>[a6f3517f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Add SESH_OBJS variable for sesh object files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64bf4bb05"
>[64bf4bb05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in, doc/LICENSE, plugins/sudoers/redblack.c:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bc616b67"
>[4bc616b67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Always resume the command in the foreground if sudo itself is the
foreground process. This helps work around poorly behaved programs that
catch SIGTTOU/SIGTTIN but suspend themselves with SIGSTOP. At worst,
sudo will go into the background but upon resume the command will be
runnable. Otherwise, we can get into a situation where the command will
immediately suspend itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b3edcc4a"
>[8b3edcc4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use -fstack-protector-all in preference to -fstack-protector where
supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adbc8a574"
>[adbc8a574]</a></li>
</ul>
</dd>
<dt>2013-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Only test for -fstack-protector and -fvisibility=hidden on GNU
compatible compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34d018fb9"
>[34d018fb9]</a></li>
</ul>
</dd>
<dt>2013-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add Sudo 1.8.6p4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=726a7daa6"
>[726a7daa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, configure, configure.in,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, plugins/system_group/Makefile.in,
src/Makefile.in:<br>
Break out stack smashing protector options into SSP_CFLAGS and
SSP_LDFLAGS so we can use it everywhere (unlike LT_LDFLAGS).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e560f2ba"
>[6e560f2ba]</a></li>
</ul>
</dd>
<dt>2013-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/redblack.c:<br>
In rbrepair(), make sure we never try to change the color of the
sentinel node, which is the first entry, not the root. From Michael King
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90d58685f"
>[90d58685f]</a></li>
</ul>
</dd>
<dt>2012-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
No need to restore default signal handler for SIGSTOP as it is not
catchable. Attempting to do so is harmless but sigaction() will fail and
set errno to EINVAL which makes it looks like there is an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=782da0aa8"
>[782da0aa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Print SIGCONT_FG and SIGCONT_BG properly in debug output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d129290ec"
>[d129290ec]</a></li>
</ul>
</dd>
<dt>2012-12-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Disable PIE on FreeBSD/ia64, otherwise sudo will segfault.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=948253a15"
>[948253a15]</a></li>
</ul>
</dd>
<dt>2012-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Add howmany() macro since some systems have this in sys/param.h which we
no longer include.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a449e8b3e"
>[a449e8b3e]</a></li>
</ul>
</dd>
<dt>2012-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test11.toke.out.ok:<br>
Remove errant file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=652d0de98"
>[652d0de98]</a></li>
</ul>
</dd>
<dt>2012-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Remove obsolete sudoers_cleanup() stubs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3391038d4"
>[3391038d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/atobool.c, common/fileops.c, common/fmt_string.c,
common/lbuf.c, common/secure_path.c, common/sudo_conf.c,
common/sudo_debug.c, common/term.c, compat/closefrom.c, compat/getcwd.c,
compat/glob.c, compat/snprintf.c, include/missing.h,
plugins/sample/sample_plugin.c, plugins/sample_group/getgrent.c,
plugins/sample_group/plugin_test.c, plugins/sample_group/sample_group.c,
plugins/sudoers/alias.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/boottime.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/policy.c,
plugins/sudoers/prompt.c, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil_impl.c, plugins/sudoers/redblack.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestamp.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c,
plugins/system_group/system_group.c, src/conversation.c, src/exec.c,
src/exec_common.c, src/exec_pty.c, src/get_pty.c, src/load_plugins.c,
src/net_ifs.c, src/parse_args.c, src/sudo.c, src/sudo_edit.c,
src/tgetpass.c, src/ttyname.c, src/utmp.c:<br>
Don&rsquo;t include &lt;sys/param.h&gt;. We only needed it for MAXPATHLEN,
MAXHOSTNAMELEN and the MIN/MAX macros. We now use PATH_MAX and
HOST_NAME_MAX throughout without falling back on MAXPATHLEN or
MAXHOSTNAMELEN and define our own MIN/MAX macros as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d7072fe0"
>[1d7072fe0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h, plugins/sudoers/match.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Use MAX_HOST_NAME+1 (limits.h) instead of MAXHOSTNAMELEN (sys/param.h or
netdb.h).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c9da162e"
>[3c9da162e]</a></li>
</ul>
</dd>
<dt>2012-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Move debug_decl() in log_failure() to be after the variable declarations
for C89.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a1889a61"
>[9a1889a61]</a></li>
</ul>
</dd>
<dt>2012-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>common/error.c, include/error.h, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Cannot wrap sigsetjmp() or we end up returning to the wrong place. Use a
macro instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7ae7977a"
>[b7ae7977a]</a></li>
</ul>
</dd>
<dt>2012-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix return in sudoers_policy_open that should be debug_return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02ad501ec"
>[02ad501ec]</a></li>
</ul>
</dd>
<dt>2012-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Define sudo_ttyname_dev() for the HAVE_STRUCT_PSINFO_PR_TTYDEV case too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3ab8b080"
>[d3ab8b080]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/solaris.c:<br>
Quiet a gcc warning and add comment about needing to keep the handle
open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd5d0eada"
>[dd5d0eada]</a></li>
</ul>
</dd>
<dt>2012-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention &ndash;disable-shared
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a94e94cf8"
>[a94e94cf8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Add missing command_info argument in I/O plugin open() prototype. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=579"
>Bug
#579</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94e2b1fbd"
>[94e2b1fbd]</a></li>
</ul>
</dd>
<dt>2012-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c:<br>
Regen for proper line numbers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1660c2692"
>[1660c2692]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add locale_stub.o to SUDO_OBJS, not locale_stub.lo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=415dc8297"
>[415dc8297]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_printf.c:<br>
Include missing.h for __printflike.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14e5f35d4"
>[14e5f35d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Saner loop invariant in io_mkdirs (cosmetic only).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=727be2989"
>[727be2989]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/error.c, common/sudo_printf.c,
configure, configure.in, include/error.h, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/locale.c,
plugins/sudoers/logging.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/error.c, src/exec_pty.c,
src/locale_stub.c, src/sesh.c:<br>
Move warn/error into common and make static builds work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2632ec7e6"
>[2632ec7e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/sudo_debug.c, common/sudo_printf.c,
include/error.h, plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/iolog.c,
plugins/sudoers/plugin_error.c, plugins/sudoers/policy.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/conversation.c,
src/sesh.c:<br>
Move _sudo_printf from src/conversation.c to common/sudo_printf.c. Add
sudo_printf function pointer that is initialized to _sudo_printf()
instead of requiring a sudo_conv function pointer everywhere. The plugin
will reset sudo_printf to point to the version passed in via the plugin
open function. Now plugin_error.c can just call sudo_printf in all
cases. The sudoers binaries no longer need their own version of
sudo_printf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2c6616a0"
>[c2c6616a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/plugin_error.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add plugin_setjmp() wrapper for siglongjmp(error_jmp, 1) so we don&rsquo;t
need error_jmp to be extern. Also add plugin_clearjmp() that clears a
flag so error()/errorx() knows when to call exit() vs. longjmp().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5496ffe1e"
>[5496ffe1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Let warning() call gettext() for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d658d1219"
>[d658d1219]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/error.h, plugins/sudoers/plugin_error.c, src/error.c:<br>
Do locale swapping in the warning()/error() macros themselves instead of
in the underlying functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88c6446da"
>[88c6446da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/list.c, include/error.h, plugins/sudoers/env.c,
plugins/sudoers/plugin_error.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/error.c,
src/hooks.c:<br>
Rename warning2()/error2() -&gt; warning_nodebug()/error_nodebug().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bde57b8b"
>[4bde57b8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/defaults.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/policy.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c, src/error.c,
src/exec.c, src/exec_common.c, src/exec_pty.c, src/load_plugins.c,
src/net_ifs.c, src/parse_args.c, src/selinux.c, src/sesh.c,
src/solaris.c, src/sudo.c, src/sudo_edit.c, src/tgetpass.c:<br>
Call gettext() on parameters for warning()/warningx() instead of having
warning() do it for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b3d26868"
>[7b3d26868]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/alias.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Call gettext() in sudoerserror() in the user&rsquo;s locale and pass the
untranslated string to it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15c69e0e3"
>[15c69e0e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/locale.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Allow sudoers programs (visudo, sudoreplay, visudo) to use
plugin_error.c instead of the error.c from the front-end. This means
sudoers_setlocale() needs to be independent of the sudo_user struct and
the defaults table. The sudoers locale is now updated via a callback.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90147bb60"
>[90147bb60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/logging.c,
plugins/sudoers/plugin_error.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Include setjmp.h in sudoers.h Move error_jmp into plugin_error.c Rename
sudoers_plugin_cleanup sudoers_cleanup Make sudoers warning/error
functions work when sudo_conv is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e5bd8dc5"
>[3e5bd8dc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/error.c:<br>
No need to change locale in front-end warning()/error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b5f78699"
>[3b5f78699]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsgetgrpw.c:<br>
Ignore bad lines in passwd/group file instead if stopping processing
when we hit one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e81eb5b00"
>[e81eb5b00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Bash doesn&rsquo;t let you set UID to use MYUID instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cca915e39"
>[cca915e39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Avoid NULL deref for unknown Defaults in strict mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=056c08a5b"
>[056c08a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, common/sudo_debug.c:<br>
See DEFAULT_TEXT_DOMAIN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6849fff4d"
>[6849fff4d]</a></li>
</ul>
</dd>
<dt>2012-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
Add signame.c and mksigname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e3965160"
>[6e3965160]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fold preinstall into install-plugin and pass the path to the plugin
binary to the preinstall command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e09ae9b7"
>[5e09ae9b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync with upstream
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c46a6a5b2"
>[c46a6a5b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.h:<br>
repair spacing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8195fe1bd"
>[8195fe1bd]</a></li>
</ul>
</dd>
<dt>2012-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Set group on sudo_debug when creating it to gid 0 so systems without BSD
group semantics don&rsquo;t get the invoking user&rsquo;s group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0178d5ae0"
>[0178d5ae0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Rename mkdir_parents() io_mkdirs() and add a flag to specify whether
path is a temporary, in which case the final component is created via
mkdtemp() instead of mkdir().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edf088182"
>[edf088182]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.h:<br>
For PERM_ROOT set egid to 0 so log files are not created with the gid of
the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cab6b976d"
>[cab6b976d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Add calls to set_perms(PERM_ROOT) becore logging to a file. We should
already be root but since we cache the current permission status it is
basically free. That way, if more of sudoers runs as non-root in the
future logging will still work correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02aa965a2"
>[02aa965a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, config.h.in, configure, configure.in,
include/gettext.h, plugins/sudoers/locale.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/error.c, src/exec.c, src/sesh.c,
src/sudo.c:<br>
#unifdef HAVE_SETLOCALE, it is C89 so no need to check for it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acf8af9aa"
>[acf8af9aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in:<br>
Mention that sudo.conf is parsed in the C locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=648590658"
>[648590658]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c:<br>
Parse sudo.conf in the &ldquo;C&rdquo; locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bd4a9171"
>[4bd4a9171]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.h:<br>
Fix compilation on systems w/o setlocale()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=336021a9c"
>[336021a9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Sudo now includes a workaround for the Solaris 11 locale issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5957c88f4"
>[5957c88f4]</a></li>
</ul>
</dd>
<dt>2012-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>include/gettext.h, plugins/sudoers/iolog_path.c,
plugins/sudoers/locale.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/error.c,
src/exec.c, src/sesh.c, src/sudo.c, src/sudo.h:<br>
Always include locale.h from gettext.h so we no longer need to include
locale.h from the .c files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1db4b154"
>[c1db4b154]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.in, mkdep.pl,
plugins/sudoers/Makefile.in, src/Makefile.in, src/openbsd.c,
src/solaris.c, src/sudo.c, src/sudo.h:<br>
Add os-specific initialization functions for solaris (workaround setuid
locale problem in Solaris 11) and openbsd (set malloc_options if
SUDO_DEVEL). Also move set_project() to solaris.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83dde2fbb"
>[83dde2fbb]</a></li>
</ul>
</dd>
<dt>2012-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/find_path.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/policy.c,
plugins/sudoers/sudoers.c, plugins/sudoers/timestamp.c:<br>
Avoid strerror() when possible and just rely on warning/error to handle
errno in the proper locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56de023de"
>[56de023de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Set sudoers locale in log_allowed()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e28ce01fe"
>[e28ce01fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Make the sudo lecture translatable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69cb0c321"
>[69cb0c321]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add the values of badpass_message, passprompt and mailsub to sudoers.pot
so they can be translated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e637ad83"
>[5e637ad83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Expand the FMT_FIRST anf FMT_CONTD macros inline so they get picked up
by xgettext.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=693e6767f"
>[693e6767f]</a></li>
</ul>
</dd>
<dt>2012-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/prompt.c,
plugins/sudoers/sudoers.h:<br>
Make expand_prompt() args const and free the prompt when we are done
with it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a7884d47"
>[6a7884d47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/policy.c:<br>
Fix cut and pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e88c8941d"
>[e88c8941d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/logging.c:<br>
Expand def_mailsub in the sudoers locale, not the user&rsquo;s.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cac7ca6a6"
>[cac7ca6a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/env.c, plugins/sudoers/iolog.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/parse.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/timestamp.c:<br>
Call gettext inside log_error et al instead of having the caller do it.
This way we can display any messages to the user in their own locale but
log in the sudoers local.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0c53bd75"
>[a0c53bd75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/defaults.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/policy.c, plugins/sudoers/sssd.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c, src/error.c, src/exec.c, src/exec_common.c,
src/exec_pty.c, src/load_plugins.c, src/net_ifs.c, src/parse_args.c,
src/selinux.c, src/sesh.c, src/sudo.c, src/sudo_edit.c, src/tgetpass.c:<br>
Display warning/error messages in the user&rsquo;s locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=595d3b265"
>[595d3b265]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/logging.c, plugins/sudoers/sudoers.c:<br>
audit_failure() now calls gettext itself using the sudoers locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f454a852c"
>[f454a852c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c:<br>
Convert setlocale() to sudoers_setlocale() in the sudoers module. This
only converts existing uses, there are more places where we need to
sprinkle sudoers_setlocale() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f82a3407"
>[3f82a3407]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/locale.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add simple locale switching to make it easy to switch from the user&rsquo;s
locale to the sudoers locale without making excessive setlocale() calls
when we don&rsquo;t need to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4207589fe"
>[4207589fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/error.h, include/sudo_debug.h,
plugins/sudoers/plugin_error.c, src/error.c:<br>
Add variants of warn/error and sudo_debug_printf that take a va_list
instead of a variable number of args.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8660f998"
>[f8660f998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, doc/TROUBLESHOOTING:<br>
Document Solaris 11 locale issues and workarounds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56857f7f0"
>[56857f7f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Solaris gettext() looks in lang.UTF-8, not just lang for UTF-8 locales.
Make links from localdir/lang -&gt; localdir/lang.UTF-8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d2dc4c30"
>[9d2dc4c30]</a></li>
</ul>
</dd>
<dt>2012-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/sudoers.c:<br>
Do not inform the user that the command was not permitted by the policy
if they do not successfully authenticate. This is a regression
introduced in sudo 1.8.6.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d052aeb6"
>[5d052aeb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add preinstall target that runs SUDO_PREINSTALL_CMD. Used to fixup the
rpath in HP-UX SOM shared libraries for the LDAP libs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=941d759c5"
>[941d759c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
The -a option should be #ifdef HAVE_BSD_AUTH_H, not -A.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6207003b"
>[e6207003b]</a></li>
</ul>
</dd>
<dt>2012-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Allow the user to specify and alternate libtool
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0586a5e28"
>[0586a5e28]</a></li>
</ul>
</dd>
<dt>2012-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, plugins/sudoers/sudo_nss.c:<br>
Allow sudo to be build with sss support without also including ldap
support. From Stephane Graber.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68376c138"
>[68376c138]</a></li>
</ul>
</dd>
<dt>2012-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/iolog_path.c,
plugins/sudoers/logging.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/policy.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Refactor policy plugin interface code from sudoers.c into policy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=475662aaa"
>[475662aaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:<br>
Refactor command_info setting into its own function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3651377e1"
>[3651377e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c, plugins/sudoers/interfaces.h,
plugins/sudoers/match_addr.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Make interfaces pointer private to interfaces.c and add get_interfaces()
accessor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=929aef075"
>[929aef075]</a></li>
</ul>
</dd>
<dt>2012-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.h:<br>
Make user_cwd const since it is either a string literal or passed in
from the front-end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=319fe95d0"
>[319fe95d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
sudo 1.8.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aca292b2"
>[8aca292b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Avoid nested strtok() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4134b24ec"
>[4134b24ec]</a></li>
</ul>
</dd>
<dt>2012-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/check.c,
plugins/sudoers/prompt.c, plugins/sudoers/sudoers.h:<br>
Move expand_prompt() into its own source file for easier unit testing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b23d2b12"
>[2b23d2b12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/check.c,
plugins/sudoers/check.h, plugins/sudoers/sudoers.h,
plugins/sudoers/timestamp.c, plugins/sudoers/timestamp.h:<br>
Make check.c independent of the underlying timestamp implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a7af2303"
>[0a7af2303]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Add SUDOERS_NO_SEQ define to allow ${seq} to be disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb037caff"
>[fb037caff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Use a list for the possible values of Tag_Spec with a minimal indent to
improve readability. In the pod version, these were =head3. Also use .St
-p1003.1 instead of just POSIX when talking about glob() and fnmatch().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3442a0aea"
>[3442a0aea]</a></li>
</ul>
</dd>
<dt>2012-10-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
sudo_ttyname_dev() is unused if there is no /proc or sysctl().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84eedd3f7"
>[84eedd3f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mksiglist.c, compat/mksigname.c,
compat/regress/fnmatch/fnm_test.c, compat/regress/glob/globtest.c,
plugins/sample_group/plugin_test.c,
plugins/sudoers/regress/check_symbols/check_symbols.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/sesh.c, src/sudo.c:<br>
Explicitly mark main() as public in executables to avoid an HP-UX ld
warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3a1574cd"
>[a3a1574cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Remove grep from SEE ALSO section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09140fd1a"
>[09140fd1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c:<br>
If vasprintf() fails, just use the errno it sets instead of assuming
ENOMEM.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cf3def4b"
>[1cf3def4b]</a></li>
</ul>
</dd>
<dt>2012-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Mention HP-UX pam.conf settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acb9c6298"
>[acb9c6298]</a></li>
</ul>
</dd>
<dt>2012-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/timestamp.c,
plugins/sudoers/timestamp.h:<br>
Split off timestamp functions into their own source file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fa33ccf0"
>[0fa33ccf0]</a></li>
</ul>
</dd>
<dt>2012-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Mention how !foo is not the same as ALL,!foo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05896f9cf"
>[05896f9cf]</a></li>
</ul>
</dd>
<dt>2012-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Start commands in the background when I/O logging is enabled. We can&rsquo;t
do this on Mac OS X due to a kernel bug in tc[gs]etattr(2) which returns
EINTR on signal instead of restarting automatically.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=592f6fefb"
>[592f6fefb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Handle SIGCONT_FG and SIGCONT_BG when converting signal number to string
in deliver_signal().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=616d713e9"
>[616d713e9]</a></li>
</ul>
</dd>
<dt>2012-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Fix running commands that need the terminal in the background when I/O
logging is enabled. E.g. &ldquo;sudo vi &amp;&rdquo;. When the command is foregrounded,
it will now resume properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e94e8ca9"
>[0e94e8ca9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Add rudimentary support for name-based matching as a compile-time
option. This unsafe when used in conjunction with the &lsquo;!&rsquo; operator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a25affb4"
>[6a25affb4]</a></li>
</ul>
</dd>
<dt>2012-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/pwutil.c,
plugins/sudoers/pwutil.h, plugins/sudoers/pwutil_impl.c:<br>
Split out implementation-specific back end code out of pwutil.c into
pwutil_impl.c. This will allow the main pwutil code to be used for
lookup methods other than getpw* and getgr*.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=883e0ec3c"
>[883e0ec3c]</a></li>
</ul>
</dd>
<dt>2012-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
sudo 1.8.6p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7ce1909f"
>[a7ce1909f]</a></li>
</ul>
</dd>
<dt>2012-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/fixman.sh:<br>
Don&rsquo;t use embedded newline when matching, use \n. This got expanded at
some point. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=573"
>Bug #573</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4446e22a9"
>[4446e22a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Rename yyerror() to sudoerserror() to match yacc prefix changes. Not
really needed due to the #defines that yacc makes but it is less
confusing this way as the lexer calls sudoerserror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f36643a6"
>[7f36643a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, plugins/sample_group/plugin_test.c,
plugins/sudoers/env.c, plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, src/exec_common.c, src/parse_args.c,
src/sudo.c:<br>
No need to translate &ldquo;unable to allocate memory&rdquo; when we can just use
the system translation via strerror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d90c0ad7"
>[1d90c0ad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fall back on lstat(2) if d_type in struct dirent is DT_UNKNOWN. Not all
file systems support d_type. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=572"
>Bug
#572</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f808fead0"
>[f808fead0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Avoid calling fclose(NULL) in the error path when we cannot open an I/O
log file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37d70a999"
>[37d70a999]</a></li>
</ul>
</dd>
<dt>2012-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
Sudo 1.8.6p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c94a95ef"
>[0c94a95ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
When setting the signal handler for SIGTSTP to the default value in
non-I/O log mode, store the old handler value for when we restore it
after resume.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=885b6e7cd"
>[885b6e7cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Replace the guts of sudo_setenv_nodebug() with our old setenv.c which
supports non-standard BSD and glibc semantics. sudo_setenv() now simply
calls sudo_setenv2().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faf112c53"
>[faf112c53]</a></li>
</ul>
</dd>
<dt>2012-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.mdoc.in, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document non-Unix group support in LDAP sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c34c0a4b"
>[3c34c0a4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Enable non-Unix group support for LDAP sudoers. We now check for
non-Unix groups and netgroups with the same query in the second pass.
<a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=571"
>Bug #571</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdf93e8d3"
>[bdf93e8d3]</a></li>
</ul>
</dd>
<dt>2012-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/parse.c,
plugins/sudoers/regress/parser/check_fill.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c:<br>
Set yacc prefix to &ldquo;sudoers&rdquo; to avoid conflicts other yacc parsers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5276ab3a5"
>[5276ab3a5]</a></li>
</ul>
</dd>
<dt>2012-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention support for SUCCESS=return in /etc/nsswitch.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c9083b14"
>[0c9083b14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
sudo 1.8.6p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=824092b88"
>[824092b88]</a></li>
</ul>
</dd>
<dt>2012-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Avoid setting LOGNAME, USER and USERNAME variables twice when
set_logname is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40d0492a4"
>[40d0492a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix duplicate detection in sudo_putenv(), do not prune out the variable
we just set when overwriting an existing instance. Fixes bug #570
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6beab1914"
>[6beab1914]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add some debuggging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2a46c0f8"
>[d2a46c0f8]</a></li>
</ul>
</dd>
<dt>2012-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Disable word wrap in list mode when stdout is a pipe to make &ldquo;sudo -l |
grep &hellip;&rdquo; more useful. Adapted from a diff by Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3af7a0daf"
>[3af7a0daf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Print a trailing newline in lbuf_print() when there is not enough space
to do word wrapping and the lbuf does not end with a newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5257d48d"
>[e5257d48d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c:<br>
Add support for [SUCCESS=return] in nsswitch.conf; from Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d787df3c1"
>[d787df3c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add sssd.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2068d941b"
>[2068d941b]</a></li>
</ul>
</dd>
<dt>2012-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/fi.mo,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/sl.mo,
plugins/sudoers/po/uk.mo, src/po/fi.mo, src/po/hr.mo, src/po/it.mo,
src/po/ru.mo, src/po/sl.mo, src/po/uk.mo, src/po/vi.mo:<br>
regen .po files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71e685aa"
>[a71e685aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/vi.mo:<br>
Add Vietnamese sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8de12a2bc"
>[8de12a2bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
mention PIE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cab82ddcf"
>[cab82ddcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/vi.po:<br>
Add Vietnamese sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4380a60a9"
>[4380a60a9]</a></li>
</ul>
</dd>
<dt>2012-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, compat/Makefile.in, mkdep.pl:<br>
Add missing signame dependency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4017e63b9"
>[4017e63b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/ttyname.c:<br>
Silence compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae21fb299"
>[ae21fb299]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/Makefile.in, compat/sig2str.c, config.h.in, configure,
configure.in, include/missing.h, mkdep.pl, src/exec.c, src/exec_pty.c:<br>
Replace strsigname() with sig2str(), emulating it as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab7dda035"
>[ab7dda035]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/utmp.c:<br>
Use fseeko() for legacy utmp handling if available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71e2d8290"
>[71e2d8290]</a></li>
</ul>
</dd>
<dt>2012-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/strsigname.c, config.h.in, configure, configure.in:<br>
Detect sys_sigabbrev[] and use it in place of sys_signame[] if present.
For some reason glibc does not declare sys_sigabbrev so we must add an
extern definition of our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f44afdc42"
>[f44afdc42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/strsignal.c, compat/strsigname.c:<br>
Handle NULL entries in sys_siglist and sys_signame.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af4f02d3e"
>[af4f02d3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mksiglist.c, compat/mksiglist.h, compat/mksigname.c,
compat/mksigname.h, compat/strsignal.c, compat/strsigname.c:<br>
Convert my_sys_sig{list,name} -&gt; sudo_sys_sig{list,name}
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24991069f"
>[24991069f]</a></li>
</ul>
</dd>
<dt>2012-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a371c50f0"
>[a371c50f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Pass on SIGTSTP to the command if it was sent by a user process (not the
kernel or the terminal) when we are not I/O logging and set the default
SIGTSTP handler when we re-send the signal to ourself, restoring our
handler after we resume.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37269d662"
>[37269d662]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Shells typically change their process group when they start up so that
they can implement job control. Most well-behaved shells change the pgrp
back to its original value before suspending so we must not try to
restore in that case, lest we race with the child upon resume,
potentially stopping sudo with SIGTTOU while the command continues to
run. Some shells, such as pdksh, just suspend the shell by sending
SIGSTOP to themselves without restoring the pgrp. In this case we need
to change the pgrp back for them. Should fix bug #568
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29907e357"
>[29907e357]</a></li>
</ul>
</dd>
<dt>2012-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, compat/Makefile.in, compat/mksigname.c, compat/mksigname.h,
compat/strsignal.c, compat/strsigname.c, config.h.in, configure,
configure.in, include/missing.h, mkdep.pl, src/exec.c, src/exec_pty.c:<br>
Use strsigname() to print signal names in the debug output. If the
system has no strsigname(), use our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=537dc94b9"
>[537dc94b9]</a></li>
</ul>
</dd>
<dt>2012-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test5.inc,
plugins/sudoers/regress/testsudoers/test5.sh:<br>
Remove generated file and change path for temporary include file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac4b21b3e"
>[ac4b21b3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
When running regress tests, list pass/fail rate for each dir
(testsudoers and visudo) instead of the total. Also prevent the result
files from clobbering each other by keeping them in the relevant
directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d08c4b40"
>[6d08c4b40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Don&rsquo;t print an error message in yyerror() if open_sudoers() fails, we&rsquo;ve
already printed an error message. Also restore the check for
sudoers_warnings in yyerror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e498bab4c"
>[e498bab4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Avoid printing the &gt;&gt;&gt; parse error &lt;&lt;&lt; message for testsudoers
when the -t flag is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c8c3c0cd"
>[0c8c3c0cd]</a></li>
</ul>
</dd>
<dt>2012-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix NULL deref when an entry has no Runas_Entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=793426106"
>[793426106]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/ja.mo,
src/po/ja.po, src/po/pl.mo, src/po/pl.po, src/po/zh_CN.mo,
src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81d42ae4e"
>[81d42ae4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f82515a8c"
>[f82515a8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Correct the check_user() comment header.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=778895adf"
>[778895adf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Change a log_fatal() into log_error() when no auth methods are
configured. The caller already checks the return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60ba36979"
>[60ba36979]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Add missing debug_return
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b5d43b8a"
>[2b5d43b8a]</a></li>
</ul>
</dd>
<dt>2012-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Make the capitalization consistent for .Ss and .Sx
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d3a0d14d"
>[2d3a0d14d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/fixman.sh, doc/fixmdoc.sh, doc/sudo.cat,
doc/sudo.man.in, doc/sudo.mdoc.in:<br>
Add COMMAND EXECUTION section that describes how sudo runs the command,
the extra sudo processes and signal handling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f3232ee6"
>[8f3232ee6]</a></li>
</ul>
</dd>
<dt>2012-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Happy Easter
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1d6e86d6"
>[c1d6e86d6]</a></li>
</ul>
</dd>
<dt>2012-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Don&rsquo;t echo the awk command when building siglist.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cdd315a0"
>[2cdd315a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/fixman.sh, doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Cosmetic changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7afcef8ee"
>[7afcef8ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
The HISTORY, LICENSE and CONTRIBUTORS files are not longer generated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bef51c62"
>[3bef51c62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/da.po, plugins/sudoers/po/fi.po,
plugins/sudoers/po/hr.po, plugins/sudoers/po/it.mo,
plugins/sudoers/po/it.po, plugins/sudoers/po/sl.po,
plugins/sudoers/po/uk.po, src/po/de.mo, src/po/de.po, src/po/fi.po,
src/po/hr.po, src/po/it.po, src/po/ru.po, src/po/sl.po, src/po/uk.po,
src/po/vi.po:<br>
Sync with translationproject.org and add Italian sudoers translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57f1c7fe0"
>[57f1c7fe0]</a></li>
</ul>
</dd>
<dt>2012-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Expand description of fqdn to talk about systems where the hosts file is
searched before DNS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82115dfa1"
>[82115dfa1]</a></li>
</ul>
</dd>
<dt>2012-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
For cat pages there is nothing to make unless DEVEL is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2b6033c7"
>[c2b6033c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/Makefile.in:<br>
Always use mandoc to format cat pages and remove now-extraneous nroff
configure tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e43242b3"
>[1e43242b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync polypkg from git
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d51f3b5"
>[35d51f3b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Use AI_FQDN instead of AI_CANONNAME if available since &ldquo;canonical&rdquo; is
not always the same as &ldquo;fully qualified&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6260a7589"
>[6260a7589]</a></li>
</ul>
</dd>
<dt>2012-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.mdoc.in:<br>
Fix some typos. Describe error messages not related to policy
permissions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e01886ed2"
>[e01886ed2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/visudo.c:<br>
Add new check_defaults() function to check (but not update) the Defaults
entries. Visudo can now use this instead of update_defaults to check all
the defaults regardless instead of just the global Defaults entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aeadbd5b"
>[7aeadbd5b]</a></li>
</ul>
</dd>
<dt>2012-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Document sudoers log format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d764db707"
>[d764db707]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.5p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d312b241d"
>[d312b241d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Add missing check for I/O plugin API version when checking for the
presence of I/O plugin hooks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=805039bec"
>[805039bec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/hooks.c:<br>
Can&rsquo;t call debug code in the process_hooks_xxx functions() since ctime()
may look up the timezone via the TZ environment variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f32aaed29"
>[f32aaed29]</a></li>
</ul>
</dd>
<dt>2012-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_common.c, src/sesh.c, src/utmp.c:<br>
Include signal.h before sudo_exec.h since it uses sigset_t * in the
fork_pty prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4e815dd8"
>[e4e815dd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in, doc/visudo.cat,
doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Remove OPTIONS section; options now go inside DESCRIPTION
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50eae1c22"
>[50eae1c22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66ad86594"
>[66ad86594]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/hr.mo, plugins/sudoers/po/hr.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/sl.mo, plugins/sudoers/po/sl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/da.mo,
src/po/da.po, src/po/hr.mo, src/po/hr.po, src/po/sl.mo, src/po/sl.po,
src/po/vi.mo, src/po/vi.po:<br>
Sync with translationproject.org and add new Slovenian translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef33ee45d"
>[ef33ee45d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, plugins/sudoers/check.c, plugins/sudoers/env.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Reduce the number of &ldquo;internal error, foo overflow&rdquo; messages that need
to be translated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=241b2395c"
>[241b2395c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention HP-UX reboot fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afaf5e07f"
>[afaf5e07f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, NEWS, common/sudo_debug.c, configure, configure.in,
doc/CONTRIBUTORS, include/sudo_debug.h, mkdep.pl, pathnames.h.in,
plugins/sudoers/Makefile.in, plugins/sudoers/sssd.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c:<br>
Support for using SSSD (<a class="gdoc-markdown__link" href="https://fedorahosted.org/sssd/">http://fedorahosted.org/sssd/</a>) as a sudoers data
source. From Daniel Kopecek and Pavel Brezina.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d89b1a6be"
>[d89b1a6be]</a></li>
</ul>
</dd>
<dt>2012-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_conf.c, src/load_plugins.c:<br>
If sudo.conf contains an I/O plugin but no policy plugin, use sudoers
for the policy plugin. If a policy plugin is specified without an I/O
plugin, only the policy plugin will be loaded.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7424cc00"
>[a7424cc00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudoers.man.in:<br>
Do not modify the .Os section when building the .man.in file from
.mdoc.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ad4d4804"
>[9ad4d4804]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Add a note about wildcards matching multiple words and include an
example. Also mention that for sudoedit, a wildcard in command line args
does not match a slash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=507df9d5c"
>[507df9d5c]</a></li>
</ul>
</dd>
<dt>2012-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo_exec.h:<br>
Fix a comment, update a variable name in a prototype; all cosmetic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0655deab5"
>[0655deab5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Cast 2nd argument of lseek() to off_t if it is a constant for systems
with 64-bit off_t but without a proper lseek() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ba8da4ab"
>[3ba8da4ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getline.c, plugins/sudoers/check.c, plugins/sudoers/env.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/visudo.c:<br>
Fix some warnings from clang checker-267
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d255e42c"
>[7d255e42c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Fix memory leak found by clang checker-267
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=487c8abb0"
>[487c8abb0]</a></li>
</ul>
</dd>
<dt>2012-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo.h, src/sudo_exec.h:<br>
If we receive a signal from the command we executed, do not forward it
back to the command. This fixes a problem with BSD-derived versions of
the reboot command which send SIGTERM to all other processes, including
the sudo process. Sudo would then deliver SIGTERM to reboot which would
die before calling the reboot() system call, effectively leaving the
system in single user mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc08cf3c9"
>[dc08cf3c9]</a></li>
</ul>
</dd>
<dt>2012-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/fixman.sh, doc/fixmdoc.sh:<br>
Remove section about Solaris 10 on other systems. Add missing
sudoers.man.in bit to fixman.sh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d10fb81fe"
>[d10fb81fe]</a></li>
</ul>
</dd>
<dt>2012-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in:<br>
Expand section on Solaris privileges.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61dfad9c5"
>[61dfad9c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Expand a bit on the Solaris priv set changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7d1f8d54"
>[e7d1f8d54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
The second argument to init_parser() is now bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=355d40aa8"
>[355d40aa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Fix printing of parse error message to stderr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80597710c"
>[80597710c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c:<br>
If a command matches using an empty Runas_List (i.e. Runas_List is
present but empty) and the -u option was not specified, set runas_pw to
user_pw instead of using runas_default. This is intended to be used in
conjunction with the Solaris Privilege Set support for rules that grant
privileges without changing the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57699c553"
>[57699c553]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.mdoc.in,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/sudoers_version.h:<br>
Add support for parsing an empty Runas_List, which only allows the
command to be run as the invoking user. This can be used in conjunction
with the Solaris Privilege Set support to grant privileges without
changing the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2d210a34"
>[e2d210a34]</a></li>
</ul>
</dd>
<dt>2012-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/fixman.sh:<br>
Fix HP-UX, just use &ldquo;.TH name section&rdquo; like the vendor manuals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acba09fbb"
>[acba09fbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix compilation on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d1d8989"
>[b1d1d8989]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore, MANIFEST, doc/Makefile.in, doc/fixman.sh, doc/fixmdoc.sh,
doc/sudo.man.sh, doc/sudo.mdoc.sh, doc/sudoers.man.sh,
doc/sudoers.mdoc.sh:<br>
Generate a sed script file when munging *.mdoc or *.man instead of
passing sed expressions on the command line. Older seds do not support
\n in a replacement so generate and run a sed script instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=602510f1b"
>[602510f1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudo.man.in, doc/sudo_plugin.man.in,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.man.in,
doc/visudo.man.in:<br>
Use &ldquo;Sudo VERSION&rdquo; as the 4th arg to .TH instead of just &ldquo;VERSION&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37cfbc8ea"
>[37cfbc8ea]</a></li>
</ul>
</dd>
<dt>2012-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
When checking whether a signal is user-generated, compare si_code
against SI_USER instead of &lt;= 0 since on HP-UX, terminal-related
signals get a code of 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e502bd6d"
>[5e502bd6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>src/sudo.c:<br>
SuSE Enterprise Linux uses RLIMIT_NPROC and _SC_CHILD_MAX
interchangably. This causes problems when setting RLIMIT_NPROC to
RLIM_INFINITY due to a bug in bash where bash tries to honor the value
of _SC_CHILD_MAX but treats a value of -1 as an error, and uses a
default value of 32 instead.</p>
<p>Previously, we just checked RLIMIT_NPROC and, if it was unlimited,
restored the previous value of RLIMIT_NPROC. However, that makes it
impossible to set nproc to unlimited. We now only restore the nproc
resource limit if sysconf(_SC_CHILD_MAX) is negative. In most cases,
pam_limits will set RLIMIT_NPROC for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c321baa7"
>[9c321baa7]</a></p>
</li>
</ul>
</dd>
<dt>2012-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Active Directory apparently requires that tenths of a second be present
in a date so append .0 to the &ldquo;now&rdquo; value in the time filter. Also
remove space for the global AND from TIMEFILTER_LENGTH since it was not
being used consistently. Buffers of TIMEFILTER_LENGTH now need to
account for the terminating NUL byte.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f205243bd"
>[f205243bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix SELinux build
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9623c29c"
>[a9623c29c]</a></li>
</ul>
</dd>
<dt>2012-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
Remove pod versinons of HISTORY, CONTRIBUTORS and LICENSE as they were
not being kept in sync.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82c808c7c"
>[82c808c7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/HISTORY, doc/Makefile.in, doc/contributors.pod, doc/history.pod,
doc/license.pod:<br>
Remove pod versinons of HISTORY, CONTRIBUTORS and LICENSE as they were
not being kept in sync.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e470b86cb"
>[e470b86cb]</a></li>
</ul>
</dd>
<dt>2012-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix printing of the permission denied message to standard error when a
user is not allowed to run a command. This got broken by the recent
logging changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=383e0c860"
>[383e0c860]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers_version.h:<br>
Bump grammar version for Solaris privs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c7df2925"
>[2c7df2925]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.ActiveDirectory:<br>
Fix errors introduced when sudoNotBefore, sudoNotAfter and sudoOrder
were added. From David Hicks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab64e36e5"
>[ab64e36e5]</a></li>
</ul>
</dd>
<dt>2012-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Remove lex.yy.c when building toke.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ce246f0b"
>[6ce246f0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Fix building docs in a build dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecb74d3e2"
>[ecb74d3e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.pl, doc/sudo.pod, doc/sudo_plugin.pod,
doc/sudoers.ldap.pod, doc/sudoers.man.pl, doc/sudoers.pod,
doc/sudoreplay.pod, doc/visudo.pod:<br>
Remove pod versions of the manual; we now use mdoc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12bad90ba"
>[12bad90ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/Makefile.in, doc/sudo.man.sh, doc/sudo.mdoc.sh,
doc/sudoers.man.sh, doc/sudoers.mdoc.sh:<br>
Add post-processing scripts to strip out login class, BSD auth, SELinux
and privilege set bits when they are not supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=336233c2e"
>[336233c2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure.in, doc/CONTRIBUTORS, doc/Makefile.in,
doc/contributors.pod, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.man.pl, doc/sudoers.mdoc.in, doc/sudoers.pod,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l, src/sudo.c, src/sudo.h:<br>
Merge in Solaris privilege support by Darren Moffat and John Zolnowsky
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4abd2a6cf"
>[4abd2a6cf]</a></li>
</ul>
</dd>
<dt>2012-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/contributors.pod:<br>
Sync with CONTRIBUTORS file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a726a1ccf"
>[a726a1ccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo_plugin.man.in, doc/sudoers.ldap.man.in,
doc/sudoers.man.in, doc/sudoreplay.man.in:<br>
Regen .man.in files with my private mandoc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d29991f41"
>[d29991f41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
add MANDOC variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84a8573aa"
>[84a8573aa]</a></li>
</ul>
</dd>
<dt>2012-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo_plugin.man.in, doc/sudoers.ldap.man.in,
doc/sudoers.man.in, doc/sudoreplay.man.in, doc/visudo.man.in:<br>
Regen .man.in files with hacked mandoc to avoid issues with historic
nroff.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a06f7540f"
>[a06f7540f]</a></li>
</ul>
</dd>
<dt>2012-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.mdoc.in, doc/sudoers.mdoc.in:<br>
Fix groff warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05e7cac89"
>[05e7cac89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Fix dependencies for .man.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=909f3da4d"
>[909f3da4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
Add doc/*.mdoc to ignore file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42e6496ed"
>[42e6496ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, NEWS, configure, configure.in, doc/Makefile.in,
doc/sudo.cat, doc/sudo.man.in, doc/sudo.mdoc.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.mdoc.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.man.in, doc/sudoers.mdoc.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.mdoc.in, doc/visudo.cat,
doc/visudo.man.in, doc/visudo.mdoc.in:<br>
Build .man.in and .cat files from .mdoc.in files. Add new &ndash;with-man and
&ndash;with-mdoc configure options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90f2cfa58"
>[90f2cfa58]</a></li>
</ul>
</dd>
<dt>2012-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.mdoc.in, doc/sudo_plugin.mdoc.in, doc/sudoers.ldap.mdoc.in,
doc/sudoers.mdoc.in, doc/sudoreplay.mdoc.in, doc/visudo.mdoc.in:<br>
Sudo manuals formatted in mdoc, to replace the pod versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d8aa46bb"
>[0d8aa46bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.pod, doc/sudoers.man.in, doc/sudoers.pod,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.pod,
doc/visudo.cat, doc/visudo.man.in, doc/visudo.pod:<br>
More minor costmetic fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5b374fac"
>[c5b374fac]</a></li>
</ul>
</dd>
<dt>2012-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod:<br>
Minor cosmetic fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f31f58a96"
>[f31f58a96]</a></li>
</ul>
</dd>
<dt>2012-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/po/sudoers.pot:<br>
Use &ldquo;a password is required&rdquo; instead of &ldquo;password required&rdquo; when the -n
flag is used and we need to read a password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7dc1d849"
>[f7dc1d849]</a></li>
</ul>
</dd>
<dt>2012-07-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention logging changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aaa10173"
>[7aaa10173]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f83d35f7"
>[5f83d35f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Document that other mail_* flags have precedence over mail_badpass.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cc8c161a"
>[6cc8c161a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Move log_denial() calls and logic to log_failure(). Move authentication
failure logging to log_auth_failure(). Both of these call
audit_failure() for us.</p>
<p>This subtly changes logging for commands that are denied by sudoers but
where the user failed to enter the correct password. Previously, these
would be logged as &ldquo;N incorrect password attempts&rdquo; but now are logged as
&ldquo;command not allowed&rdquo;. Fixes bug #563
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b03f3e7d"
>[8b03f3e7d]</a></p>
</li>
</ul>
</dd>
<dt>2012-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/aix.c:<br>
Do not set a resource limit to zero when we are unable to fetch a value
from /etc/security/limits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c9cf9da4"
>[9c9cf9da4]</a></li>
</ul>
</dd>
<dt>2012-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Add &ldquo;Provides: sudo&rdquo; to debian sudo-ldap package
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5904f7ede"
>[5904f7ede]</a></li>
</ul>
</dd>
<dt>2012-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, zlib/Makefile.in:<br>
Define NO_VIZ for zlib when gcc doesn&rsquo;t support symbol visibility
attributes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=958e39fc6"
>[958e39fc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use the autoconf cache when checking for symbol export control support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f38349a02"
>[f38349a02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, common/Makefile.in, compat/Makefile.in, configure,
configure.in, mkpkg, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in:<br>
Add configure check for building PIE executables instead of doing it in
mkpkg.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8f002171"
>[f8f002171]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
MacOS pp backend doesn&rsquo;t like modes longer than 4 characters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aab4b3589"
>[aab4b3589]</a></li>
</ul>
</dd>
<dt>2012-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add -Wc,-fstack-protector to LT_LDFLAGS instead of adding
-fstack-protector to LDFLAGS so it doesn&rsquo;t get stripped out. Libtool
will strip -fstack-protector from the linker flags and we always link
with libtool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=effd6cd91"
>[effd6cd91]</a></li>
</ul>
</dd>
<dt>2012-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
Regen for sudo 1.8.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e36b1ef2"
>[2e36b1ef2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.ldap.pod:<br>
Document improved Tivoli Directory Server support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80502c3bc"
>[80502c3bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/ldap.c:<br>
Add support for ldaps using Tivoli LDAP libraries. Add ldap.conf option
to specify Tivoli key db password. Allow TLS ciphers to be configured
for Tivoli.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c57d6a06"
>[3c57d6a06]</a></li>
</ul>
</dd>
<dt>2012-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Tivoli Directory Server 6.3 libs always return a (bogus) error when
setting LDAP_OPT_CONNECT_TIMEOUT.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f56bada40"
>[f56bada40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06637e528"
>[06637e528]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Treat LDAP_OPT_CONNECT_TIMEOUT (Tivoli Directory Server 6.3) the same as
LDAP_OPT_CONNECT_TIMEOUT (OpenSSH). Don&rsquo;t make failure to a set an ldap
option fatal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfe0034cd"
>[cfe0034cd]</a></li>
</ul>
</dd>
<dt>2012-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Zero pointers in sudo_user struct after freeing, just in case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d5048a5b"
>[7d5048a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Free user_gids in close function if it has not already been freed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=899fcc05a"
>[899fcc05a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Defer group ID to name resolution until we actually need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cd50d0bc"
>[1cd50d0bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
It is safe to read in sudo.conf before calling user_info().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faf89fc79"
>[faf89fc79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/ldap.c:<br>
Use MAX_UID_T_LEN + 1 for uid/gid buffers, not MAX_UID_T_LEN to prevent
potential truncation. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=562"
>Bug
#562</a>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9f5a3839"
>[e9f5a3839]</a></li>
</ul>
</dd>
<dt>2012-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
If installing with installp, error out if there is already an instance
of the rpm package installed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=386ba7b06"
>[386ba7b06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add &ndash;disable-nls for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcd8549a9"
>[bcd8549a9]</a></li>
</ul>
</dd>
<dt>2012-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Debian sudo-ldap packages should now depend on libldap-2.4-2, not
libldap2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c1ba0b49"
>[5c1ba0b49]</a></li>
</ul>
</dd>
<dt>2012-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Add Homepage and Bugs to debian control file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e571d6ff6"
>[e571d6ff6]</a></li>
</ul>
</dd>
<dt>2012-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
fix typo when setting aix_freeware
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6103bbc67"
>[6103bbc67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, configure, configure.in,
doc/Makefile.in, include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in, zlib/Makefile.in:<br>
Don&rsquo;t run regress tests or sudoers sanity check (using the newly-built
visudo) when cross compiling. <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=560"
>Bug
#560</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9497df293"
>[9497df293]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.in, plugins/sample/Makefile.in,
plugins/sample/sample_plugin.exp, plugins/sample/sample_plugin.map,
plugins/sample_group/Makefile.in, plugins/sample_group/sample_group.exp,
plugins/sample_group/sample_group.map, plugins/sudoers/Makefile.in,
plugins/sudoers/sudoers.exp, plugins/sudoers/sudoers.map,
plugins/system_group/Makefile.in, plugins/system_group/system_group.exp,
plugins/system_group/system_group.map:<br>
Rename foo.sym -&gt; foo.exp Remove foo.map from the repo and generate it
on demand Use a loader option file for HP-UX ld to explicitly export
symbols
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcfeddc99"
>[bcfeddc99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Remove extraneous backslash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0475b59d"
>[b0475b59d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/check_symbols/check_symbols.c:<br>
Don&rsquo;t check for errorx as an exported symbols as it is now a macro.
Check for user_in_group() instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a49238e3f"
>[a49238e3f]</a></li>
</ul>
</dd>
<dt>2012-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Adjust ld map file support to use an anonymous scope to match the
updated .map files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b567282f8"
>[b567282f8]</a></li>
</ul>
</dd>
<dt>2012-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, include/gettext.h:<br>
Older versions of Solaris lack ngettext()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c74d40631"
>[c74d40631]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Move the check for -static-libgcc until after AC_LANG_WERROR has been
called and use AX_CHECK_COMPILE_FLAG().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af8a211e4"
>[af8a211e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/gettext.h:<br>
Sudo defines HAVE_SETLOCALE not HAVE_LOCALE_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ef0cc73f"
>[2ef0cc73f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/error.h, include/sudo_debug.h:<br>
Fix gcc 2.x variant macro support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ac272c03"
>[5ac272c03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoreplay.c:<br>
Fix compilation on gcc 2.95 and other compilers that only allow variable
declarations at the beginning of a block.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45fea137f"
>[45fea137f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in:<br>
Link check_symbols with SUDO_LIBS to make sure we link with the
requisite libraries to successfully dlopen sudoers.so. This is needed on
HP-UX where a program dlopen()ing a shared object that uses pthreads
must also be linked with pthreads (and HP-UX LDAP uses pthreads).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdcc8e1fc"
>[fdcc8e1fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/check_symbols/check_symbols.c:<br>
Add check for exported local symbols. This will cause a &ldquo;make check&rdquo;
failure on systems where we don&rsquo;t support symbol hiding.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86cececc1"
>[86cececc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Additional ${foo} -&gt; $(foo) Makefile tweaks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e67a9153"
>[7e67a9153]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.map, plugins/sample_group/sample_group.map,
plugins/sudoers/sudoers.map, plugins/system_group/system_group.map:<br>
No need to provide a name for the scope in the map file since we don&rsquo;t
use the it for versioning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=437978bd3"
>[437978bd3]</a></li>
</ul>
</dd>
<dt>2012-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/check_symbols/check_symbols.c:<br>
Add regress test for symbol visibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a83d1c6d"
>[2a83d1c6d]</a></li>
</ul>
</dd>
<dt>2012-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
sudo 1.8.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0888101bb"
>[0888101bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, include/missing.h:<br>
Add support for controlling symbol visibility using the HP and Solaris C
compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60a301948"
>[60a301948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/sudoers.h:<br>
Use the expanded io log dir when updating the sequence number. Includes
a workaround for older versions of sudo where the sequence number was
stored in the unexpanded io log dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=203abd98b"
>[203abd98b]</a></li>
</ul>
</dd>
<dt>2012-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c:<br>
Simplify &ldquo;sudo -s&rdquo; argv rewriting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85c607865"
>[85c607865]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in, src/sudo_noexec.map:<br>
Don&rsquo;t use a map file for sudo_noexec.so since Solaris ld doesn&rsquo;t allow
&lsquo;*&rsquo; in the global section. The libtool export flag is now added to
LT_LDFLAGS instead of commenting/uncommenting lines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47abbb90a"
>[47abbb90a]</a></li>
</ul>
</dd>
<dt>2012-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, include/missing.h:<br>
The visibility attribute was actually added in gcc 3.3.x, not 4.0. Just
assume that if -fvisibility=hidden works that the attribute is usable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fe3f9f40"
>[1fe3f9f40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/pwutil.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers.map,
plugins/sudoers/sudoers.sym, plugins/sudoers/testsudoers.c,
plugins/system_group/system_group.c:<br>
Export group cache from sudoers.so for system_group.so to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=649edc319"
>[649edc319]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, configure, configure.in, include/missing.h,
plugins/sample/Makefile.in, plugins/sample/sample_plugin.map,
plugins/sample_group/Makefile.in, plugins/sample_group/sample_group.map,
plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.map,
plugins/system_group/Makefile.in, plugins/system_group/system_group.map,
src/sudo_noexec.c, src/sudo_noexec.map:<br>
Use gcc&rsquo;s visibility attribute to specify when symbols are visible or
hidden, if available. If not available, use an ELF version script if it
is supported. If all else fails, fall back to using libtool&rsquo;s
-export-symbols.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f6b0dec6"
>[6f6b0dec6]</a></li>
</ul>
</dd>
<dt>2012-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Add mode for installed locale files but leave the directories with
default mode and owner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60eafc971"
>[60eafc971]</a></li>
</ul>
</dd>
<dt>2012-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Install AIX packages under /opt/freeware with links in /usr/bin and
/usr/sbin. This matches the layout of the sudo package from AIX
freeware.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c49823557"
>[c49823557]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in, src/Makefile.in, sudo.pp:<br>
Install shared objects with mode 0644 except on HP-UX which needs the
executable bit set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8e0687ca"
>[a8e0687ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, include/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Make installed file modes consistent with the file modes in the sudo
package.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c131cb36f"
>[c131cb36f]</a></li>
</ul>
</dd>
<dt>2012-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Add &ldquo;%:&rdquo; prefix when talking about QAS non-Unix group support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=642b7e887"
>[642b7e887]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp, sudo.pp:<br>
Fix packaging of symbolic links on HP-UX when the link source already
exists in the filesystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5948149e"
>[f5948149e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Only specify prefix if we are overriding the default value. Fixes the
man dir (/usr/local/man vs. /usr/local/share/man).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db9f50f13"
>[db9f50f13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix setting of sudoedit_man variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94049aa53"
>[94049aa53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Echo the command when linking the sudoedit manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afbf68d6a"
>[afbf68d6a]</a></li>
</ul>
</dd>
<dt>2012-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Build .deb packages with selinux support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c88e08c8"
>[4c88e08c8]</a></li>
</ul>
</dd>
<dt>2012-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Don&rsquo;t list paths for unstripped binaries in the lintial overrides.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13472d7a8"
>[13472d7a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Add support for Installed-Size header in control file, required by newer
debian versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37db1a4dc"
>[37db1a4dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Fix extended description in .deb files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a66c2439"
>[0a66c2439]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Add Depends, Replaces and Conflicts headers for .deb packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dab474b93"
>[dab474b93]</a></li>
</ul>
</dd>
<dt>2012-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
If there are no privs to print, write the message to the lbuf instead of
printing it directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54cfac04d"
>[54cfac04d]</a></li>
</ul>
</dd>
<dt>2012-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Set -e in %pos and %preun for debian to quiet a lintian warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6f64ce04"
>[f6f64ce04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, src/Makefile.in, sudo.pp:<br>
Install sudoedit and the sudoedit manual as symbolic links, not hard
links and package them as such.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61a3ed1c1"
>[61a3ed1c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Make sudo binary permissions 755 instead of 111 Add lintian overrides
file for .deb files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3076dc2a4"
>[3076dc2a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/Makefile.in, mkpkg:<br>
Replace out of date MAN_POSTINSTALL with MANCOMPRESS and MANCOMPRESSEXT
which can be used to compress the installed manual pages. Compress the
man pages for .deb files to appease lintian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d4c6bbbd"
>[8d4c6bbbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Debian fixes: * fix modes to be more in line with what Debian expects *
add section * install LICENSE as copyright and ChangeLog as changelog *
create stub changelog.debian
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5ee0ab91"
>[b5ee0ab91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Fix find command to properly skip files in the DEBIAN dir when building
md5sums.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b38f4584"
>[8b38f4584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp, sudo.pp:<br>
Use a debian-compliant package maintainer field.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7391c7562"
>[7391c7562]</a></li>
</ul>
</dd>
<dt>2012-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>plugins/sudoers/sudoreplay.c:<br>
No need to loop over atomic_writev(), it guarantees to write all data or
return an error.</p>
<p>Fix handling of stdout/stderr that contains &ldquo;\r\n&rdquo; and handle a &ldquo;\r\n&rdquo;
pair that spans a buffer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b406b51da"
>[b406b51da]</a></p>
</li>
</ul>
</dd>
<dt>2012-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.5p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01da61379"
>[01da61379]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Instead of doing extra write()s when replaying stdout, build up a vector
for writev() instead. This results in far fewer system calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12be3e7f5"
>[12be3e7f5]</a></li>
</ul>
</dd>
<dt>2012-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/env_hooks.c, src/sudo.h, src/tgetpass.c:<br>
Provide unhooked version of getenv() and use it when looking up DISPLAY
and SUDO_ASKPASS in the environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af9492d11"
>[af9492d11]</a></li>
</ul>
</dd>
<dt>2012-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
When replaying a log of stdout or stderr, do newline to carriage return
<ul>
<li>linefeed conversion. We cannot have termios do this for us since we&rsquo;ve
disabled output postprocessing (POST) when setting raw mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a6cad502"
>[7a6cad502]</a></li>
</ul>
</li>
</ul>
</dd>
<dt>2012-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
When checking for -fstack-protector, treat warnings as fatal errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7720a7fc8"
>[7720a7fc8]</a></li>
</ul>
</dd>
<dt>2012-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix test for -z relro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54a00726"
>[e54a00726]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add m4/ax_check_compile_flag.m4 and m4/ax_check_link_flag.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca89eb59e"
>[ca89eb59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, aclocal.m4, configure, configure.in,
m4/ax_check_compile_flag.m4, m4/ax_check_link_flag.m4:<br>
Build with -fstack-protector and link with -zrelo where supported. Added
&ndash;disable-hardening option to disable hardening options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e417fb3da"
>[e417fb3da]</a></li>
</ul>
</dd>
<dt>2012-05-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test1.sh,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/testsudoers/test4.out.ok,
plugins/sudoers/regress/testsudoers/test4.sh,
plugins/sudoers/regress/testsudoers/test5.inc,
plugins/sudoers/regress/testsudoers/test5.out.ok,
plugins/sudoers/regress/testsudoers/test5.sh,
plugins/sudoers/testsudoers.c:<br>
Add tests for sudoers mode, owner and group checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca9331d49"
>[ca9331d49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c:<br>
If sudoers_mode is group-readable but the actual sudoers file is not,
open the file as uid 0, not uid 1. This fixes a problem when sudoers has
a more restrictive mode than what sudo expects to find. In older
versions, sudo would silently chmod the file to add the group-readable
bit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d82c4c7e"
>[0d82c4c7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, common/secure_path.c, config.h.in, configure, configure.in:<br>
No longer throw an error if sudoers is a symbolic link. Deprecated the
&ndash;with-stow option as that is now (effectively) the default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d29aede20"
>[d29aede20]</a></li>
</ul>
</dd>
<dt>2012-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test2.inc,
plugins/sudoers/regress/testsudoers/test2.out.ok,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/testsudoers/test3.d/root,
plugins/sudoers/regress/testsudoers/test3.out.ok,
plugins/sudoers/regress/testsudoers/test3.sh:<br>
Add basic tests for #include and #includedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f296fe21"
>[4f296fe21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Add -U sudoers_uid option to testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b35cd7553"
>[b35cd7553]</a></li>
</ul>
</dd>
<dt>2012-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, configure, configure.in:<br>
Update for 1.8.5p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe5bf0306"
>[fe5bf0306]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix #includedir; from Mike Frysinger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a7ac4459"
>[8a7ac4459]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t prompt for a password if the user is in the exempt group, is root,
or is running the command as themselves even if the -k option was
specified. This makes &ldquo;sudo -k command&rdquo; consistent with the behavior one
would get if the user ran &ldquo;sudo -k&rdquo; immediately before running the
command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b7659f70"
>[2b7659f70]</a></li>
</ul>
</dd>
<dt>2012-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Fix capitalization
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=025a30902"
>[025a30902]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Build PIE executable on Mac OS X 10.5 and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=071256a83"
>[071256a83]</a></li>
</ul>
</dd>
<dt>2012-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.4p5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d55aaa8b"
>[3d55aaa8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match_addr.c:<br>
Add missing break between AF_INET and AF_INET6 in
addr_matches_if_netmask()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d5a94131"
>[0d5a94131]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/mon_systrace.c:<br>
Move systrace monitor code to the attic
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d841ae9cd"
>[d841ae9cd]</a></li>
</ul>
</dd>
<dt>2012-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
The pointer to the siginfo_t struct in a signal handler may be NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=466a126c6"
>[466a126c6]</a></li>
</ul>
</dd>
<dt>2012-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Fix an alignment problem on NetBSD systems with a 64-bit time_t and
strict alignment. Based on a patch from Martin Husemann.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d6958077"
>[0d6958077]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Add offsetof macro for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e0ffceac"
>[4e0ffceac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
add system_group plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e1ab974"
>[63e1ab974]</a></li>
</ul>
</dd>
<dt>2012-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Implement RTLD_NEXT and fix RTLD_DEFAULT for HP-UX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa7ac09fa"
>[aa7ac09fa]</a></li>
</ul>
</dd>
<dt>2012-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention system_group plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=340ae1323"
>[340ae1323]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/Makefile.in,
plugins/system_group/Makefile.in:<br>
update depends
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c690ac207"
>[c690ac207]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/system_group/system_group.c:<br>
Only call gr_delref() when use sudo&rsquo;s password caching functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa3defa3f"
>[aa3defa3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample_group/Makefile.in, plugins/system_group/Makefile.in:<br>
Add missing dependency on libreplace.la
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75d70b334"
>[75d70b334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Emulate RTLD_DEFAULT and RTLD_SELF w/ shl_findsym() using NULL and
PROG_HANDLE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6467b7b81"
>[6467b7b81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, plugins/system_group/Makefile.in,
plugins/system_group/system_group.c,
plugins/system_group/system_group.sym:<br>
Add group plugin that does lookups by name using the system group
database.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=994d2ff69"
>[994d2ff69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po, src/po/pl.mo,
src/po/pl.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4455139d5"
>[4455139d5]</a></li>
</ul>
</dd>
<dt>2012-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/de.mo,
src/po/de.po, src/po/eo.mo, src/po/eo.po, src/po/fi.mo, src/po/fi.po,
src/po/ja.mo, src/po/ja.po, src/po/ru.mo, src/po/ru.po, src/po/sr.mo,
src/po/sr.po, src/po/uk.mo, src/po/uk.po, src/po/vi.mo, src/po/vi.po,
src/po/zh_CN.mo, src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64178f8b6"
>[64178f8b6]</a></li>
</ul>
</dd>
<dt>2012-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Add mode for docdir and use &lsquo;-&rsquo; (default) for localedir mode. Fixes a
problem on Linux when building in a directory with the setgid bit set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e828a1d7a"
>[e828a1d7a]</a></li>
</ul>
</dd>
<dt>2012-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Match CentOS 6.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9c13139d"
>[d9c13139d]</a></li>
</ul>
</dd>
<dt>2012-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update with recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8722cd07a"
>[8722cd07a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Fix version check on AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30bddced2"
>[30bddced2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b8982ebd"
>[4b8982ebd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Need to call ldapssl_clientauth_init() for start_tls on Mozilla LDAP
SDK.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e82b67314"
>[e82b67314]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Fix printing of invalid uri
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28268ed99"
>[28268ed99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Pass PAM_SILENT when deleting creds to remove an annoying warning
message on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=989361c27"
>[989361c27]</a></li>
</ul>
</dd>
<dt>2012-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/utmp.c:<br>
Fix the setutxent and endutxent compatibility defines (this time
correctly) when only setutent and endutent are available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fbd5e1bc"
>[0fbd5e1bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
sudo_ldap_set_options_global() should not take an LDAP handle as an
argument since the options affect the global settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6c7ae251"
>[f6c7ae251]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Debian sudo has not been built with &ndash;with-exempt=sudo since 1.6.8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f513b832"
>[5f513b832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
plugins/sudoers/auth/pam.c, src/exec.c, src/exec_pty.c, src/sudo.c,
src/sudo.h:<br>
Call the policy&rsquo;s init_session() function before we fork the child. That
way, the session is created and destroyed in the same process, which is
needed by some modules, such as pam_mount.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23b7a1fa5"
>[23b7a1fa5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Add entry for SSL LDAP errors on Mozilla SDKs when the cert dir is not
specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1480bb88b"
>[1480bb88b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Delete creds after closing the PAM session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf4562c03"
>[cf4562c03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Provide a more useful error message if using a Mozilla-style LDAP SDK
and you forgot to specify TLS_CERT in ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cde9f8aa1"
>[cde9f8aa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add missing initialization of a sigaction structure when I/O logging.
Fixes a potential problem when suspending the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce9863358"
>[ce9863358]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Split global and per-connection LDAP options into separate arrays. Set
global LDAP options before calling ldap_initialize() or ldap_init().
After we have an LDAP handle, set the per-connection options. Fixes a
problem with OpenLDAP using the nss crypto backend; bug #342
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f461efd5"
>[9f461efd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/de.mo,
src/po/de.po, src/po/hr.mo, src/po/hr.po, src/po/vi.mo, src/po/vi.po,
src/po/zh_CN.mo, src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3491dd818"
>[3491dd818]</a></li>
</ul>
</dd>
<dt>2012-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h:<br>
Move struct passwd pointer into struct command details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=886ee3360"
>[886ee3360]</a></li>
</ul>
</dd>
<dt>2012-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Sync with upstream for Mac OS X (and other) fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc07164d9"
>[cc07164d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Only built Mac intel universal binary on an intel machine.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c19ec8f9f"
>[c19ec8f9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Do not pass libtool the -static-libtool-libs option when building sudo
and sesh. Otherwise, libtool may prefer a static version of an installed
library over a dynamic one when linking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f490ff228"
>[f490ff228]</a></li>
</ul>
</dd>
<dt>2012-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, plugins/sudoers/po/hr.mo,
plugins/sudoers/po/hr.po, src/po/de.mo, src/po/de.po:<br>
Add German translation for sudo Add Croatian translation for sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c36371ee"
>[4c36371ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
typo fix in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ab15b11"
>[f3ab15b11]</a></li>
</ul>
</dd>
<dt>2012-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update with recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15a974936"
>[15a974936]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Sort xgettext output by file name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ed675391"
>[0ed675391]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.pod:<br>
Clarify what &ldquo;sudoreplay -l&rdquo; displays and mention that it is sorted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3f750b75"
>[b3f750b75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Use AC_HEADER_MAJOR to determine where major/minor are defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf3fce665"
>[cf3fce665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Include sys/mkdev.h if present instead of sys/sysmacros.h for minor().
This is needed on Solaris (at least) where the makedev macros in
sysmacros.h are obsolete and library functions should be used instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbcd7222a"
>[dbcd7222a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
When building on Mac OS X, only set SDK_FLAGS if specified osversion
doesn&rsquo;t match host.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a714eb56f"
>[a714eb56f]</a></li>
</ul>
</dd>
<dt>2012-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Add back buf and tty variables for _ttyname() case that were
inadvertantly removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21eddb5d6"
>[21eddb5d6]</a></li>
</ul>
</dd>
<dt>2012-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28688e70a"
>[28688e70a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove b8 from version number.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05eec0c62"
>[05eec0c62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
remove some XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db20e6ae"
>[8db20e6ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
When looking for a device match, do a breadth-first search instead of
depth-first. We already special case /dev/pts/ so chances are good that
if it is not a pseudo-tty it is in the base of /dev/. Also avoid a
stat(2) when possible if struct dirent has d_type.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48d3b5aad"
>[48d3b5aad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
src/sudo.c, src/sudo.h:<br>
Pass pid, ppid, sid, pgid and tcpgid to plugin in user_info list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f969cc12"
>[5f969cc12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/eo.mo, src/po/es.mo, src/po/es.po, src/po/fi.mo, src/po/ja.mo,
src/po/pl.mo, src/po/ru.mo, src/po/uk.mo, src/po/vi.mo:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89b90fa4c"
>[89b90fa4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, doc/CONTRIBUTORS, src/po/gl.mo, src/po/gl.po,
src/po/hr.mo, src/po/hr.po:<br>
New Croatian and Galician translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f8ede3d2"
>[8f8ede3d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Add depth-first traversal of /dev/ for the /proc case when not
/dev/pts/N
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08ad578b7"
>[08ad578b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/sudoreplay.c:<br>
If struct dirent has d_type, use it to avoid an extra stat().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0993d877"
>[b0993d877]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Sort output of &ldquo;sudoreplay -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45fcc29dd"
>[45fcc29dd]</a></li>
</ul>
</dd>
<dt>2012-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix duplicate free introduced in last rev
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dffaeb9cb"
>[dffaeb9cb]</a></li>
</ul>
</dd>
<dt>2012-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Instead of treating ^C from tgetpass() specially, always return
AUTH_INTR if tgetpass() returned NULL. Treat PAM_AUTHINFO_UNAVAIL like
PAM_AUTH_ERR which Mac OS X returns this when there is no tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfc90ff0b"
>[dfc90ff0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Rototill code to determine the tty. For Linux, we now look up the tty
device in /proc/pid/stat instead of trying to open /proc/pid/fd/[0-2].
The sudo_ttyname_dev() function maps the given device number to a
string. On BSD, we can use devname(). On Solaris, _ttyname_dev() does
what we want. TODO: write /dev/ traversal code for the generic
sudo_ttyname_dev().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83fc02bc9"
>[83fc02bc9]</a></li>
</ul>
</dd>
<dt>2012-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/ttyname.c:<br>
Define PRNODEV for those w/o it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=271f3e205"
>[271f3e205]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Check for SVR4-style struct psinfo.pr_ttydev and use that to determine
the tty if std{in,out,err} are not ttys.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11f13be0d"
>[11f13be0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Better support for SVR4-style /proc entries where we can&rsquo;t use ttyname()
on the /proc/pid/fd/[0-2] entries. We can, however, attempt to map the
device number back to the correct pseudo-tty slave device.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e59eafba"
>[2e59eafba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
When trying to determine the tty name, check parent&rsquo;s stderr in addition
to its stdin and stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=329e224db"
>[329e224db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Treat a tty read failure like EOF as it usually means the pty has gone
away. Handle write() on the tty returning EIO.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb8274bdc"
>[eb8274bdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Linux select() may return ENOMEM if there is a kernel resource shortage.
Older Solaris select() may return EIO instead of EBADF when the tty goes
away. If we get an unhandled select() failure, kill the child and exit
cleanly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df04ccb20"
>[df04ccb20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Open /proc/pid/fd/[0-2] in non-blocking mode just in case we might block
in open.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30fee3aad"
>[30fee3aad]</a></li>
</ul>
</dd>
<dt>2012-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix restoration of AIX permissions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53357633f"
>[53357633f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Allow the -k flag to be used along with the -i and -s flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df067cac4"
>[df067cac4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Plug memory leak in parse_logfile() in the error path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5029c3cdc"
>[5029c3cdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/da.mo,
src/po/da.po, src/po/eo.po, src/po/es.po, src/po/fi.po, src/po/it.mo,
src/po/it.po, src/po/ja.po, src/po/pl.po, src/po/ru.po, src/po/uk.po,
src/po/vi.po, src/po/zh_CN.mo, src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21f3e0deb"
>[21f3e0deb]</a></li>
</ul>
</dd>
<dt>2012-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/regress/glob/globtest.c, config.h.in, configure, configure.in,
plugins/sudoers/match.c:<br>
Do not use GLOB_BRACE or GLOB_TILDE flags to glob()&ndash;we want the glob()
and fnmatch() results to be consistent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d108287b"
>[0d108287b]</a></li>
</ul>
</dd>
<dt>2012-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/ttysize.c, src/Makefile.in:<br>
Move ttysize.c to common so sudoreplay can use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38ea65203"
>[38ea65203]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
If I/O log file includes rows + cols, warn if the user&rsquo;s tty is not big
enough.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a6664e2e"
>[7a6664e2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix printing of TSID in &ldquo;sudoreplay -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce8fd0ea3"
>[ce8fd0ea3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/sudo_debug.h, plugins/sudoers/logging.c,
plugins/sudoers/visudo.c, src/exec.c, src/exec_pty.c:<br>
Log the process id in the debug file output. Since we don&rsquo;t want to keep
calling getpid(), stash the value at init time and when we fork().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8ce3a0a8"
>[c8ce3a0a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Ignore SIGTTIN and SIGTTOU in main sudo process when I/O logging. It is
better to receive EIO from read()/write() than to be suspended when we
don&rsquo;t expect it. Fixes a problem when our terminal is revoked which can
happen when, e.g. our sshd is killed unceremoniously. Also, only change
the value of &ldquo;alive&rdquo; from true to false, never from false to true. It is
possible for us to receive notification of the child having stopped
after it is already dead. This does not mean it has risen from the
grave.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb898cd5d"
>[bb898cd5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Distinguish between signals we received from the parent vs. those
delivered explicitly to the monitor process in debugging info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4acbc9fe"
>[b4acbc9fe]</a></li>
</ul>
</dd>
<dt>2012-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
In Solaris 11, /dev/pts under the &ldquo;dev&rdquo; filesystem, not &ldquo;devices&rdquo;.
Update tty_is_devpts() to match so we can determine when the tty has
been reused.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=087059b29"
>[087059b29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/error.h, include/sudo_debug.h:<br>
Always pass <strong>func</strong>, <strong>FILE</strong> and <strong>LINE</strong> in sudo_debug_printf() and
use a new flag, SUDO_DEBUG_FILENO to specify when to use it. This allows
consumers of sudo_debug_printf() to log that data without having to
specify it manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abdff2570"
>[abdff2570]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Make this compile after last change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2311fed45"
>[2311fed45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t try to restore the terminal if we are not the foreground process.
Otherwise, we may be stopped by SIGTTOU when we try to update the
terminal settings when cleaning up.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0a75ce9d"
>[c0a75ce9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
If select() return EBADF in the main event loop, one of the ttys must
have gone away so perform any I/O we can and close the bad fds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f4afc665"
>[6f4afc665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/error.h, include/sudo_debug.h,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Log warning() at SUDO_DEBUG_WARN not SUDO_DEBUG_ERROR. Log the function,
file and line number in the debug log for warning() and error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c84bd4d0"
>[2c84bd4d0]</a></li>
</ul>
</dd>
<dt>2012-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c, include/error.h, include/sudo_debug.h,
src/conversation.c:<br>
Add SUDO_DEBUG_ERRNO flag to debug functions so we can log errno. Use
this flag when wrapping error() and warning() so the debug output
includes the error string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fe41248a"
>[2fe41248a]</a></li>
</ul>
</dd>
<dt>2012-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a94855f56"
>[a94855f56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2965dbfcc"
>[2965dbfcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d874182f"
>[9d874182f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Use ecalloc()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d00c2f34e"
>[d00c2f34e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Don&rsquo;t need zero_bytes() after ecalloc()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e6d00ed1"
>[7e6d00ed1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/sudo_noexec.c:<br>
Add execvpe(), exect(), posix_spawn() and posix_spawnp() wrappers to
sudo_noexec.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ceea5cb7"
>[9ceea5cb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
Fix compat setutxent and endutxent macros for systems with setutent()
but not setutxent(). From Gustavo Zacarias
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eb61122a"
>[5eb61122a]</a></li>
</ul>
</dd>
<dt>2012-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
Add ignore_result definition to AH_BOTTOM
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a6842e4b"
>[2a6842e4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, config.h.in, plugins/sample/sample_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c, src/env_hooks.c, src/exec.c, src/exec_pty.c,
src/tgetpass.c:<br>
Fix compiler warnings on some platforms and provide a better method of
defeating gcc&rsquo;s warn_unused_result attribute.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aecb5206e"
>[aecb5206e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix building the builtin zlib from a build dir. When a zlib dir was
specified, prepend its include path instead of appending so we get the
right zlib headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8393ec050"
>[8393ec050]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE, zlib/adler32.c, zlib/crc32.c, zlib/crc32.h, zlib/deflate.c,
zlib/deflate.h, zlib/gzguts.h, zlib/gzlib.c, zlib/gzread.c,
zlib/gzwrite.c, zlib/infback.c, zlib/inffixed.h, zlib/inflate.c,
zlib/inftrees.c, zlib/trees.c, zlib/zconf.h.in, zlib/zlib.h,
zlib/zutil.c, zlib/zutil.h:<br>
Update zlib to version 1.2.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0f5cb62"
>[af0f5cb62]</a></li>
</ul>
</dd>
<dt>2012-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
g/c __unused which is no longer used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e7afbd53"
>[1e7afbd53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/env_hooks.c:<br>
Fix compilation if RTLD_NEXT is not defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a230feae"
>[0a230feae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/sr.mo, src/po/sr.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=739ea68d0"
>[739ea68d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.cat,
doc/sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bab4f2ce7"
>[bab4f2ce7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cc1507bb"
>[8cc1507bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Ignore Project-Id-Version when comparing pot files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e04e66137"
>[e04e66137]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Use error() instead of log_fatal()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ff23fb85"
>[5ff23fb85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Fix signedness of didvar in env_update_didvar()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b78ca957a"
>[b78ca957a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Quiet a compiler warning on some platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3e2397cb"
>[e3e2397cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/fnmatch.c:<br>
cast ctype(3) function/macro arguments from char to unsigned char to
avoid potential negative subscripting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e05576607"
>[e05576607]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/setgroups.c:<br>
Quiet a warning on systems where the gids array in setgroups() is not
prototyped as being const, even though it really is.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78429a90d"
>[78429a90d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/env_hooks.c:<br>
Quiet a compiler warning on systems where the argument to putenv(3) is
const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8251a077"
>[e8251a077]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Undo an incorrect int -&gt; bool conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea2fd83b3"
>[ea2fd83b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/sv.mo, plugins/sudoers/po/sv.po,
src/po/sv.mo, src/po/sv.po:<br>
Add Swedish sudo and sudoers translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a142d780c"
>[a142d780c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
No need to preserve ODMDIR on AIX now that we always read
/etc/environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfdc45ea6"
>[cfdc45ea6]</a></li>
</ul>
</dd>
<dt>2012-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod, plugins/sudoers/env.c:<br>
When initializing the environment for env_reset, start out with the
contents of /etc/environment on AIX and login.conf on BSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf01d98c"
>[caf01d98c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING, src/sudo.c:<br>
If we are not running with an effective uid of 0, try to give the user
enough information to debug the problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f30694b8"
>[2f30694b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/gram.c:<br>
Quiet a clang-analyzer false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12422f928"
>[12422f928]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
If there is nothing to read from the askpass program, set errno to
EINTR. This makes the cancel button behave like the user entered ^C at
the password prompt when PAM is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9be74cac4"
>[9be74cac4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.h, src/tgetpass.c:<br>
Fetch the value of &ldquo;askpass&rdquo; from the sudo conf struct.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d35a8b4de"
>[d35a8b4de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c:<br>
Fix matching of &ldquo;Path askpass&rdquo; and &ldquo;Path noexec&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b3d118f6"
>[8b3d118f6]</a></li>
</ul>
</dd>
<dt>2012-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Quiet a clang-analyzer dead store warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=238186abc"
>[238186abc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
If the &ldquo;timestampowner&rdquo; user cannot be resolved, use ROOT_UID instead of
exiting with a fatal error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e5ea481"
>[d9e5ea481]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/env.c, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/parse.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c:<br>
Remove the NO_EXIT flag to log_error() and add a log_fatal() function
that exits and is marked no_return. Fixes false positives from static
analyzers and is easier for humans to read too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44ce5720d"
>[44ce5720d]</a></li>
</ul>
</dd>
<dt>2012-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po, src/po/eo.mo,
src/po/eo.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=413c2accd"
>[413c2accd]</a></li>
</ul>
</dd>
<dt>2012-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/po/da.mo, src/po/da.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2569f943d"
>[2569f943d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=048a4e3f8"
>[048a4e3f8]</a></li>
</ul>
</dd>
<dt>2012-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>src/po/it.mo, src/po/it.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0e81674c"
>[e0e81674c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, plugins/sudoers/alias.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/interfaces.c, plugins/sudoers/ldap.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/exec.c, src/exec_pty.c, src/hooks.c,
src/load_plugins.c:<br>
Use ecalloc() when allocating structs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55d1a1a79"
>[55d1a1a79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, include/alloc.h:<br>
Add ecalloc() and commented out recalloc(). Use inline strnlen() instead
of strlen() in estrndup().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbbb48c45"
>[dbbb48c45]</a></li>
</ul>
</dd>
<dt>2012-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po, src/po/fi.mo,
src/po/fi.po, src/po/ja.mo, src/po/ja.po, src/po/pl.mo, src/po/pl.po,
src/po/ru.mo, src/po/ru.po, src/po/uk.mo, src/po/uk.po, src/po/vi.mo,
src/po/vi.po, src/po/zh_CN.mo, src/po/zh_CN.po:<br>
sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9eeacad6d"
>[9eeacad6d]</a></li>
</ul>
</dd>
<dt>2012-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Remove unused label
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c85afe4b9"
>[c85afe4b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document what changed in each plugin API revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec7767978"
>[ec7767978]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Remove bogus optimization that could lead to a double free of the group
list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff9d0318"
>[2ff9d0318]</a></li>
</ul>
</dd>
<dt>2012-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Expand AIX /etc/security/privcmds entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ced34a6e2"
>[ced34a6e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db40f6b1b"
>[db40f6b1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, doc/sample.sudo.conf, doc/sudo.cat, doc/sudo.man.in,
doc/sudo.pod, doc/sudo_plugin.cat, doc/sudo_plugin.man.in,
doc/sudo_plugin.pod, doc/sudoers.cat, doc/sudoers.man.in,
doc/sudoers.pod, include/sudo_conf.h, include/sudo_plugin.h,
src/load_plugins.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Rename plugin &ldquo;args&rdquo; to &ldquo;options&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96f046c1c"
>[96f046c1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Lithuanian and Vietnamese translators
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=741f57e68"
>[741f57e68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Ignore comments when comparing new and old pot files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=039c21487"
>[039c21487]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1234d08c9"
>[1234d08c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d73ed51c5"
>[d73ed51c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, include/sudo_plugin.h, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/hooks.c, src/sudo.c, src/sudo.h:<br>
Pass a pointer to user_env in to the init_session policy plugin function
so session setup can modify the user environment as needed. For PAM
authentication, merge the PAM environment with the user environment at
init_session time. We no longer need to swap in the user_env for environ
during session init, nor do we need to disable the env hooks at
init_session time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d1090994"
>[6d1090994]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Add explicit NULL entries for init_session, register_hooks and
deregister_hooks with appropriate comments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b1baf07e"
>[0b1baf07e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/pw_dup.c:<br>
Quiet a gcc &ldquo;used uninitialized in this function&rdquo; false positive.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f587fa153"
>[f587fa153]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
We should always call warning() with a format string or a string
literal. In this case, the argument (path) is not user-controlled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b330cbbed"
>[b330cbbed]</a></li>
</ul>
</dd>
<dt>2012-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>src/selinux.c:<br>
Include sudo_exec.h for the sudo_execve() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3da8ccd8"
>[b3da8ccd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add check for pam_getenvlist()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cd65dafc"
>[9cd65dafc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c:<br>
Set args to NULL in default plugin info struct when there is no Plugin
line in sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83459e13b"
>[83459e13b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3ea638b3"
>[c3ea638b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b61c0ab47"
>[b61c0ab47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Bump version to 1.8.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed774f2b1"
>[ed774f2b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod:<br>
Document hooks API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e852b3ab0"
>[e852b3ab0]</a></li>
</ul>
</dd>
<dt>2012-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Make sudoersdir relative to PKG_INSTALL_ROOT for Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca0d9c4be"
>[ca0d9c4be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h:<br>
Use sudo_hook_fn_t in struct sudo_hook.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e1106993"
>[7e1106993]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
If cross compiling, &ndash;host must include the OS in the tuple. E.g. &ndash;host
powerpc-unknown-linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=779b6c8e0"
>[779b6c8e0]</a></li>
</ul>
</dd>
<dt>2012-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Fix bogus int -&gt; bool conversion; tags can have a value of -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d539c606e"
>[d539c606e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add env_should_keep() and env_should_delete() wrapper functions to
simplify things a bit and hide the fact that matches_env_check() is not
bool.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19fc56462"
>[19fc56462]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix application of debian-specific sudoers mods when building packages
as non-root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa99904b2"
>[fa99904b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
matches_env_check() returns int, not boolean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=749784ea5"
>[749784ea5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix compilation when seteuid() is not available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc727ff6d"
>[dc727ff6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Simply move the free of ki_proc outside the realloc() loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bd136e11"
>[4bd136e11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Bring back the erealloc() for the ENOMEM loop and just zero the pointer
after we free it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ca500956"
>[1ca500956]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/ttyname.c:<br>
Don&rsquo;t try to erealloc() a potentially freed pointer; Mateusz Guzik
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9052833f7"
>[9052833f7]</a></li>
</ul>
</dd>
<dt>2012-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Use normal error path if unable to set sudoers gid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e8f5d4aa"
>[1e8f5d4aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Make this work again on systems w/o seteuid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7971a5e49"
>[7971a5e49]</a></li>
</ul>
</dd>
<dt>2012-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix compilation if no seteuid/setreuid/setresuid available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c2dd5eec"
>[9c2dd5eec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Better error messages, and added debugging throughout. Fixed seteuid()
version of set_perms()/restore_perms(). Fixed logic bug in AIX version
of restore_perms(). Added checks to avoid changing uid/gid when we don&rsquo;t
have to. Never set gid/uid state to -1, use the old value instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b49bb17c3"
>[b49bb17c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/ttyname.c:<br>
Fix format string warning on Solaris with gcc 3.4.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f745a041e"
>[f745a041e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Always declare environ now that we swap it around unilaterally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d1752d4d"
>[4d1752d4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Honor LDFLAGS when linking sesh; from Vita Cizek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b455bccc5"
>[b455bccc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sesh.c:<br>
Include alloc.h for estrdup() prototype; from Vita Cizek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5f3d4cf3"
>[f5f3d4cf3]</a></li>
</ul>
</dd>
<dt>2012-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t read /etc/environment on Linux when using PAM, PAM should set the
environment variables as needed via pam_env.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08c6c776c"
>[08c6c776c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Fix editor goof.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4259ef2c"
>[d4259ef2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/hooks.c, src/sudo.c, src/sudo.h:<br>
Disable environment hooks after we get user_env back to make sure a
plugin can&rsquo;t to modify user_env after we &ldquo;own&rdquo; it. This is kind of a
hack but we don&rsquo;t want the init_session plugin function to modify
user_env.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20a7633a3"
>[20a7633a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/hooks.c, src/sudo.c:<br>
Add support for deregistering hooks. If an I/O log plugin fails to
initialize, deregister its hooks (if any).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b58120c3"
>[9b58120c3]</a></li>
</ul>
</dd>
<dt>2012-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
Move LOGIN_PATH and LOGIN_SETENV handling to plugin now that we hook
setenv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4a3a5d8b"
>[d4a3a5d8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, common/sudo_debug.c, compat/Makefile.in,
compat/setenv.c, compat/unsetenv.c, config.h.in, configure,
configure.in, include/sudo_debug.h, include/sudo_plugin.h, mkdep.pl,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/env.c,
plugins/sudoers/ldap.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/Makefile.in, src/env_hooks.c,
src/hooks.c, src/load_plugins.c, src/sudo.c, src/sudo.h,
src/sudo_plugin_int.h:<br>
Initial cut at a hooks implementation. The plugin can register hooks for
getenv, putenv, setenv and unsetenv. This makes it possible for the
plugin to trap changes to the environment made by authentication methods
such as PAM or BSD auth so that such changes are reflected in the
environment passed back to sudo for execve().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37770ecf1"
>[37770ecf1]</a></li>
</ul>
</dd>
<dt>2012-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, src/po/vi.mo, src/po/vi.po:<br>
Add Vietnamese sudo translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=150425613"
>[150425613]</a></li>
</ul>
</dd>
<dt>2012-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sample.sudo.conf, doc/sudo.pod, doc/sudo_plugin.pod,
doc/sudoers.pod:<br>
List sudo_noexec.so not noexec.so in the sample sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfb6f7910"
>[bfb6f7910]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, doc/sample.sudo.conf, doc/sudo.pod,
doc/sudo_plugin.pod, doc/sudoers.pod, include/sudo_conf.h,
include/sudo_plugin.h, plugins/sample/sample_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/toke.l, src/load_plugins.c, src/sudo.c,
src/sudo_plugin_int.h:<br>
Add support for plugin args at the end of a Plugin line in sudo.conf.
Bump the minor number accordingly and update the documentation. A plugin
must check the sudo front end&rsquo;s version before using the plugin_args
parameter since it is only supported for API version 1.2 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a16dee915"
>[a16dee915]</a></li>
</ul>
</dd>
<dt>2012-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
update depends
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c623857fc"
>[c623857fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
secure_path.c is in common, not compat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7635121d"
>[c7635121d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add check for variadic macro support in cpp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06e390a56"
>[06e390a56]</a></li>
</ul>
</dd>
<dt>2012-02-29  Todd C. Miller</dt>
<dd>
<ul>
<li>common/secure_path.c, common/sudo_conf.c, include/secure_path.h,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add type param to sudo_secure_path() and add sudo_secure_file() and
sudo_secure_dir() wrappers which get by #includedir in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d05f0d1b"
>[8d05f0d1b]</a></li>
</ul>
</dd>
<dt>2012-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.pod, plugins/sudoers/visudo.c:<br>
Check the owner and mode in -c (check) mode unless the -f option is
specified. Previously, the owner and mode were checked on the main
sudoers file when the -s (strict) option was given, but this was not
documented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35280a843"
>[35280a843]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/ttyname.c:<br>
Prefer KERN_PROC2 over KERN_PROC. Fixes compilation on some versions of
OpenBSD versions that have KERN_PROC2 but not KERN_PROC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=966fa83a9"
>[966fa83a9]</a></li>
</ul>
</dd>
<dt>2012-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Add Eric Lakin for patch in bug #538
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fe6e4993"
>[5fe6e4993]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Fix typo in safe_close() made while converting to debug framework that
prevented it from actually closing anything.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a37b4bf7"
>[6a37b4bf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Add some more debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc97c2e75"
>[cc97c2e75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in:<br>
We need sysconfdir in compat/Makfile to get the proper sudo.conf path.
Add standard prefix and foodir expansion in all Makefiles to avoid this
problem in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28db1fbbe"
>[28db1fbbe]</a></li>
</ul>
</dd>
<dt>2012-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/lt.mo, plugins/sudoers/po/lt.po:<br>
New Lithuanian sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c970b217"
>[5c970b217]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/ja.po:<br>
Update from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=580208337"
>[580208337]</a></li>
</ul>
</dd>
<dt>2012-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
When adding gids to the LDAP filter, only add the primary gid once. This
is consistent with the space computation/allocation. From Eric Lakin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9da8fda"
>[4f9da8fda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Add entry for AIX enhanced RBAC config.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a941fb41"
>[5a941fb41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Target Mac OS X 10.5 when building packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=640c229b5"
>[640c229b5]</a></li>
</ul>
</dd>
<dt>2012-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/secure_path.c, common/sudo_conf.c,
include/secure_path.h, plugins/sudoers/Makefile.in,
plugins/sudoers/sudoers.c:<br>
Relax the user/group/mode checks on sudoers files. As long as the file
is owned by the right user, not world-writable and not writable by a
group other than the one specified at configure time (gid 0 by default),
the file is considered OK. Note that visudo will still set the mode to
the value specified at configure time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=415454ff5"
>[415454ff5]</a></li>
</ul>
</dd>
<dt>2012-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Add AIX-specific version of permission setting code to make sure that
the saved uid gets restored properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98486afbd"
>[98486afbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/exec_common.c:<br>
Check for LD_PRELOAD variants in configure instead of checkign cpp
symbols. In disable_execute(), compute the length of the new envp and
allocate it once instead of reallocating on demand. Also append old
value of LD_PRELOAD (if any) to the new value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22f4f10a3"
>[22f4f10a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Fix the description of noexec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fb0090db"
>[6fb0090db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
The &ldquo;op&rdquo; parameter to set_default() must be int, not bool since it is
set to &lsquo;+&rsquo; or &lsquo;-&rsquo; for list add and subtract.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6fdc909b"
>[f6fdc909b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Make sure sudoers is writable before calling ed script.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0370e129f"
>[0370e129f]</a></li>
</ul>
</dd>
<dt>2012-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, doc/contributors.pod:<br>
Update contributors. Now includes translators and authors of compat
code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f38afb532"
>[f38afb532]</a></li>
</ul>
</dd>
<dt>2012-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfaf44368"
>[dfaf44368]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp, sudo.pp:<br>
Build flat packages, not package bundles, on Mac OS X.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ceadea52"
>[1ceadea52]</a></li>
</ul>
</dd>
<dt>2012-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Move macos section to be with the other OS-specific sections.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ef2006eb"
>[4ef2006eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d439d8b48"
>[d439d8b48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t permanently add -D_FORTIFY_SOURCE=2 to CPPFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=054e44808"
>[054e44808]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Add Mac OS X support, printing the latest chunk of the NEWS file and the
license text in the installer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef7dcd519"
>[ef7dcd519]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Add explicit file modes that match those used by &ldquo;make install&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37570290c"
>[37570290c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Sync with upstream for Mac OS X fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86f809ab4"
>[86f809ab4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Got back to using &ldquo;install-sh -M&rdquo; for files installed as non-readable by
owner. This fixes &ldquo;make install&rdquo; as non-root for package building.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfbd6e429"
>[dfbd6e429]</a></li>
</ul>
</dd>
<dt>2012-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po,
plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po:<br>
Sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c941edc9"
>[5c941edc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, include/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Use -m not -M for install-sh for everything except setuid. Install
locale .mo files mode 0444, not 0644. If timedir parent doesn&rsquo;t exist,
use default dir mode, not 0700.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb66fc6f1"
>[cb66fc6f1]</a></li>
</ul>
</dd>
<dt>2012-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Re-sync with upstream; no longer need a local patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12eba56fd"
>[12eba56fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add support for building Mac OS X packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5afbdab23"
>[5afbdab23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Sync with upstream
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8891688e6"
>[8891688e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
No longer need to define _PATH_SUDO_CONF here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4d3f289f"
>[c4d3f289f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c:<br>
Fix noexec for Mac OS X.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd0e10e1b"
>[cd0e10e1b]</a></li>
</ul>
</dd>
<dt>2012-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/Makefile.in:<br>
Move _PATH_SUDO_CONF override to common to match sudo_debug.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d35f50bd6"
>[d35f50bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
More complete fix for LDR_PRELOAD on AIX. The addition of
set_perm(PERM_ROOT) before calling the nss open functions (needed to
avoid a GNU TLS bug) also broke LDR_PRELOAD. Setting the effective and
then real uid to 0 for PERM_ROOT works around the issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e066ff5ca"
>[e066ff5ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dd16b63d"
>[8dd16b63d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Set real uid to root before calling sudo_edit() or run_command() so that
the monitor process is owned by root and not by the user. Otherwise, on
AIX at least, the monitor process shows up in ps as belonging to the
user (and can be killed by the user).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6ef58010"
>[c6ef58010]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
For PERM_ROOT when using setreuid(), only set the euid to 0 prior to the
call to setuid(0) if the current euid is non-zero. This effectively
restores the state of things prior to rev 7bfeb629fccb. Fixes a problem
on AIX where LDR_PRELOAD was not being honored for the command being
executed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=656807823"
>[656807823]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/pw_dup.c, config.h.in, configure, configure.in,
include/missing.h, src/sudo.c:<br>
Make a copy of the struct passwd in exec_setup() to make sure nothing in
the policy init modifies it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c1d8a7b1"
>[8c1d8a7b1]</a></li>
</ul>
</dd>
<dt>2012-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
update copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b28dfa501"
>[b28dfa501]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, include/sudo_debug.h:<br>
g/c now-unused debug subsystems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e16ae617e"
>[e16ae617e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, doc/sudoers.pod:<br>
Enumerate the debug subsystems used by sudo and sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c32bd3db5"
>[c32bd3db5]</a></li>
</ul>
</dd>
<dt>2012-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, common/sudo_conf.c, doc/sample.sudo.conf, doc/sudo.pod,
include/sudo_conf.h, src/sudo.c:<br>
Normally, sudo disables core dumps while it is running. This behavior
can now be modified at run time with a line in sudo.conf like &ldquo;Set
disable_coredumps false&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c970d464c"
>[c970d464c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Mention Spanish translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6fbba698"
>[e6fbba698]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Make sure we don&rsquo;t try to fall back to using the conversation function
for debugging in the main sudo process if we are unable to open the
debug file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c91f5ee68"
>[c91f5ee68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/po/es.mo, src/po/es.po:<br>
Add sudo Spanish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a2d2c4cd"
>[2a2d2c4cd]</a></li>
</ul>
</dd>
<dt>2012-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Better debug subsystem usage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3da971ba3"
>[3da971ba3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Remove duplicate function prototypes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5f9aadcc"
>[f5f9aadcc]</a></li>
</ul>
</dd>
<dt>2012-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Error out if user specified &ndash;with-pam but we can&rsquo;t find the headers or
library. Also throw an error if the headers are present but the library
is not and vice versa.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1fef17d8"
>[f1fef17d8]</a></li>
</ul>
</dd>
<dt>2012-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix the sudoers permission check when the expected sudoers mode is
owner-writable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=491b4495f"
>[491b4495f]</a></li>
</ul>
</dd>
<dt>2012-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Verify that we can link executables built with -D_FORTIFY_SOURCE before
using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c894f802d"
>[c894f802d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_common.c:<br>
Fix potential off-by-one when making a copy of the environment for
LD_PRELOAD insertion. Fixes bug #534
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca4a338c4"
>[ca4a338c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add rudimentary check for _FORTIFY_SOURCE support by checking for
__sprintf_chk, one of the functions used by gcc to support it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7908621ba"
>[7908621ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/stdbool.h, config.h.in, configure, configure.in:<br>
Use AC_HEADER_STDBOOL instead of checking for stdbool.h ourselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da6fe1230"
>[da6fe1230]</a></li>
</ul>
</dd>
<dt>2012-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3f986c75"
>[f3f986c75]</a></li>
</ul>
</dd>
<dt>2012-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/sudo.c:<br>
The change in 818e82ecbbfc that caused to exit when the monitor dies
created a race condition between the monitor exiting and the status
being read. All we really want to do is make sure that select() notifies
us that there is a status change when the monitor dies unexpectedly so
shutdown the socketpair connected to the monitor for writing when it
dies. That way we can still read the status that is pending on the
socket and select() on Linux will tell us that the fd is ready.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1877c455d"
>[1877c455d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_common.c,
src/exec_pty.c, src/selinux.c, src/sesh.c, src/sudo.c, src/sudo.h,
src/sudo_exec.h:<br>
Refactor disable_execute() and my_execve() into exec_common.c for use by
sesh.c. This fixes NOEXEC when SELinux is used. Instead of disabling
exec in exec_setup(), disable it immediately before executing the
command. Adapted from a diff by Arno Schuring.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d11e7febb"
>[d11e7febb]</a></li>
</ul>
</dd>
<dt>2012-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Add custom version of AC_CHECK_LIB that uses the extra libs in the cache
value name. With this we no longer need to rely on a modified version of
autoconf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e852bf437"
>[e852bf437]</a></li>
</ul>
</dd>
<dt>2012-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Better handling of network functions that need -lsocket -lnsl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d337a532a"
>[d337a532a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
When setting up the execution environment, set groups before gid/egid
like sudo 1.7 did.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66a66729a"
>[66a66729a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove &ldquo;WARNING: unable to find foo() trying -lsocket -lnsl&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e3691c38"
>[8e3691c38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
For &ldquo;sudo -g&rdquo; prepend the specified group ID to the beginning of the
groups list. This matches BSD convention where the effective gid is the
first entry in the group list. This is required on newer FreeBSD where
the effective gid is not tracked separately and thus setgroups() changes
the egid if this convention is not followed. Fixes bug #532
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5dfea7cd"
>[a5dfea7cd]</a></li>
</ul>
</dd>
<dt>2012-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix sh warning; use &ldquo;test&rdquo; instead of &ldquo;[&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7747b481d"
>[7747b481d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
When not logging I/O, use a signal handler that only forwards SIGINT,
SIGQUIT and SIGHUP when they are user-generated signals. Fixes a race in
the non-I/O logging path where the command may receive two
keyboard-generated signals; one from the kernel and one from the sudo
process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fd77381a"
>[2fd77381a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Back out change that put the command in its own pgrp when not logging
I/O. It causes problems with pipelines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97cecaf6e"
>[97cecaf6e]</a></li>
</ul>
</dd>
<dt>2012-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in:<br>
Only run compat regress tests on compat objects we actually build. Fixes
&ldquo;make check&rdquo; in the compat dir for systems that don&rsquo;t implement
character classes in fnmatch() or glob(). <a
  class="gdoc-markdown__link"
  href="https://bugzilla.sudo.ws/show_bug.cgi?id=531"
>Bug
#531</a>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40badb50e"
>[40badb50e]</a></li>
</ul>
</dd>
<dt>2012-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po:<br>
Update po files from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df60d8ec"
>[0df60d8ec]</a></li>
</ul>
</dd>
<dt>2012-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Include parent directories in case they don&rsquo;t already exist. This fixes
a directory permissions problem with the AIX package when the /usr/local
directories don&rsquo;t already exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4baffc780"
>[4baffc780]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync with git version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d8a8e015"
>[4d8a8e015]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
regen dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee0fb36d8"
>[ee0fb36d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/sudo.c, src/sudo.h, src/ttyname.c:<br>
Move tty name lookup code to its own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=106bbebba"
>[106bbebba]</a></li>
</ul>
</dd>
<dt>2012-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update with latest sudo 1.8.4 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83006b000"
>[83006b000]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Remove obsolete template for HAVE_TIMESPEC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=760cdb00d"
>[760cdb00d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add a check for devname() returning a fully-qualified pathname. None of
the devname() implementations do this today but you never know when this
might change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c038be41"
>[1c038be41]</a></li>
</ul>
</dd>
<dt>2012-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
For &ldquo;visudo -c&rdquo; also list include files that were checked when
everything is OK.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=315b998a6"
>[315b998a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
The device name returned by devname() does not include the /dev/ prefix
so we need to add it ourselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f05de3f3f"
>[f05de3f3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add debug warning if KERN_PROC sysctl fails or devname() can&rsquo;t resolve
the tty device to a name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7b04c32a"
>[f7b04c32a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
The result of writev() is never checked so just cast to NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa15fc765"
>[fa15fc765]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po:<br>
Update Esperanto, Finnish, Polish and Ukrainian translations from
translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fd2b8b93"
>[8fd2b8b93]</a></li>
</ul>
</dd>
<dt>2012-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/sudo.c:<br>
Add support for determining tty via sysctl on other BSD variants.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=528258aff"
>[528258aff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only check for struct kinfo_proc.ki_tdev on systems that support sysctl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c59576ea"
>[5c59576ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
For FreeBSD, try the KERN_PROC_PID sysctl() first, falling back on
ttyname() of std{in,out,err}.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=832c4c9d5"
>[832c4c9d5]</a></li>
</ul>
</dd>
<dt>2012-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/sudo.c:<br>
On newer FreeBSD we can get the parent&rsquo;s tty name via sysctl().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=974e50dcf"
>[974e50dcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Include locale.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c30872260"
>[c30872260]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Silence a gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c142a52f5"
>[c142a52f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Need to include gettext.h and sudo_debug.h; from John Hein
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5571aa1e"
>[d5571aa1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Initialize the debug framework from the I/O plugin too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=373043b4d"
>[373043b4d]</a></li>
</ul>
</dd>
<dt>2012-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Enable debugging via sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dd3f0ec5"
>[5dd3f0ec5]</a></li>
</ul>
</dd>
<dt>2012-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Use SUDO_DEBUG_ALIAS for alias checking functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efbf020d4"
>[efbf020d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
More complete test for getaddrinfo() that doesn&rsquo;t rely on the network
libraries already being added to LIBS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1882a794"
>[b1882a794]</a></li>
</ul>
</dd>
<dt>2012-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/aix.c:<br>
Add debug support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13561805d"
>[13561805d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Need -lsocket -lnsl for getaddrinfo(3) on Solaris at least.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1a9cc9ab"
>[c1a9cc9ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getaddrinfo.c:<br>
Include errno.h and missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7ae9dbba"
>[e7ae9dbba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>.hgignore:<br>
ignore doc/varsub
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cfd09c88"
>[1cfd09c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in, doc/visudo.pod, plugins/sudoers/Makefile.in,
plugins/sudoers/gram.y, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/testsudoers.c, src/exec.c,
src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0771c981d"
>[0771c981d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a3cbd41"
>[a9a3cbd41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6021ad08c"
>[6021ad08c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Enable debugging via sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae43a19ad"
>[ae43a19ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Enable debugging via sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38526ca14"
>[38526ca14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Allow &ldquo;visudo -c&rdquo; to work when we only have read-only access to the
sudoers include files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baa9273dd"
>[baa9273dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, doc/visudo.pod:<br>
Mention the CONTRIBUTORS file, not HISTORY in AUTHOR section. Add
HISTORY section in sudo that points to HISTORY file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37fe423cd"
>[37fe423cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, doc/sudo_plugin.pod:<br>
Document Debug setting in sudo.conf and debug_flags in plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45e1623b5"
>[45e1623b5]</a></li>
</ul>
</dd>
<dt>2012-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Do not include GLOB_MARK in the flags we pass to glob(3). Fixes a bug
where a pattern like &ldquo;/usr/*&rdquo; include /usr/bin/ in the results, which
would be incorrectly be interpreted as if the sudoers file had specified
a directory. From Vitezslav Cizek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4ba51161"
>[c4ba51161]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in,
plugins/sudoers/auth/kerb5.c:<br>
Add &ndash;enable-kerb5-instance configure option to allow people using
Kerberos V authentication to use a custom instance. Adapted from a diff
by Michael E Burr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=241b1db87"
>[241b1db87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Remove -D debug_level option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72a4e0943"
>[72a4e0943]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE:<br>
Update copyright year.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c27e91b5"
>[9c27e91b5]</a></li>
</ul>
</dd>
<dt>2012-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
parse_error is now bool, not int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47bcaf57b"
>[47bcaf57b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.c:
Print a more sensible error if yyparse() returns non-zero but yyerror()
was not called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f5eaa17f"
>[0f5eaa17f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/getdate.c,
plugins/sudoers/gram.c:<br>
Replace y.tab.c with the correct filename in #line directives.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1815e17c"
>[a1815e17c]</a></li>
</ul>
</dd>
<dt>2012-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
When trying to determine the tty, fall back on /proc/ppid/fd/{0,1,2} if
the main process&rsquo;s fds 0-2 are not hooked up to a tty. Adapted from a
diff by Zdenek Behan.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da65677b"
>[4da65677b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
When not logging I/O, put command in its own pgrp and make that the
controlling pgrp if the command is in the foreground. Fixes a race in
the non-I/O logging path where the command may receive two
keyboard-generated signals; one from the kernel and one from the sudo
process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bc075640"
>[5bc075640]</a></li>
</ul>
</dd>
<dt>2011-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Quiet a bogus gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7799d01cf"
>[7799d01cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.h:<br>
Fix warnings related to sudo.conf accessors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=089ee4222"
>[089ee4222]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_conf.c, include/sudo_conf.h:<br>
Separate sudo.conf parsing from plugin loading and move the parse
functions into the common lib so that visudo, etc. can use them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa1f781a0"
>[fa1f781a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, src/Makefile.in, src/load_plugins.c,
src/parse_args.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Separate sudo.conf parsing from plugin loading and move the parse
functions into the common lib so that visudo, etc. can use them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c3965f53"
>[1c3965f53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod, plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/sudoers.c, src/sudo.c:<br>
Remove support for noexec_file in sudoers and the plugin API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb3c9f2ca"
>[fb3c9f2ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t dump interfaces if there are none.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aa0ccb22"
>[4aa0ccb22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in:<br>
Add missing %s printf escape to the group_plugin, iolog_dir and
iolog_file descriptions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91839036d"
>[91839036d]</a></li>
</ul>
</dd>
<dt>2011-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/def_data.in, src/exec.c:<br>
Fix typo in visiblepw description; from Joel Pickett
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f97735fb"
>[1f97735fb]</a></li>
</ul>
</dd>
<dt>2011-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, configure, configure.in, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/login_class.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/sudo.c:<br>
When running a login shell with a login_class specified, use
LOGIN_SETENV instead of rolling our own login.conf setenv support since
FreeBSD&rsquo;s login.conf has more than just setenv capabilities. This
requires us to swap the plugin-provided envp for the global environ
before calling setusercontext() and then stash the resulting environ
pointer back into the command details, which is kind of a hack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a24d86b32"
>[a24d86b32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
If srcdir is &ldquo;.&rdquo; just use the basename of the yacc/lex file when
generating the C version. This matches the generated files currently in
the repo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27616d1f3"
>[27616d1f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, plugins/sudoers/Makefile.in:<br>
Clean up the DEVEL noise
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31c08fca3"
>[31c08fca3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Handle different Unix domain socket (actually socketpair) semantics in
BSD vs. Linux. In BSD if one end of the socketpair goes away select()
returns the fd as readable and the read will fail with ECONNRESET. This
doesn&rsquo;t appear to happen on Linux so if we notice that the monitor
process has died when I/O logging is enabled, behave like the command
has exited. This means we log the wait status of the monitor, not the
command, but there is nothing else we can do at that point. This should
only be an issue if SIGKILL is sent to the monitor process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98c77b5b9"
>[98c77b5b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Catch common signals in the monitor process so they get passed to the
command. Fixes a problem when the entire login session is killed when
ssh is disconnected or the terminal window is closed. Previously, the
monitor would exit and plugin&rsquo;s close method would not be called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bcf470fe"
>[6bcf470fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Mention how to configure pam_hpsec on HP-UX to play nicely with sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edd32aa8d"
>[edd32aa8d]</a></li>
</ul>
</dd>
<dt>2011-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Escape values in the search expression as per RFC 4515.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=666d8d635"
>[666d8d635]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
No need for install target to depend explicitly on install-dirs, the
install-foo targets all depend on it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cec1f477"
>[1cec1f477]</a></li>
</ul>
</dd>
<dt>2011-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
ignore src/sesh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faa10aa82"
>[faa10aa82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, configure, configure.in, mkdep.pl,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, plugins/sudoers/env.c,
plugins/sudoers/login_class.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/Makefile.in:<br>
Add support for setenv entries in login.conf. We can&rsquo;t use LOGIN_SETENV
since the plugin sets up the envp the command is executed with. Also
regen the Makefile.in files while here. Fixes bug #527
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f0abb469"
>[9f0abb469]</a></li>
</ul>
</dd>
<dt>2011-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, compat/getaddrinfo.c, compat/getaddrinfo.h,
config.h.in, configure, configure.in, plugins/sudoers/sudoers.c,
src/net_ifs.c:<br>
Add getaddrinfo() for those without it, written by Russ Allbery
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38a4990e4"
>[38a4990e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Restore PACKAGE_TARNAME, it is used in docdir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62011b677"
>[62011b677]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/stdbool.h:<br>
SunPro C Compiler also has a _Bool builtin. Also add stdbool.h to the
MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feaad3aff"
>[feaad3aff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atobool.c, common/term.c, src/exec.c:<br>
Remove duplicate return statements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e26e43b9"
>[0e26e43b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c:<br>
Remove inaccurate comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db3fd558b"
>[db3fd558b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/bsdauth.c, plugins/sudoers/sudoers.c:<br>
Fetch the login class for the user we authenticate specifically when
using BSD authentication. That user may have a different login class
than what we will use to run the command. When setting the login class
for the command, use the target user&rsquo;s struct passwd, not the invoking
user&rsquo;s. Fixes bug 526
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=199eeb38d"
>[199eeb38d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in, doc/Makefile.in,
plugins/sudoers/Makefile.in:<br>
Replace @DEV@ prefix with DEVEL variable so we can do &ldquo;make DEVEL=1&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01147eda3"
>[01147eda3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Fix &ldquo;make check&rdquo; fallout from the sudo_conv changes in sudo_debug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b58c1ff6e"
>[b58c1ff6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/fileops.c, common/sudo_debug.c, configure, configure.in,
include/fileops.h, plugins/sample/Makefile.in,
plugins/sample/sample_plugin.c, plugins/sample_group/Makefile.in,
plugins/sample_group/sample_group.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/ldap.c, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/pwutil.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_pty.c, src/load_plugins.c, src/sudo.c, src/sudo.h,
src/sudo_exec.h, src/sudo_plugin_int.h, src/utmp.c:<br>
Use stdbool.h instead of rolling our own TRUE/FALSE macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21a2f9582"
>[21a2f9582]</a></li>
</ul>
</dd>
<dt>2011-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/stdbool.h, config.h.in, configure, configure.in:<br>
Add stdbool.h for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86c86183a"
>[86c86183a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure, configure.in:<br>
No longer need SUDO_CHECK_TYPE and SUDO_TYPE_* now that the default
includes have unistd.h in them. Add check for socklen_t for upcoming
getaddrinfo compat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54fc4eb3"
>[e54fc4eb3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/fileops.c, compat/nanosleep.c, config.h.in, configure,
configure.in, plugins/sudoers/interfaces.c,
plugins/sudoers/interfaces.h, plugins/sudoers/match_addr.c,
plugins/sudoers/sudoreplay.c, src/net_ifs.c:<br>
Use HAVE_STRUCT_TIMESPEC and HAVE_STRUCT_IN6_ADDR instead of
HAVE_TIMESPEC and HAVE_IN6_ADDR respectively.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51e45647a"
>[51e45647a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_noexec.c:<br>
No longer need to include time.h here as missing.h does not use time_t.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f4b68dd1"
>[3f4b68dd1]</a></li>
</ul>
</dd>
<dt>2011-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix mode on sudoers as needed when the -f option is not specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21a1460d4"
>[21a1460d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/po/sr.mo, src/po/sr.po:<br>
Add Serbian translation for sudo from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7925b588"
>[f7925b588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, plugins/sudoers/sudoers.c, src/load_plugins.c,
src/parse_args.c:<br>
No longer pass debug_file to plugin, plugins must now use CONV_DEBUG_MSG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab887a6fb"
>[ab887a6fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Build PIE executables for newer Debian and Ubuntu
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13514ec03"
>[13514ec03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c:<br>
Include time.h for ctime() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa6ab037"
>[8fa6ab037]</a></li>
</ul>
</dd>
<dt>2011-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c, include/sudo_debug.h, src/exec.c, src/exec_pty.c:<br>
Do not close error pipe or debug fd via closefrom() as we need them to
report an exec error should one occur.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a64f1eaea"
>[a64f1eaea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.pod:<br>
Document that a sudoUser may now be a group ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b2998d55"
>[3b2998d55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add support for permitting access by group ID in addition to group name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b12b4fdc7"
>[b12b4fdc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Older Netscape LDAP SDKs don&rsquo;t prototype ldapssl_set_strength()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=627e485c0"
>[627e485c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/fnmatch.c, compat/fnmatch.h, doc/LICENSE:<br>
Replace UCB fnmatch.c with a non-recursive version written by William A.
Rowe Jr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9e4a8452"
>[e9e4a8452]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix typo, return_debug vs. debug_return
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd2fcf16d"
>[dd2fcf16d]</a></li>
</ul>
</dd>
<dt>2011-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po:<br>
Update Japanese sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dbf8cc23"
>[6dbf8cc23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Make the env_reset descriptions consistent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e43b726e9"
>[e43b726e9]</a></li>
</ul>
</dd>
<dt>2011-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Do multiple expansion when expanding paths to the noexec file, sesh and
the plugin directory. Adapted from a diff by Mike Frysinger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b9f2cdbc"
>[1b9f2cdbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12352244b"
>[12352244b]</a></li>
</ul>
</dd>
<dt>2011-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>.hgignore:<br>
Add ignore file; from Mike Frysinger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cd56fa29"
>[0cd56fa29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdep.pl:<br>
no longer save old Makefile.in to .old
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec0c924e0"
>[ec0c924e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55166914c"
>[55166914c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, configure, ltmain.sh, m4/libtool.m4,
m4/ltoptions.m4, m4/ltversion.m4:<br>
Update to libtool 2.4.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b27eeb41b"
>[b27eeb41b]</a></li>
</ul>
</dd>
<dt>2011-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers_version.h:<br>
Bump grammar version for #include and #includedir relative path support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea2a7b48b"
>[ea2a7b48b]</a></li>
</ul>
</dd>
<dt>2011-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod, plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add support for relative paths in #include and #includedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=481877e3b"
>[481877e3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix install-plugin when shared objects are unsupported or disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=012440794"
>[012440794]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/goodpath.c:<br>
Don&rsquo;t write to sbp if it is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c189fa5f5"
>[c189fa5f5]</a></li>
</ul>
</dd>
<dt>2011-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Remove all sudo/sudoers .mo files on uninstall If LINGUAS is set, only
install matching .mo files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb687d2a4"
>[eb687d2a4]</a></li>
</ul>
</dd>
<dt>2011-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, src/conversation.c:<br>
Fix non-dynamic (no dlopen) sudo build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f689afb5e"
>[f689afb5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t error out if the user specified &ndash;disable-shared
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c98b62b"
>[19c98b62b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/sudo_debug.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c,
src/conversation.c:<br>
Use SUDO_CONV_DEBUG_MSG in the plugin instead of writing directly to the
debug file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65b781a2e"
>[65b781a2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/find_path.c, plugins/sudoers/goodpath.c,
plugins/sudoers/sudoers.h:<br>
Make sudo_goodpath() return value bolean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ae31185"
>[f3ae31185]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, configure, configure.in, mkdep.pl,
plugins/sudoers/Makefile.in, plugins/sudoers/auth/securid.c:<br>
Remove obsolete securid auth method.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c29710f3"
>[5c29710f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h:<br>
Prefix authentication functions with a &ldquo;sudo_&rdquo; prefix to avoid namespace
problems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fd3e0385"
>[6fd3e0385]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, config.h.in, configure, configure.in,
doc/TROUBLESHOOTING, mkdep.pl, plugins/sudoers/Makefile.in,
plugins/sudoers/auth/kerb4.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/env.c:<br>
Remove the old Kerberos IV support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c86561e50"
>[c86561e50]</a></li>
</ul>
</dd>
<dt>2011-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t print garbage at the end of the custom lecture.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f190bcf94"
>[f190bcf94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add lexer tracing as debug@parser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab437ae6c"
>[ab437ae6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/gram.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/regress/parser/check_fill.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/visudo.c:<br>
Revert 003bdb078a15. We need to #include &lt;gram.h&gt; not &ldquo;gram.h&rdquo; and
&lt;def_data.h&gt; and not &ldquo;def_data.h&rdquo; when generating the parser in a
build dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09beba825"
>[09beba825]</a></li>
</ul>
</dd>
<dt>2011-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>mkdep.pl, plugins/sudoers/Makefile.in:<br>
Better devdir support in mkdep.pl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f375ee5f0"
>[f375ee5f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add devdir before srcdir in include path and fix up dependecies
accordingly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98790cd0c"
>[98790cd0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/match.c,
plugins/sudoers/parse.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c:<br>
#include &ldquo;gram.h&rdquo; not &lt;gram.h&gt; and &ldquo;def_data.h&rdquo; and not
&lt;def_data.h&gt;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bf68d210"
>[0bf68d210]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Mark libexec files as optional. If we build without shared object
support, libexec is not used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d7722a54"
>[1d7722a54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Change Debug sudo.conf setting to take a program name as the first
argument. In the future, this will allow visudo and sudoreplay to use
their own Debug entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e58b23274"
>[e58b23274]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
fix sudo_debug_printf priority
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d2c01e3d"
>[5d2c01e3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
add missing debug_return_int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fa91f569"
>[6fa91f569]</a></li>
</ul>
</dd>
<dt>2011-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>common/sudo_debug.c, include/error.h, include/sudo_debug.h,
plugins/sudoers/logging.c, src/exec.c, src/exec_pty.c:<br>
Fold SUDO_DEBUG_PROGERR and SUDO_DEBUG_SYSERR into SUDO_DEBUG_ERROR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ee9cef0d"
>[3ee9cef0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Add missing word in HOME security note.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0eb3ae6a"
>[d0eb3ae6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Prevent &ldquo;testsudoers -d username&rdquo; from trying to malloc(0).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf7ad29f4"
>[cf7ad29f4]</a></li>
</ul>
</dd>
<dt>2011-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test10.in,
plugins/sudoers/regress/sudoers/test10.out.ok,
plugins/sudoers/regress/sudoers/test10.toke.ok,
plugins/sudoers/regress/sudoers/test10.toke.out.ok,
plugins/sudoers/regress/sudoers/test11.in,
plugins/sudoers/regress/sudoers/test11.out.ok,
plugins/sudoers/regress/sudoers/test11.toke.ok,
plugins/sudoers/regress/sudoers/test11.toke.out.ok,
plugins/sudoers/regress/sudoers/test12.in,
plugins/sudoers/regress/sudoers/test12.out.ok,
plugins/sudoers/regress/sudoers/test12.toke.ok,
plugins/sudoers/regress/sudoers/test13.in,
plugins/sudoers/regress/sudoers/test13.out.ok,
plugins/sudoers/regress/sudoers/test13.toke.ok,
plugins/sudoers/regress/sudoers/test9.in,
plugins/sudoers/regress/sudoers/test9.out.ok,
plugins/sudoers/regress/sudoers/test9.toke.ok,
plugins/sudoers/regress/sudoers/test9.toke.out.ok:<br>
Tests for empty sudoers (should parse OK) and syntax errors within a
line (should report correct line number) both with and without the
trailing newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a83507ccd"
>[a83507ccd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test4.out.ok,
plugins/sudoers/regress/sudoers/test5.out.ok,
plugins/sudoers/regress/sudoers/test7.out.ok,
plugins/sudoers/regress/sudoers/test8.out.ok,
plugins/sudoers/testsudoers.c:<br>
Print line number when there is a parser error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fddb9eed"
>[9fddb9eed]</a></li>
</ul>
</dd>
<dt>2011-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Keep track of the last token returned. On error, if the last token was
COMMENT, decrement sudolineno since the error most likely occurred on
the preceding line. Previously we always uses sudolineno-1 which will
give the wrong line number for errors within a line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd881c26e"
>[bd881c26e]</a></li>
</ul>
</dd>
<dt>2011-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
update with sudo 1.8.3p1 info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2963dda7"
>[d2963dda7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix crash when &ldquo;sudo -g group -i&rdquo; is run. Fixes bug 521
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab803d88b"
>[ab803d88b]</a></li>
</ul>
</dd>
<dt>2011-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Make alias_remove_recursive() return TRUE/FALSE as its callers expect
and remove two unused arguments. Fixes bug 519.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=922add780"
>[922add780]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/visudo/test1.out.ok,
plugins/sudoers/regress/visudo/test1.sh:<br>
Add regress test for bugzilla 519
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c55b5c9e1"
>[c55b5c9e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_fill.c:<br>
Disable warning/error wrapping in regress tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=300265019"
>[300265019]</a></li>
</ul>
</dd>
<dt>2011-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Do compile-po as part of sync-po so that the .mo files get rebuild
automatically when we sync with translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b3efd497"
>[4b3efd497]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
check_addr needs to link with the network libraries on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85cd642d3"
>[85cd642d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
When matching a RunasAlias for a runas group, pass the alias in as the
group_list, not the user_list. From Daniel Kopecek.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6973ed5eb"
>[6973ed5eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/sudoers.c:<br>
We need to init the auth system regardless of whether we need a password
since we will be closing the PAM session in the monitor process. Fixes a
crash in the monitor on Solaris; bugzilla #518
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b2c88981"
>[9b2c88981]</a></li>
</ul>
</dd>
<dt>2011-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Get rid of done: label. If the child exits we still need to close the
pty, update utmp and restore the SELinux tty context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab75dd2e3"
>[ab75dd2e3]</a></li>
</ul>
</dd>
<dt>2011-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>common/Makefile.in, common/atobool.c, common/fileops.c,
common/fmt_string.c, common/lbuf.c, common/list.c, common/setgroups.c,
common/term.c, plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/audit.c, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb4.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/group_plugin.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/ldap.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/logging.c, plugins/sudoers/logwrap.c,
plugins/sudoers/match.c, plugins/sudoers/match_addr.c,
plugins/sudoers/parse.c, plugins/sudoers/pwutil.c,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, src/Makefile.in, src/conversation.c,
src/exec.c, src/exec_pty.c, src/get_pty.c, src/load_plugins.c,
src/net_ifs.c, src/parse_args.c, src/selinux.c, src/sudo.c, src/sudo.h,
src/sudo_edit.c, src/tgetpass.c, src/ttysize.c, src/utmp.c:<br>
Add debug_decl/debug_return (almost) everywhere. Remove old sudo_debug()
and convert users to sudo_debug_printf().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=839919566"
>[839919566]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, include/error.h, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/error.c:<br>
Wrap error/errorx and warning/warningx functions with debug statements.
Disable wrapping for standalone sudoers programs as well as memory
allocation functions (to avoid infinite recursion).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9923464d9"
>[9923464d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README, config.h.in, configure, configure.in:<br>
Add checks for <strong>func</strong> and <strong>FUNCTION</strong> and mention that we now require
a cpp that supports variadic macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=749a7695d"
>[749a7695d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/sudo_debug.c, include/sudo_debug.h,
include/sudo_plugin.h, src/conversation.c, src/load_plugins.c,
src/parse_args.c, src/sudo.c, src/sudo_plugin_int.h:<br>
New debug framework for sudo and plugins using /etc/sudo.conf that also
supports function call tracing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53e3ad11b"
>[53e3ad11b]</a></li>
</ul>
</dd>
<dt>2011-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po:<br>
Update Japanese sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=697caf8df"
>[697caf8df]</a></li>
</ul>
</dd>
<dt>2011-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Override and ignore the &ndash;disable-static option. Sudo already runs
libtool with -tag=disable-static where applicable and we need non-PIC
objects to build the executables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ef560b85"
>[8ef560b85]</a></li>
</ul>
</dd>
<dt>2011-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Add sudoedit fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce8b4e53a"
>[ce8b4e53a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
regen pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f526029a"
>[3f526029a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Ignore set_logname (which is now the default) for sudoedit since we want
the LOGNAME, USER and USERNAME environment variables to refer to the
calling user since that is who the editor runs as. This allows the
editor to find the user&rsquo;s startup files. Fixes bugzilla #515
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7a610770"
>[b7a610770]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Instead of trying to grow the buffer in make_grlist_item(), simply
increase the total length, free the old buffer and allocate a new one.
This is less error prone and saves us from having to adjust all the
pointers in the buffer. This code path is only taken when there are
groups longer than the length of the user field in struct utmp or utmpx,
which should be quite rare.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6602fa0e"
>[a6602fa0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/it.mo:<br>
Add Italian translation for sudo from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd3902e11"
>[dd3902e11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, plugins/sudoers/po/ja.mo, plugins/sudoers/po/ja.po,
src/po/ja.mo, src/po/ja.po:<br>
Japanese translation for sudo and sudoers from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82dd8f65f"
>[82dd8f65f]</a></li>
</ul>
</dd>
<dt>2011-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
sudoreplay depends on timestr.lo too; from Mike Frysinger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb49b16e4"
>[fb49b16e4]</a></li>
</ul>
</dd>
<dt>2011-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot:<br>
Regen sudoers pot file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=063c6ee60"
>[063c6ee60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update with latest sudo 1.8.3 news
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4378bd94"
>[a4378bd94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
It appears that LDAP or NSS may modify the euid so we need to be root
for the open(). We restore the old perms at the end of
sudoers_policy_open().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=930122d34"
>[930122d34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Better warning message on setuid() failure for the setreuid() version of
set_perms().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b743b77a0"
>[b743b77a0]</a></li>
</ul>
</dd>
<dt>2011-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Delref auth_pw at the end of check_user() instead of getting a ref
twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45ad681cd"
>[45ad681cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/check.c:<br>
Make sudo_auth_{init,cleanup} return TRUE on success and check for
sudo_auth_init() return value in check_user().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e93d1fbb"
>[1e93d1fbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Do not return without restoring permissions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4540a7525"
>[4540a7525]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
regen pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de684e5d2"
>[de684e5d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/check.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Modify the authentication API such that the init and cleanup functions
are always called, regardless of whether or not we are going to verify a
password. This is needed for proper PAM session support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bceb5df15"
>[bceb5df15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, mkdep.pl, plugins/sudoers/Makefile.in:<br>
Add missing dependency for getspwuid.lo and regen other depends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c21595044"
>[c21595044]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/sudoers.c:<br>
Fix a PAM_USER mismatch in session open/close. We update PAM_USER to the
target user immediately before setting resource limits, which is after
the monitor process has forked (so it has the old value). Also, if the
user did not authenticate, there is no pamh in the monitor so we need to
init pam here too. This means we end up calling pam_start() twice, which
should be fixed, but at least the session is always properly closed now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5f8dc95c"
>[c5f8dc95c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
Add check for old being NULL in utmp_setid(); from Steven McDonald
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7304bc744"
>[7304bc744]</a></li>
</ul>
</dd>
<dt>2011-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
If the invoking user cannot be resolved by uid fake the struct passwd
and store it in the cache so we can delref it on exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05bfd6669"
>[05bfd6669]</a></li>
</ul>
</dd>
<dt>2011-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t error out if the group plugin cannot be loaded, just warn.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=842526d71"
>[842526d71]</a></li>
</ul>
</dd>
<dt>2011-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Quiet a false positive found by several static analysis tools. These
tools don&rsquo;t know that log_error() does not return (it longjmps to
error_jmp which returns to the sudo front-end).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=077514789"
>[077514789]</a></li>
</ul>
</dd>
<dt>2011-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/da.mo, plugins/sudoers/po/eo.mo,
plugins/sudoers/po/fi.mo, plugins/sudoers/po/pl.mo,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/zh_CN.mo, src/po/it.po:<br>
Add Italian translation for sudo from translationproject.org Regen .mo
files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6028afae8"
>[6028afae8]</a></li>
</ul>
</dd>
<dt>2011-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Update to current reality and add bit about ssh auth
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a898356b1"
>[a898356b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Make &ldquo;verbose&rdquo; static; fixes a namespace clash with pam_ssh_agent_auth
(and it doesn&rsquo;t need to be extern these days).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de33689ae"
>[de33689ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/get_pty.c:<br>
FreeBSD has libutil.h not util.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4724e313e"
>[4724e313e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Define _BSD_SOURCE on FreeBSD, OpenBSD and DragonflyBSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=441abee4e"
>[441abee4e]</a></li>
</ul>
</dd>
<dt>2011-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/da.po, plugins/sudoers/po/eo.po,
plugins/sudoers/po/fi.po, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.po, plugins/sudoers/po/zh_CN.po:<br>
Update po files from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32c1ae8f7"
>[32c1ae8f7]</a></li>
</ul>
</dd>
<dt>2011-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add support for DEREF in ldap.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bcc9048c"
>[3bcc9048c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
install target should depend on ChangeLog too, not just install-doc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f95023e9"
>[0f95023e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Only iolog_file (not iolog_dir) supports mktemp-style suffixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5e1bb24f"
>[e5e1bb24f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Sync with 1.8 branch for sudo 1.8.2 and 1.8.3 changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62991b0cf"
>[62991b0cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Document group lookup change and possible side effects.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed26d7a59"
>[ed26d7a59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix some square brackets in case statements that needed to be doubled
up. While here, use $OSMAJOR when it makes sense.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=647e087cd"
>[647e087cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Fix a crash in make_grlist_item() on 64-bit machines with strict
alignment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd2d709bd"
>[fd2d709bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/defaults.h:<br>
Remove list_options() function that is no longer used now that &ldquo;sudo -L&rdquo;
is gone.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cab1968da"
>[cab1968da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Error message if user tries &ndash;with-CC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=523492af5"
>[523492af5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Check for -libmldap too when looking for ldap libs, which is the Tivoli
Directory Server client library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba331ebfb"
>[ba331ebfb]</a></li>
</ul>
</dd>
<dt>2011-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Honor NOPASSWD tag for denied commands too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dacb1e47f"
>[dacb1e47f]</a></li>
</ul>
</dd>
<dt>2011-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Remove &ndash;with-CC option; it doesn&rsquo;t work correctly now that we use
libtool. Users can get the same effect by setting the CC environment
variable when running configure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3b268c3a"
>[b3b268c3a]</a></li>
</ul>
</dd>
<dt>2011-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/visudo.c,
src/sudo_edit.c:<br>
Assume all modern systems support fstat(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f730cb787"
>[f730cb787]</a></li>
</ul>
</dd>
<dt>2011-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/regress/glob/globtest.c, config.h.in, configure, configure.in,
include/missing.h, plugins/sudoers/sudoers.h, src/sudo.h,
src/sudo_noexec.c:<br>
Add configure test for missing errno declaration and only declare it
ourselves if it is missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47af0fc2b"
>[47af0fc2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
Include errno.h before sudo.h to avoid conflicting with the system
definition of errno.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55896f636"
>[55896f636]</a></li>
</ul>
</dd>
<dt>2011-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/parser/check_addr.c:<br>
Only print individual check status when there is a failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cd464809"
>[0cd464809]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/parser/check_addr.c:<br>
Add calls to setprogname() for test programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f478f8406"
>[f478f8406]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add -Wall and -Werror after all tests so they don&rsquo;t cause failures.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e0e0fc38"
>[3e0e0fc38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Actually run check_addr in the check target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7945166bb"
>[7945166bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/match.c,
plugins/sudoers/match_addr.c,
plugins/sudoers/regress/parser/check_addr.c,
plugins/sudoers/regress/parser/check_addr.in:<br>
Split out address matching into its own file and add regression tests
for it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a259de17"
>[1a259de17]</a></li>
</ul>
</dd>
<dt>2011-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
When matching an address with a netmask in sudoers, AND the mask and
addr before checking against the local addresses.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a47f00543"
>[a47f00543]</a></li>
</ul>
</dd>
<dt>2011-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix netmask matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=526a61004"
>[526a61004]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Don&rsquo;t assume all editors support the +linenumber command line argument,
use a whitelist of known good editors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3cda8020"
>[e3cda8020]</a></li>
</ul>
</dd>
<dt>2011-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_pty.c, src/sudo.c:<br>
Silence compiler warnings on Solaris with gcc 3.4.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d81c14005"
>[d81c14005]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Fix building on RHEL 3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=335901388"
>[335901388]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Add &ndash;enable-werror configure option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4956d22e"
>[e4956d22e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/setgroups.c:<br>
setgroups() proto lives in grp.h on RHEL4, perhaps others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da95b0ea5"
>[da95b0ea5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use PAM by default on AIX 6 and higher.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64a57a2ee"
>[64a57a2ee]</a></li>
</ul>
</dd>
<dt>2011-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/eo.mo, plugins/sudoers/po/eo.po,
src/po/eo.mo, src/po/eo.po:<br>
Add new Esperanto translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fb53f5e4"
>[8fb53f5e4]</a></li>
</ul>
</dd>
<dt>2011-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Quiet an innocuous valgrind warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a13dd2b7"
>[5a13dd2b7]</a></li>
</ul>
</dd>
<dt>2011-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/regress/iolog_path/data:<br>
Fix expansion of strftime() escapes in log_dir and add a regress test
that exhibited the problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfc84b01f"
>[bfc84b01f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix &ldquo;make check&rdquo; return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=367b65900"
>[367b65900]</a></li>
</ul>
</dd>
<dt>2011-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Regen pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6224a734"
>[a6224a734]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix logic inversion in pot file up to date check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27257d9cf"
>[27257d9cf]</a></li>
</ul>
</dd>
<dt>2011-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add caching for gettext() checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=366cb1927"
>[366cb1927]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Better handling of libintl header and library mismatch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f8738ff3"
>[8f8738ff3]</a></li>
</ul>
</dd>
<dt>2011-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Also check sudoers gid if sudoers is group writable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d56a17165"
>[d56a17165]</a></li>
</ul>
</dd>
<dt>2011-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
If dlopen is present but libtool doesn&rsquo;t find it, error out since it
probably means that libtool doesn&rsquo;t support the system.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b9d80b10"
>[6b9d80b10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
configure args on the command line should override builtin defaults.
Disable NLS for non-Linux/Solaris unless explicitly enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13591340b"
>[13591340b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c:<br>
Fix loop that calls authenticate(). If there was an error message from
authenticate(), display it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f4a0d095"
>[7f4a0d095]</a></li>
</ul>
</dd>
<dt>2011-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>m4/libtool.m4, m4/ltversion.m4:<br>
Update to autoconf 2.68 and libtool 2.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=027cd522c"
>[027cd522c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, configure, configure.in, ltmain.sh:<br>
Update to autoconf 2.68 and libtool 2.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8fb44084"
>[c8fb44084]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Fix typo; OPT should be OTP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b1e75252"
>[6b1e75252]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Rename libsudoers convenience library to libparsesudoers to avoid
libtool confusion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=179b34d9e"
>[179b34d9e]</a></li>
</ul>
</dd>
<dt>2011-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/da.mo, plugins/sudoers/po/da.po:<br>
Add Danish sudoers translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1adef5ec3"
>[1adef5ec3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c:<br>
Add dedicated callback function for runas_default sudoers setting that
only sets runas_pw if no runas user or group was specified by the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6099e1bc4"
>[6099e1bc4]</a></li>
</ul>
</dd>
<dt>2011-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.mo, plugins/sudoers/po/fi.po,
plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po,
plugins/sudoers/po/uk.mo, plugins/sudoers/po/uk.po, src/po/ru.mo,
src/po/ru.po:<br>
Update Finish, Polish, Russian and Ukrainian translations from
translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaaa5d05d"
>[aaaa5d05d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.h, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c:<br>
Go back to using a callback for runas_default to keep runas_pw in sync.
This is needed to make per-entry runas_default settings work with
LDAP-based sudoers. Instead of declaring it a callback in def_data.in,
sudo and testsudoers poke sudo_defs_table[] which is a bit naughty, but
avoids requiring stub functions in visudo and the tests.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01ae3d477"
>[01ae3d477]</a></li>
</ul>
</dd>
<dt>2011-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Add check for out of date message catalogs when doing &ldquo;make dist&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53656020f"
>[53656020f]</a></li>
</ul>
</dd>
<dt>2011-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f92267836"
>[f92267836]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Make sure compiler supports static-libgcc before using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00b846cd1"
>[00b846cd1]</a></li>
</ul>
</dd>
<dt>2011-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Link libsudo_noexec.la with LDLDFLAGS for -static-libgcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fecb39734"
>[fecb39734]</a></li>
</ul>
</dd>
<dt>2011-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/fi.mo, plugins/sudoers/po/pl.mo,
plugins/sudoers/po/pl.po, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/zh_CN.mo, src/po/ru.mo, src/po/ru.po,
src/po/zh_CN.mo:<br>
Add new Russian sudo translation from translationproject.org and rebuild
the other translation files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb09c303a"
>[eb09c303a]</a></li>
</ul>
</dd>
<dt>2011-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/fi.po, plugins/sudoers/po/pl.po:<br>
Update Finish and Polish translations from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f726ddcd"
>[4f726ddcd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/parse_args.c, src/sudo.c:<br>
Go back to escaping the command args for &ldquo;sudo -i&rdquo; and &ldquo;sudo -s&rdquo; before
calling the plugin. Otherwise, spaces in the command args are not
treated properly. The sudoers plugin will unescape non-spaces to make
matching easier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8255ed69b"
>[8255ed69b]</a></li>
</ul>
</dd>
<dt>2011-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/set_perms.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Fix some potential problems found by the clang static analyzer, none
serious.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9a93f65"
>[4f9a93f65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/uk.po, plugins/sudoers/po/zh_CN.po, src/po/zh_CN.po:<br>
Updated Ukranian and Chinese (simplified) po files from
translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6365c779c"
>[6365c779c]</a></li>
</ul>
</dd>
<dt>2011-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/pl.po:<br>
Updated Polish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd6ce7ee3"
>[bd6ce7ee3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Rebuild pot files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3606fc441"
>[3606fc441]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/audit.c, plugins/sudoers/sudoers.c:<br>
Don&rsquo;t try to audit failure if the runas user does not exist. We don&rsquo;t
have the user&rsquo;s command at this point so there is nothing to audit. Add
a NULL check in audit_success() and audit_failure() just to be on the
safe side.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d26ae34"
>[35d26ae34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add -g to CFLAG for PIE builds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ebf7a95c"
>[8ebf7a95c]</a></li>
</ul>
</dd>
<dt>2011-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/sudo.c:<br>
Remove fallback to per-group lookup when matching groups in sudoers. The
sudo front-end will now use getgrouplist() to get the user&rsquo;s list of
groups if getgroups() fails or returns zero groups so we always have a
list of the user&rsquo;s groups. For systems with mbr_check_membership() which
support more that NGROUPS_MAX groups (Mac OS X), skip the call to
getgroups() and use getgrouplist() so we get all the groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80138c88b"
>[80138c88b]</a></li>
</ul>
</dd>
<dt>2011-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>common/setgroups.c:<br>
Fix setgroups() fallback code on EINVAL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb63967bf"
>[cb63967bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix two PERM_INITIAL cases that were still using user_gids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f9fb7609"
>[1f9fb7609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add Polish sudo message catalog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=043b976c6"
>[043b976c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
user_group is no longer used, remove it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dde167cf"
>[3dde167cf]</a></li>
</ul>
</dd>
<dt>2011-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/pl.mo, plugins/sudoers/po/pl.po:<br>
Add Polish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b9107395"
>[0b9107395]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/setgroups.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.h, src/sudo.c,
src/sudo.h, src/sudo_edit.c:<br>
Add a wrapper for setgroups() that trims off extra groups and retries if
setgroups() fails. Also add some missing addrefs for PERM_USER and
PERM_FULL_USER.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=022591f4b"
>[022591f4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/Makefile.in, compat/getgrouplist.c, config.h.in,
configure, configure.in, include/missing.h, mkdep.pl,
plugins/sudoers/ldap.c, plugins/sudoers/pwutil.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/sudo.c:<br>
Instead of keeping separate groups and gids arrays, create struct
group_info and use it to store both, along with a count for each. Cache
group info on a per-user basis using getgrouplist() to get the groups.
We no longer need special to special case the user or list user for
user_in_group() and thus no longer need to reset the groups list when
listing another user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b124635b0"
>[b124635b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preload.c:<br>
Don&rsquo;t rely on NULL since we don&rsquo;t include a header for it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=906cede7a"
>[906cede7a]</a></li>
</ul>
</dd>
<dt>2011-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e7c364ed"
>[9e7c364ed]</a></li>
</ul>
</dd>
<dt>2011-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Do not shadow global sudo_mode with a local variable in set_cmnd()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d8788a6c"
>[6d8788a6c]</a></li>
</ul>
</dd>
<dt>2011-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
bash 2.x doesd not support the -l flag and exits with an error if it is
specified so use &ndash;login instead. This causes an error with bash 1.x
(which uses -login instead) but this version is hopefully less used than
2.x.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54bf162e6"
>[54bf162e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/pl.mo, src/po/pl.po:<br>
Add Polish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27316e6c5"
>[27316e6c5]</a></li>
</ul>
</dd>
<dt>2011-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Make error strings translatable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37873051a"
>[37873051a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Only run configure with &ndash;with-pam-login for RHEL 5 and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94f7c4a29"
>[94f7c4a29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix typo in summary
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d090d6786"
>[d090d6786]</a></li>
</ul>
</dd>
<dt>2011-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logwrap.c:<br>
Add missing logwrap.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7c079886"
>[d7c079886]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/regress/logging/check_wrap.c,
plugins/sudoers/regress/logging/check_wrap.in,
plugins/sudoers/regress/logging/check_wrap.out.ok:<br>
Split out log file word wrap code into its own file and add unit tests.
Fixes an off-by one in the word wrap when the log line length matches
loglinelen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f90731596"
>[f90731596]</a></li>
</ul>
</dd>
<dt>2011-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
For SuSE, only use /usr/lib64 as libexec if generating 64-bit binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee1b41f84"
>[ee1b41f84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c, src/sudo.c:<br>
Fix build error when &ndash;without-noexec configure option is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76f427e8d"
>[76f427e8d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Disable noexec for AIX &lt; 5. LDR_PRELOAD is only available in AIX 5.3
and above.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae3405254"
>[ae3405254]</a></li>
</ul>
</dd>
<dt>2011-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/pwutil.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Resolve the list of gids passed in from the sudo frontend (the result of
getgroups()) to names and store both the group names and ids in the
sudo_user struct. When matching groups in the sudoers file, match based
on the names in the groups list first and only do a gid-based match when
we absolutely have to. By matching on the group name (as it is listed in
sudoers) instead of id (which we would have to resolve) we save a lot of
group lookups for sudoers files with a lot of groups in them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56321ec77"
>[56321ec77]</a></li>
</ul>
</dd>
<dt>2011-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Workaround for &ldquo;sudo -i command&rdquo; and newer versions of bash which don&rsquo;t
go into login mode when -c is specified unless -l is too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20972da41"
>[20972da41]</a></li>
</ul>
</dd>
<dt>2011-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Rewrite logfile word wrapping code to be more straight-forward and
actually wrap at the correct place.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ba98ef7b"
>[9ba98ef7b]</a></li>
</ul>
</dd>
<dt>2011-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/CONTRIBUTORS, doc/contributors.pod, plugins/sudoers/sudoers.c:<br>
Set use_pty=true in command details when use_pty is set in sudoers. From
Ludwig Nussel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39be82e32"
>[39be82e32]</a></li>
</ul>
</dd>
<dt>2011-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/zh_CN.mo, plugins/sudoers/po/zh_CN.po,
src/po/zh_CN.mo, src/po/zh_CN.po:<br>
Sync Chinese (simplified) PO files from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bd874feb"
>[2bd874feb]</a></li>
</ul>
</dd>
<dt>2011-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/eu.mo, plugins/sudoers/po/fi.mo,
plugins/sudoers/po/uk.mo, src/po/da.mo, src/po/da.po, src/po/eu.mo:<br>
Add Danish translation from translationproject.org and add missing
Basque mo files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26ec20f8b"
>[26ec20f8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
No longer need to specify LINGUAS in configure, &ldquo;make install-nls&rdquo; now
just installs all the .mo files it finds.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=210e091d8"
>[210e091d8]</a></li>
</ul>
</dd>
<dt>2011-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS, doc/Makefile.in, doc/contributors.pod:<br>
Build CONTRIBUTORS from newly-added contributors.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6df7cc8"
>[de6df7cc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/CONTRIBUTORS:<br>
Rework the wording in the leading paragraph
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeac9c738"
>[aeac9c738]</a></li>
</ul>
</dd>
<dt>2011-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, doc/CONTRIBUTORS:<br>
Add a CONTRIBUTORS file with the names of folks who have contributed
code or patches to sudo since I started maintaining it (plus the
original authors).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7de94d3a2"
>[7de94d3a2]</a></li>
</ul>
</dd>
<dt>2011-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Preserve SHELL variable for &ldquo;sudo -s&rdquo;. Otherwise we can end up with a
situation where the SHELL variable and the actual shell being run do not
match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a06f32cb"
>[7a06f32cb]</a></li>
</ul>
</dd>
<dt>2011-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Only enable Solaris project support when setproject() is present in
libproject.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4a48510c"
>[b4a48510c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Explicitly set mode and owner of /etc/sudoers instead of relying on &ldquo;cp
-p&rdquo; to work in the postinstall script. On AIX 6.1 at least the
postinstall script runs before the final file permissions are set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0e941a39"
>[f0e941a39]</a></li>
</ul>
</dd>
<dt>2011-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.pod, doc/sudoers.pod:<br>
Refer the user to the &ldquo;Command Environment&rdquo; section in description of
sudo&rsquo;s -i option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c292a56b"
>[0c292a56b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47d908aba"
>[47d908aba]</a></li>
</ul>
</dd>
<dt>2011-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>mkdep.pl:<br>
If there is no old dependency for an object file, use the MANIFEST to
find its source.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fd93f433"
>[9fd93f433]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Remove dependency for getgrouplist.lo as we don&rsquo;t ship that source file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44ab717ac"
>[44ab717ac]</a></li>
</ul>
</dd>
<dt>2011-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Do not declare yyparse() static as the actual function generated by yacc
is extern.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c4a5e905"
>[2c4a5e905]</a></li>
</ul>
</dd>
<dt>2011-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Remove locale files in &ldquo;make uninstall&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=900de1bde"
>[900de1bde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in, plugins/sudoers/po/eu.po, plugins/sudoers/po/fi.po,
plugins/sudoers/po/uk.po, src/po/eu.po:<br>
Add Basque translation and sync Finish and Ukranian translations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e95c7130d"
>[e95c7130d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
FreeBSD no longer needs the main sudo binary to link with -lpam now that
plug-ins are loaded with RTLD_GLOBAL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0562e492a"
>[0562e492a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, src/load_plugins.c:<br>
Load plugins with RTLD_GLOBAL instead of RTLD_LOCAL. This fixes problems
with pam modules not having access to symbols provided by libpam on some
platforms. Affects FreeBSD and SLES 10 at least.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f22a3980"
>[4f22a3980]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Move xgettext invocation out of update-po target into update-pot
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=878c77000"
>[878c77000]</a></li>
</ul>
</dd>
<dt>2011-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/po/sudoers.pot, src/po/sudo.pot:<br>
Regenerate .pot files for 1.8.2rc2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=750c0d2eb"
>[750c0d2eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in, zlib/Makefile.in:<br>
Move nls targets to the top level Makefile so the paths in the pot file
are saner
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e66169b3e"
>[e66169b3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/po/fi.mo:<br>
Add compiled version of sudo Finish translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8064e25d"
>[e8064e25d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/po/fi.mo, plugins/sudoers/po/uk.mo:<br>
Update MANIFEST with .po and .mo files Rebuild sudoers fi and uk .mo
files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fdfefb9d"
>[5fdfefb9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/po/fi.po:<br>
Add Finish translation from translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=707bad44d"
>[707bad44d]</a></li>
</ul>
</dd>
<dt>2011-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
The group named by exempt_group should not have a % prefix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f77403d06"
>[f77403d06]</a></li>
</ul>
</dd>
<dt>2011-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Fix typo; &ldquo;Defaults group_plugin&rdquo; not &ldquo;Defaults sudo_plugin&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=977dfd316"
>[977dfd316]</a></li>
</ul>
</dd>
<dt>2011-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>src/exec.c, src/exec_pty.c:<br>
Fix compressed io log corruption in background mode by using _exit()
instead of exit() to avoid flushing buffers twice.</p>
<p>Improved background mode support. When not allocating a pty, the command
is run in its own process group. This prevents write access to the tty.
When running in a pty, stdin is not hooked up and we never read from
/dev/tty, which results in similar behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c9e5f28f"
>[3c9e5f28f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, mkdep.pl, plugins/sudoers/Makefile.in:<br>
Clean up regress files Generate proper dependencies for regress objs in
compat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7199afec8"
>[7199afec8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add missing dependency for check_fill.o.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43fef79b0"
>[43fef79b0]</a></li>
</ul>
</dd>
<dt>2011-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Add support for &ndash;enable-nls[=location]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88cfbd51a"
>[88cfbd51a]</a></li>
</ul>
</dd>
<dt>2011-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/linux_audit.c:<br>
Include gettext.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5e1cbbfa"
>[d5e1cbbfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c:<br>
Quiet gcc warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab3b3eb83"
>[ab3b3eb83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t install .mo files if gettext was not found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97214c448"
>[97214c448]</a></li>
</ul>
</dd>
<dt>2011-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Always allocate a pty when running a command in the background but call
setsid() after forking to make sure we don&rsquo;t end up with a controlling
tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b67009ca"
>[1b67009ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add missing space between command name and the first command line
argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8513c4818"
>[8513c4818]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Quiet a compiler warning on some platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e2f4037c"
>[3e2f4037c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/README, src/po/README:<br>
README file that directs people to translationproject.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b7cd235e"
>[9b7cd235e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/po/uk.po, src/po/fi.po:<br>
Sync translations with TP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fccd6bfd"
>[6fccd6bfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add &lsquo;sync-po&rsquo; target to top-level Makefile to rsync the po files from
translationproject.org.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7d96a334"
>[a7d96a334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
install nls files from install target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ab4114c4"
>[4ab4114c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/Makefile.in, src/Makefile.in, sudo.pp:<br>
Include .mo files in sudo binary packags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38db44b80"
>[38db44b80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/po/zh_CN.mo,
plugins/sudoers/po/zh_CN.po, src/po/zh_CN.mo, src/po/zh_CN.po:<br>
Add simplified chinese translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47adbf8d3"
>[47adbf8d3]</a></li>
</ul>
</dd>
<dt>2011-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/po/uk.mo,
plugins/sudoers/po/uk.po, src/po/uk.mo, src/po/uk.po:<br>
Add ukranian translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c202c4e6d"
>[c202c4e6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
refer to siglist.c, not ./siglist.c since not all makes will treat foo
and ./foo the same.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9f44f788"
>[e9f44f788]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set def_preserve_groups before searching for the command when the -P
flag is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67e8e5653"
>[67e8e5653]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, compat/Makefile.in, mkdep.pl, plugins/sudoers/Makefile.in:<br>
Add dependency for siglist.lo in compat. This is a generated file so
&ldquo;make depend&rdquo; needs to depend on it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7cb73abd"
>[f7cb73abd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
More dependency fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=336ab7077"
>[336ab7077]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Fix a few dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79098fd96"
>[79098fd96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Place compiled mo files in the src dir, not the build dir. When
installing compiled mo files, display a status message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c13614a5"
>[6c13614a5]</a></li>
</ul>
</dd>
<dt>2011-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Tivoli Directory Server requires that seconds be present in a timestamp,
even though RFC 4517 states that they are optional.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=086cbfe37"
>[086cbfe37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.h:<br>
Add missing bit of copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b463d026b"
>[b463d026b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/visudo.pod:<br>
Mention cycle detection warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c370f9f6"
>[4c370f9f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
When checking aliases, also check the contents of the alias in case
there are problems with an alias that is referenced inside another.
Replace the self reference check with real alias cycle detection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b7e231dd"
>[5b7e231dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
Set errno to ELOOP in alias_find() if there is a cycle. Set errno to
ENOENT in alias_find() and alias_remove() if the entry could not be
found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b9849287"
>[2b9849287]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Increment alias_seqno before calls to alias_remove_recursive() to avoid
false positives with the alias loop detection. Fixes spurious warnings
about unused aliases when they are nested.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=682333ae2"
>[682333ae2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
add mkdep.pl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9089c7ddf"
>[9089c7ddf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add dependency on convenience libs to binaries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8dda2b85"
>[c8dda2b85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
mkdep.pl only works when run from the src dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1e5e3b44"
>[d1e5e3b44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, mkdep.pl,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in, zlib/Makefile.in:<br>
Auto-generate Makefile dependencies with a perl script.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78e235945"
>[78e235945]</a></li>
</ul>
</dd>
<dt>2011-05-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
If the user specifies a runas group via sudo&rsquo;s -g option that matches
the runas user&rsquo;s group in the passwd database and that group is not
denied in the Runas_Spec, allow it. Thus, if user root&rsquo;s gid in
/etc/passwd is 0, then &ldquo;sudo -u root -g root id&rdquo; is allow even if no
groups are present in the Runas_Spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e807b26"
>[d9e807b26]</a></li>
</ul>
</dd>
<dt>2011-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Add dependencies on gettext.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3833efaf0"
>[3833efaf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Fix install-nls target with HP-UX sh when gettext is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b3653fca"
>[9b3653fca]</a></li>
</ul>
</dd>
<dt>2011-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/po/sudoers.pot,
src/Makefile.in, src/po/sudo.pot:<br>
regenerate .pot files for lbuf changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8df14034"
>[f8df14034]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add missing &ldquo;checking&rdquo; message for gettext when using the cache.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=724b64e2c"
>[724b64e2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c, include/lbuf.h, plugins/sudoers/ldap.c,
plugins/sudoers/parse.c, plugins/sudoers/sudo_nss.c, src/parse_args.c:<br>
Add primitive format string support to the lbuf code to make
translations simpler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd36d4f2a"
>[bd36d4f2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/po/sudoers.pot,
src/Makefile.in, src/po/sudo.pot:<br>
Add message catalog template files for sudo and the sudoers module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=681547c5f"
>[681547c5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, common/aix.c, common/alloc.c, compat/strsignal.c, config.h.in,
configure.in, doc/Makefile.in, include/gettext.h,
plugins/sudoers/iolog.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/error.c,
src/net_ifs.c, src/sesh.c, src/sudo.c, src/sudo.h:<br>
Add gettext.h convenience header. This is similar to but distinct from
the one included with the gettext package.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf7e7b575"
>[bf7e7b575]</a></li>
</ul>
</dd>
<dt>2011-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add checks for nroff -c and -Tascii flags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a05e96369"
>[a05e96369]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add check for HP bundled C Compiler (which cannot create shared libs)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2aef4f52"
>[e2aef4f52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix C format warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=645b5c1c7"
>[645b5c1c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/error.h:<br>
Add __printflike
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4a4cbeab"
>[f4a4cbeab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c, src/parse_args.c:<br>
Translate help / usage strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67cc4ff02"
>[67cc4ff02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Set &ndash;msgid-bugs-address to the bugzilla url
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2384297a"
>[d2384297a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, configure,
configure.in, doc/Makefile.in, include/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in, zlib/Makefile.in:<br>
Add scaffolding to update .po files and install .mo files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3164f5814"
>[3164f5814]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/license.pod:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8985ba0d6"
>[8985ba0d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README:<br>
No need to include version number at the top of these files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b856c779"
>[6b856c779]</a></li>
</ul>
</dd>
<dt>2011-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/group_plugin.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/visudo.c:<br>
Minor warning/error cleanup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42a3966a8"
>[42a3966a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Emulate ngettext for the non-nls case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0954a1b1c"
>[0954a1b1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Do not mark untranslatable strings for translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27cb58514"
>[27cb58514]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Use ROOT_UID not 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c28af155"
>[6c28af155]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/iolog.c,
plugins/sudoers/logging.c, src/exec.c, src/exec_pty.c,
src/load_plugins.c, src/sudo.c, src/sudo_edit.c:<br>
Minor warning/error message cleanup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7960bde2d"
>[7960bde2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/mon_systrace.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/exec.c,
src/exec_pty.c, src/net_ifs.c, src/selinux.c:<br>
cannot -&gt; &ldquo;unable to&rdquo; in warning/error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fce0b906e"
>[fce0b906e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/mon_systrace.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/visudo.c, src/exec_pty.c,
src/sudo.c, src/utmp.c:<br>
can&rsquo;t -&gt; &ldquo;unable to&rdquo; in warning/error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f8cd9192"
>[6f8cd9192]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
FreeBSD needs the main sudo executable to link with -lpam when loading
dynaic pam modules for some reason.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=159d7e393"
>[159d7e393]</a></li>
</ul>
</dd>
<dt>2011-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, src/exec.c, src/exec_pty.c, src/sudo.c:<br>
We don&rsquo;t want to translate debugging messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=917c8d48a"
>[917c8d48a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in,
plugins/sudoers/iolog.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/Makefile.in,
src/sesh.c, src/sudo.c:<br>
Add calls to bindtextdomain() and textdomain() Currently there are two
domains, one for the sudo front-end and one for the sudoers plugin and
its associated utilities.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3a259f5e"
>[c3a259f5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix caching of libc gettext check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19a81af6b"
>[19a81af6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.c, plugins/sudoers/defaults.c,
plugins/sudoers/mkdefaults:<br>
Mark defaults descriptions for translation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4810662e9"
>[4810662e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.1p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a75992b8"
>[1a75992b8]</a></li>
</ul>
</dd>
<dt>2011-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Quiet compiler warning when SELinux is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6aea1072"
>[f6aea1072]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/plugin_error.c, plugins/sudoers/sudoreplay.c,
src/error.c, src/net_ifs.c, src/sesh.c:<br>
Add missing includes of libintl.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c23436356"
>[c23436356]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix gettext marker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d006b00a4"
>[d006b00a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, compat/strsignal.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/sudoers.h, src/sudo.h:<br>
Include libint.h where needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15bc74bd6"
>[15bc74bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/securid.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/env.c,
plugins/sudoers/find_path.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/group_plugin.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/linux_audit.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/pwutil.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c, plugins/sudoers/visudo.c:<br>
Prepare sudoers module messages for translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b643b190a"
>[b643b190a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only check gid of sudoers file if it is group-readable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24a087709"
>[24a087709]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/aix_auth.c:<br>
For AIX, keep calling authenticate() until reenter reaches 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7708d5ce8"
>[7708d5ce8]</a></li>
</ul>
</dd>
<dt>2011-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Cache the status of the initial gettext() check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ff045b26"
>[4ff045b26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Add &ndash;disable-nls flag and improve checks for gettext.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1994db70d"
>[1994db70d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
When building with gcc on HP-UX, use -march=1.1 to produce portable
binaries on a pa-risc2 host. Previously, the +Dportable option was used
for the HP-UX C compiler but gcc always produced native binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=411737cf2"
>[411737cf2]</a></li>
</ul>
</dd>
<dt>2011-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, compat/strsignal.c, src/error.c,
src/exec.c, src/exec_pty.c, src/load_plugins.c, src/net_ifs.c,
src/parse_args.c, src/selinux.c, src/sesh.c, src/sudo.c,
src/sudo_edit.c, src/tgetpass.c, src/utmp.c:<br>
Prepare sudo front end messages for translation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c865a462c"
>[c865a462c]</a></li>
</ul>
</dd>
<dt>2011-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/auth/pam.c:<br>
Add initial scaffolding to support localization via gettext()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96b7c1f0f"
>[96b7c1f0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/fnmatch.h, compat/glob.h:<br>
Don&rsquo;t let the fnmatch/glob macros expand the function prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c3fbfd73"
>[5c3fbfd73]</a></li>
</ul>
</dd>
<dt>2011-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/fnmatch.c, compat/fnmatch.h, compat/glob.c, compat/glob.h:<br>
Resolve namespace collisions on HP-UX ia64 and possibly others by adding
a rpl_ prefix to our fnmatch and glob replacements and #defining rpl_foo
to foo in the header files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1f6db3a0"
>[a1f6db3a0]</a></li>
</ul>
</dd>
<dt>2011-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Split ALL, ROLE and TYPE into their own actions. Since you can only have
#ifdefs inside of braces, ROLE and TYPE use a naughty goto in the
non-SELinux case. This is safe because the actions are in one big
switch() statement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dd3440cb"
>[4dd3440cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix regexp for matching a CIDR-style IPv4 netmask. From Marc Espie.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=189817a31"
>[189817a31]</a></li>
</ul>
</dd>
<dt>2011-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE, doc/sudoers.pod:<br>
askpass moved from sudoers to sudo.conf in sudo 1.8.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a76ddfef"
>[8a76ddfef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Remove obsolete warning about runas_default and ordering. Move syslog
facility and priority lists into the section where the relevant options
are described.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38f7dd359"
>[38f7dd359]</a></li>
</ul>
</dd>
<dt>2011-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sia.c:<br>
Fix SIA support; we no longer have access to the real argc and argv so
allocate space for a fake one and use the argv passed to the plugin with
&ldquo;sudo&rdquo; for argv[0].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=435d8413b"
>[435d8413b]</a></li>
</ul>
</dd>
<dt>2011-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Remove useless realloc when trying to get the buffer size right.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dfb27fb3"
>[7dfb27fb3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Be explicit when setting euid to 0 before call to setreuid(0, 0)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c35601cf"
>[7c35601cf]</a></li>
</ul>
</dd>
<dt>2011-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Need to do checks for krb5_verify_user, krb5_init_secure_context and
krb5_get_init_creds_opt_alloc regardless of whether or not krb5-config
is present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1bea0a21"
>[f1bea0a21]</a></li>
</ul>
</dd>
<dt>2011-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Work around weird AIX saved uid semantics on setuid() and setreuid(). On
AIX, setuid() will only set the saved uid if the euid is already 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b08ad6083"
>[b08ad6083]</a></li>
</ul>
</dd>
<dt>2011-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f24216e8"
>[2f24216e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Treat a missing includedir like an empty one and do not return an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6ad6d29e"
>[c6ad6d29e]</a></li>
</ul>
</dd>
<dt>2011-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Fix ARCH setting in cross-compile Solaris packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55c3dfe39"
>[55c3dfe39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix aix version setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf5e8d9b7"
>[cf5e8d9b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Remove extraneous parens in LDAP filter when sudoers_search_filter is
enabled that causes a search error. From Matthew Thomas.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b00cf92ef"
>[b00cf92ef]</a></li>
</ul>
</dd>
<dt>2011-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c:<br>
Correct sizeof() to fix test failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2af217409"
>[2af217409]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
&ldquo;install&rdquo; target should depend on &ldquo;install-dirs&rdquo;. Fixes &ldquo;make -j&rdquo;
problem and closes bz #487. From Chris Coleman.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=365bd63e6"
>[365bd63e6]</a></li>
</ul>
</dd>
<dt>2011-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
Add HAVE_RFC1938_SKEYCHALLENGE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e72fa912"
>[1e72fa912]</a></li>
</ul>
</dd>
<dt>2011-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention plugin loading and libgcc changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11b133232"
>[11b133232]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Load plugins after parsing arguments and potentially printing the
version. That way, an error loading or initializing a plugin doesn&rsquo;t
break &ldquo;sudo -h&rdquo; or &ldquo;sudo -V&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6d0a28ef"
>[b6d0a28ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
When using a sub-shell to invoke the sub-make, exec make instead of
running it inside the shell to avoid an extra process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b4f5bf32"
>[4b4f5bf32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/regress/fnmatch/fnm_test.in, compat/regress/glob/globtest.c:<br>
Stop testing unspecified behavior in fnmatch Make glob test more
portable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60e9e4dd8"
>[60e9e4dd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
No need to add current dir to include path and having it breaks the test
programs that expect to get the system glob.h and fnmatch.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8720363f3"
>[8720363f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Fix and document &ndash;with-plugindir; partially from Diego Elio Petteno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f52a6ccae"
>[f52a6ccae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, compat/regress/fnmatch/fnm_test.c,
compat/regress/fnmatch/fnm_test.in, compat/regress/glob/globtest.c,
compat/regress/glob/globtest.in:<br>
Fix fnmatch and glob tests to not use hard-coded flag values in the
input file. Link test programs with libreplace so we get our replacement
verions as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f949dbcc5"
>[f949dbcc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
If make in a subdir fails, fail the target in the upper level Makefile
too. Adapted from a patch from Diego Elio Petteno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=698c5002d"
>[698c5002d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/auth/rfc1938.c:<br>
Add check for NetBSD-style 4-argument skeychallenge() as Gentoo also has
this. Adapted from a patch from Diego Elio Petteno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=233d90f2c"
>[233d90f2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Make SUDOERS_LDFLAGS reference $(LDFLAGS) instead of using @LDFLAGS@
directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6ffc8adf"
>[f6ffc8adf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix warnings when -without-skey, &ndash;without-opie, &ndash;without-kerb4,
&ndash;without-kerb5 or &ndash;without-SecurID were specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcc4ec843"
>[dcc4ec843]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add plugins/sudoers/sudoers_version.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a54719a6"
>[3a54719a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in:<br>
Back out the &ndash;with-libpath addition to SUDOERS_LDFLAGS since that now
include LDFLAGS in the sudoers Makefile.in. Add missing settng of
@LDFLAGS@ in plugin Makefile.in files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89cd8c2ff"
>[89cd8c2ff]</a></li>
</ul>
</dd>
<dt>2011-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention %#gid support in User_List and Runas_List
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc19e4dff"
>[dc19e4dff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, plugins/sudoers/sudoers_version.h,
plugins/sudoers/visudo.c:<br>
Keep track of sudoers grammar version and report it in the -V output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1078bd28"
>[f1078bd28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.h:<br>
Add multiple inclusion guard
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9d15e825"
>[b9d15e825]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in:<br>
The &ndash;with-libpath option now adds to SUDOERS_LDFLAGS as well as
LDFLAGS. Remove old -static hack for HP-UX &lt; 9. Add LTLDFLAGS and set
it to -Wc,-static-libgcc if not using GNU ld so we don&rsquo;t have a
dependency on the shared libgcc in sudoers.so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=021e2a94b"
>[021e2a94b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Fix typo; from Petr Uzel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e55bbb183"
>[e55bbb183]</a></li>
</ul>
</dd>
<dt>2011-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
In dump-only mode, use &ldquo;root&rdquo; as the default username instead of
&ldquo;nobody&rdquo; as the latter may not be available on all systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ffb64986"
>[3ffb64986]</a></li>
</ul>
</dd>
<dt>2011-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Remove NewArgv/NewArgc, they are no longer needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=129ccecd3"
>[129ccecd3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Fix setting of user_args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=987e1dbe6"
>[987e1dbe6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add &lsquo;!&rsquo; token to lex tracing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c82e29f27"
>[c82e29f27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test1.sh:<br>
Use group bin in test, not wheel as most systems have the bin group but
the same is no longer true of wheel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2d58863"
>[0e2d58863]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Avoid using pre or post increment in a parameter to a ctype(3) function
as it might be a macro that causes the increment to happen more than
once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca32055fd"
>[ca32055fd]</a></li>
</ul>
</dd>
<dt>2011-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Strip off the beta or release candidate version when building AIX
packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02f0775fe"
>[02f0775fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
We need to include OSDEFS in CFLAGS when doing the utmp/utmpx structure
checks for glibc which only has __e_termination visible when _GNU_SOURCE
is <em>not</em> defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2534672f6"
>[2534672f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c:<br>
getuserattr(user, &hellip;) will fall back to the &ldquo;default&rdquo; entry
automatically, there&rsquo;s no need to check &ldquo;default&rdquo; manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e42331fd5"
>[e42331fd5]</a></li>
</ul>
</dd>
<dt>2011-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Document parser changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51c812386"
>[51c812386]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in, zlib/Makefile.in:<br>
If there is an existing sudoers file, only install if it passes a syntax
check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44c763c72"
>[44c763c72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test6.out.ok,
plugins/sudoers/testsudoers.c:<br>
Add runasgroup support to testsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b9d773ba"
>[8b9d773ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
For &ldquo;make check&rdquo;, keep going even if a test fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e067b273"
>[5e067b273]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
More useful exit codes: * 0 - parsed OK and command matched. * 1 - parse
error * 2 - command not matched * 3 - command denied
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b87465b56"
>[b87465b56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Document %#gid, and %:#nonunix_gid syntax.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=335abe3a1"
>[335abe3a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Add support to user_in_group() for treating group names that begin with
a &lsquo;#&rsquo; as gids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0be8d20c"
>[b0be8d20c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/utmp.c:<br>
Add explicit check for struct utmpx.ut_exit.e_termination and struct
utmpx.ut_exit.__e_termination. HP-UX uses the latter. Only update
ut_exit if we detect one or the other.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53d183c38"
>[53d183c38]</a></li>
</ul>
</dd>
<dt>2011-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c:<br>
Add back missing #include of config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=041b1a896"
>[041b1a896]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/regress/iolog_path/data:<br>
Avoid a NULL deref on unrecognized escapes. Collapse %% -&gt; % like
strftime() does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=353f31751"
>[353f31751]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
Quote first argument to AC_DEFUN(); from Elan Ruusamae
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c739a7052"
>[c739a7052]</a></li>
</ul>
</dd>
<dt>2011-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
add new sudoers tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c975b278"
>[8c975b278]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test8.in,
plugins/sudoers/regress/sudoers/test8.out.ok,
plugins/sudoers/regress/sudoers/test8.toke.ok:<br>
Add test for a newline in the middle of a string when no line
continuation character is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b485739ed"
>[b485739ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Use bitwise AND instead of modulus to check for length being odd. A
newline in the middle of a string is an error unless a line continuation
character is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3ff59e50"
>[e3ff59e50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Move lexer globals initialization into init_lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45b82039b"
>[45b82039b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix a potential crash when a non-regular file is present in an
includedir. Fixes bz #452
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aed50b4d7"
>[aed50b4d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
On some Linux systems, &ldquo;uname -p&rdquo; contains detailed processor info so
check &ldquo;uname -m&rdquo; first and then &ldquo;uname -p&rdquo; if needed. Recognize PLD
Linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03f949cf1"
>[03f949cf1]</a></li>
</ul>
</dd>
<dt>2011-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/redblack.c:<br>
Don&rsquo;t need all sudoers.h here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba50e99cb"
>[ba50e99cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Print sudo version early, in case policy plugin init fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e07ca146d"
>[e07ca146d]</a></li>
</ul>
</dd>
<dt>2011-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test4.toke.ok:<br>
Update to match change in input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9f89d796"
>[e9f89d796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Make an empty group or netgroup a syntax error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31c164dae"
>[31c164dae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test7.in,
plugins/sudoers/regress/sudoers/test7.out.ok,
plugins/sudoers/regress/sudoers/test7.toke.ok:<br>
An empty group or netgroup should be a syntax error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5cc89da1"
>[c5cc89da1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test6.in,
plugins/sudoers/regress/sudoers/test6.out.ok,
plugins/sudoers/regress/sudoers/test6.toke.ok:<br>
Check that uids work in per-user and per-runas Defaults Check that uids
and gids work in a Command_Spec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5438a0be6"
>[5438a0be6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test5.in,
plugins/sudoers/regress/sudoers/test5.out.ok,
plugins/sudoers/regress/sudoers/test5.toke.ok:<br>
Test empty string in User_Alias and Command_Spec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc333ae44"
>[bc333ae44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Allow a group ID in the User_Spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=784d0dda3"
>[784d0dda3]</a></li>
</ul>
</dd>
<dt>2011-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Return an error for the empty string when a word is expected. Allow an
ID for per-user or per-runas Defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe1bc681b"
>[fe1bc681b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Fix printing &ldquo;User_Alias FOO = ALL&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf8caed3b"
>[cf8caed3b]</a></li>
</ul>
</dd>
<dt>2011-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c:<br>
Better error message about invalid -C argument
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71fa43ec4"
>[71fa43ec4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48d67f0df"
>[48d67f0df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Fix placement of equal size (&rsquo;=&rsquo;) in user specification summary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97b8dc7fe"
>[97b8dc7fe]</a></li>
</ul>
</dd>
<dt>2011-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
update to match sudoers regress
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85e86d6ea"
>[85e86d6ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Restore ability to define TRACELEXER and have trace output go to stderr.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06bf685b3"
>[06bf685b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Restore old behavior of setting sawspace = TRUE for command line args
when a line continuation character is hit to avoid causing problems for
existing sudoers files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2297743a"
>[a2297743a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/sudoers/test4.in,
plugins/sudoers/regress/sudoers/test4.out.ok,
plugins/sudoers/regress/sudoers/test4.toke.ok:<br>
Add test for line continuation and aliases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a4c00085"
>[0a4c00085]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Make test output line up nicely for parse vs. toke
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f6c096fb"
>[2f6c096fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/regress/sudoers/test1.in,
plugins/sudoers/regress/sudoers/test1.out.ok,
plugins/sudoers/regress/sudoers/test1.toke.ok,
plugins/sudoers/regress/sudoers/test2.in,
plugins/sudoers/regress/sudoers/test2.out.ok,
plugins/sudoers/regress/sudoers/test2.toke.ok,
plugins/sudoers/regress/sudoers/test3.in,
plugins/sudoers/regress/sudoers/test3.out.ok,
plugins/sudoers/regress/sudoers/test3.toke.ok,
plugins/sudoers/regress/testsudoers/test1.out.ok,
plugins/sudoers/regress/testsudoers/test1.sh,
plugins/sudoers/regress/testsudoers/test3.sh,
plugins/sudoers/regress/visudo/test1.ok:<br>
Move parser tests to sudoers directory and test the tokenizer output
too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=830fce0f1"
>[830fce0f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
If we match a rule anchored to the beginning of a line after parsing a
line continuation character, return an ERROR token. It would be nicer to
use REJECT instead but that substantially slows down the lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7dd8399e"
>[c7dd8399e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Move LEXTRACE macro to toke.h so we can use it in yyerror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edfb5cd7a"
>[edfb5cd7a]</a></li>
</ul>
</dd>
<dt>2011-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
Make lex tracing settable at run-time in testsudoers via the -t flag.
Trace output goes to stderr. Will be used by regress tests to check
lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a27b3f340"
>[a27b3f340]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Allow whitespace after the modifier in a Defaults entry. E.g. &ldquo;Defaults:
username set_home&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f083e72a5"
>[f083e72a5]</a></li>
</ul>
</dd>
<dt>2011-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Don&rsquo;t set CC when cross-compiling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e41e39be"
>[3e41e39be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Credit Matthew Thomas for the sudoers_search_filter changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b87bd95d5"
>[b87bd95d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add the .sym files to the MANIFEST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7db83d9b"
>[f7db83d9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.8.1 beta
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc4e1a372"
>[cc4e1a372]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, plugins/sudoers/sudoers.c, src/parse_args.c:<br>
user_shell -&gt; run_shell to avoid confusion with the user&rsquo;s SHELL
variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33516ed82"
>[33516ed82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Save the controlling tty process group before suspending in pty mode.
Previously, we assumed that the child pgrp == child pid (which is
usually, but not always, the case).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d7889c0d"
>[5d7889c0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add support for sudoers_search_filter setting in ldap.conf. This can be
used to restrict the set of records returned by the LDAP query.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8776da73"
>[e8776da73]</a></li>
</ul>
</dd>
<dt>2011-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove the hack to disable -g in CFLAGS unless &ndash;with-devel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13b9c7b17"
>[13b9c7b17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
The &lsquo;@&rsquo; character does not normally need to be quoted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c91d2a08a"
>[c91d2a08a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
We normaly transition from GOTDEFS to STARTDEFS on whitespace, but if
that whitespace is followed by a comma, we want to treat it as part of a
list and not transition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6170002e6"
>[6170002e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test3.ok,
plugins/sudoers/regress/testsudoers/test3.sh:<br>
Add check for whitespace when a User_List is used for a per-user
Defaults entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7487ae48"
>[b7487ae48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test2.out,
plugins/sudoers/regress/testsudoers/test2.sh:<br>
Expand quoted name checks to cover recent fixes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c0917aa3"
>[1c0917aa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Fix parsing of double-quoted names in Defaultd and Aliases which was
broken in 601d97ea8792.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88e35a193"
>[88e35a193]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
toke_util.c lives in $(srcdir) not $(devdir)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95bf62441"
>[95bf62441]</a></li>
</ul>
</dd>
<dt>2011-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Change trunk version to 1.8.x to distinguish from real 1.8.0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27dbaa8de"
>[27dbaa8de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/UPGRADE:<br>
Document major changes in 1.8.1 and add upgrade notes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53ddb01f3"
>[53ddb01f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Be careful not to deref user_stat if it is NULL. This cannot currently
happen in sudo but might in other programs using the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=092b4b4d0"
>[092b4b4d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
configure will not add -O2 to CFLAGS if it is already defined to add -O2
to the CFLAGS we pass in when PIE is being used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de0df45cc"
>[de0df45cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Warn about the dangers of log_input and mention iolog_file and iolog_dir
in the log_input and log_output descriptions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa29582ac"
>[aa29582ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync with git version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c228d424"
>[5c228d424]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
It seems that h comes after i
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=639903f13"
>[639903f13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Move log_input and log_output to their proper, sorted, location.
Document set_utmp and utmp_runas.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09f9796ea"
>[09f9796ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Save the controlling tty process group before suspending so we can
restore it when we resume. Fixes job control problems on Linux caused by
the previous attemp to fix resuming a shell when I/O logging not
enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=240642399"
>[240642399]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Fix printing of the remainder after a newline. Fixes &ldquo;sudo -l&rdquo; output
corruption that could occur in some cases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e65afc15"
>[9e65afc15]</a></li>
</ul>
</dd>
<dt>2011-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/exec_pty.c, src/sudo_exec.h,
src/utmp.c:<br>
Add support for ut_exit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2041d39db"
>[2041d39db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c, src/exec.c,
src/exec_pty.c, src/sudo.c, src/sudo.h, src/sudo_exec.h, src/utmp.c:<br>
Add support for controlling whether utmp is updated and which user is
listed in the entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3506f0107"
>[3506f0107]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/def_data.h, plugins/sudoers/defaults.h,
plugins/sudoers/ldap.c, plugins/sudoers/mkdefaults,
plugins/sudoers/parse.c:<br>
Fix typo; tupple vs. tuple
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf7ec7a3c"
>[cf7ec7a3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/utmp.c:<br>
For legacy utmp, strip the /dev/ prefix before trying to determine slot
since the ttys file does not include the /dev/ prefix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07968755a"
>[07968755a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, pathnames.h.in:<br>
Add check for _PATH_UTMP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e6bc4017"
>[5e6bc4017]</a></li>
</ul>
</dd>
<dt>2011-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c:<br>
Adapt check_iolog_path to sessid changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf5f17bd6"
>[bf5f17bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/Makefile.in, src/exec_pty.c,
src/sudo_exec.h, src/utmp.c:<br>
Redo utmp handling. If no getutent()/getutxent() is available, assume a
ttyslot-based utmp. If getttyent() is available, use that directly
instead of ttyslot() so we don&rsquo;t have to do the stdin dup2 dance.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8653ccc80"
>[8653ccc80]</a></li>
</ul>
</dd>
<dt>2011-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec_pty.c, src/sudo_exec.h, src/utmp.c:<br>
Move utmp handling into utmp.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e9def1ef"
>[1e9def1ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, common/fileops.c, common/fmt_string.c,
common/lbuf.c, common/list.c, compat/isblank.c, compat/memrchr.c,
compat/mksiglist.c, compat/nanosleep.c, compat/snprintf.c,
compat/strlcat.c, compat/strlcpy.c, compat/strsignal.c, compat/utimes.c,
doc/sudo.pod, doc/visudo.pod, include/sudo_plugin.h,
plugins/sample/sample_plugin.c, plugins/sample_group/getgrent.c,
plugins/sample_group/plugin_test.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/boottime.c, plugins/sudoers/bsm_audit.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/goodpath.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/timestr.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, src/exec.c, src/exec_pty.c, src/get_pty.c,
src/parse_args.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/sudo_exec.h, src/sudo_noexec.c, src/sudo_plugin_int.h,
src/tgetpass.c:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53da5e8cd"
>[53da5e8cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/parse_args.c:<br>
Add &ldquo;user_shell&rdquo; boolean as a way to indicate to the plugin that the -s
flag was given.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cde2cb00f"
>[cde2cb00f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.h:<br>
Move sessid out of sudo_user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e2778eb2"
>[6e2778eb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/logging.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Log the TSID even if it is not a simple session ID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=383aef00b"
>[383aef00b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sample.sudo.conf, doc/sudo.pod, doc/sudoers.pod:<br>
Document noexec in sample.sudo.conf and add back noexec_file section in
sudoers with a note that it is deprecated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9660f08e3"
>[9660f08e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix running commands as non-root on systems where setreuid() changes the
saved uid based on the effective uid we are changing to.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bea3f524"
>[6bea3f524]</a></li>
</ul>
</dd>
<dt>2011-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, src/load_plugins.c, src/sudo.c, src/sudo.h:<br>
Move noexec path into sudo.conf now that sudo itself handles noexec.
Currently can be configured in sudoers too but is now undocumented and
will be removed in a future release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7debf4474"
>[7debf4474]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, doc/sudoers.pod:<br>
Document &ldquo;Path noexec &hellip;&rdquo; in sudo.conf. No longer document noexec_file
in sudoers, it will be removed in a future release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc8012265"
>[dc8012265]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/sudo.c, src/sudo.h:<br>
Move noexec handling to sudo front-end where it is documented as being.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a092d2fdc"
>[a092d2fdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/sudoers.c,
src/exec.c, src/exec_pty.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/sudo_exec.h:<br>
Add support for disabling exec via solaris privileges. Includes
preparation for moving noexec support out of sudoers and into front end
as documented.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7a7d3190"
>[c7a7d3190]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in, plugins/sample/sample_plugin.sym,
plugins/sample_group/Makefile.in, plugins/sample_group/sample_group.sym,
plugins/sudoers/Makefile.in, plugins/sudoers/sudoers.sym:<br>
Only export the symbols corresponding to the plugin structs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7599034e6"
>[7599034e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in:<br>
Install plugins manually instead of using libtool. This works around a
problem on AIX where libtool will install a .a file containing the .so
file instead of the .so file itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=498248d1f"
>[498248d1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Move check into its own rule since some versions of make will run both
targets as the default rule.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6f0c59bc"
>[c6f0c59bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, ltmain.sh, m4/libtool.m4, m4/ltoptions.m4, m4/ltversion.m4,
m4/lt~obsolete.m4:<br>
Update to libtool 2.2.10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62edd57ab"
>[62edd57ab]</a></li>
</ul>
</dd>
<dt>2011-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
In handle_signals(), restart the read() on EINTR to make sure we keep up
with the signal pipe. Don&rsquo;t return -1 on EAGAIN, it just means we have
emptied the pipe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caefd1abd"
>[caefd1abd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mktemp.c:<br>
Reorder functions to quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da24fe8c3"
>[da24fe8c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use the Sun Studio C compiler on Solaris if possible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c633bb2b"
>[1c633bb2b]</a></li>
</ul>
</dd>
<dt>2011-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Fix default setting of osversion variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=206f5ff31"
>[206f5ff31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod:<br>
Make two login_class entris consistent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32cfe08a1"
>[32cfe08a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/exec.c, src/exec_pty.c,
src/sudo_exec.h:<br>
Add support for adding a utmp entry when allocating a new pty. Requires
the BSD login(3) or SYSV/POSIX getutent()/getutxent(). Currently only
creates a new entry if the existing tty has a utmp entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1496bfed6"
>[1496bfed6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Avoid pulling in headers we don&rsquo;t need on Linux For getutx?id(), call
setutx?ent() first and always call endutx?ent().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c9c0223e"
>[9c9c0223e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add some more libs to SUDOERS_LIBS instead of relying on them to be
pulled in by SUDO_LIBS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2241947b3"
>[2241947b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix return value of &ldquo;sudo -l command&rdquo; when command is not allowed,
broken in [c7097ea22111]. The default return value is now TRUE and a
bad: label is used when permission is denied. Also fixed missing
permissions restoration on certain errors. On error()/errorx(), the
password and group files are now closed before returning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6252de20"
>[d6252de20]</a></li>
</ul>
</dd>
<dt>2011-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c:<br>
Fix passing of login class back to sudo front end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47968912a"
>[47968912a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add &ndash;osversion flag to specify OS instead of running &ldquo;pp &ndash;probeonly&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e1098734"
>[7e1098734]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Fix expr usage w/ GNU expr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b54425e04"
>[b54425e04]</a></li>
</ul>
</dd>
<dt>2011-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix exit value for validate and list mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e65bc35c6"
>[e65bc35c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix non-interactive mode with sudoers plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0ba30869"
>[a0ba30869]</a></li>
</ul>
</dd>
<dt>2011-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoreplay.pod:<br>
sudoreplay can now find IDs other than %{seq} and display the session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6968367cb"
>[6968367cb]</a></li>
</ul>
</dd>
<dt>2011-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add support for replaying sessions when iolog_file is set to something
other than %{seq}.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85e8e584a"
>[85e8e584a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
If we are killed by a signal, display the name of the signal that got
us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5e356ed4"
>[f5e356ed4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Move libs used for authentication from SUDO_LIBS to SUDOERS_LIBS where
they belong.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cc46dd70"
>[3cc46dd70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix bug in skey/opie check that could cause a shell warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06a39eefb"
>[06a39eefb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
No longer need sudo_getepw() stubs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95512ae05"
>[95512ae05]</a></li>
</ul>
</dd>
<dt>2011-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Fix exit value of &ldquo;sudo -l command&rdquo; in sudoers module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ee8a0d87"
>[8ee8a0d87]</a></li>
</ul>
</dd>
<dt>2011-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/regress/glob/globtest.c:<br>
Use fgets() not fgetln() for portability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca86faac9"
>[ca86faac9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Don&rsquo;t use the beta or release candidate version as the rpm release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d7a12e75"
>[9d7a12e75]</a></li>
</ul>
</dd>
<dt>2011-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
version 1.8.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4333b0691"
>[4333b0691]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
update sudo 1.8 section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c30fecb83"
>[c30fecb83]</a></li>
</ul>
</dd>
<dt>2011-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test2.sh:<br>
fix test description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4688f1ce6"
>[4688f1ce6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test2.out,
plugins/sudoers/regress/testsudoers/test2.sh,
plugins/sudoers/regress/visudo/test2.out:<br>
convert test2 to use testsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a64bd36b3"
>[a64bd36b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, src/sudo_plugin_int.h:<br>
Move struct generic_plugin to sudo_plugin_int.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e558b79e8"
>[e558b79e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Allow sudoers file name, mode, uid and gid to be specified in the
settings list. The sudo front end does not currently set these but may
in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c0672e2e"
>[3c0672e2e]</a></li>
</ul>
</dd>
<dt>2011-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, doc/sudo.cat, doc/sudo.man.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.man.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/visudo.cat,
doc/visudo.man.in:<br>
1.8.0rc1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74c4252c1"
>[74c4252c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod, doc/sudoreplay.pod, doc/visudo.pod,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c,
src/parse_args.c, src/sudo.h:<br>
add help text to sudo, visudo and sudoreplay for the -h option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59515a4a6"
>[59515a4a6]</a></li>
</ul>
</dd>
<dt>2011-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/snprintf.c:<br>
avoid using &ldquo;howmany&rdquo; for a parameter name since it is a select-related
macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b622a8ca"
>[7b622a8ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
mention group_plugin when describing nonunix_group
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=315e54fd6"
>[315e54fd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod:<br>
Add missing period at end of sentence
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0122e3be2"
>[0122e3be2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, include/Makefile.in,
plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
add localstatedir; closes bug 471
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=435e44808"
>[435e44808]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/sudoreplay.c,
src/exec.c, src/exec_pty.c:<br>
The howmany macro lives in sys/sysmacros.h on SVR5 systems Closes Bug
470
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39d9feb43"
>[39d9feb43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add missing AH_TEMPLATE for ENV_RESET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e312fee0"
>[6e312fee0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
SVR5 systems return non-zero for success on socketpair(), check for -1
instead. Closes Bug 469
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a099aa7f2"
>[a099aa7f2]</a></li>
</ul>
</dd>
<dt>2011-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
1.8.0b5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=554833c58"
>[554833c58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6983d782c"
>[6983d782c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.pod:<br>
Document that a sudo.conf file with no Pligin lines uses the default
sudoers plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0d0e163c"
>[b0d0e163c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
If sudo.conf contains no Plugin lines, use the default sudoers policy
and I/O plugins.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=011ba5511"
>[011ba5511]</a></li>
</ul>
</dd>
<dt>2011-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Avoid printing empty &ldquo;Runas and Command-specific defaults for user&rdquo;
line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3d795ff9"
>[c3d795ff9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Truncate the buffer at buf.len before printing in the non-wordwrap case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=151af9302"
>[151af9302]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Remove extra newline when the tty width is very small or unavailable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec00a1b58"
>[ec00a1b58]</a></li>
</ul>
</dd>
<dt>2011-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
Remove unneeded variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=289afc301"
>[289afc301]</a></li>
</ul>
</dd>
<dt>2011-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Prefer getutxid over getutid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d66105838"
>[d66105838]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Include utmp.h / utmpx.h before missing.h as apparently including it
afterwards causes a compilation problem on GNU Hurd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63449de85"
>[63449de85]</a></li>
</ul>
</dd>
<dt>2011-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/toke_util.c:<br>
#include &ldquo;foo.h&rdquo;, not &lt;foo.h&gt; for local includes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=429465003"
>[429465003]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
remove bogus XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d88a0988"
>[2d88a0988]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mksiglist.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2603e2ce8"
>[2603e2ce8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/glob.c, plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c:<br>
return foo not return(foo)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21d8f01fa"
>[21d8f01fa]</a></li>
</ul>
</dd>
<dt>2011-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Remove duplicate FD_SET of signal_pipe[0]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=056cb8a5d"
>[056cb8a5d]</a></li>
</ul>
</dd>
<dt>2011-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/mksiglist.c:<br>
Use &ldquo;missing.h&rdquo; not &lt;missing.h&gt; in generated code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8bb84806"
>[c8bb84806]</a></li>
</ul>
</dd>
<dt>2011-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure:<br>
fix &ndash;with-iologdir=no
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd6abe1d3"
>[cd6abe1d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure:<br>
fix typo that broke &ndash;with-iologdir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e78e91282"
>[e78e91282]</a></li>
</ul>
</dd>
<dt>2011-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, doc/sudo.cat, doc/sudo.man.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.man.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/visudo.cat,
doc/visudo.man.in:<br>
Bump version to 1.8.0b4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f277d155"
>[7f277d155]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d341cad4e"
>[d341cad4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Attempt to clarify how users and groups interact in Runas_Specs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=521ee9c53"
>[521ee9c53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/visudo/test2.out,
plugins/sudoers/regress/visudo/test2.sh:<br>
Add test for quoted group that contains escaped double quotes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=310867e4e"
>[310867e4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c:<br>
Pass SIGUSR1/SIGUSR2 through to the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fc2f8f45"
>[5fc2f8f45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo_exec.h:<br>
Use special values SIGCONT_FG and SIGCONT_BG instead of SIGUSR1 and
SIGUSR2 to indicate whether the child should be continued in the
foreground or background.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2959d5dad"
>[2959d5dad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Use pid_t not int and check the return value of kill()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34a087acf"
>[34a087acf]</a></li>
</ul>
</dd>
<dt>2011-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Remove obsolete comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82c85571c"
>[82c85571c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
In non-pty mode before continuing the child, make it the foreground pgrp
if possible. Fixes resuming a shell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29f9e23c8"
>[29f9e23c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
If we get a signal other than SIGCHLD in the monitor, pass it directly
to the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a64a8c79"
>[8a64a8c79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo.h:<br>
Save signal state before changing handlers and restore before we execute
the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18468d1a"
>[c18468d1a]</a></li>
</ul>
</dd>
<dt>2011-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Use a char array to map a number to a base36 digit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af2ac7ccc"
>[af2ac7ccc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.pod:<br>
Be clear about what versions of sudo support new LDAP attributes. Fix up
some formatting of attribute names. Minor other tweaks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fd9d853a"
>[6fd9d853a]</a></li>
</ul>
</dd>
<dt>2011-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
match quoted strings the same way whether in a Defaults line or as a
user/group/netgroup name. Fixes escaped double quotes in quoted
user/group/netgroup names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=342e351d5"
>[342e351d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
&lsquo;make check&rsquo; depends on visudo and testsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ce8e4b3f"
>[4ce8e4b3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers2ldif:<br>
Add sudoOrder attribute to each entry Parse LOG_{INPUT,OUTPUT} tags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68e492179"
>[68e492179]</a></li>
</ul>
</dd>
<dt>2011-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/UPGRADE:<br>
Mention LDAP attribute compatibility status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9c72b224"
>[d9c72b224]</a></li>
</ul>
</dd>
<dt>2011-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
Mention phpQLAdmin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b112a17c"
>[3b112a17c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, NEWS, config.h.in, configure, configure.in, doc/sudoers.man.in,
doc/sudoers.pod, plugins/sudoers/defaults.c:<br>
Add &ndash;disable-env-reset configure option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed8e30cf6"
>[ed8e30cf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Document that sudoers_locale also affects logging and email.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=180b31764"
>[180b31764]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, config.h.in, configure, configure.in, plugins/sudoers/logging.c:<br>
Do logging and email sending in the locale specified by the
&ldquo;sudoers_locale&rdquo; setting (&ldquo;C&rdquo; by default). Email send by sudo includes
MIME headers when the sudoers locale is not &ldquo;C&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=807a9ca94"
>[807a9ca94]</a></li>
</ul>
</dd>
<dt>2011-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39b9b97db"
>[39b9b97db]</a></li>
</ul>
</dd>
<dt>2011-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, src/parse_args.c, src/sudo.c:<br>
Perform command escaping for &ldquo;sudo -s&rdquo; and &ldquo;sudo -i&rdquo; after validating
sudoers so the sudoers entries don&rsquo;t need to have all the backslashes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc3848166"
>[fc3848166]</a></li>
</ul>
</dd>
<dt>2011-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Prepend &ldquo;list &quot; to the command logged when &ldquo;sudo -l command&rdquo; is used to
make it clear that the command was listed, not run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51515c6c0"
>[51515c6c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
cosmetic change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f5c1dda1"
>[1f5c1dda1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c, common/alloc.c, common/fileops.c, common/fmt_string.c,
common/list.c, common/term.c, compat/fnmatch.c, compat/getcwd.c,
compat/glob.c, compat/isblank.c, compat/memrchr.c, compat/mktemp.c,
compat/nanosleep.c, compat/regress/glob/globtest.c, compat/snprintf.c,
compat/strlcat.c, compat/strlcpy.c, compat/strsignal.c, compat/utimes.c,
plugins/sample/sample_plugin.c, plugins/sample_group/getgrent.c,
plugins/sample_group/plugin_test.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/find_path.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/mon_systrace.c,
plugins/sudoers/parse.c, plugins/sudoers/pwutil.c,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c,
plugins/sudoers/tsgetgrpw.c, plugins/sudoers/visudo.c, src/exec_pty.c,
src/get_pty.c, src/load_plugins.c, src/parse_args.c, src/sudo_noexec.c,
src/tgetpass.c:<br>
standardize on &ldquo;return foo;&rdquo; rather than &ldquo;return(foo);&rdquo; or &ldquo;return
(foo);&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae2f7638f"
>[ae2f7638f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Do not reject sudoers file just because it is root-writable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3316ac8eb"
>[3316ac8eb]</a></li>
</ul>
</dd>
<dt>2011-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48990e211"
>[48990e211]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
For &ldquo;sudo -U user -l&rdquo; if user is not authorized on the host, say so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbbd0603d"
>[fbbd0603d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
In sudo_ldap_lookup(), always do the initial sudoers check as the
invoking user. If we are listing another user&rsquo;s privs we will do a
separate lookup using list_pw later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be034d5e7"
>[be034d5e7]</a></li>
</ul>
</dd>
<dt>2011-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
add parser fill tests
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbb830c79"
>[dbb830c79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/regress/glob/globtest.c, compat/regress/glob/globtest.in:<br>
Don&rsquo;t test features not supported by the bundled glob()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cc54e4b8"
>[4cc54e4b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, common/Makefile.in, common/term.c,
compat/Makefile.in, configure.in, doc/LICENSE, doc/Makefile.in,
doc/sudo_plugin.man.in, doc/sudo_plugin.pod, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.pod, doc/sudoers.man.in, doc/sudoers.pod,
include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/pwutil.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/toke_util.c, src/Makefile.in,
zlib/Makefile.in:<br>
Update copyright year to 2011
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f8b6867"
>[f7f8b6867]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
When listing, use separate lbufs for the defaults and the privileges and
only print something if the number of privileges is non-zero. Fixes
extraneous Defaults output for &ldquo;sudo -U unauthorized_user -l&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96767abfe"
>[96767abfe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Stash pointer to user group vector in LDAP handle and only reuse the
query if it has not changed. We always allocate a new buffer when we
reset the group vector so a simple pointer check is sufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=215500bb5"
>[215500bb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Check initgroups() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=165dcfa37"
>[165dcfa37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/parser/check_fill.c:<br>
Add tests for the fill functions in toke_util.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cbd1ff72"
>[7cbd1ff72]</a></li>
</ul>
</dd>
<dt>2011-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/regress/iolog_path/check_iolog_path.c:<br>
fix copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79dff677d"
>[79dff677d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6565899ba"
>[6565899ba]</a></li>
</ul>
</dd>
<dt>2011-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>common/term.c:<br>
Clear, don&rsquo;t set, OPOST in c_oflag as was intended in 506ad5ae9b4e.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f953d839"
>[4f953d839]</a></li>
</ul>
</dd>
<dt>2011-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Add Requires line for audit-libs &gt;= 1.4 for RHEL5+
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b5a173ff"
>[5b5a173ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync with git version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=add7f327e"
>[add7f327e]</a></li>
</ul>
</dd>
<dt>2011-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0726c8fe2"
>[0726c8fe2]</a></li>
</ul>
</dd>
<dt>2011-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Update for sudo 1.7.4p5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3792df2bd"
>[3792df2bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.OpenLDAP, doc/schema.iPlanet:<br>
Add sudoNotBefore and sudoNotAfter attributes as optional attributes to
the sudoRole object class. From Andreas Mueller
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12895f77a"
>[12895f77a]</a></li>
</ul>
</dd>
<dt>2011-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS:<br>
Mention &ldquo;sudo -g group&rdquo; password check fix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b0a50d51"
>[5b0a50d51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix &ldquo;sudo -g&rdquo; support in the sudoers module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7a4529cf"
>[e7a4529cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
If the user is running sudo as himself but as a different group we need
to prompt for a password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d74e9567"
>[2d74e9567]</a></li>
</ul>
</dd>
<dt>2011-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>NEWS, config.h.in, configure, configure.in, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add support for TIMEOUT in ldap.conf, mapping to the OpenLDAP
LDAP_OPT_TIMEOUT. There is no corresponding option for mozilla-derived
LDAP SDKs but we can pass the timeout parameter to ldap_search_ext_s()
or ldap_search_st() when possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49409b7c5"
>[49409b7c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a628fee98"
>[a628fee98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add NETWORK_TIMEOUT as an alias for BIND_TIMELIMIT for compatibility
with OpenLDAP ldap.conf files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=823e81272"
>[823e81272]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
If user has no supplementary groups, fall back on checking the group
file expliticly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a043ca56"
>[8a043ca56]</a></li>
</ul>
</dd>
<dt>2011-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.h, plugins/sudoers/toke_util.c:<br>
constify
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e63849afb"
>[e63849afb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.h, plugins/sudoers/toke.l:<br>
Move fill macro to toke.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cc6322b4"
>[4cc6322b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/Makefile.in, plugins/sudoers/toke.c,
plugins/sudoers/toke.h, plugins/sudoers/toke.l,
plugins/sudoers/toke_util.c:<br>
Split tokenizer utility functions out into toke_util.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=400b6ffe2"
>[400b6ffe2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y, plugins/sudoers/toke.c,
plugins/sudoers/toke.l:<br>
ANSIfy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=866ffd0bd"
>[866ffd0bd]</a></li>
</ul>
</dd>
<dt>2011-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=385eeeb13"
>[385eeeb13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add visudo tests to check target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8cc22c0c"
>[e8cc22c0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, compat/regress/fnmatch/fnm_test.c,
compat/regress/fnmatch/fnm_test.in, compat/regress/glob/files,
compat/regress/glob/globtest.c, compat/regress/glob/globtest.in:<br>
Add my regress tests for fnmatch() and glob() from OpenBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac857d6e9"
>[ac857d6e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/regress/testsudoers/test1.sh,
plugins/sudoers/regress/visudo/test1.ok,
plugins/sudoers/regress/visudo/test1.sh:<br>
Add regress test for command tags using visudo -c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=460f760ca"
>[460f760ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in,
plugins/sudoers/regress/testsudoers/test1.ok,
plugins/sudoers/regress/testsudoers/test1.sh:<br>
Add support for regress tests using testsudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b679e0319"
>[b679e0319]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c:<br>
Need to set user_name explicitly due to internal changes made when
converting sudoers to a plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=217d29611"
>[217d29611]</a></li>
</ul>
</dd>
<dt>2011-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in, common/Makefile.in, compat/Makefile.in,
doc/Makefile.in, include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/regress/iolog_path/check_iolog_path.c,
plugins/sudoers/regress/iolog_path/data, src/Makefile.in,
zlib/Makefile.in:<br>
Add regression tests for iolog_path()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1defd7b45"
>[1defd7b45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in, zlib/Makefile.in:<br>
Add support for &ldquo;make Makefile&rdquo; to regenerate Makefile from Makefile.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8de3f632"
>[f8de3f632]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Quiest a bogus compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2596e3f7"
>[d2596e3f7]</a></li>
</ul>
</dd>
<dt>2011-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Protect call to setlocale() with HAVE_SETLOCALE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f09bbcb6b"
>[f09bbcb6b]</a></li>
</ul>
</dd>
<dt>2011-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST:<br>
mkstemps.c was renamed mktemp.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42f7a6c25"
>[42f7a6c25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS:<br>
Update from 1.7 branch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3552b061"
>[f3552b061]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Use &ldquo;mv -f&rdquo; when regenerating ChangeLog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6013eb96"
>[d6013eb96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Fix NULL dereference with &ldquo;sudo -g group&rdquo; when the sudoers rule has no
runas user or group listed. Fixes RedHat bug Bug 667103.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b92b745ea"
>[b92b745ea]</a></li>
</ul>
</dd>
<dt>2011-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Correct the default sudo.conf example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33201c04e"
>[33201c04e]</a></li>
</ul>
</dd>
<dt>2010-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Reset slashp if we allocate a new buffer for strftime()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b76c79885"
>[b76c79885]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add extra out parameter to expand_iolog_path() to allow the caller to
split the path into dir and file components if needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bb3518b3"
>[1bb3518b3]</a></li>
</ul>
</dd>
<dt>2010-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
mkdir_iopath() returns size_t now that it uses strlcpy() and not
snprintf()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=755e3ef0a"
>[755e3ef0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c:<br>
Trim leading slashes from iolog_file and trailing slashes from iolog_dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f580397e"
>[7f580397e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
plugins/sudoers/iolog.c, plugins/sudoers/iolog_path.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Pass a single I/O log file name in command_details instead of separate
dir + file parameters.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25036d7a7"
>[25036d7a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
change an error() to errorx()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fb085dfa"
>[2fb085dfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add missing cwd line to I/O log info file that got dropped when
iolog_deserialize_info() was added
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83de9e28f"
>[83de9e28f]</a></li>
</ul>
</dd>
<dt>2010-12-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Avoid relying on globals filled in by the sudoers policy module for the
sudoers I/O log module. The I/O log open function now pulls the bits it
needs out of user_info and command_info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fec059a89"
>[fec059a89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
If no iolog file is specified by the policy plugin, use io_nextid() to
determine the next file in the sequence.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97b7ae889"
>[97b7ae889]</a></li>
</ul>
</dd>
<dt>2010-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document iolog_compress in command_info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f6f61f85"
>[3f6f61f85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:<br>
Add support for the iolog_compress variable in command_info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02ed3d5b3"
>[02ed3d5b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:<br>
Add sigsetjmp() calls to all plugin entry points just to be safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bff14f60e"
>[bff14f60e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c, src/sudo.h:<br>
Don&rsquo;t need iolog variables in struct command_details, they are for the
I/O log plugins to handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5966b67dd"
>[5966b67dd]</a></li>
</ul>
</dd>
<dt>2010-12-27  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Document use of mkdtemp() for iolog path teplates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21dd6af79"
>[21dd6af79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.man.in, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3cd512bf"
>[e3cd512bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, doc/sudoers.pod:<br>
Document iolog_file and supported escape sequences for sudoers. Clarify
that iolog_file can contain directories.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05807cf5e"
>[05807cf5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in:<br>
Fix building of mkstemps/mkdtemp replacements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8499baaa"
>[b8499baaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mktemp.c, config.h.in, configure, configure.in,
include/missing.h:<br>
Provide mkdtemp() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cf56a77e"
>[5cf56a77e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog_path.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36d8fbb90"
>[36d8fbb90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Only use mkdtemp() if the path ends in at least 6 Xs since otherwise
glibc mkdtemp() returns EINVAL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c1aecd48"
>[4c1aecd48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/iolog.c,
plugins/sudoers/iolog_path.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Allow sudoers to specify the iolog file in addition to the iolog dir.
Add escape sequence support to iolog file and dir: sequence number,
user, group, runas_user, runas_group, hostname and command in addition
to any escape sequence recognized by strftime(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fba58fa3f"
>[fba58fa3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add missing sigsetjmp() call in I/O plugin open function. Fixes a crash
when the I/O plugin calls error(), errorx() or log_error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=524021a37"
>[524021a37]</a></li>
</ul>
</dd>
<dt>2010-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.pod, plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:
Give the policy module fine-grained control over what the I/O plugin
logs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d59c10b9"
>[5d59c10b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/term.c:<br>
Clear OPOST from c_oflag like we used to. Fixes screen-based editors
such as vi.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6505d10cc"
>[6505d10cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Clarify umask option description. From Reuben Thomas.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad41fb497"
>[ad41fb497]</a></li>
</ul>
</dd>
<dt>2010-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Pick last match in LDAP sudoers too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93e963584"
>[93e963584]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod:<br>
Document iolog_file, iolog_dir and use_pty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4294e4db8"
>[4294e4db8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c, plugins/sudoers/iolog.c,
plugins/sudoers/sudoers.c:<br>
Adapt plugins to version I/O logging ABI 1.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a10f21679"
>[a10f21679]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/sudo.h:<br>
Add use_pty command_info flag for policies to indicate that a pty should
be allocated even if no I/O logging is performed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c833ff02b"
>[c833ff02b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add remaining plugin convenience functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1a22ff15"
>[c1a22ff15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, src/sudo.c, src/sudo.h, src/sudo_plugin_int.h:<br>
Change I/O log API to pass in command info to the I/O log open function.
Add iolog_file and iolog_dir parameters to command info. This allows the
policy plugin to specify the I/O log pathname. Add convenience functions
for calling plugin functions that handle ABI backwards compatibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9948dae70"
>[9948dae70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Remove useless cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30797ab8a"
>[30797ab8a]</a></li>
</ul>
</dd>
<dt>2010-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Bump version to 1.8.0b3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6649afddb"
>[6649afddb]</a></li>
</ul>
</dd>
<dt>2010-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
Remove extraneous newline
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa8a996d5"
>[aa8a996d5]</a></li>
</ul>
</dd>
<dt>2010-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod, plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c:<br>
Make I/O log dir configurable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2a698460"
>[b2a698460]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, doc/sudoers.pod:<br>
Rename io_logdir to iolog_dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c2368851"
>[6c2368851]</a></li>
</ul>
</dd>
<dt>2010-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Add missing &lsquo;*&rsquo; that prevented the generic ELF case from matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14d792dff"
>[14d792dff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
If file(1) can&rsquo;t identify the ELF binary type, try readelf(1).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d734f6b41"
>[d734f6b41]</a></li>
</ul>
</dd>
<dt>2010-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/kerb4.c, plugins/sudoers/check.c,
plugins/sudoers/env.c, plugins/sudoers/pwutil.c,
plugins/sudoers/sudoers.c, src/sudo.c:<br>
Use %u to print uid/gid, not %lu and adjust casts to match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4527bdd9b"
>[4527bdd9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.pod:<br>
Clarify ordering of entries and attributes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f605ebfa"
>[3f605ebfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.pod:<br>
Fix typo and editing goof.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23df0b6fa"
>[23df0b6fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.ActiveDirectory, doc/schema.OpenLDAP, doc/schema.iPlanet,
doc/sudoers.ldap.pod:<br>
Merge in ordered LDAP entry support from Andreas Mueller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feb02ed40"
>[feb02ed40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Make sure we don&rsquo;t dereference a NULL handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e59d4c5c"
>[7e59d4c5c]</a></li>
</ul>
</dd>
<dt>2010-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Add support for RHEL 6 file modes that include a trailing dot on files
with an SELinux security context
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e087f09d"
>[7e087f09d]</a></li>
</ul>
</dd>
<dt>2010-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
exec_setup() does not need to setuid(0), the Ubuntu issue was in the
sudoers module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0d0e1b9f"
>[d0d0e1b9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
create_admin_success_flag() should use restore_perms() rather than
set_perms() to restore the uid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f4b21521"
>[8f4b21521]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
In exec_setup() call setuid(0) to make certain the subsequent uid and
gid changes will succeed. Fixes a problem on Ubuntu.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d39747e6a"
>[d39747e6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Error out if we cannot change to root&rsquo;s uid so we catch the failure
early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d869ca1f9"
>[d869ca1f9]</a></li>
</ul>
</dd>
<dt>2010-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
fix typo; from Michael T Hunter
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb4a8a4dc"
>[bb4a8a4dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
In sudoedit mode, assume command line arguments are paths and pass
FNM_PATHNAME to fnmatch().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70cf50fd2"
>[70cf50fd2]</a></li>
</ul>
</dd>
<dt>2010-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add workaround for an error in sys/types.h on HP-UX 11.23 when large
file support is enabled. Defining _XOPEN_SOURCE_EXTENDED avoids the
broken bits of the header file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81da78ff3"
>[81da78ff3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
Fix SUDO_MAILDIR usage of AC_LANG_PROGRAM
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bd089776"
>[5bd089776]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
For Tru64, strip off beta version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=494bd14de"
>[494bd14de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, plugins/sudoers/testsudoers.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/tsgetgrpw.h:<br>
Avoid conflicts with system definitions in grp.h and pwd.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a0f2164e"
>[5a0f2164e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>zlib/gzguts.h:<br>
Include stdio.h after zlib.h, not before. We need the large file defines
to come first.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a4762b2b"
>[5a4762b2b]</a></li>
</ul>
</dd>
<dt>2010-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=901ca2a12"
>[901ca2a12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Don&rsquo;t clean ChangeLog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45da48440"
>[45da48440]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Add prototype for cleanup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51f401fa3"
>[51f401fa3]</a></li>
</ul>
</dd>
<dt>2010-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Avoid deferencing group_plugin if it is NULL in group_plugin_query().
This should not happen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c73306983"
>[c73306983]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
group plugin init function return TRUE when successful
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b2fb225c"
>[4b2fb225c]</a></li>
</ul>
</dd>
<dt>2010-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Enlarge the array of entry wrappers int blocks of 100 entries to save on
allocation time. From Andreas Mueller
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef5f73a49"
>[ef5f73a49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Add back call to sudo_ldap_timefilter() in sudo_ldap_build_pass2() that
was mistakenly dropped.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9353d95c"
>[f9353d95c]</a></li>
</ul>
</dd>
<dt>2010-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/TROUBLESHOOTING:<br>
Mention that sudo needs &ldquo;ar&rdquo; to build.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab651135d"
>[ab651135d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fail with a more useful error if &ldquo;ar&rdquo; is not found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c2dcaa10"
>[4c2dcaa10]</a></li>
</ul>
</dd>
<dt>2010-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Merge in ordered LDAP entry support from Andreas Mueller and add local
changes from the 1.7 branch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8940f361e"
>[8940f361e]</a></li>
</ul>
</dd>
<dt>2010-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/schema.ActiveDirectory, doc/schema.OpenLDAP, doc/schema.iPlanet,
doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add timed entry support from Andreas Mueller.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b0fca31c"
>[2b0fca31c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Don&rsquo;t try to unload if group_plugin is NULL. Don&rsquo;t call dlclose() if
group_handle is NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82453cfde"
>[82453cfde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
It is now plugin_cleanup(), not cleanup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26d71ded7"
>[26d71ded7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/sudoers.c:<br>
Call plugin_cleanup(), not cleanup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5536ea49f"
>[5536ea49f]</a></li>
</ul>
</dd>
<dt>2010-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use efree() not free() and remove malloc.h include since we never
directly call malloc() or free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8597c3919"
>[8597c3919]</a></li>
</ul>
</dd>
<dt>2010-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
set PSTAMP for Solaris and move the backend-specific bits to their own
%if [xxx] %endif blocks in %set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4733872cb"
>[4733872cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
sync with git repo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6c8ba107"
>[f6c8ba107]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only substitute file zlib files when using the builtin zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4e323c11"
>[d4e323c11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in, zlib/Makefile.in:<br>
Give up on using VPATH to find sources as it is implemented
inconsistenly in different versions of make.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47323843a"
>[47323843a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/getdate.c,
plugins/sudoers/gram.c, plugins/sudoers/toke.c:<br>
Include config.h before any other includes to make sure we get the right
value for _FILE_OFFSET_BITS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39d1167f3"
>[39d1167f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Add zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aef91eb1d"
>[aef91eb1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>zlib/Makefile.in:<br>
Add missing targets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c1675be"
>[19c1675be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
g/c unused $(GENERATED)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6965a530"
>[c6965a530]</a></li>
</ul>
</dd>
<dt>2010-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Zero out group_plugin on unload just to be safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=452d8765b"
>[452d8765b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Unload group plugin if its init function fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da35e5f42"
>[da35e5f42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Only chdir to cwd if it is different from the current cwd or there is a
new root (chroot).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01dcbfce7"
>[01dcbfce7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, doc/sudo.cat, doc/sudo.man.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
Bump version to 1.8.0b2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=852882750"
>[852882750]</a></li>
</ul>
</dd>
<dt>2010-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Better &ndash;enable-zlib description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d54dd245a"
>[d54dd245a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use system zlib on Linux Let configure decide on Solaris For all others,
use builtin zlib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c0849853"
>[1c0849853]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>zlib/zconf.h.in:<br>
Add large file support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3591af576"
>[3591af576]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add large file support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6247b8546"
>[6247b8546]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, doc/LICENSE, doc/license.pod,
zlib/Makefile.in, zlib/adler32.c, zlib/compress.c, zlib/crc32.c,
zlib/crc32.h, zlib/deflate.c, zlib/deflate.h, zlib/gzclose.c,
zlib/gzguts.h, zlib/gzlib.c, zlib/gzread.c, zlib/gzwrite.c,
zlib/infback.c, zlib/inffast.c, zlib/inffast.h, zlib/inffixed.h,
zlib/inflate.c, zlib/inflate.h, zlib/inftrees.c, zlib/inftrees.h,
zlib/trees.c, zlib/trees.h, zlib/uncompr.c, zlib/zconf.h.in,
zlib/zlib.h, zlib/zutil.c, zlib/zutil.h:<br>
Add local copy of zlib for systems that lack it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=361cd2907"
>[361cd2907]</a></li>
</ul>
</dd>
<dt>2010-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
If perform_io() fails, kill the child before exiting so it doesn&rsquo;t
complain about connection reset. We can get an I/O error if, for
example, and we get EIO reading from stdin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a11e4c8d7"
>[a11e4c8d7]</a></li>
</ul>
</dd>
<dt>2010-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
Fix complilation on systems with set_auth_parameters() Sprinkle volatile
to quiet warnings from gcc 2.8.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93d2420de"
>[93d2420de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlfcn.h, compat/dlopen.c:<br>
Avoid potential namespace issues with dlopen() emulation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4abd86c6"
>[e4abd86c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=609c5db8f"
>[609c5db8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c:<br>
Use INADDR_NONE instead of casting -1 to in_addr_t (which may not
exist).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c615ca742"
>[c615ca742]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Mark ChangeLog as PHONY Don&rsquo;t overwrite ChangeLog if we can&rsquo;t run hg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a178a430a"
>[a178a430a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
HP-UX 10.20 libc has an incompatible getline
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49d1142df"
>[49d1142df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Quiet an HP-UX compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e01f2b7a"
>[1e01f2b7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Check for vi even with &ndash;with-editor specified; the sample plugin needs
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56bdfe941"
>[56bdfe941]</a></li>
</ul>
</dd>
<dt>2010-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Fix remaining syntax errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=070446bc3"
>[070446bc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
sudo binary depends on the libtool-generated libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=298d0cbe2"
>[298d0cbe2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, src/load_plugins.c:<br>
Use HAVE_DLOPEN instead of HAVE_DLFCN_H when determining whether to
include the local or system dlfcn.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86a4a5232"
>[86a4a5232]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Don&rsquo;t use run_as_superuser=false on HP-UX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=798fc86a9"
>[798fc86a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/net_ifs.c:<br>
Use memset() instead of zero_bytes() since we don&rsquo;t include sudoers.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ff8d5e78"
>[3ff8d5e78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.c:<br>
Fix pasto; AF_INET not AF_INET6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06b0aa118"
>[06b0aa118]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Actually call shl_load()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6853848"
>[de6853848]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Update from git repo. Debian: version numbers now compliant with policy
section 5.6.12 HP-UX: minimal changes needed to work on HP-UX 10.20
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2e5cfe18"
>[e2e5cfe18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix dlopen() detection for systems where dlopen() is in a separate
library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=443d18b11"
>[443d18b11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
If pam_acct_mgmt() returns PAM_AUTH_ERR print a (hopefully) more useful
message and return AUTH_FATAL so sudo does not keep trying to validate
the user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5205414"
>[6a5205414]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/preload.c:<br>
sudo_preload_table is an array
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fc7233d2"
>[5fc7233d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlopen.c:<br>
Quiet a compiler warning and fix sudo_preload_table external definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86d3e4bf0"
>[86d3e4bf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/dlfcn.h:<br>
Fix multiple inclusion guard in dlfcn.h and fix dlerror() prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc327471b"
>[dc327471b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Make this compile correctly when no dlopen is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=751f597b2"
>[751f597b2]</a></li>
</ul>
</dd>
<dt>2010-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Having a timestamp file defined is no longer indicative of tty tickets
being enabled. Check def_tty_tickets directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66ea39985"
>[66ea39985]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/sudo.h, src/ttysize.c:<br>
Fix TCGETWINSZ compat.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2f253e51"
>[e2f253e51]</a></li>
</ul>
</dd>
<dt>2010-10-02  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c, src/ttysize.c:<br>
Prefer newer TIOCGWINSZ ioctl to old TIOCGSIZE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a4990f57"
>[1a4990f57]</a></li>
</ul>
</dd>
<dt>2010-10-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
Move set_project() from sudoers module into sudo proper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b4fe798d"
>[6b4fe798d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix typo and regenerate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e59fa31ba"
>[e59fa31ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
When iterating over returned LDAP entries, keep looking at remaining
matches even if we have a positive match. This catches negative matches
that may exist in other entries and more closely match the sudoers file
behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a627c60de"
>[a627c60de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Add support for multiple package instances on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acaceb424"
>[acaceb424]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Add missing signal_pipe[0] to fdsr for the non-pty case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=413b7b55d"
>[413b7b55d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add &ndash;with-project for Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d93df4e87"
>[d93df4e87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
Need ar and ranlib too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bae9e2cb"
>[2bae9e2cb]</a></li>
</ul>
</dd>
<dt>2010-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Preserve ODMDIR environment variable by default on AIX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=614e2a642"
>[614e2a642]</a></li>
</ul>
</dd>
<dt>2010-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, compat/Makefile.in, compat/dlfcn.h, compat/dlopen.c,
config.h.in, configure, configure.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
plugins/sudoers/group_plugin.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, src/Makefile.in, src/load_plugins.c,
src/preload.c:<br>
Add dlopen() emulation for systems without it. For HP-UX 10, emulate
using shl_load(). For others, link sudoers plugin statically and use a
lookup table to emulate dlsym().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f538ed4e3"
>[f538ed4e3]</a></li>
</ul>
</dd>
<dt>2010-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/fnmatch.c, compat/glob.c, compat/mksiglist.c, compat/nanosleep.c,
compat/utimes.c:<br>
When including compat headers, use the compat dir as part of the path so
we are sure to get the correct header.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0b57fbef"
>[b0b57fbef]</a></li>
</ul>
</dd>
<dt>2010-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/linux_audit.c:<br>
Ignore ECONNREFUSED from audit_log_user_command() which will occur if
auditd is not running.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=590eed3bd"
>[590eed3bd]</a></li>
</ul>
</dd>
<dt>2010-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Sync with git version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89f161ad8"
>[89f161ad8]</a></li>
</ul>
</dd>
<dt>2010-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>common/fileops.c, plugins/sudoers/defaults.c:<br>
Cast isblank argument to unsigned char.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48d7c7833"
>[48d7c7833]</a></li>
</ul>
</dd>
<dt>2010-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.pod, plugins/sudoers/defaults.c:<br>
Implement &ndash;with-umask-override configure flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b51afe624"
>[b51afe624]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Take MODE_LOGIN_SHELL into account when initially setting reset_home
instead of special-casing it later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed45e68da"
>[ed45e68da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In login mode, make a copy of the runas user&rsquo;s pw_shell for NewArgv[0]
because 1) we modify it and 2) it will runas_pw gets freed before exec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53f9cfe06"
>[53f9cfe06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Reset HOME for &ldquo;sudo -i&rdquo; even if HOME was listed in env_keep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce942f18c"
>[ce942f18c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Use SIG_SETMASK when resetting signal mask instead of SIG_UNBLOCK.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ece29bdea"
>[ece29bdea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Reset signal mask at sudo startup time; we need to be able to rely on
normal signal delivery to control the child process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01c7840dc"
>[01c7840dc]</a></li>
</ul>
</dd>
<dt>2010-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
Use sed instead of expr to split a flag from its argument. Fixes a
problem with expr interpreting its arguments as a flag when they start
with a dash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=607eab115"
>[607eab115]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Do not need sys/time.h after all
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdf877d53"
>[fdf877d53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c:<br>
Include sys/time.h for utimes() and struct timeval. No longer need
ioctl.h or termios.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=702a2bff2"
>[702a2bff2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/snprintf.c:<br>
Quiet bogus compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=502555d2d"
>[502555d2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Declare innetgr() for HP-UX which is missing a declaration. Declare
domainname() for HP-UX and Solaris which are missing a declaration.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da67324b1"
>[da67324b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Use __sun for consistency with the rest of the sources.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77eb8cfe5"
>[77eb8cfe5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c:<br>
Quiet a bogus compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4101f2eef"
>[4101f2eef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Don&rsquo;t try to delref a NULL group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=933c71e9c"
>[933c71e9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/lbuf.c:<br>
Include memory.h on systems that need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=149026989"
>[149026989]</a></li>
</ul>
</dd>
<dt>2010-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Quiet gcc warnings on glibc systems that use warn_unused_result for
write(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c04f48b4b"
>[c04f48b4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
sudo_plugin is in section 8; from Ted Percival
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd1884bb4"
>[bd1884bb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
testsudoers depends on libsudoers.la, not sudoreplay
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ce8b35cd"
>[4ce8b35cd]</a></li>
</ul>
</dd>
<dt>2010-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
Read as many signals on the signal pipe as we can before returning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66bea8c4c"
>[66bea8c4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo_exec.h:<br>
Instead of using a array to store received signals, open a pipe and have
the signal handler write the signal number to one end and select() on
the other end. This makes it possible to handle signals similar to I/O
without race conditions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59399d55c"
>[59399d55c]</a></li>
</ul>
</dd>
<dt>2010-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/visudo.pod, plugins/sudoers/visudo.c:<br>
Make &ldquo;visudo -c -f -&rdquo; check the standard input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f601085de"
>[f601085de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
set_home and always_set_home have an effect if HOME is present in the
env_keep list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b91a12988"
>[b91a12988]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Make -H flag work when HOME is listed in env_keep. Also makes &ldquo;set_home&rdquo;
and &ldquo;always_set_home&rdquo; override override HOME in env_keep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b9ca115b"
>[1b9ca115b]</a></li>
</ul>
</dd>
<dt>2010-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/interfaces.c,
plugins/sudoers/interfaces.h, plugins/sudoers/match.c,
plugins/sudoers/sudoers.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c, src/net_ifs.c:<br>
Convert sudoers plugin to use interface list passed in settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e069b74dc"
>[e069b74dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.pod, src/Makefile.in, src/net_ifs.c, src/parse_args.c,
src/sudo.h:<br>
Query local network interfaces in the main sudo driver and pass to the
plugin as &ldquo;network_addrs&rdquo; in the settings list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1009d7a3e"
>[1009d7a3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/bsm_audit.c:<br>
Solaris BSM audit return EINVAL when auditing is not enabled, whereas
OpenBSM returns ENOSYS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9a352632"
>[d9a352632]</a></li>
</ul>
</dd>
<dt>2010-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/fnmatch.c:<br>
missing.h should come before most local includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e74b6e6b1"
>[e74b6e6b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
missing.h should come before most local includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d739608a8"
>[d739608a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
Make local includes consistent; use double quotes for local includes
except for generated ones where we use angle brackets.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c38f1460"
>[0c38f1460]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Always fill in NewArgv for audit code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d37ab560"
>[1d37ab560]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add missing LOG_INPUT/LOG_OUTPUT support in the lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5403757ed"
>[5403757ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/atobool.c, common/fileops.c, common/fmt_string.c,
common/lbuf.c, common/list.c, common/term.c, common/zero_bytes.c,
compat/closefrom.c, compat/fnmatch.c, compat/getcwd.c,
compat/getgrouplist.c, compat/getline.c, compat/getprogname.c,
compat/glob.c, compat/isblank.c, compat/memrchr.c, compat/mksiglist.c,
compat/mkstemps.c, compat/nanosleep.c, compat/setenv.c,
compat/snprintf.c, compat/strlcat.c, compat/strlcpy.c,
compat/strsignal.c, compat/unsetenv.c, compat/utimes.c,
include/compat.h, plugins/sample/sample_plugin.c,
plugins/sample_group/getgrent.c, plugins/sample_group/plugin_test.c,
plugins/sample_group/sample_group.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/boottime.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/linux_audit.c, plugins/sudoers/match.c,
plugins/sudoers/plugin_error.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/timestr.c, src/error.c, src/sesh.c, src/sudo.h,
src/sudo_noexec.c, src/ttysize.c:<br>
Make local includes consistent; use double quotes for local includes
except for generated ones where we use angle brackets. Also g/c unused
compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10c3bb62c"
>[10c3bb62c]</a></li>
</ul>
</dd>
<dt>2010-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
When matching the runas user and runas group (-u and -g command line
options), keep track of runas group and runas user matches separately.
Only return a positive match if we have a match for both runas user and
runas group (if specified).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ec596c7d"
>[8ec596c7d]</a></li>
</ul>
</dd>
<dt>2010-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add support for multiple URI lines by joining the contents and passing
the result to ldap_initialize.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df8ec6fc2"
>[df8ec6fc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c:<br>
Do not return -1 on error from the display functions; the caller expects
a return value &gt;= 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27f6558df"
>[27f6558df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Do not set both MODE_EDIT and MODE_RUN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7d56e16e"
>[e7d56e16e]</a></li>
</ul>
</dd>
<dt>2010-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Move includes to the top of the file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d935f854"
>[0d935f854]</a></li>
</ul>
</dd>
<dt>2010-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add missing definition of timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c31210d66"
>[c31210d66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/fnmatch.c, compat/getprogname.c, compat/isblank.c,
compat/mksiglist.c, compat/strsignal.c, plugins/sudoers/plugin_error.c,
src/error.c, src/sudo_noexec.c:<br>
Add #include of sys/types.h for .c files that include missing.h to be
sure that size_t and ssize_t are defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=399381de9"
>[399381de9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Install sudoers file from the build dir not hte src dir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7213f7205"
>[7213f7205]</a></li>
</ul>
</dd>
<dt>2010-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
If runas_pw changes, reset the stashed runas aux group vector.
Otherwise, if runas_default is set in a per-command Defaults statement,
the command runs with root&rsquo;s aux group vector (i.e. the one that was
used when locating the command).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94de54b19"
>[94de54b19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add target to generate sudoers file Remove generated sudoers file as
part of distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=209a21051"
>[209a21051]</a></li>
</ul>
</dd>
<dt>2010-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c:<br>
When not logging I/O install a handler for SIGCONT and deliver it to the
command upon resume. Fixes bugzilla #431
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cef2bb5b"
>[2cef2bb5b]</a></li>
</ul>
</dd>
<dt>2010-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
g/c unused auth_pw extern definition
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88f9fea40"
>[88f9fea40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/sudoers.c:<br>
Move get_auth() into check.c where it is actually used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=256ee25ab"
>[256ee25ab]</a></li>
</ul>
</dd>
<dt>2010-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>common/lbuf.c:<br>
Convert a remaining puts() and putchar() to use the output function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a68c31306"
>[a68c31306]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/plugin_error.c:<br>
Plug memory leak
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2694e9e2"
>[a2694e9e2]</a></li>
</ul>
</dd>
<dt>2010-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Set dupcheck to TRUE when setting new HOME value if !env_reset but
always_set_home is true. Prevents a duplicate HOME in the environment
(old value plus the new one) introduced in f421f8827340.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d48cae18"
>[3d48cae18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/sudoers.in:<br>
Substitute sysconfdir in the installed sudoers file to get the correct
path for sudoers.d.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=598341d36"
>[598341d36]</a></li>
</ul>
</dd>
<dt>2010-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>src/get_pty.c:<br>
Fix typo that prevented compilation on Irix; Friedrich Haubensak
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9706b4c50"
>[9706b4c50]</a></li>
</ul>
</dd>
<dt>2010-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/aix.c, common/alloc.c,
common/atobool.c, common/fileops.c, common/fmt_string.c, common/lbuf.c,
common/list.c, common/term.c, common/zero_bytes.c, compat/Makefile.in,
compat/closefrom.c, compat/fnmatch.c, compat/getcwd.c,
compat/getgrouplist.c, compat/getline.c, compat/getprogname.c,
compat/glob.c, compat/isblank.c, compat/memrchr.c, compat/mksiglist.c,
compat/mkstemps.c, compat/nanosleep.c, compat/setenv.c,
compat/snprintf.c, compat/strlcat.c, compat/strlcpy.c,
compat/strsignal.c, compat/unsetenv.c, compat/utimes.c,
include/compat.h, include/missing.h, plugins/sample/sample_plugin.c,
plugins/sample_group/getgrent.c, plugins/sample_group/sample_group.c,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/boottime.c, plugins/sudoers/getdate.c,
plugins/sudoers/getdate.y, plugins/sudoers/linux_audit.c,
plugins/sudoers/plugin_error.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/timestr.c,
src/Makefile.in, src/error.c, src/sesh.c, src/sudo.h, src/sudo_noexec.c,
src/ttysize.c:<br>
Merge compat.h and missing.h into missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f454727bb"
>[f454727bb]</a></li>
</ul>
</dd>
<dt>2010-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
If the user hits ^C while a password is being read, error out before
reading any further passwords in the pam conversation function.
Otherwise, if multiple PAM auth methods are required, the user will have
to hit ^C for each one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ce5c4cd9"
>[6ce5c4cd9]</a></li>
</ul>
</dd>
<dt>2010-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Update comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=151a2cab5"
>[151a2cab5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document sudo_conv_t function and sudo_printf_t return values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4feaf3c26"
>[4feaf3c26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Make _sudo_printf return the number of characters printed on success
like printf(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10637f6e0"
>[10637f6e0]</a></li>
</ul>
</dd>
<dt>2010-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
sudoers.h includes sudo_plugin.h for us
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=129cf8d99"
>[129cf8d99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, common/gettime.c, compat/mkstemps.c,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c, src/sudo.h,
src/sudo_edit.c:<br>
Use gettimeofday() directly instead of via the gettime() wrapper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bcd9efc0"
>[6bcd9efc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/gettime.c, compat/snprintf.c, compat/strcasecmp.c,
compat/strerror.c, config.h.in, configure, configure.in,
include/compat.h, include/missing.h, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Remove some obsolete configure tests, ancient Unix systems are no longer
supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dd8aa000"
>[8dd8aa000]</a></li>
</ul>
</dd>
<dt>2010-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Set pp_kit_version and strip off patch level
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29efdc50a"
>[29efdc50a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Better handling of versions with a patchlevel. For rpm and deb, use the
patchlevel+1 as the release. For AIX, use the patchlevel as the 4th
version number. For the rest, just leave the patchlevel in the version
string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee2bdd248"
>[ee2bdd248]</a></li>
</ul>
</dd>
<dt>2010-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
For non-standalone auth methods, stop reading the password if the user
enters ^C at the prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2cc4740c"
>[d2cc4740c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/pwutil.c:<br>
No need to look up shadow password unless we are doing password-style
authentication. This moves the shadow password lookup to the auth
functions that need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96cb890d5"
>[96cb890d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Retain final passwd/group refs until the policy close() function. Note
that this doesn&rsquo;t get called in all cases so putting this in a cleanup
function is probably better.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb1848fab"
>[cb1848fab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix mismerge
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f2740135"
>[9f2740135]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
When removing/resetting the timestamp file ignore the tty ticket
contents.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=640f79e13"
>[640f79e13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
delref sudo_user.pw, runas_pw and runas_gr immediately before we return.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26526e667"
>[26526e667]</a></li>
</ul>
</dd>
<dt>2010-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/ldap.c,
plugins/sudoers/match.c, plugins/sudoers/pwutil.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Reference count cached passwd and group structs. The cache holds one
reference itself and another is added by sudo_getgr{gid,nam} and
sudo_getpw{uid,nam}. The final ref on the runas and user passwd and
group structs are persistent for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0186018d3"
>[0186018d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b011cf15"
>[7b011cf15]</a></li>
</ul>
</dd>
<dt>2010-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Do not produce a warning for &ldquo;sudo -k&rdquo; if the ticket file does not
exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec5722101"
>[ec5722101]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Instead of caching struct passwd and struct group in the red-black tree,
store a struct cache_item which includes both the key and datum. This
allows us to user the actual name that was looked up as the key instead
of the contents of struct passwd or struct group. This matters because
the name in the database may not match what we looked up, due either to
case folding or truncation (historically at 8 characters). Also mark the
disabled calls to sudo_freepwcache() and sudo_freegrcache() as broken
since we use cached data for things like set_perms() and the logging
functions. Fixing this would require making a copy of the structs for
user and runas or adding a reference count (better).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65eec19bd"
>[65eec19bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Fix path to mkinstalldirs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e74b389c"
>[4e74b389c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/visudo.c, src/exec_pty.c,
src/get_pty.c, src/tgetpass.c:<br>
Quiet gcc warnings on glibc systems that use warn_unused_result for
write(2) and others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=420db2371"
>[420db2371]</a></li>
</ul>
</dd>
<dt>2010-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add %option noinput
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=122940672"
>[122940672]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Add cross-compile defaults for remaining AC_TRY_RUN usage. Also add back
getgroups() check since AC_FUNC_GETGROUPS defaults to &ldquo;no&rdquo; when
cross-compiling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea79ea446"
>[ea79ea446]</a></li>
</ul>
</dd>
<dt>2010-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, compat/snprintf.c, config.h.in, configure, configure.in:<br>
Use AC_CHECK_MEMBER in SUDO_SOCK_SA_LEN Use AC_TYPE_LONG_LONG_INT and
AC_CHECK_SIZEOF([long int]) instead of rolling our own.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24a755bfe"
>[24a755bfe]</a></li>
</ul>
</dd>
<dt>2010-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Update to latest version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7861b4afd"
>[7861b4afd]</a></li>
</ul>
</dd>
<dt>2010-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Let pp determine pp_aix_version itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4ff63bd3"
>[e4ff63bd3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in, mkpkg,
plugins/sudoers/sudoers.c:<br>
Add support for Ubuntu admin flag file and enable it when building
Ubuntu packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d0395ee6"
>[6d0395ee6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers, sudo.pp:<br>
Add commented out SuSE-like targetpw settings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76ce69057"
>[76ce69057]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only try to use +DAportable for non-GCC on hppa
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=036a9d81b"
>[036a9d81b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Prevent configure from adding the -g flag unless in devel mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c7335e23"
>[5c7335e23]</a></li>
</ul>
</dd>
<dt>2010-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Go back to sudo-flavor to match existing packages and only use an
underscore for those that need it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae6145d4"
>[1ae6145d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Use sudo_$flavor instead of sudo-$flavor since that causes the least
amount of trouble for the various package managers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4b333bc4"
>[a4b333bc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Fix handling of the ldap flavor Remove destdir unless &ndash;debug was
specified Make distclean before running configure if there is a Makefile
present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6265c54c"
>[a6265c54c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Add back include file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fbe7a674"
>[0fbe7a674]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Pass extra args on to configure on HP-UX, if we don&rsquo;t have the HP C
compiler, disable zlib to prevent gcc from finding it in /usr/local/lib.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=707246a34"
>[707246a34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use the HP ANSI C compiler on HP-UX if possible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01e547bd1"
>[01e547bd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Some getline() implementations (FreeBSD 8.0) do not ignore the length
pointer when the line pointer is NULL as they should.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d06ad3b6"
>[5d06ad3b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Don&rsquo;t need to check for *cp being non-zero, isdigit() will do that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c33bf9350"
>[c33bf9350]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add setlocale() so the command line arguments that use floating point
work in different locales. Since sudo now logs the timing data in the C
locale we must Parse the seconds in the timing file manually instead of
using strtod(). Furthermore, sudo 1.7.3 logged the number of seconds
with the user&rsquo;s locale so if the decimal point is not &lsquo;.&rsquo; try using the
locale-specific version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18d25e96f"
>[18d25e96f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Do I/O logging in the C locale so the floating point numbers in the
timing file are not locale-dependent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e11e4efb8"
>[e11e4efb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Use errorx() not error() for thingsthat don&rsquo;t set errno.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3e4db124"
>[a3e4db124]</a></li>
</ul>
</dd>
<dt>2010-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
Better support for 1.2.3 style versions in Tru64 kits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14909efc6"
>[14909efc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Add Tru64 kit support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e66c22a3"
>[2e66c22a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Remove apparently unnecessary use of sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af182aed7"
>[af182aed7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, plugins/sudoers/Makefile.in:<br>
Create timedir as part of install-dirs target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c59ad3596"
>[c59ad3596]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Handle ENXIO from read/write which can occur when reading/writing a pty
that has gone away.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c96fbc2"
>[23c96fbc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
sudo_pwdup() was not expanding an empty pw_shell to _PATH_BSHELL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4168fcf2d"
>[4168fcf2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
platform is a pp flag not a variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eebebeec"
>[1eebebeec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, mkpkg, sudo.pp:<br>
Add simple arg parsing for mkpkg so we can set debug, flavor or
platform.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=551791a51"
>[551791a51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Make rpm backend work on AIX 5.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d02489ff4"
>[d02489ff4]</a></li>
</ul>
</dd>
<dt>2010-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers:<br>
Add commented out Defaults entry for log_output
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a346ba8df"
>[a346ba8df]</a></li>
</ul>
</dd>
<dt>2010-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove sudo docdir completely
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4b3a6d96"
>[a4b3a6d96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sample.sudo.conf:<br>
Add sample sudo.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=084ae523a"
>[084ae523a]</a></li>
</ul>
</dd>
<dt>2010-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add PACKAGE_TARNAME for docdir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeac8822b"
>[aeac8822b]</a></li>
</ul>
</dd>
<dt>2010-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Pass install-sh -b~ here too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06a918b88"
>[06a918b88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in, plugins/sample_group/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Install binary files with -b~ to make a backup. Fixes &ldquo;text file busy&rdquo;
error on HP-UX during install.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=092a6935e"
>[092a6935e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>install-sh:<br>
&ldquo;mv -f&rdquo; on HP-UX doesn&rsquo;t unlink the destination first so add an explicit
rm before moving the temporary into place.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49d82a04e"
>[49d82a04e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Some more ${foo} -&gt; $(foo) conversion for consistent Makefiles.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ba4a35a7"
>[5ba4a35a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, plugins/sudoers/Makefile.in:<br>
Install sudoers2ldif in the doc dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c016ecf00"
>[c016ecf00]</a></li>
</ul>
</dd>
<dt>2010-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>pathnames.h.in:<br>
Add missing include of maillock.h for Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=258a26d39"
>[258a26d39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>NEWS, configure, configure.in, doc/TROUBLESHOOTING, doc/UPGRADE,
doc/sample.syslog.conf, doc/sudoers.cat:<br>
Change the default syslog facility from local2 to authpriv (or auth if
the operating system doesn&rsquo;t support authpriv).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8660b5ea3"
>[8660b5ea3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.pp:<br>
Install sudoers as /etc/sudoers on RPM and debian systems where the
package manager will not replace a user-modified configuration file.
This fixes upgrades from the vendor sudo packages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=481a389e6"
>[481a389e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
RPM: use %config(noreplace) instead of %config for volatile This results
in the new file being installed with a .rpmnew suffix instead of the
file being replaced and the old one renamed with a .rpmsave suffix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0e282b50"
>[b0e282b50]</a></li>
</ul>
</dd>
<dt>2010-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/mkstemps.c, plugins/sudoers/boottime.c:<br>
Include time.h for struct timeval
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5183d6e59"
>[5183d6e59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
The return value of strsignal() may be const and should be treated as
const regardless.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9e86ab3b"
>[c9e86ab3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Mention that 127.0.0.1 will not match, nor will localhost unless that is
the actual host name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdecb14ea"
>[bdecb14ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, NEWS, README, doc/Makefile.in, doc/UPGRADE:<br>
Rename WHATSNEW -&gt; NEWS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72965e64"
>[a72965e64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pp:<br>
Updated pp with latest patches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f2263ae4"
>[3f2263ae4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
Sync with 1.7.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb0d7cdb8"
>[cb0d7cdb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/UPGRADE, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod,
plugins/sudoers/sudoers:<br>
Add commented out line to add HOME to env_keep and add a warning to the
note about the HOME change in UPGRADE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f45f57dca"
>[f45f57dca]</a></li>
</ul>
</dd>
<dt>2010-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Add LINE_MAX define for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8acd3403"
>[d8acd3403]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, WHATSNEW, config.h.in, configure, configure.in, doc/UPGRADE,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod,
plugins/sudoers/defaults.c:<br>
The tty_tickets option is now on by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2675524c3"
>[2675524c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
Mention that AIX authdb support has been fixed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9006c79ba"
>[9006c79ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/aix.c:<br>
setauthdb() only sets the &ldquo;old&rdquo; registry if it was set by a previous
call to setauthdb(). To restore the original value, passing NULL (or an
empty string) to setauthdb() is sufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3b397be0"
>[f3b397be0]</a></li>
</ul>
</dd>
<dt>2010-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW, doc/UPGRADE, doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod,
doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod,
plugins/sudoers/env.c:<br>
Reset HOME when env_reset is enabled unless it is in env_keep
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee7221f1f"
>[ee7221f1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
The default for set_logname has been &ldquo;true&rdquo; for some time now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c31e1227f"
>[c31e1227f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Add missing include of time.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4382c30c0"
>[4382c30c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Fix check for dup2() return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10e6e572e"
>[10e6e572e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add PYTHONUSERBASE to initial_badenv_table
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eb1879fd"
>[2eb1879fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Treat an unknown defaults entry as a parse error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32e896f33"
>[32e896f33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c:<br>
Check return value of setdefs() but don&rsquo;t stop setting defaults if we
hit an unknown one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f65cfb9"
>[f7f65cfb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, aclocal.m4, config.h.in, configure, configure.in,
doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.pod, pathnames.h.in,
plugins/sudoers/env.c:<br>
If env_reset is enabled, set the MAIL environment variable based on the
target user unless MAIL is explicitly preserved in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69ecb3458"
>[69ecb3458]</a></li>
</ul>
</dd>
<dt>2010-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>pp:<br>
decode debian code names
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f3c1b590"
>[0f3c1b590]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3c3602c1"
>[a3c3602c1]</a></li>
</ul>
</dd>
<dt>2010-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
Merge with 1.7.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7fbdbe69"
>[a7fbdbe69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Restore RLIMIT_NPROC after the uid switch if it appears that
runas_setup() did not do it for us. Fixes a bash script problem on SuSE
with RLIMIT_NPROC set to RLIM_INFINITY.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=006427345"
>[006427345]</a></li>
</ul>
</dd>
<dt>2010-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, pp, sudo.pp:<br>
Restore the dot removal in the os version reported by polypkg. Adapt
mkpkg and sudo.pp to the change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3907d4363"
>[3907d4363]</a></li>
</ul>
</dd>
<dt>2010-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-pam-login
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33c029c8c"
>[33c029c8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
The tag is NOSETENV, not UNSETENV. From Petr Uzel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=225de6063"
>[225de6063]</a></li>
</ul>
</dd>
<dt>2010-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pp:<br>
Include flavor in solaris package name
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6575013a1"
>[6575013a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Older shells don&rsquo;t support IFS= so set explictly to space, tab, newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fd2e2564"
>[8fd2e2564]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Use &lsquo;=&rsquo; not &lsquo;==&rsquo; in test
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df1ed5f3e"
>[df1ed5f3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Fix typo that prevented debian from matching
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=338331186"
>[338331186]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add missing prefix setting for debian
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6dfa43d2"
>[d6dfa43d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Use tab indents to reduce the chance of problem with &lt;&lt;- Fix the
debian %set section, pp does not set pp_deb_distro Uncomment %sudo line
in sudoers for debian Uncomment some env_keep lines for RHEL, SLES and
debian to more closely match the vendor sudoers files. Add /etc/pam.d to
%files Remove the /etc/sudo-ldap.conf symlink on debian for ldap flavor
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a837375d"
>[8a837375d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers:<br>
Add commented out env_keep entries, sample Aliases and a %sudo line for
debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0bac430"
>[af0bac430]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Move zlib check later on in the script to avoid a strange shell problem
on SLES11.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ea95dae3"
>[3ea95dae3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Remove check for egrep; configure has its own
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77d3b8d09"
>[77d3b8d09]</a></li>
</ul>
</dd>
<dt>2010-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg:<br>
Enable zlib for linux distros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98650c9a2"
>[98650c9a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Add ldap flavor to default build
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=402b35a79"
>[402b35a79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Simplify rpm linux distro settings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f440808e5"
>[f440808e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, doc/UPGRADE, doc/sudoers.cat:<br>
Move time stamp files from /var/run/sudo to /var/{db,lib,adm}/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2c15aa4e"
>[c2c15aa4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix ChangeLog creation from build dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=669ca7899"
>[669ca7899]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Handle getcwd() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=482f9cfc8"
>[482f9cfc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, mkpkg, sudo.pp:<br>
Add ldap &ldquo;flavor&rdquo; for debian, controlled by the SUDO_FLAVOR environment
variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eccbde77d"
>[eccbde77d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pp:<br>
Create sudo group on debian
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3910c8fb5"
>[3910c8fb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg, sudo.pp:<br>
Add debian 4/5/6 and use the dot when doing version matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7dac1fc2"
>[a7dac1fc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure:<br>
Use a loop when searching for mv, sendmail and sh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09a6f4651"
>[09a6f4651]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Remove spurious &ldquo;and&rdquo;; from debian
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de3cfa25f"
>[de3cfa25f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.pod, doc/visudo.cat, doc/visudo.man.in,
doc/visudo.pod:<br>
Substitute the value of EDITOR into the sudoers and visudo manuals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26ca852a9"
>[26ca852a9]</a></li>
</ul>
</dd>
<dt>2010-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>mkpkg, pp, sudo.pp:<br>
Initial support for debian 4.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fde091cc0"
>[fde091cc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkpkg:<br>
Some platforms need -fPIE instead of -fpie
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=781788e2e"
>[781788e2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Only set PAM_RHOST for Solaris, where it is needed to avoid a bug. On
Linux it causes a DNS lookup via libaudit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efbc7f1d5"
>[efbc7f1d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Update MANIFEST to match packaging changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=594fb3c55"
>[594fb3c55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.psf:<br>
We now use pp to generate HP-UX packages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0544939f5"
>[0544939f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.binary, plugins/sudoers/Makefile.binary.in:<br>
Remove vestiges of old binary package bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab7a1c5ce"
>[ab7a1c5ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, common/Makefile.in, compat/Makefile.in,
doc/Makefile.in, include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
install-man -&gt; install-doc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a33996e74"
>[a33996e74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, doc/Makefile.in, include/Makefile.in, mkpkg,
plugins/sudoers/Makefile.in, pp, src/Makefile.in, sudo.pp:<br>
Use <a
  class="gdoc-markdown__link"
  href="http://rc.quest.com/topics/polypkg/"
>http://rc.quest.com/topics/polypkg/</a> for packaging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bcbce207"
>[7bcbce207]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>install-sh:<br>
Just ignore the -c option, it is the default Add support for -d option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69400709d"
>[69400709d]</a></li>
</ul>
</dd>
<dt>2010-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>pathnames.h.in, plugins/sudoers/env.c, plugins/sudoers/logging.c:<br>
Use _PATH_STDPATH instead of _PATH_DEFPATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b9e39ac8"
>[5b9e39ac8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Do not strip binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=151db86e3"
>[151db86e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Add &ndash;insults=disabled configure option to allow people to build in
insult support but have the insults disabled unless explicitly enabled
in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=791028169"
>[791028169]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mkstemps.c:<br>
Add prototype for gettime()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b7410074"
>[2b7410074]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/auth/pam.c,
plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add support for a sudo-i pam.d file to be used for &ldquo;sudo -i&rdquo;. Adapted
from a RedHat patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9de7b5f8"
>[d9de7b5f8]</a></li>
</ul>
</dd>
<dt>2010-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Fix mkstemps() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=684d1fd9f"
>[684d1fd9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, compat/Makefile.in, compat/mkstemps.c, config.h.in, configure,
configure.in, include/missing.h, src/sudo_edit.c:<br>
Use mkstemps() instead of mkstemp() in sudoedit. This allows sudoedit to
preserve the file extension (if any) which may be used by the editor
(like emacs) to choose the editing mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea4298bb5"
>[ea4298bb5]</a></li>
</ul>
</dd>
<dt>2010-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.ldap.pod,
plugins/sudoers/ldap.c:<br>
TLS_CACERT is now an alias for TLS_CACERTFILE. OpenLDAP uses TLS_CACERT,
not TLS_CACERTFILE in its ldap.conf. Other LDAP client code, such as
nss_ldap, uses TLS_CACERTFILE. Also document why you should avoid
disabling TLS_CHECKPEER is possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=432d27573"
>[432d27573]</a></li>
</ul>
</dd>
<dt>2010-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Make sudo_plugin format a bit more like a man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b1420b6d"
>[5b1420b6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Add suport for negated user/host/command lists in a Defaults entry. E.g.
Defaults:!baduser noexec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd6b72f48"
>[fd6b72f48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/Makefile.in, compat/Makefile.in, doc/Makefile.in,
include/Makefile.in, plugins/sample/Makefile.in,
plugins/sample_group/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
Add uninstall target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f33f75b7"
>[3f33f75b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in:<br>
Remove unused AR, SED and RANLIB variables
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ce6c94c"
>[98ce6c94c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Do not install sample plugins
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff7835722"
>[ff7835722]</a></li>
</ul>
</dd>
<dt>2010-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, aclocal.m4, compat/setenv.c, compat/unsetenv.c, configure,
configure.in, plugins/sudoers/env.c:<br>
Now that sudoers is a dynamically loaded module we cannot override the
libc environment functions because the symbols may already have been
resolved via libc. Remove getenv/putenv/setenv/unsetenv replacements
from sudoers and add replacements for setenv/unsetenv for systems that
lack them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6229c0e20"
>[6229c0e20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in:<br>
Link testsudoers with -ldl when needed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff4a61b92"
>[ff4a61b92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample_group/plugin_test.c:<br>
Remove unused time.h and add limits.h for PATH_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3f444747"
>[e3f444747]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.ldap.pod:<br>
Fix typo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=390696777"
>[390696777]</a></li>
</ul>
</dd>
<dt>2010-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample_group/plugin_test.c:<br>
Do not depend on strlcpy/strlcat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47c28e7ec"
>[47c28e7ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample_group/plugin_test.c:<br>
Standalone test driver for sudoers group plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a058e4af"
>[6a058e4af]</a></li>
</ul>
</dd>
<dt>2010-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/group_plugin.c, src/load_plugins.c:<br>
Use RTLD_LAZY instead of RTLD_NOW; was using RTLD_NOW as a debugging
aid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17dbb33e5"
>[17dbb33e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample_group/sample_group.c:<br>
Fix style nit in function declarations
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e91ebff1"
>[7e91ebff1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Document group_plugin syntax.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2822c6c8c"
>[2822c6c8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document the sudoers group plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d1731261"
>[9d1731261]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, Makefile.in, config.h.in, configure, configure.in,
doc/LICENSE, doc/license.pod, include/sudo_plugin.h,
plugins/sample_group/Makefile.in, plugins/sample_group/getgrent.c,
plugins/sample_group/sample_group.c, plugins/sudoers/Makefile.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/group_plugin.c,
plugins/sudoers/match.c, plugins/sudoers/nonunix.h,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/vasgroups.c, plugins/sudoers/visudo.c, src/sudo.c:<br>
Replace built-in non-unix group support with a sudoers group plugin.
Include a sample plugin that can read Unix-format group files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6b48d415"
>[e6b48d415]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, src/load_plugins.c:<br>
Add a trailing slash to _PATH_SUDO_PLUGIN_DIR to simplify usage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66eafd099"
>[66eafd099]</a></li>
</ul>
</dd>
<dt>2010-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, doc/sudoers.cat,
doc/sudoers.man.in, doc/sudoers.pod:<br>
Move sudoers-specific bits out of sudo(8) and into sudoers(5)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=454534eff"
>[454534eff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Substitute @io_logdir@ for the sudoers I/O log directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e60378c4"
>[9e60378c4]</a></li>
</ul>
</dd>
<dt>2010-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, common/Makefile.in, common/aix.c, common/alloc.c,
common/atobool.c, common/fileops.c, common/fmt_string.c, common/lbuf.c,
common/term.c, compat/fnmatch.c, compat/getcwd.c, compat/getgrouplist.c,
compat/getline.c, compat/glob.c, compat/snprintf.c, config.h.in,
configure, configure.in, include/fileops.h,
plugins/sample/sample_plugin.c, plugins/sudoers/alias.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/boottime.c,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/getspwuid.c, plugins/sudoers/goodpath.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/parse.c,
plugins/sudoers/pwutil.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c, src/Makefile.in, src/conversation.c,
src/exec.c, src/exec_pty.c, src/get_pty.c, src/load_plugins.c,
src/parse_args.c, src/sudo.c, src/sudo.h, src/sudo_edit.c,
src/tgetpass.c:<br>
Set usrinfo for AIX Set adminstrative domain for the process when
looking up user&rsquo;s password or group info and when preparing for
execve(). Include strings.h even if string.h exists since they may
define different things. Fixes warnings on AIX and others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30fe4a067"
>[30fe4a067]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add a separate all target for AIX make which was using the entire LHS
(not just the first entry) of the first target as the implicit target.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd40be626"
>[fd40be626]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Do not rely on env.env_len when unsetting a variable, just use the NULL
terminator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=862d1675c"
>[862d1675c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
In unsetenv() check for NULL or empty name as per POSIX 1003.1-2008
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c0a02dfd"
>[0c0a02dfd]</a></li>
</ul>
</dd>
<dt>2010-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/vasgroups.c:<br>
Use warningx() instead of log_error() since the latter is not available
to visudo or testsudoers. This does mean that they don&rsquo;t end up in
syslog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=895e30184"
>[895e30184]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Defer call to sudo_nonunix_groupcheck_cleanup() until after we have
closed the sudoers sources. From Quest sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=189b43fed"
>[189b43fed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/pwutil.c:<br>
Ignore case when matching user/group names in the cache. From Quest
sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f58fd36b"
>[8f58fd36b]</a></li>
</ul>
</dd>
<dt>2010-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/selinux.c:<br>
Add check for setkeycreatecon() when &ndash;with-selinux is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=867ba48db"
>[867ba48db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Error out if libaudit.h is missing or ununable when &ndash;with-linux-audit
was specified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d63f49bca"
>[d63f49bca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/HISTORY, doc/history.pod:<br>
Add =head3 entries, mostly for the html version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=175760a44"
>[175760a44]</a></li>
</ul>
</dd>
<dt>2010-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/HISTORY, doc/history.pod:<br>
Mention when LDAP was incorporate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e87364437"
>[e87364437]</a></li>
</ul>
</dd>
<dt>2010-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Define _LINUX_SOURCE_COMPAT on AIX for strsignal() prototype, it is not
covered by _ALL_SOURCE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39bccab39"
>[39bccab39]</a></li>
</ul>
</dd>
<dt>2010-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add a cast to quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d69e4fd42"
>[d69e4fd42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41b15ae81"
>[41b15ae81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/defaults.c, plugins/sudoers/sudoers.c:<br>
Call set_fqdn() after sudoers has parsed instead of inline as a
callback.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1bf11db3"
>[d1bf11db3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, plugins/sudoers/sudoers.c:<br>
Do not call set_fqdn() until sudoers parses (where is gets run as a
callback).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d79b0ece1"
>[d79b0ece1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
mention the change in tty ticket behavior when there is no tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=677a0be85"
>[677a0be85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Do not update tty ticket if there is no tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5c5a9bf6"
>[f5c5a9bf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/LICENSE, doc/license.pod:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4da73db1"
>[c4da73db1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Do not rely on BSD make&rsquo;s $&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf1d8359c"
>[cf1d8359c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Set timedir to /var/db/sudo for darwin to match Apple sudo&rsquo;s location
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c1e75824"
>[7c1e75824]</a></li>
</ul>
</dd>
<dt>2010-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
Add stub declarations for struct stat and struct timeval
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a16dc514"
>[9a16dc514]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Remove compat/sigaction.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87281cf28"
>[87281cf28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/defaults.c,
plugins/sudoers/iolog.c, plugins/sudoers/sudoreplay.c:<br>
Check for zlib.h in addition to libz.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebc152ce8"
>[ebc152ce8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_pty.c, src/sudo.h,
src/sudo_exec.h:<br>
Move functions and symbols shared between exec.c and exec_pty.c into
sudo_exec.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d018936b4"
>[d018936b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Comment out rules to build .man.in and .cat files unless &ndash;with-devel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ede8a5fad"
>[ede8a5fad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Comment out rules to build .man.in and .cat files unless &ndash;with-devel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1bd1dd60"
>[c1bd1dd60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Quote any non-alphanumeric characters other than &lsquo;_&rsquo; or &lsquo;-&rsquo; when passing
a command to be run via the shell for the -s and -i options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46355186b"
>[46355186b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Add back .man suffix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6363305b3"
>[6363305b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, MANIFEST, WHATSNEW, config.h.in, configure, configure.in,
plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/linux_audit.c,
plugins/sudoers/linux_audit.h, plugins/sudoers/logging.h, src/selinux.c:
Add Linux audit support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cd108304"
>[2cd108304]</a></li>
</ul>
</dd>
<dt>2010-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Remove an XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdd480543"
>[fdd480543]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.pod,
plugins/sudoers/sudoreplay.c:<br>
Add -f (filter) option to sudoreplay to allow certain streams to be
replayed and others ignored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1025a2ec0"
>[1025a2ec0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c, src/parse_args.c, src/sudo.c, src/sudo.h,
src/tgetpass.c:<br>
Fix -A flag when askpass is specified in sudo.conf or if sudo doesn&rsquo;t
need to read a password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fb8a83e6"
>[4fb8a83e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/parse_args.c, src/sudo.c, src/sudo.h,
src/sudo_edit.c, src/tgetpass.c:<br>
Clean up some XXXs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64bb67c6"
>[f64bb67c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.ldap.pod, plugins/sudoers/ldap.c:<br>
Add support for multiple sudoers_base entries in ldap.conf. From Joachim
Henke
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d92c82ea3"
>[d92c82ea3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/logging.c,
src/exec_pty.c:<br>
remove setsid check, we require a POSIX system
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54ffb19cc"
>[54ffb19cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, src/exec_pty.c, src/selinux.c, src/sudo.c,
src/tgetpass.c:<br>
Check for dup2() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2f8d24f2"
>[c2f8d24f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Remove dup2() check, it is not optional.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59718c32e"
>[59718c32e]</a></li>
</ul>
</dd>
<dt>2010-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
sync with sudo 1.7.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=754c3939d"
>[754c3939d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
SunOS does not ship with an ANSI compiler
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65307f89b"
>[65307f89b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Update OS specific notes. Delete some really ancient ones and move older
ones to the end of the list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96e4b0e20"
>[96e4b0e20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
Sudo can be downloaded from the web site too Mention &ldquo;OS dependent
notes&rdquo; section in INSTALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eed6962b"
>[8eed6962b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c, src/selinux.c:<br>
Call selinux_restore_tty() as part of cleanup() so it gets called from
error()/errorx()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d27223b4c"
>[d27223b4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, doc/PORTING:<br>
Remove obsolete porting guide
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1e0ac22b"
>[e1e0ac22b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/interfaces.h, plugins/sudoers/match.c:<br>
Move union sudo_in_addr_un into interfaces.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe49f161a"
>[fe49f161a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove useless circular dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=748467670"
>[748467670]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c:<br>
Convert to ANSI C function declarations
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e2631253"
>[8e2631253]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, common/fileops.c, common/gettime.c, common/list.c,
common/zero_bytes.c, compat/charclass.h, compat/closefrom.c,
compat/fnmatch.c, compat/glob.c, compat/isblank.c, compat/memrchr.c,
compat/mkstemp.c, compat/nanosleep.c, compat/snprintf.c,
compat/strcasecmp.c, compat/strerror.c, compat/strlcat.c,
compat/strlcpy.c, compat/timespec.h, compat/utime.h, compat/utimes.c,
doc/HISTORY, doc/history.pod, doc/license.pod, include/alloc.h,
include/error.h, include/lbuf.h, include/list.h, include/missing.h,
pathnames.h.in, plugins/sudoers/alias.c, plugins/sudoers/audit.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/boottime.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/bsm_audit.h,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.y,
plugins/sudoers/interfaces.c, plugins/sudoers/interfaces.h,
plugins/sudoers/logging.c, plugins/sudoers/logging.h,
plugins/sudoers/match.c, plugins/sudoers/parse.h,
plugins/sudoers/plugin_error.c, plugins/sudoers/pwutil.c,
plugins/sudoers/redblack.c, plugins/sudoers/redblack.h,
plugins/sudoers/sudo_nss.h, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.l,
plugins/sudoers/visudo.c, src/aix.c, src/conversation.c, src/error.c,
src/load_plugins.c, src/parse_args.c, src/sesh.c, src/sudo.h,
src/sudo_noexec.c, src/sudo_plugin_int.h, src/sudo_usage.h.in,
src/tgetpass.c:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b72a530fd"
>[b72a530fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Fix commented DEVDOCS when not in devel mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7a4ec6fb"
>[a7a4ec6fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/match.c:<br>
Quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b09a643ff"
>[b09a643ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y:<br>
Quiet a compiler warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=848b636f2"
>[848b636f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/sudoers.h:<br>
Make all functions in ldap.c static
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3430618c7"
>[3430618c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/schema.ActiveDirectory:<br>
Updates from Alain Roy to provide better examples for importing the
schema and to fix problems caused by Windows validating attributes which
have not yet been added before committing the changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93d48cfc6"
>[93d48cfc6]</a></li>
</ul>
</dd>
<dt>2010-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, doc/Makefile.in, doc/sudo.cat, doc/sudo.man.in,
doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudoers.cat,
doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in, doc/sudoers.man.in,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/visudo.cat,
doc/visudo.man.in:<br>
Leave rules to build .man.in and .cat files uncommented but only make
them part of the &ldquo;all&rdquo; rule in devel mode. Generate .cat files directly
from .man.in instead of .man using default values in configure.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec77318e3"
>[ec77318e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Bump sudo version to 1.8.0b1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=608a3e7a2"
>[608a3e7a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, src/sudo.c, src/sudo_usage.h.in:<br>
Print configure args with verbose version information.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a28a4764e"
>[a28a4764e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO, plugins/sudoers/visudo.c:<br>
Remove tfd from struct sudoersfile; it is not used. Add prev pointer to
struct sudoersfile. Declare list of sudoersfile using TQ_DECLARE. Use
tq_append to append sudoers entries to the tail queue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3516d7f0e"
>[3516d7f0e]</a></li>
</ul>
</dd>
<dt>2010-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
Describe tty timestamp improvements
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d0b74cf1"
>[6d0b74cf1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
A comment character may not be part of a command line argument unless it
is quoted with a backslash. Fixes parsing of: testuser ALL=NOPASSWD:
/usr/bin/wl #comment foo bar closes bz #441
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27a94faf7"
>[27a94faf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Make this read a little bit better when passwd_timeout is 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f67ac02af"
>[f67ac02af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.man.in, doc/sudo.man.pl, doc/sudo.pod:<br>
Attempt to handle a default password prompt timeout of zero more
gracefully.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10d83e2cb"
>[10d83e2cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
Do not override value of keepopen global, instead restore it to the
value we pushed onto the stack when popping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32d4697a8"
>[32d4697a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add dependency for utility programs on libreplace and libcommon
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17a8bd807"
>[17a8bd807]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/sigaction.c, config.h.in, configure.in, include/compat.h,
plugins/sudoers/logging.c, plugins/sudoers/mon_systrace.c, src/exec.c,
src/exec_pty.c, src/tgetpass.c:<br>
Remove sigaction emulation Use SA_INTERRUPT in sa_flags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=047fc3876"
>[047fc3876]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, config.h.in, configure, configure.in, include/missing.h:<br>
We don&rsquo;t use getgrouplist() at the moment so there&rsquo;s no need to provide
a compat version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54cfc9bd"
>[e54cfc9bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync with reality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=779528487"
>[779528487]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/sudoers/auth/sudo_auth.c,
src/conversation.c, src/sudo.h, src/tgetpass.c:<br>
Fix visiblepw sudoers option; the plugin API portion still needs
documenting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e146aaaa2"
>[e146aaaa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Print sudo version as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=879d01796"
>[879d01796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:<br>
Use sudo_printf for I/O log version Clarify policy plugin version string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fbb1819e"
>[1fbb1819e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/ldap.c, plugins/sudoers/sudoreplay.c:<br>
Silence some compiler warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6371aa48"
>[c6371aa48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c, src/tgetpass.c:<br>
Store askpass path in a global instead of uses setenv() which many
systems lack.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b91b65722"
>[b91b65722]</a></li>
</ul>
</dd>
<dt>2010-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.pod, plugins/sudoers/check.c,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
src/load_plugins.c, src/parse_args.c, src/tgetpass.c:<br>
Move askpass path specification from sudoers to sudo.conf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eec336115"
>[eec336115]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Use a flag bit in struct command_details for selinux instead of a
separate field.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34613c846"
>[34613c846]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/sudo.c, src/sudo.h:<br>
Implement background mode. If I/O logging we use pipes instead of a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c1ef1264"
>[4c1ef1264]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/mksiglist.c, compat/strsignal.c, include/compat.h, src/exec.c,
src/exec_pty.c, src/tgetpass.c:<br>
Move compat definition of NSIG to compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5a6ca998"
>[c5a6ca998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, doc/sudo_plugin.cat,
doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Mention plugins in the sudo manual and add some missing path
substitution in the sudo_plugin manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d09966aa"
>[9d09966aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Set _PATH_SUDO_CONF based on $(sysconfdir)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=474392821"
>[474392821]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/lbuf.c, common/term.c, config.h.in, configure, configure.in,
src/exec.c, src/exec_pty.c, src/ttysize.c:<br>
Require POSIX termios to build sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5283b2f9"
>[e5283b2f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Ignore SIGPIPE for &ldquo;sudo -S&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82a56e421"
>[82a56e421]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Fix uninitialized variable in TGP_ECHO case and print a newline if the
user interrupted password input.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afb3f9dbf"
>[afb3f9dbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Make TGP_ECHO override TGP_MASK and don&rsquo;t try to restore the terminal if
we didn&rsquo;t modify it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e9ecaf1e"
>[3e9ecaf1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
include/sudo_plugin.h, plugins/sudoers/auth/sudo_auth.c,
src/conversation.c, src/sudo.h, src/tgetpass.c:<br>
Add SUDO_CONV_PROMPT_MASK define which corresponds to the &ldquo;pwfeedback&rdquo;
sudoers option. Do not disable echo if TGP_ECHO is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4a6620b2"
>[a4a6620b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Use POSIX tcgetpgrp() instead of BSD TIOCGPGRP ioctl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51f70f204"
>[51f70f204]</a></li>
</ul>
</dd>
<dt>2010-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec.c, src/exec_pty.c, src/selinux.c, src/sudo.c, src/sudo.h:<br>
Add selinux_enabled flag into struct command_details and set it in
command_info_to_details(). Return an error from selinux_setup() instead
of exiting. Call selinux_setup() from exec_setup().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edd34a2d7"
>[edd34a2d7]</a></li>
</ul>
</dd>
<dt>2010-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Remove commented out copy of old sudo_execve() function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecfb70b05"
>[ecfb70b05]</a></li>
</ul>
</dd>
<dt>2010-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix setting selinux type on command line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcaf51ce6"
>[bcaf51ce6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
In sudoers_io_close(), skip NULL io_fds[] elements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b4203606"
>[9b4203606]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat.h:<br>
No longer need NGROUPS_MAX define
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16da9fe80"
>[16da9fe80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/nanosleep.c, config.h.in, configure, configure.in,
include/compat.h, plugins/sudoers/check.c, plugins/sudoers/iolog.c,
plugins/sudoers/visudo.c, src/sudo_edit.c:<br>
Replace timerfoo macros with timevalfoo since the timer macros are known
to be busted on some systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79f178923"
>[79f178923]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec_pty.c:<br>
Remove duplicate call to selinux_setup().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0be6bab05"
>[0be6bab05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
If pam_open_session() fails, pass its status to pam_end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=426435c12"
>[426435c12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/toke.c, plugins/sudoers/toke.l:<br>
If a file in a #includedir has improper permissions or owner just skip
it. This prevents packages that incorrectly install a file into
/etc/sudoers.d from breaking sudo so easily. Syntax errors in
#includedir files still result in a parse error (for now).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=303da7b82"
>[303da7b82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/iolog.c:<br>
Add use_pty sudoers option to force use of a pty even when not logging
I/O.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f05b565c"
>[6f05b565c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.h:<br>
Make env_init() void as it never fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39e072c71"
>[39e072c71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
No longer use _NSGetEnviron so don&rsquo;t need crt_externs.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=280afece3"
>[280afece3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Remove unused VNULL define
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26b501423"
>[26b501423]</a></li>
</ul>
</dd>
<dt>2010-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Add #define for maximum session id
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3aad38118"
>[3aad38118]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c, src/exec_pty.c, src/sudo.h:<br>
Split exec.c into exec.c and exec_pty.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6717c59d7"
>[6717c59d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
Sync with source file moves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d417d4e4e"
>[d417d4e4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in, src/get_pty.c:<br>
Rename pty.c -&gt; get_pty.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6e7face2"
>[d6e7face2]</a></li>
</ul>
</dd>
<dt>2010-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Only use I/O input log file if def_log_input is set and output file if
def_log_output is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38138e7d1"
>[38138e7d1]</a></li>
</ul>
</dd>
<dt>2010-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/strsignal.c:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5099b68b0"
>[5099b68b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/pty.c:<br>
uid -&gt; ttyuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5aa2c7dcc"
>[5aa2c7dcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
For sudoedit, make a local copy of editor string si become part of argv.
If no editor environment variable, split def_editor on &lsquo;:&rsquo; since it may
be a colon-delimited path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afa3589d5"
>[afa3589d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Remove unneeded endpwent()/endgrent()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3ac18f51"
>[e3ac18f51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Use value of nroff from configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ecb00566"
>[4ecb00566]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Add missing const to I/O log action function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fbd83478"
>[3fbd83478]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Update copyright year and fix whitespace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa9464d0"
>[8fa9464d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b97d47424"
>[b97d47424]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Remove redundant tty signal blocking in log function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe5723222"
>[fe5723222]</a></li>
</ul>
</dd>
<dt>2010-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Place static keyword where it belongs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a7fc9a82"
>[4a7fc9a82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Always use a printf format string for send_mail()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ebd90998"
>[8ebd90998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/atobool.c, plugins/sudoers/ldap.c:<br>
Extend atobool() so we can use it in the LDAP code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40e591c30"
>[40e591c30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod:<br>
Sudo now stashes tty ctime for tty_tickets on Solaris too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59e292537"
>[59e292537]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Fix dummy version of get_boottime()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd1765b56"
>[fd1765b56]</a></li>
</ul>
</dd>
<dt>2010-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Enable tty_is_devpts() support for Solaris with the &ldquo;devices&rdquo;
filesystem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce0dfc61"
>[7ce0dfc61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Unbreak the non-io logging case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd26d2891"
>[cd26d2891]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Fix symbol name conflict with sudo_printf.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b8fc46e2"
>[2b8fc46e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Fix OpenPAM detection for newer versions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41436a786"
>[41436a786]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/vasgroups.c:<br>
Sync with Quest sudo git repo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78e7c649f"
>[78e7c649f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
HP-UX ld uses +b instead or -R or -rpath Fix typo in libvas check Add
missing template for ENV_DEBUG Adapted from Quest sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=572c88541"
>[572c88541]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Fix typos; from Quest Sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c24e6277f"
>[c24e6277f]</a></li>
</ul>
</dd>
<dt>2010-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add back -I$(top_srcdir); we need it for including compat/foo.h since we
cannot rely on &ldquo;foo.h&rdquo; being found relative to the source file when the
cwd is different.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1afba5165"
>[1afba5165]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c:<br>
Fix a bug where we could treat EAGAIN as a permanent error. Also set
cstat if perform_io() returns an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eafb30a4"
>[1eafb30a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/alloc.c, plugins/sudoers/boottime.c, plugins/sudoers/sudoers.c:<br>
Add casts to quiet compiler warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ee752410"
>[2ee752410]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Fix typo in ternary operator usage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be3b7d615"
>[be3b7d615]</a></li>
</ul>
</dd>
<dt>2010-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Add &ndash;enable-warnings and fix typo in SUDO_IO_LOGDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=942552798"
>[942552798]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod,
doc/sudoreplay.cat, doc/sudoreplay.man.in, doc/sudoreplay.pod:<br>
Update docs to match sudoers I/O logging changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4230d8562"
>[4230d8562]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, WHATSNEW, aclocal.m4, configure, configure.in, pathnames.h.in,
plugins/sudoers/def_data.c, plugins/sudoers/def_data.h,
plugins/sudoers/def_data.in, plugins/sudoers/defaults.c,
plugins/sudoers/gram.c, plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/iolog.c, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c:<br>
Break sudoers transcript feature up into log_input and log_output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dd29bf64"
>[2dd29bf64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/visudo.c:<br>
Use setprogname() as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a217bcc2"
>[1a217bcc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoreplay.c:<br>
Adapt sudoreplay to iolog changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2d33b5f"
>[0e2d33b5f]</a></li>
</ul>
</dd>
<dt>2010-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Log all input and output into separate files and store a number on each
timing file line to indicate which file the data is in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e51fd3ab7"
>[e51fd3ab7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Make sudoers_io functions static to iolog.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6f02f38c"
>[b6f02f38c]</a></li>
</ul>
</dd>
<dt>2010-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, src/parse_args.c,
src/sudo_usage.h.in:<br>
Completely remove the -L flag from the sudo front end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73b630fa9"
>[73b630fa9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c:<br>
Fix EAGAIN handling when writing to stdout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ffb76178"
>[1ffb76178]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Eliminate unused variables
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e952c8c7f"
>[e952c8c7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/exec.c, src/sudo.c:<br>
Re-enable cleanup functions in sudoers plugin and sudo driver for
error()/errorx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2d68aa24"
>[d2d68aa24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/defaults.c,
plugins/sudoers/interfaces.c, plugins/sudoers/iolog.c,
plugins/sudoers/parse.c, plugins/sudoers/sudoers.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c:<br>
Use sudo_printf to display verbose version information.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34e1a0676"
>[34e1a0676]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in, compat/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Minor Makefile cleanup: fix a typo, change the removal order in the
clean targets, and remove a superfluous include path for the sudoers
plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=303d85606"
>[303d85606]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Handle duplicate variables in the environment. For unsetenv(), keep
looking even after remove the first instance. For sudo_putenv(), check
for and remove dupes after we replace an existing value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c31ed2cd2"
>[c31ed2cd2]</a></li>
</ul>
</dd>
<dt>2010-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Use explicit path to source file instead of $&lt; for files that live in
devdir and top_srcdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12aedc675"
>[12aedc675]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add explicit rules to compile gram.c and toke.c for HP-UX Pevent ending
LIBSUDOERS_OBJS with a backslash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8bb0ea0a"
>[a8bb0ea0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Link libcommon before libreplace since libcommon may use functions only
present in libreplace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62f470a57"
>[62f470a57]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>common/Makefile.in:<br>
Move code common to sudo and the sudoers plugin to a convenience
library, libcommon. Removes the need to make links in the sudoers plugin
dir and reduces re-compilation of duplicate object files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4feed1cc"
>[c4feed1cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, common/alloc.c, common/atobool.c, common/fileops.c,
common/fmt_string.c, common/gettime.c, common/lbuf.c, common/list.c,
common/term.c, common/zero_bytes.c, configure, configure.in,
plugins/sample/Makefile.in, plugins/sudoers/Makefile.in,
src/Makefile.in:<br>
Move code common to sudo and the sudoers plugin to a convenience
library, libcommon. Removes the need to make links in the sudoers plugin
dir and reduces re-compilation of duplicate object files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8b006a88"
>[b8b006a88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/exec.c, src/sudo.c, src/sudo.h:<br>
Rename script_execve to sudo_execve and rename script_foo in exec.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9773ba3f7"
>[9773ba3f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST, src/Makefile.in, src/exec.c:<br>
rename script.c exec.c and fix up the MANIFEST file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4248a11ef"
>[4248a11ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c, src/sudo.c, src/sudo.h:<br>
Rename script_setup() to pty_setup() and call from script_execve()
directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8f82ffa8"
>[f8f82ffa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
bump version to 1.8.0a2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=349fedb02"
>[349fedb02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document init_session
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b6a687bf"
>[0b6a687bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/API, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h:<br>
Clean up the sudoers auth API a bit and update the docs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2ed46652"
>[b2ed46652]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/script.c, src/sudo.c:<br>
Add init_session function to struct policy_plugin that gets called
before the uid/gid/etc changes. A struct passwd pointer is passed
in,which may be NULL if the user does not exist in the passwd
database.The sudoers module uses init_session to open the pam session as
needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e6d1d1f7"
>[7e6d1d1f7]</a></li>
</ul>
</dd>
<dt>2010-05-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Add open/close session to sudo auth, only used by PAM. This allows us to
open (and close) the PAM session from sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27be96c9c"
>[27be96c9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add explicit rule to build getdate.o for HP-UX make.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0646aa4a"
>[a0646aa4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Back out most of change 45e406ebdea2. Create dummy .l.c and .y.c rules
as an alternate way to prevent HP-UX make (and others) from trying to
rebuild the parser in non-dev mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f14d3dca1"
>[f14d3dca1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Re-enable PATH_MAX check for command
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4695dd1b7"
>[4695dd1b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
For distclean, clean the main directory last since the subdirs need to
be able to run libtool to clean things.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7d685b90"
>[c7d685b90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Fix generation of mksiglist.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acc60712e"
>[acc60712e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Now that we defer sending cstat until the end of script_child() we
cannot reuse cstat when reading command status from parent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efa908448"
>[efa908448]</a></li>
</ul>
</dd>
<dt>2010-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, doc/sudo.man.in, doc/sudo.man.pl,
doc/sudoers.cat, doc/sudoers.ldap.cat, doc/sudoers.ldap.man.in,
doc/sudoers.man.in, doc/sudoers.man.pl, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/visudo.cat, doc/visudo.man.in:<br>
Use numeric registers to handle conditionals instead of trying to do it
all with text processing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=807d1313a"
>[807d1313a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudoers.pod:<br>
Document per-command SELinux settings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dd8e98ec"
>[5dd8e98ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Repair &ldquo;sudo -l -U username&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45923111e"
>[45923111e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set selinux role and type in command details.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=937b5f166"
>[937b5f166]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c, src/selinux.c, src/sudo.h:<br>
Rework SELinux support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2942edcbd"
>[2942edcbd]</a></li>
</ul>
</dd>
<dt>2010-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c, src/selinux.c, src/sudo.h:<br>
Make SELinux support compile again. Needs more work to be complete.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f857e6e5"
>[5f857e6e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/parse_args.c,
src/script.c, src/selinux.c, src/sudo.c, src/sudo.h:<br>
Bring back closefrom settings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0487aee6b"
>[0487aee6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
If running a command or sudoedit in transcript mode, call io_nextid()
before log_allowed() so the session id is logged.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60e0e496e"
>[60e0e496e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Use mandoc(1) if nroff(1) is not present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79cb53c62"
>[79cb53c62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Use the &ndash;file argument to config.status instead of setting CONFIG_FILES
in the environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b519f7a09"
>[b519f7a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
We cannot conditionally update gram.h or the dependency ordering gets
messed up in devel mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dd7fd430"
>[5dd7fd430]</a></li>
</ul>
</dd>
<dt>2010-05-21  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, compat/Makefile.in, configure, configure.in,
doc/Makefile.in, include/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Substitute @SHELL@ into Makefiles
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a8830e34"
>[8a8830e34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=222a4f7c8"
>[222a4f7c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, configure, configure.in:<br>
Update to autoconf 2.65
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=755752c6b"
>[755752c6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix libtool target (space vs. tabs)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=815e40128"
>[815e40128]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, plugins/sudoers/logging.h, plugins/sudoers/visudo.c:<br>
Remove use of RETSIGTYPE; all modern systems have signal handlers that
return void.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ae8e8442"
>[8ae8e8442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, acsite.m4, configure, configure.in, ltmain.sh,
m4/libtool.m4, m4/ltoptions.m4, m4/ltsugar.m4, m4/ltversion.m4,
m4/lt~obsolete.m4, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Update to libtool-2.2.6b. I haven&rsquo;t made any local modifications this
time, which should be OK since we install sudo_noexec.so by hand now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51b558e75"
>[51b558e75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Use libtool to clean objects
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b370cb02"
>[6b370cb02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/Makefile.in:<br>
Install sudo_plugin.h as part of &ldquo;make install&rdquo; and make other install
targets callable from the top-level Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a60f268a7"
>[a60f268a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
regen with autoupdate to eliminate AC_TRY_LINK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60b532155"
>[60b532155]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, compat/Makefile.in, configure, configure.in,
doc/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Install sudo_plugin.h as part of &ldquo;make install&rdquo; and make other install
targets callable from the top-level Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95d939f9b"
>[95d939f9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
The sample plugin doesn&rsquo;t support being run with no args so return a
usage error in this case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b628e15dc"
>[b628e15dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Set close on exec flag for descriptors used for I/O logging so they are
not present in the command being run.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f59669fc2"
>[f59669fc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/tsgetgrpw.c:<br>
Set close on exec flag in private versions of setpwent() and setgrent().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3d8364d4"
>[d3d8364d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Close the I/O pipes aftering dup2()ing them to std{in,out,err}. Fixes
extra fds being present in the command when it is part of a pipeline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16c2769ed"
>[16c2769ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set user_tty to &ldquo;unknown&rdquo; if there is no tty, like sudo 1.7 does (it is
used when logging). Note that user_ttypath will still be NULL if there
is no tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=529bfcf67"
>[529bfcf67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c, src/sudo.h:<br>
Cosmetic changes: add comments, remove orphaned prototype and make a
global static.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064cffd57"
>[064cffd57]</a></li>
</ul>
</dd>
<dt>2010-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Move check for maxfd == -1 to flush_output where it belongs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a16d733"
>[a9a16d733]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Break out of select loop if all the fds we want to select on are -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d18b458e1"
>[d18b458e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Avoid possible malloc(0) if plugin returns an empty groups list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20c125297"
>[20c125297]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Add debugging info when calling plugin close function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9360e67a3"
>[9360e67a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Avoid closing stdin/stdout/stderr when we are piping output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=882fe3ac4"
>[882fe3ac4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
When execve() of the command fails, it is possible to receive SIGCHLD
before we&rsquo;ve read the error status from the pipe. Re-order things such
that we send the final status at the very end and prefer error status
over wait status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8ff26831"
>[f8ff26831]</a></li>
</ul>
</dd>
<dt>2010-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Fix compilation for non PAM/BSD auth/AIX auth
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2b8bad2a"
>[d2b8bad2a]</a></li>
</ul>
</dd>
<dt>2010-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Additional checks to make sure we don&rsquo;t close /dev/tty by mistake. When
flushing, sleep in select as long as we have buffers that need to be
written out.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eec7335a"
>[0eec7335a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Now that we can use pipes for stdin/stdout/stderr there is no longer a
need to error out when there is no tty. We just need to make sure we
don&rsquo;t try to use the tty fd if it is -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a2a182e0"
>[6a2a182e0]</a></li>
</ul>
</dd>
<dt>2010-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
include/sudo_plugin.h, plugins/sample/sample_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/sudoers.h, src/sudo.c:<br>
Add argc and argv to I/O logger open function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55ef027d8"
>[55ef027d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.man.in, doc/sudo_plugin.pod, include/sudo_plugin.h,
plugins/sample/sample_plugin.c, plugins/sudoers/sudoers.c,
src/parse_args.c, src/sudo.c, src/sudo_edit.c:<br>
Remove check_sudoedit function pointer in struct sudo_policy. Instead,
sudo will set sudoedit=true in the settings array. The plugin should
check for this and modify argv_out as appropriate in check_policy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa717176b"
>[fa717176b]</a></li>
</ul>
</dd>
<dt>2010-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c, src/sudo.c, src/sudo.h, src/sudo_edit.c:
If plugin sets &ldquo;sudoedit=true&rdquo; in the command info, enable sudoedit mode
even if not invoked as sudoedit. This allows a plugin to enable sudoedit
when the user runs an editor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ac9aee52"
>[3ac9aee52]</a></li>
</ul>
</dd>
<dt>2010-05-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
gram.h must not depend on gram.y if we want to avoid unnecessary
rebuilding of targets dependent on gram.h when gram.y changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=285ccb152"
>[285ccb152]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Refactor common bits of check_policy and check_edit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d785a795"
>[2d785a795]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Add sudoedit support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31087fdcd"
>[31087fdcd]</a></li>
</ul>
</dd>
<dt>2010-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Rely more on VPATH; fixes a dependency issue with the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3efb055c8"
>[3efb055c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat.h:<br>
Fix typo introduced in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7f238ffa"
>[d7f238ffa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat.h:<br>
Emulate seteuid using setreuid() or setresuid() as needed. There are
still a few places that call seteuid() directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=553361aca"
>[553361aca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo_edit.c:<br>
Attempt to fix building on systems that only have setuid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e336dac87"
>[e336dac87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Clarify sudoedit a tad.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a6cbe03b"
>[9a6cbe03b]</a></li>
</ul>
</dd>
<dt>2010-05-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo_edit.c:<br>
Fix compilation on HP-UX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39652bf75"
>[39652bf75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document sudoedit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8a62b1ec"
>[c8a62b1ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c, src/sudo.h, src/sudo_edit.c:<br>
Change how we handle the sudoedit argv. We now require that there be a
&ldquo;&ndash;&rdquo; in argv to separate the editor and any command line arguments from
the files to be edited.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c9c5855f"
>[7c9c5855f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/sample/sample_plugin.c,
plugins/sudoers/Makefile.in, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, src/Makefile.in, src/gettime.c,
src/parse_args.c, src/sudo.c, src/sudo.h, src/sudo_edit.c:<br>
Work in progress support for sudoedit. The actual interface used by the
plugin for sudoedit is likely to change.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdd28d411"
>[fdd28d411]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/find_path.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c:<br>
Make find_path() a little more generic by not checking def_foo variables
inside it. Instead, pass in ignore_dot as a function argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5bfd148d"
>[d5bfd148d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add version of getenv(3) that uses our own environ pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=832ce341e"
>[832ce341e]</a></li>
</ul>
</dd>
<dt>2010-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Avoid a potential race condition if SIGCHLD is received immediately
before we call select().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=396317ffe"
>[396317ffe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Call env_init() before we open the sudoers sources as those may call our
setenv() replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1487026b0"
>[1487026b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Initialize env_len in env_init()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=754c1a16d"
>[754c1a16d]</a></li>
</ul>
</dd>
<dt>2010-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod:<br>
Document time stamp shortcomings under SECURITY NOTES Use &ldquo;time stamp&rdquo;
instead of timestamp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21ba4a468"
>[21ba4a468]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Make sed substitution of mansectsu and mansectform global.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4700e7a"
>[ad4700e7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
If the tty lives on a devpts filesystem, stash the ctime in the tty
ticket file, as it is not updated when the tty is written to. This helps
us determine when a tty has been reused without the user authenticating
again with sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a331dcb46"
>[a331dcb46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Fix pasto in mulitple signal fix and use _NSIG not NSIG since that is
what our compat checks set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ea8de47f"
>[8ea8de47f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add check for whether sudo need to link with -ldl to get dlopen(). This
is a bit of a hack that will get reworked when libtool is updated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06e650a45"
>[06e650a45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix timestamp removal with -k/-K
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b89980ac6"
>[b89980ac6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
audit.c is now private to the sudoers plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e324082d5"
>[e324082d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Link with -lpthread on HP-UX since a plugin may be linked with -lpthread
and dlopen() will fail if the shared object has a dependency on
-lpthread but the main program is not linked with it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7502a3d71"
>[7502a3d71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/set_perms.c:<br>
Add separate test for getresuid() since HP-UX has setresuid() but no
getresuid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f38afc977"
>[f38afc977]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Remove errant backslash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c76e6aa1e"
>[c76e6aa1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Fix SIGPIPE handling. Now that we use may use pipes for stdin/stdout we
need to pass any SIGPIPE we receive to the running command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cafc6a4f6"
>[cafc6a4f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Also start the command in the background if stdin is not a tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02f8c187a"
>[02f8c187a]</a></li>
</ul>
</dd>
<dt>2010-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoreplay.c, src/script.c, src/sudo.h, src/term.c:<br>
No need to use pseudo-cbreak mode now that we use pipes when stdout is
not a tty. Instead, check whether stdin is a tty and if not, delay
setting the tty to raw mode until the command tries to access it itself
(and receives SIGTTIN or SIGTTOU).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2d0888bf"
>[c2d0888bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Use an array for signals received instead of a single variable so we
don&rsquo;t lose any when there are multiple different signals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbb3010d7"
>[cbb3010d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/tgetpass.c:<br>
Do signal setup after turning off echo, not before. If we are using a
tty but are not the foreground pgrp this will generate SIGTTOU so we
want the default action to be taken (suspend process).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5adda153a"
>[5adda153a]</a></li>
</ul>
</dd>
<dt>2010-05-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Flush the iobufs on suspend or child exit using the same logic as the
main event loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23a9bf2c0"
>[23a9bf2c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Free memory after we are done with it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b08a96eea"
>[b08a96eea]</a></li>
</ul>
</dd>
<dt>2010-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/HISTORY:<br>
Quest now sponsors Sudo development
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=247f7acaa"
>[247f7acaa]</a></li>
</ul>
</dd>
<dt>2010-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Install sudo_plugin man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75f63d998"
>[75f63d998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Go back to reseting io_buffer offset and length (and now also the EOF
handling) in the loop we do the FD_SET, not after we drain the buffer
after write() since we don&rsquo;t know what order reads and writes will occur
in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cbbf27e9"
>[3cbbf27e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>MANIFEST:<br>
audit files moved to sudoers plugin directory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0af98f2e9"
>[0af98f2e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document plugin_printf and new logging functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7da9e1a91"
>[7da9e1a91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Add support for logging stdin when it is not a tty. There is still a bug
where &ldquo;cat | sudo cat&rdquo; has problems because both cat and sudo are trying
to read from the tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4d16ae1a"
>[b4d16ae1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/sample/sample_plugin.c,
plugins/sudoers/sudoers.c, src/script.c:<br>
Add separate I/O logging functions for tty in/out and
stdin/stdout/stderr. NOTE: stdin logging does not currently work and is
disabled for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=782f49400"
>[782f49400]</a></li>
</ul>
</dd>
<dt>2010-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>include/sudo_plugin.h, plugins/sample/sample_plugin.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
src/conversation.c, src/sudo.c, src/sudo_plugin_int.h:<br>
Add pointer to a printf like function to plugin open functon. This can
be used instead of the conversation function to display info and error
messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fbec34fe"
>[9fbec34fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Stop if make in a subdir fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b60b28abd"
>[b60b28abd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Only set user&rsquo;s tty to blocking mode when doing the final flush. Flush
pipes as well as pty master when the process is done.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3f561668"
>[e3f561668]</a></li>
</ul>
</dd>
<dt>2010-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
Use print_error() when displaying ldap config info in debugging mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc72c27b1"
>[dc72c27b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, compat/strdup.c, compat/strndup.c:<br>
No longer need strdup() or strndup() replacements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9166c156e"
>[9166c156e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c, plugins/sudoers/plugin_error.c,
plugins/sudoers/sudoers.h:<br>
Add print_error() function that uses the conversation function to print
a variable number of error strings and use it in log_error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13966481c"
>[13966481c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c, src/sudo.h, src/term.c:<br>
Do not need the opost flag to term_copy() now that we use pipes for
stdout/stderr when they are not a tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eda64b23"
>[0eda64b23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Use pipes to the sudo process if stdout or stderr is not a tty. Still
needs some polishing and a decision as to whether it is desirable to add
additonal entry points for logging stdout/stderr/stdin when they are not
ttys. That would allow a replay program to keep things separate and to
know whether the terminal needs to be in raw mode at replay time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd256f25c"
>[dd256f25c]</a></li>
</ul>
</dd>
<dt>2010-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/audit.c,
plugins/sudoers/bsm_audit.c, plugins/sudoers/bsm_audit.h:<br>
Move audit sources into the sudoers plugin dir; the driver does not use
them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=547502056"
>[547502056]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getline.c, compat/mksiglist.c, compat/nanosleep.c,
compat/strdup.c, compat/strndup.c, plugins/sample/sample_plugin.c,
plugins/sudoers/boottime.c, plugins/sudoers/getdate.c,
plugins/sudoers/match.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/timestr.c, plugins/sudoers/vasgroups.c, src/alloc.c,
src/atobool.c, src/audit.c, src/lbuf.c, src/list.c, src/sesh.c,
src/term.c, src/ttysize.c:<br>
Use angle brackets when including headers that can only be found when an
-I flag is specified. The files in the compat dir could get away with
double quotes here but I&rsquo;ve converted all the source files to use angle
brackets for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d346e5090"
>[d346e5090]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add missing -I$(top_srcdir) to CPPFLAGS so includes in the compat dir
can be found when building outside the source tree.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=143866404"
>[143866404]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Clean up links in distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1473d7863"
>[1473d7863]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Hack around VPATH semantic differences by symlinking files we need from
../../src into the current directory and build those. A better fix would
be to either make a .a or .la file with those files in it or simply use
a single, flat, Makefile instead of per-subdirs Makefiles.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cfde4f9d"
>[8cfde4f9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, src/Makefile.in, src/fmt_string.c:<br>
fmt_string is used by the sudoers plugin too so do not include sudo.h
(which is not really needed here anyway)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23f9bb59e"
>[23f9bb59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Fix building with non-BSD versions of make such as GNU make. Requires
VPATH support, which should be in any non-neolithic make.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e9ec6a36"
>[5e9ec6a36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/sudoers.c,
src/Makefile.in:<br>
Re-enable bsm audit. Currently auditing is done within the sudoers
plugin itself. If possible, this should really be done in the main
driver but we don&rsquo;t presently have the needed data to do that. This will
be re-evaluated when Linux audit support is added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f42cf76d8"
>[f42cf76d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Remove extraneous $srcdir and use more .c.lo and .c.o rules instead of
explicit rules in the dependency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c7e3235f"
>[0c7e3235f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix mismerge; alias_remove_recursive() now returns int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b832576e"
>[8b832576e]</a></li>
</ul>
</dd>
<dt>2010-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Fix a crash when checking a sudoers file that has aliases that reference
themselves. Based on a diff from David Wood.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d26d942c2"
>[d26d942c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Print signal info after restoring the tty mode, not before.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fc1ebd4f"
>[8fc1ebd4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Defer call to alarm() until after we fork the child. Pass correct pid to
terminate_child() If the command exits due to signal, set alive to false
like we do when it exits normally. Add missing check for errpipe[0] !=
-1 before using it in FD_ISSET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f45b1e82e"
>[f45b1e82e]</a></li>
</ul>
</dd>
<dt>2010-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/boottime.c:<br>
Use 1/0 instead of TRUE/FALSE so we don&rsquo;t need sudoers.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ee651df7"
>[2ee651df7]</a></li>
</ul>
</dd>
<dt>2010-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in:<br>
Simplify dependencies by using .c.o and .c.lo rules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=935aef498"
>[935aef498]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Substitute in @PROGS@ into src/Makefile to add sesh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c67169b9"
>[1c67169b9]</a></li>
</ul>
</dd>
<dt>2010-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Add back calls to log_denial() if sudoers does not allow the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0b6b4cf5"
>[b0b6b4cf5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Pass in correct pwflag for list and validate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1a9e5aec"
>[e1a9e5aec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c:<br>
Add missing check for NULL in validate_env_vars
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac06e777f"
>[ac06e777f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Add sudo_noexec.la to &ldquo;all&rdquo; target, otherwise it only gets built at
install time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8733dbc6"
>[c8733dbc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Only set sudo_user.env_vars if the env_add list is empty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1abb3b7f5"
>[1abb3b7f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set sudo_user.env_vars so that environment variables specified on the
command line get logged correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90f8bf348"
>[90f8bf348]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/logging.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Re-enable environment files and setting environment variables on the
command line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b041c91ca"
>[b041c91ca]</a></li>
</ul>
</dd>
<dt>2010-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Fix typo in last commit (ifndef vs ifdef) Make sure we pass ctime() a
pointer to time_t as tv_sec in struct timeval may be long.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af092dc40"
>[af092dc40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t stash ctime in on-disk tty ticket info for now; on many (most?)
systems the ctime is updated when the tty is written to. Once I have a
better idea of what systems do not update ctime on ttys (and have a way
to test for this) the ctime stash will be conditionally re-enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17220f44d"
>[17220f44d]</a></li>
</ul>
</dd>
<dt>2010-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>MANIFEST, Makefile.in:<br>
Add back &ldquo;dist&rdquo; target, this time using a MANIFEST file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b6f3fda2"
>[1b6f3fda2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove Makefile in distclean target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b6375108"
>[6b6375108]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, src/Makefile.in:<br>
Update clean and cleandir targets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03536ca93"
>[03536ca93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/fileops.h, plugins/sudoers/sudoers.h, src/fileops.c, src/sudo.h:
Move fileops.c defines and prototypes to filesops.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b04e875e"
>[4b04e875e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Lock the tty timestamp when writing. We shouldn&rsquo;t have to lock when
reading since the file is updated via a single write system call.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f9def5e"
>[f7f9def5e]</a></li>
</ul>
</dd>
<dt>2010-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/check.c,
plugins/sudoers/defaults.c, plugins/sudoers/find_path.c,
plugins/sudoers/getspwuid.c, plugins/sudoers/gettime.c,
plugins/sudoers/goodpath.c, plugins/sudoers/interfaces.c,
plugins/sudoers/iolog.c, plugins/sudoers/ldap.c,
plugins/sudoers/logging.c, plugins/sudoers/match.c,
plugins/sudoers/nonunix.h, plugins/sudoers/parse.c,
plugins/sudoers/pwutil.c, plugins/sudoers/redblack.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestr.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/vasgroups.c, plugins/sudoers/visudo.c:<br>
Convert to ANSI C function declarations
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05ae3ea6c"
>[05ae3ea6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.h:<br>
Remove extraneous bits and classify by source file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c17d3e061"
>[c17d3e061]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat.h:<br>
Add timercmp macro for systems without it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bc52eb39"
>[2bc52eb39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/boottime.c, plugins/sudoers/check.c,
plugins/sudoers/sudoers.h:<br>
get_boottime() now fills in a timeval struct
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a27866c3"
>[6a27866c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Store info from stat(2)ing the tty in the tty ticket when tty tickets
are in use. On most systems, this closes the loophole whereby a user can
log out of a tty, log back in and still have the timestamp be valid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d6941a82"
>[7d6941a82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add timespec2timeval and use it when getting ctime/mtime
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f19ffcc6b"
>[f19ffcc6b]</a></li>
</ul>
</dd>
<dt>2010-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/testsudoers.c:<br>
Convert perm setting to push/pop model; still needs some work Use the
stashed runas groups instead of using getgrouplist() Reset perms to the
initial value on error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bb9f6214"
>[1bb9f6214]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
fix ctim_get and mtim_get macros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab00ce995"
>[ab00ce995]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, include/compat.h,
plugins/sudoers/check.c, plugins/sudoers/gettime.c,
plugins/sudoers/sudoers.h, plugins/sudoers/visudo.c, src/fileops.c:<br>
Use timeval directly instead of converting to timespec when dealing with
file times and time of day.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4a26b769"
>[b4a26b769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Don&rsquo;t like sudoreplay with libsudoers.la due to a yacc symbol conflict.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a3a849ef"
>[0a3a849ef]</a></li>
</ul>
</dd>
<dt>2010-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Darwin &gt;= 9.x has real setreuid(2)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c47ab0273"
>[c47ab0273]</a></li>
</ul>
</dd>
<dt>2010-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.h:<br>
Ansify env.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=257133328"
>[257133328]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/env.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Remove remaining references to the environ pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df204052"
>[0df204052]</a></li>
</ul>
</dd>
<dt>2010-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/env.c:<br>
Don&rsquo;t change the environ directly in the sudoers plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b71844daf"
>[b71844daf]</a></li>
</ul>
</dd>
<dt>2010-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f0b8f7aa"
>[9f0b8f7aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c:<br>
Fix use after free in error message when a duplicate alias exists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=399aa0d5c"
>[399aa0d5c]</a></li>
</ul>
</dd>
<dt>2010-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
src/parse_args.c:<br>
Add a &ldquo;noninteractive&rdquo; boolean to the settings passed in to the plugin&rsquo;s
open function that is set when the user specifies the -n flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc813db52"
>[bc813db52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, plugins/sudoers/env.c:<br>
Add workaround for the lack of the environ pointer on Mac OS X in
dlopen()ed modules. Use of environ in the sudoers plugin should
ultimately be removed but this will do for the moment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb87c040c"
>[fb87c040c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/visudo.c:<br>
Set errorfile to the sudoers path if we set parse_error manually. This
prevents a NULL dereference in printf() when checking a sudoers file in
strict mode when alias errors are present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b7f0ca95"
>[2b7f0ca95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Main sudo no longer print &ldquo;unable to execute&rdquo; on exec failure so do it
here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6aecf3fb1"
>[6aecf3fb1]</a></li>
</ul>
</dd>
<dt>2010-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Use a pipe to pass back errno to the parent if execve() fails. If we get
an error in script_child(), kill the command and exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea523b17a"
>[ea523b17a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
src/parse_args.c, src/sudo.c:<br>
Handle plugin&rsquo;s open function returning -2 (usage error).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f19be6da3"
>[f19be6da3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
If execve() fails, leave it to the plugin to print an error string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40533f381"
>[40533f381]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
If execve fails in logging mode, pass the errno directly to the
grandparent on the backchannel and exit. The immediate parent will get
SIGCHLD and try to report that status but its parent will no longer be
listening. It would probably be cleaner to pass this over a pipe in
script_child().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e472e4ae0"
>[e472e4ae0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Don&rsquo;t override rval with results of check_user() unless it failed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f321a8581"
>[f321a8581]</a></li>
</ul>
</dd>
<dt>2010-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa2f5f53d"
>[fa2f5f53d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
NULL-terminate env_add
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce802792"
>[7ce802792]</a></li>
</ul>
</dd>
<dt>2010-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c:<br>
Call the I/O log open function before the I/O version function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0494774f3"
>[0494774f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c:<br>
Remove io_conv and just use sudo_conv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c344181d"
>[7c344181d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Fix set/restore perms for systems w/o setresuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d2524e68"
>[0d2524e68]</a></li>
</ul>
</dd>
<dt>2010-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/logging.c,
plugins/sudoers/parse.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h:<br>
Primitive set/restore permissions. Will be replaced by a push/pop model.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=744eae82e"
>[744eae82e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Only need to take action on SIGCHLD in parent if no I/O logger. If there
is an I/O logger we will receive ECONNRESET or EPIPE when we try to read
from the socketpair.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=711b8d1c0"
>[711b8d1c0]</a></li>
</ul>
</dd>
<dt>2010-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>:<br>
Merge fb4d571495fa from the 1.7 branch to trunk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32672c1f1"
>[32672c1f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
Qualify the command even if it is in the current working directory, e.g.
&ldquo;./foo&rdquo; instead of just returning &ldquo;foo&rdquo;. This removes an ambiguity
between real commands and possible pseudo-commands in command matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96fdf201f"
>[96fdf201f]</a></li>
</ul>
</dd>
<dt>2010-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Don&rsquo;t set SA_RESTART when registering SIGALRM handler. Do set SA_RESTART
when registering SIGWINCH handler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93126eb5a"
>[93126eb5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Add dev targets for *.man.in and *.cat that don&rsquo;t specfify the $(srcdir)
prefix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ebcbf102"
>[7ebcbf102]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
If log_input or log_output returns false, terminate the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b457f1371"
>[b457f1371]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Better signal handling. Instead of using a single variable to store the
received signal, use an array so we can&rsquo;t lose a signal when multiple
are sent. Fix process termination by SIGALRM in non-I/O logger mode. Fix
relaying terminal signals to the child in non-I/O logger mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b3d15093"
>[5b3d15093]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Fix a race between when we get the child pid in the parent and when the
child process exits. The problem exhibited as a hang after a short-lived
process, e.g. &ldquo;sudo id&rdquo; when no IO logger was enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3f427838"
>[a3f427838]</a></li>
</ul>
</dd>
<dt>2010-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>doc/sudoers.cat, doc/sudoers.man.in, doc/sudoers.pod:<br>
Add a note about the security implications of the fast_glob option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29f22dba2"
>[29f22dba2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Add a note about the security implications of the fast_glob option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99f3be056"
>[99f3be056]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>memrchr.c:<br>
Remove duplicate includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=348fb6219"
>[348fb6219]</a></li>
</ul>
</dd>
<dt>2010-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Fix up some AC_DEFINE descriptions and regen config.h.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5ea5be0"
>[6a5ea5be0]</a></li>
</ul>
</dd>
<dt>2010-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
No longer check for strdup or strndup for LIBOBJ replacement.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5770391ec"
>[5770391ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Avoid installing signal handlers that are io-logger specific. Fixes job
control when no io logger is enabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2634cf08c"
>[2634cf08c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
Only regen man pages from pod when configured with &ndash;with-devel
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81819d0c0"
>[81819d0c0]</a></li>
</ul>
</dd>
<dt>2010-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Top-level Makefile.in. Nothing is currently substituted but this is
needed for separate build dirs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=717da12e9"
>[717da12e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, doc/Makefile.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Fix out-of-tree builds
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43b6359df"
>[43b6359df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Merge
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb55653a4"
>[fb55653a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in:<br>
We always install sudoreplay in 1.8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d710ea091"
>[d710ea091]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/iolog.c, plugins/sudoers/sudoers.c:<br>
Free str after using it in the version method. Use sudo_conv, not
io_conv since we don&rsquo;t have the IO conversation function pointer in the
I/O version method anymore now that io_open is delayed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3242c1091"
>[3242c1091]</a></li>
</ul>
</dd>
<dt>2010-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/siglist.in:<br>
SIGPOLL is sometimes the same as SIGIO (like on HP-UX)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0716ab38a"
>[0716ab38a]</a></li>
</ul>
</dd>
<dt>2010-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
No need to provide strdup() or strndup(), sudo uses estrdup() and
estrndup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2eeceaa1"
>[c2eeceaa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, compat/mksiglist.c, compat/mksiglist.h,
compat/siglist.in:<br>
Add license to mksiglist.c and note that the bits from pdksh are public
domain
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca928740"
>[8ca928740]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Fix LIBOBJDIR vs. srcdir wrt the siglist bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7539f636b"
>[7539f636b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Add sudoreplay testsudoers and visudo to clean target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee52f3c39"
>[ee52f3c39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, compat/mksiglist.c, compat/mksiglist.h,
compat/siglist.in, compat/strsignal.c, configure, configure.in,
include/missing.h, src/script.c:<br>
Create our own sys_siglist for systems without it for use by strsignal()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c91f0a30"
>[8c91f0a30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in:<br>
Remove duplicate $(LIBOBJDIR)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d83ebba56"
>[d83ebba56]</a></li>
</ul>
</dd>
<dt>2010-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c, src/sudo_edit.c:<br>
Main sudo should not block signals; the plugin should do this in
check_policy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44341c9c1"
>[44341c9c1]</a></li>
</ul>
</dd>
<dt>2010-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Fix a sizeof(ptr) vs. sizeof(*ptr)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca2eee07b"
>[ca2eee07b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Unlike most operating systems, HP-UX select() is not interrupted by
SIGCHLD when the signal is registered with SA_RESTART. If we clear
SA_RESTART when calling sigaction() for SIGCHLD we get the expected
behavior and the code in the select() loops already handles EINTR
correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3e87c2db"
>[c3e87c2db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getprogname.c:<br>
progname should be const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cde6d699"
>[8cde6d699]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in:<br>
Move &ndash;tag=disable-static to when we link sudoers.la, not when we
install.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a9896711"
>[3a9896711]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Load the sudoers I/O plugin by default too now that it is hooked up.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c71d6afa"
>[6c71d6afa]</a></li>
</ul>
</dd>
<dt>2010-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>src/pty.c:<br>
It looks like AIX doesn&rsquo;t need to push STREAMS modules for ptys.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d6f19671"
>[5d6f19671]</a></li>
</ul>
</dd>
<dt>2010-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c:<br>
Delay calling the I/O plugin open function until the policy plugin
returns success.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17f1e5cb"
>[e17f1e5cb]</a></li>
</ul>
</dd>
<dt>2010-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/iolog.c,
plugins/sudoers/set_perms.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add back io logging (transcript) support. Currently, the open function
runs too early and it is not possible to use the io module independently
of the policy module.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05e8023e7"
>[05e8023e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/set_perms.c:<br>
Comment out dead code; will be removed when set_perms is rewritten.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=681c6faf3"
>[681c6faf3]</a></li>
</ul>
</dd>
<dt>2010-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix off by one error when allocating user_groups.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eae881b5a"
>[eae881b5a]</a></li>
</ul>
</dd>
<dt>2010-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in:<br>
Add REPLAY_LIBS for sudoreplay and add -lrt to it on Solaris.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea0d60cb"
>[0ea0d60cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Fix typo in preserve groups case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e12858ee9"
>[e12858ee9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
In command_info it is &ldquo;runas_groups&rdquo; not &ldquo;groups&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc63d106f"
>[fc63d106f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix iteration over runas_groups list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43ea59f64"
>[43ea59f64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Merge 5177a284b9ff 549f8f7c2463 88f3181692fe from 1.7 branch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8df6ba9fe"
>[8df6ba9fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getgrouplist.c:<br>
getgrouplist(3) for those without it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=617fb0e31"
>[617fb0e31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix installation of sudoers.ldap in &ldquo;make install&rdquo; when &ndash;with-ldap was
specified without a directory. From Prof. Dr. Andreas Mueller
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2905815e"
>[c2905815e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set preserve_groups or groups list in command_info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72669d8a"
>[a72669d8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Fix setting of groups list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7af5cdfaf"
>[7af5cdfaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, include/compat.h,
include/missing.h:<br>
Add checks for getgrset and getgrouplist and use replacement
getgrouplist if the system doesn&rsquo;t support it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db39a858"
>[8db39a858]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Pass in preserve_groups when the -P flag is specified as per the design
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b3665778"
>[4b3665778]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Check preserve_groups and ignore_ticket args with atobool instead of
assuming they are true if present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea44bcba"
>[0ea44bcba]</a></li>
</ul>
</dd>
<dt>2010-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/plugin_error.c:<br>
Rename plugin-specific error.c to plugin_error.c Wire up visudo,
sudoreplay and testsudoers in the build
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=066e6a7e8"
>[066e6a7e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in, src/term.c:<br>
term.c does not needto include sudo.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74ce00482"
>[74ce00482]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO, doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document the -2 return in the check_policy section too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9edc09609"
>[9edc09609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/parse_args.c,
src/sudo.c, src/sudo.h:<br>
Fix the -s and -i flags and add support for the &ldquo;implied_shell&rdquo; option.
If the user does not specify a command, sudo will now pass in the path
to the user&rsquo;s shell and set impied_shell=true. The plugin can them
either check the command normally or return -2 to cause sudo to print a
usage message and exit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b180d24d"
>[6b180d24d]</a></li>
</ul>
</dd>
<dt>2010-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/load_plugins.c:<br>
Bring back SUDOERS_PLUGIN but add .dylib -&gt; .so conversion for Darwin
where libraries end in .dylib but modules end in .so
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e27226a0"
>[2e27226a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/parse.c:<br>
Better prefix determination now that we can&rsquo;t rely on len==0 to tell the
beginning on an entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c9db4ef6"
>[8c9db4ef6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c:<br>
display_bound_defaults() stub should return 0, not 1 since it is a
count, not a boolean.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fb6784ab"
>[5fb6784ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document progname in settings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18cd91d56"
>[18cd91d56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getprogname.c, include/compat.h, plugins/sample/sample_plugin.c,
plugins/sudoers/sudoers.c, src/parse_args.c, src/sudo.c:<br>
Rewrite compat/getprogname.c and add setprogname(). The progname is now
passed to the plugin via the settings array.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eec5235d1"
>[eec5235d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, plugins/sudoers/Makefile.in:<br>
Fix &ndash;with-ldap
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0dbf4362d"
>[0dbf4362d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudo_nss.c:<br>
Add missing whitespace for Runas and Command-specific defaults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71baab8ac"
>[71baab8ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/ldap.c, plugins/sudoers/parse.c,
plugins/sudoers/sudo_nss.c:<br>
Use embedded newlines in lbuf instead of multiple calls to lbuf_print.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38937dca5"
>[38937dca5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/lbuf.c:<br>
Add support for embedded newlines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f771f39b"
>[6f771f39b]</a></li>
</ul>
</dd>
<dt>2010-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/getprogname.c:<br>
If system doesn&rsquo;t support getprogname or __programe and we are building
a shared object don&rsquo;t bother with Argc/Argv, just return &ldquo;sudo&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=623fc34dd"
>[623fc34dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/load_plugins.c:<br>
Hard-code sudoers.so instead of using SUDOERS_PLUGIN since libtool
appears to always install a shared object with the .so suffix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5be1b8016"
>[5be1b8016]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in, plugins/sample/Makefile.in,
plugins/sudoers/Makefile.in, src/Makefile.in:<br>
Play more nicely with libtool and let it build libreplace (was
libmissing) for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba9d2f5bb"
>[ba9d2f5bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/missing.h:<br>
Include stdarg.h for va_list rather than requiring all consumers of
missing.h to include stdarg.h themselves.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdbc4ecff"
>[fdbc4ecff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/lbuf.h, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/check.c, plugins/sudoers/sudo_nss.c,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h, src/lbuf.c,
src/parse_args.c:<br>
Pass in output function to lbuf_init() instead of writing to stdout. A
side effect is that the usage info can now go to stderr as it should.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4f4afdf6"
>[b4f4afdf6]</a></li>
</ul>
</dd>
<dt>2010-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>include/lbuf.h, plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, src/lbuf.c, src/parse_args.c, src/sudo.c:<br>
Use number of tty columns that is passed in user_info instead of getting
it directly in the lbuf code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=038ec569d"
>[038ec569d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/alias.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/defaults.h, plugins/sudoers/env.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/gram.c, plugins/sudoers/gram.y,
plugins/sudoers/interfaces.h, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/match.c,
plugins/sudoers/mon_systrace.h, plugins/sudoers/parse.c,
plugins/sudoers/parse.h, plugins/sudoers/pwutil.c,
plugins/sudoers/redblack.c, plugins/sudoers/redblack.h,
plugins/sudoers/set_perms.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers.c, plugins/sudoers/sudoers.h,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/visudo.c:<br>
Kill __P in sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5ae4c7d8"
>[d5ae4c7d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, src/load_plugins.c:<br>
Set the sudoers plugin name in configure so we get the extension right.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a2a2d193"
>[5a2a2d193]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document lines/cols in user_info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81949e89d"
>[81949e89d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in, src/sudo.c, src/sudo.h, src/ttysize.c:<br>
Add tty size to user info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96a98bed4"
>[96a98bed4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Use TIOCGSIZE/TIOCSSIZE instead of TIOCGWINSZ/TIOCSWINSZ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f08479f19"
>[f08479f19]</a></li>
</ul>
</dd>
<dt>2010-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Kill dead code Add missing sigsetjmp in sudo_policy_invalidate Error out
if we fail to lookup the user&rsquo;s name that is passed in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5d2775f7"
>[a5d2775f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/error.c:<br>
Pass the error value back via siglongjmp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d8159fa2"
>[0d8159fa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Use conversation function for lecture.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51c55cd48"
>[51c55cd48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c:<br>
Don&rsquo;t update ticket file if verify_user returns FALSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbf298bfc"
>[cbf298bfc]</a></li>
</ul>
</dd>
<dt>2010-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c, src/sudo.c:<br>
Wire up invalidate and validate methods for sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee223889c"
>[ee223889c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/check.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h:<br>
Add support for -k flag with a command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=248bae4e5"
>[248bae4e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Allow -k to be specified with a command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36701e123"
>[36701e123]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Wire up policy_list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8eec3402"
>[e8eec3402]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/error.c:<br>
Add newline at the end of message and space after the colon in warning
message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=718073e27"
>[718073e27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/auth/sudo_auth.c:<br>
Add missing newline after pass password warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88a0244dd"
>[88a0244dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/sudoers.c:<br>
Set user_groups and user_ngroups based on user_info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b024c53c"
>[7b024c53c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/error.c:<br>
Make this compile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5113f8489"
>[5113f8489]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/error.c, plugins/sudoers/sudoers.c:<br>
Make _warning in error.c use the conversation function and remove
commented out warning/warningx in sudoers.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e2f61a09"
>[5e2f61a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/logging.c:<br>
Use siglongjmp() in log_error for fatal errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbbc0cea5"
>[dbbc0cea5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in, plugins/sudoers/Makefile.in:<br>
Quiet a libtool warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1d6afaef"
>[d1d6afaef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile:<br>
Build sudoers plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6527c92da"
>[6527c92da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/gram.c, plugins/sudoers/gram.y:<br>
Use warningx in yyerror() so the conversation function gets used when
built as part of sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d54cedfab"
>[d54cedfab]</a></li>
</ul>
</dd>
<dt>2010-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sudoers/auth/pam.c:<br>
Rename sudo_conv to conversation to avoid a namespace conflict.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=748ce5538"
>[748ce5538]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sudoers/Makefile.in, plugins/sudoers/alias.c,
plugins/sudoers/auth/afs.c, plugins/sudoers/auth/aix_auth.c,
plugins/sudoers/auth/bsdauth.c, plugins/sudoers/auth/dce.c,
plugins/sudoers/auth/fwtk.c, plugins/sudoers/auth/kerb4.c,
plugins/sudoers/auth/kerb5.c, plugins/sudoers/auth/pam.c,
plugins/sudoers/auth/passwd.c, plugins/sudoers/auth/rfc1938.c,
plugins/sudoers/auth/secureware.c, plugins/sudoers/auth/securid.c,
plugins/sudoers/auth/securid5.c, plugins/sudoers/auth/sia.c,
plugins/sudoers/auth/sudo_auth.c, plugins/sudoers/auth/sudo_auth.h,
plugins/sudoers/check.c, plugins/sudoers/defaults.c,
plugins/sudoers/env.c, plugins/sudoers/error.c,
plugins/sudoers/find_path.c, plugins/sudoers/getspwuid.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.y, plugins/sudoers/interfaces.c,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/match.c, plugins/sudoers/mon_systrace.c,
plugins/sudoers/parse.c, plugins/sudoers/pwutil.c,
plugins/sudoers/redblack.c, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/testsudoers.c,
plugins/sudoers/toke.c, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/vasgroups.c, plugins/sudoers/visudo.c:<br>
Initial bits of sudoers plugin; still needs work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b0205846"
>[9b0205846]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add HAVE_STRDUP and HAVE_STRNDUP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3116e254b"
>[3116e254b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/Makefile.in, configure, configure.in:<br>
Build libmissing in two flavors (one PIC one non-PIC) and link with the
appropriate one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90ec11254"
>[90ec11254]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile, compat/fnmatch.c, compat/glob.c, compat/nanosleep.c,
compat/utimes.c, plugins/sample/Makefile.in, src/Makefile.in:<br>
Build libmissing in two flavors (one PIC one non-PIC) and link with the
appropriate one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b883670a3"
>[b883670a3]</a></li>
</ul>
</dd>
<dt>2010-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>include/missing.h:<br>
Add strdup and strndup and fix strsignal
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc598f8e1"
>[fc598f8e1]</a></li>
</ul>
</dd>
<dt>2010-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>compat/strdup.c, compat/strndup.c, configure, configure.in,
plugins/sample/Makefile.in, src/Makefile.in:<br>
Add strdup and strndup to compat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b4d97ebc"
>[6b4d97ebc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Need to include compat.h before missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8003cb2f3"
>[8003cb2f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/strsignal.c:<br>
Must check HAVE_DECL_SYS_SIGLIST == 1 (not just if defined) since if it
doesn&rsquo;t exist configure will set it to 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=301fb7d8e"
>[301fb7d8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/glob.c:<br>
Fix botched ANSI C coversion of globexp2()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93ae94f9d"
>[93ae94f9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove redundant getgroups check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dcebf901"
>[1dcebf901]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, src/lbuf.c, src/script.c, src/term.c:<br>
Require either termios or termio, no more sgtty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0795ef846"
>[0795ef846]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/strsignal.c, config.h.in, configure, configure.in:<br>
Change the sys_siglist check to use AC_CHECK_DECLS and also check for
_sys_siglist and__sys_siglist
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb8696d67"
>[cb8696d67]</a></li>
</ul>
</dd>
<dt>2010-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, src/Makefile.in:<br>
Change SUDO_LDFLAGS to SUDOERS_LDFLAGS and add SUDOERS_OBJS. We now use
SUDO_OBJS for the main driver as part of OBJS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5775026a5"
>[5775026a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Mention in the conversation function section that a newline is not
implicit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0f803e33"
>[f0f803e33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/compat.h:<br>
Add definition of WCOREDUMP for systems without it. This is known to
work on AIX and SunOS 4, but may be incorrect on other systems that lack
WCOREDUMP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af62ffe6f"
>[af62ffe6f]</a></li>
</ul>
</dd>
<dt>2010-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c, src/conversation.c:<br>
conversation function no longer puts a newline at the end of info or
error messages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f211213dc"
>[f211213dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
When doing a glob match, short circuit if gl.gl_pathc is 0. From Mark
Kettenis.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09900584f"
>[09900584f]</a></li>
</ul>
</dd>
<dt>2010-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Use parent process group id instead of parent process id when checking
foreground status and suspending parent. Fixes an issue when running
commands under /usr/bin/time and others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d0630823"
>[7d0630823]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
In setenv(), if the var is empty, return 1 and set errno to EINVAL
instead of returning EINVAL directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=731a6e850"
>[731a6e850]</a></li>
</ul>
</dd>
<dt>2010-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Use parent process group id instead of parent process id when checking
foreground status and suspending parent. Fixes an issue when running
commands under /usr/bin/time and others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8c4d6a13"
>[c8c4d6a13]</a></li>
</ul>
</dd>
<dt>2010-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
transcript option is now &ndash;with not &ndash;enable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca261fc7"
>[8ca261fc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Add support to -u and -g flags Check fmt_string retval Add timeout for
debugging purposes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b814a0d74"
>[b814a0d74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c, src/sudo.c:<br>
Wire up SIGALRM handler Set close on exec flag for child side of the
socketpair Fix signal handling when not doing I/O logging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e938c007"
>[4e938c007]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
g/c unused SIGCHLD handler
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d73f580f5"
>[d73f580f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/fmt_string.c, src/parse_args.c, src/sudo.c:<br>
Don&rsquo;t use emalloc() in fmt_string(); we want to be able to use it from a
plugin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc23068c2"
>[cc23068c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/list.h:<br>
tq_remove not list_remove
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=847a7c1b2"
>[847a7c1b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
AUTH_OBJS should contain .lo files not .o files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7b382a90"
>[c7b382a90]</a></li>
</ul>
</dd>
<dt>2010-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>src/parse_args.c:<br>
Simplify conversion of command line args to name=value pairs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ff6832e1"
>[5ff6832e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Handle NULL reply from conversation function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e131d427"
>[1e131d427]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/getline.c:<br>
Don&rsquo;t depend on emalloc/erealloc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3384abd2b"
>[3384abd2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in:<br>
Use $(OBJS) instead of sample_plugin.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c81a62df3"
>[c81a62df3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
runas_user is in settings not user_info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064eb3536"
>[064eb3536]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c:<br>
Fix a mismatch between sudo_settings and settings_pairs that causes some
settings to get the wrong values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1b7526e3"
>[a1b7526e3]</a></li>
</ul>
</dd>
<dt>2010-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>src/Makefile.in, src/aix.c, src/alloc.c, src/atobool.c, src/error.c,
src/fileops.c, src/lbuf.c, src/list.c, src/pty.c, src/sesh.c,
src/sudo.c, src/sudo_edit.c, src/term.c, src/zero_bytes.c:<br>
Convert to ANSI C
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c857c74e3"
>[c857c74e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/load_plugins.c:<br>
Fix strlcpy() return value check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6470a057e"
>[6470a057e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
No longer need to substitute in script.o and pty.o; I/O logging support
is always built.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf07bde70"
>[cf07bde70]</a></li>
</ul>
</dd>
<dt>2010-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Add fallback to /bin/sh when execve() fails with ENOEXEC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19b17c750"
>[19b17c750]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/alloc.h, src/alloc.c:<br>
Add estrndup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76c90bc30"
>[76c90bc30]</a></li>
</ul>
</dd>
<dt>2010-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c, src/sudo.c:<br>
Refactor script_execve() a bit so that it can be used in non-script
mode. Needs more cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f145264ee"
>[f145264ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Ignore empty entries in command_info list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=157b7805c"
>[157b7805c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/list.h, src/list.c:<br>
Add tq_remove
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25d3b4e51"
>[25d3b4e51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/conversation.c:<br>
Pass timeout to tgetpass()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=289dc98d9"
>[289dc98d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile:<br>
Add ChangeLog target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d53f352c4"
>[d53f352c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README, WHATSNEW:<br>
Bump version and update things slightly for sudo 1.8.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=186ef7e68"
>[186ef7e68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Sudo now requires an ANSI/ISO C compiler
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca3ee9de1"
>[ca3ee9de1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/alloc.c, src/audit.c, src/error.c, src/lbuf.c, src/sudo_noexec.c:<br>
Convert to ANSI C
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ec040b54"
>[7ec040b54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>include/alloc.h, include/compat.h, include/error.h, include/lbuf.h,
include/list.h, include/missing.h:<br>
Convert to ANSI C
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=841807dd6"
>[841807dd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/charclass.h, compat/closefrom.c, compat/fnmatch.c,
compat/fnmatch.h, compat/getcwd.c, compat/getline.c,
compat/getprogname.c, compat/glob.c, compat/glob.h, compat/isblank.c,
compat/memrchr.c, compat/mkstemp.c, compat/nanosleep.c,
compat/sigaction.c, compat/snprintf.c, compat/strcasecmp.c,
compat/strerror.c, compat/strlcat.c, compat/strlcpy.c,
compat/strsignal.c, compat/utime.h, compat/utimes.c:<br>
Convert to ANSI C
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=488c1531e"
>[488c1531e]</a></li>
</ul>
</dd>
<dt>2010-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>src/sudo.c, src/tgetpass.c:<br>
Make user_details extern so tgetpass can get at the uid and gid. Set
uid/gid to user before executing askpass program. Check environment for
SUDO_ASKPASS and use that if set. TODO: a way for the policy to set the
askpass program itself
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e5ff964a"
>[9e5ff964a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
No longer need sudo_usage.h in sudo.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3b2c9ac1"
>[f3b2c9ac1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo.cat, doc/sudo.man.in, doc/sudo.pod, doc/sudo_plugin.man.in,
doc/sudo_plugin.pod, src/Makefile.in, src/parse_args.c,
src/sudo_usage.h.in:<br>
Document -D level command line flag which maps to the debug_level
setting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07bf968c4"
>[07bf968c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/sudo_plugin.cat, doc/sudo_plugin.man.in, doc/sudo_plugin.pod:<br>
Document debug_level in plugin doc. Still need to document the -D flag
in sudo itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9eb3e63c5"
>[9eb3e63c5]</a></li>
</ul>
</dd>
<dt>2010-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Check for pseudo-command by looking at the first character of the
command in sudoers instead of checking the user-supplied command for a
slash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a236bd21"
>[2a236bd21]</a></li>
</ul>
</dd>
<dt>2010-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
include missing,h for vasprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fac0743e8"
>[fac0743e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/Makefile.in, doc/sudo_plugin.cat, doc/sudo_plugin.man.in,
doc/sudo_plugin.pod:<br>
Rename plugin.pod -&gt; sudo_plugin.pod and wire into Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcd021da5"
>[bcd021da5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Need to include limits.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80fae46be"
>[80fae46be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/glob.c:<br>
No more sudo_getpw*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edd5184ac"
>[edd5184ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in, src/Makefile.in:<br>
Add missing compat bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7200af0ce"
>[7200af0ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/closefrom.c, compat/mkstemp.c, plugins/sample/Makefile.in:<br>
compat files should not include sudo.h wire up compat in sample plugin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3176134c"
>[b3176134c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile, configure, configure.in, doc/Makefile.in, src/Makefile.in:<br>
Fix up compat dependencies. Fix distclean target in doc/Makefile.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fadb324f1"
>[fadb324f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51131cdb8"
>[51131cdb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/sample_plugin.c:<br>
Log input and output to temp files for proof of concept.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=781a054ab"
>[781a054ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile, configure, configure.in, doc/Makefile.in:<br>
Add doc Makefile.in and wire it up
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=279cf1e95"
>[279cf1e95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
Handle SIGSTOP in addition to SIGTSTP. Fixes a problem with suspending a
shell with the &ldquo;suspend&rdquo; builtint.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4a07a44"
>[ad4a07a44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
In child, handle parent side of the pipe going away.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d73e870e6"
>[d73e870e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/script.c:<br>
No longer need to check for explicit death of the child (process #2)
since if it dies we will get EPIPE from the socketpair. Fix a sizeof()
that was causing a spurious error. Convert SCRIPT_DEBUG to sudo_debug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32ea572f2"
>[32ea572f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/sudo.c:<br>
Make sudo_debug do a single vfprintf() which will result in a single
write call on most systems. Avoids problems with interleaved debug
printf from different processes. Also remove an extraneous error case
since recv() can&rsquo;t return a short read and add some more XXX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2aaf8fbf"
>[c2aaf8fbf]</a></li>
</ul>
</dd>
<dt>2010-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>src/script.c:<br>
Fix uninitialized variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afcac0824"
>[afcac0824]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Fix sudo install target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=121c54705"
>[121c54705]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/parse_args.c, src/sudo.c, src/sudo.h:<br>
Wire up debug_level
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abb431b36"
>[abb431b36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/Makefile.in:<br>
Fix dependencies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4e0f503e"
>[b4e0f503e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix setting of plugin dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3327db217"
>[3327db217]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile:<br>
add clean targets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dccb419f"
>[6dccb419f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/atobool.c:<br>
Add missing source for sudo front end
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b88f1a7e"
>[4b88f1a7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>plugins/sample/Makefile.in, plugins/sample/sample_plugin.c:<br>
Sample plugin demonstrating the sudo plugin API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b354e36f"
>[3b354e36f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile, configure, configure.in, install-sh, pathnames.h.in,
src/Makefile.in, src/conversation.c, src/fileops.c, src/fmt_string.c,
src/load_plugins.c, src/parse_args.c, src/pty.c, src/script.c,
src/sudo.c, src/sudo.h, src/sudo_plugin_int.h, src/sudo_usage.h.in,
src/tgetpass.c:<br>
Modular sudo front-end which loads policy and I/O plugins that do most
the actual work. Currently relies on dynamic loading using dlopen(). See
doc/plugin.pod for the plugin API.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6a4cf723"
>[b6a4cf723]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>doc/plugin.pod, include/sudo_plugin.h:<br>
Sudo plugin API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90c06ad7f"
>[90c06ad7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/fnmatch.c, compat/glob.c, compat/nanosleep.c, compat/utimes.c,
plugins/sudoers/check.c, plugins/sudoers/gettime.c,
plugins/sudoers/match.c, plugins/sudoers/sudoreplay.c,
plugins/sudoers/testsudoers.c, plugins/sudoers/visudo.c, src/fileops.c,
src/sudo_edit.c:<br>
Replace emul/include.h with compat/include.h to match new source tree
layout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6187f5ad"
>[d6187f5ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>src/lbuf.c:<br>
Include missing.h for memrchr() proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc525d258"
>[dc525d258]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat/charclass.h, compat/closefrom.c, compat/fnmatch.c,
compat/fnmatch.h, compat/getcwd.c, compat/getline.c,
compat/getprogname.c, compat/glob.c, compat/glob.h, compat/isblank.c,
compat/memrchr.c, compat/mkstemp.c, compat/nanosleep.c,
compat/sigaction.c, compat/snprintf.c, compat/strcasecmp.c,
compat/strerror.c, compat/strlcat.c, compat/strlcpy.c,
compat/strsignal.c, compat/timespec.h, compat/utime.h, compat/utimes.c,
doc/HISTORY, doc/LICENSE, doc/PORTING, doc/TROUBLESHOOTING, doc/UPGRADE,
doc/history.pod, doc/license.pod, doc/sample.pam, doc/sample.sudoers,
doc/sample.syslog.conf, doc/schema.ActiveDirectory, doc/schema.OpenLDAP,
doc/schema.iPlanet, doc/sudo.cat, doc/sudo.man.in, doc/sudo.man.pl,
doc/sudo.pod, doc/sudoers.cat, doc/sudoers.ldap.cat,
doc/sudoers.ldap.man.in, doc/sudoers.ldap.pod, doc/sudoers.man.in,
doc/sudoers.man.pl, doc/sudoers.pod, doc/sudoreplay.cat,
doc/sudoreplay.man.in, doc/sudoreplay.pod, doc/visudo.cat,
doc/visudo.man.in, doc/visudo.pod, include/alloc.h, include/compat.h,
include/error.h, include/lbuf.h, include/list.h, include/missing.h,
plugins/sudoers/Makefile.binary.in, plugins/sudoers/Makefile.in,
plugins/sudoers/aixcrypt.exp, plugins/sudoers/alias.c,
plugins/sudoers/auth/API, plugins/sudoers/auth/afs.c,
plugins/sudoers/auth/aix_auth.c, plugins/sudoers/auth/bsdauth.c,
plugins/sudoers/auth/dce.c, plugins/sudoers/auth/fwtk.c,
plugins/sudoers/auth/kerb4.c, plugins/sudoers/auth/kerb5.c,
plugins/sudoers/auth/pam.c, plugins/sudoers/auth/passwd.c,
plugins/sudoers/auth/rfc1938.c, plugins/sudoers/auth/secureware.c,
plugins/sudoers/auth/securid.c, plugins/sudoers/auth/securid5.c,
plugins/sudoers/auth/sia.c, plugins/sudoers/auth/sudo_auth.c,
plugins/sudoers/auth/sudo_auth.h, plugins/sudoers/boottime.c,
plugins/sudoers/check.c, plugins/sudoers/def_data.c,
plugins/sudoers/def_data.h, plugins/sudoers/def_data.in,
plugins/sudoers/defaults.c, plugins/sudoers/defaults.h,
plugins/sudoers/env.c, plugins/sudoers/find_path.c,
plugins/sudoers/getdate.c, plugins/sudoers/getdate.y,
plugins/sudoers/getspwuid.c, plugins/sudoers/gettime.c,
plugins/sudoers/goodpath.c, plugins/sudoers/gram.c,
plugins/sudoers/gram.h, plugins/sudoers/gram.y,
plugins/sudoers/ins_2001.h, plugins/sudoers/ins_classic.h,
plugins/sudoers/ins_csops.h, plugins/sudoers/ins_goons.h,
plugins/sudoers/install-sh, plugins/sudoers/insults.h,
plugins/sudoers/interfaces.c, plugins/sudoers/interfaces.h,
plugins/sudoers/ldap.c, plugins/sudoers/logging.c,
plugins/sudoers/logging.h, plugins/sudoers/match.c,
plugins/sudoers/mkdefaults, plugins/sudoers/mon_systrace.c,
plugins/sudoers/mon_systrace.h, plugins/sudoers/nonunix.h,
plugins/sudoers/parse.c, plugins/sudoers/parse.h,
plugins/sudoers/pwutil.c, plugins/sudoers/redblack.c,
plugins/sudoers/redblack.h, plugins/sudoers/set_perms.c,
plugins/sudoers/sudo_nss.c, plugins/sudoers/sudo_nss.h,
plugins/sudoers/sudoers, plugins/sudoers/sudoers.c,
plugins/sudoers/sudoers.h, plugins/sudoers/sudoers2ldif,
plugins/sudoers/sudoreplay.c, plugins/sudoers/testsudoers.c,
plugins/sudoers/timestr.c, plugins/sudoers/toke.c,
plugins/sudoers/toke.l, plugins/sudoers/tsgetgrpw.c,
plugins/sudoers/vasgroups.c, plugins/sudoers/visudo.c, src/aix.c,
src/alloc.c, src/audit.c, src/bsm_audit.c, src/bsm_audit.h, src/error.c,
src/fileops.c, src/lbuf.c, src/list.c, src/pty.c, src/script.c,
src/selinux.c, src/sesh.c, src/sudo_edit.c, src/sudo_noexec.c,
src/term.c, src/tgetpass.c, src/zero_bytes.c:<br>
Rework source layout in preparation for modular sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e90fa482f"
>[e90fa482f]</a></li>
</ul>
</dd>
<dt>2010-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>:<br>
Avoid a duplicate fclose() of the sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28c24027e"
>[28c24027e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Fix size arg when realloc()ing include stack. From Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60adef2e3"
>[60adef2e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Use setrlimit64(), if available, instead of setrlimit() when setting AIX
resource limits since rlim_t is 32bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b02fe5ea"
>[6b02fe5ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Fix use after free when sending error messages. From Timo Juhani
Lindfors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f59ba20b"
>[7f59ba20b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
Generate the ChangeLog as part of &ldquo;make dist&rdquo; instead of having it in
the repo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=280a51cda"
>[280a51cda]</a></li>
</ul>
</dd>
<dt>2010-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.l:<br>
Avoid a duplicate fclose() of the sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40de29cb"
>[a40de29cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Fix size arg when realloc()ing include stack. From Daniel Kopecek
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01240ab71"
>[01240ab71]</a></li>
</ul>
</dd>
<dt>2010-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>aix.c, config.h.in, configure, configure.in:<br>
Use setrlimit64(), if available, instead of setrlimit() when setting AIX
resource limits since rlim_t is 32bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd37f5c59"
>[fd37f5c59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Fix use after free when sending error messages. From Timo Juhani
Lindfors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4d13c1ca"
>[d4d13c1ca]</a></li>
</ul>
</dd>
<dt>2010-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog, Makefile.in:<br>
Generate the ChangeLog as part of &ldquo;make dist&rdquo; instead of having it in
the repo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0f149b53"
>[c0f149b53]</a></li>
</ul>
</dd>
<dt>2010-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Generate correct ChangeLog for 1.7 branch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=924daf022"
>[924daf022]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary.in, Makefile.in, aix.c, alias.c, alloc.c, alloc.h,
auth/afs.c, auth/aix_auth.c, auth/bsdauth.c, auth/dce.c, auth/fwtk.c,
auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/passwd.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/securid5.c, auth/sia.c,
auth/sudo_auth.c, auth/sudo_auth.h, check.c, closefrom.c, compat.h,
configure.in, defaults.c, defaults.h, emul/charclass.h, emul/timespec.h,
env.c, error.c, error.h, fileops.c, find_path.c, getcwd.c,
getprogname.c, getspwuid.c, gettime.c, goodpath.c, gram.c, gram.y,
ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h, insults.h,
interfaces.c, interfaces.h, isblank.c, lbuf.c, lbuf.h, ldap.c, list.c,
list.h, logging.c, logging.h, match.c, memrchr.c, missing.h,
mkinstalldirs, mkstemp.c, mon_systrace.c, nanosleep.c, parse.c, parse.h,
pathnames.h.in, pty.c, pwutil.c, redblack.c, redblack.h, sample.pam,
sample.sudoers, sample.syslog.conf, script.c, selinux.c, sesh.c,
set_perms.c, sigaction.c, snprintf.c, strcasecmp.c, strerror.c,
strlcat.c, strlcpy.c, strsignal.c, sudo.c, sudo.h, sudo.man.in,
sudo.pod, sudo_edit.c, sudo_noexec.c, sudo_nss.c, sudo_nss.h,
sudo_usage.h.in, sudoers.ldap.man.in, sudoers.ldap.pod, sudoers.man.in,
sudoers.pod, sudoers2ldif, sudoreplay.c, sudoreplay.man.in,
sudoreplay.pod, term.c, testsudoers.c, tgetpass.c, timestr.c, toke.c,
toke.l, utimes.c, visudo.c, visudo.man.in, visudo.pod, zero_bytes.c:<br>
Remove CVS $Sudo$ tags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bb69ffe8"
>[3bb69ffe8]</a></li>
</ul>
</dd>
<dt>2010-01-18  convert-repo</dt>
<dd>
<ul>
<li>.hgtags:<br>
update tags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a50fafc1"
>[4a50fafc1]</a></li>
</ul>
</dd>
<dt>2009-12-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_usage.h.in:<br>
make this match sudoers SYNOPSIS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb0e20802"
>[fb0e20802]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lbuf.c, parse.c:<br>
Print a newline between Runas and Command-specific defaults in sudo -l.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ca8f2400"
>[8ca8f2400]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
Use SET and CLR macros in term_raw
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0b2086a6"
>[d0b2086a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Set stdin to non-blocking mode early instead of in check_input. Use
term_raw instead of term_cbreak since the data we get has already been
expanded via OPOST.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fbdbde2f"
>[8fbdbde2f]</a></li>
</ul>
</dd>
<dt>2009-12-23  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c, term.c:<br>
Enable/disable all postprocessing instead of just nl-&gt;crnl processing
since things like tab expansion matter too. However, if stdout is a tty
leave postprocessing on in the pty since we run into problems doing it
only on the real stdout with .e.g nvi.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a759cd2a"
>[7a759cd2a]</a></li>
</ul>
</dd>
<dt>2009-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
If tty_tickets is enabled and there is no tty, prompt for a password. Do
not lecture user for &ldquo;sudo -k command&rdquo; if user has a timestamp.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce63ab506"
>[ce63ab506]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Document missing options: &ndash;with-efence and &ndash;with-bsm-audit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2df5bd857"
>[2df5bd857]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.ldap.pod, sudoers.man.in, sudoers.pod,
sudoreplay.cat, sudoreplay.man.in, sudoreplay.pod, visudo.cat,
visudo.man.in, visudo.pod:<br>
username -&gt; user name groupname -&gt; group name hostname -&gt; host name
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e007e2ad4"
>[e007e2ad4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README.LDAP, sudoers.pod:<br>
filename -&gt; file name like the rest of the docs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00c89f014"
>[00c89f014]</a></li>
</ul>
</dd>
<dt>2009-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Fix printing of entries with multiple host entries on a single line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73dccdf93"
>[73dccdf93]</a></li>
</ul>
</dd>
<dt>2009-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Mention that targetpw affects the timestamp file name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bc6801ca"
>[2bc6801ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, defaults.c, script.c, sudoers.pod:<br>
Add compress_transcript option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=180785567"
>[180785567]</a></li>
</ul>
</dd>
<dt>2009-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
bump to 1.7.3b2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6810071e8"
>[6810071e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c, set_perms.c, sudo.c, sudo_nss.c:<br>
Better split of membership vs. traditional group check in
user_in_group(). Allow user_ngroups to be &lt; 0 if getgroups() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d20335136"
>[d20335136]</a></li>
</ul>
</dd>
<dt>2009-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Fix pasto and add default return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d054f897"
>[0d054f897]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, match.c, pwutil.c, sudo.h:<br>
refactor group member checking into user_in_group()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab72e242b"
>[ab72e242b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, config.h.in, configure, configure.in, match.c, sudo.c, sudo.h:<br>
Add support for mbr_check_membership() as present in darwin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8239bb34"
>[b8239bb34]</a></li>
</ul>
</dd>
<dt>2009-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Rename label to be accurate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02ae5fd96"
>[02ae5fd96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, boottime.c, check.c, config.h.in, configure, configure.in,
sudo.h:<br>
Treat timestamp files from before we booted as old. Idea from and Apple
patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=600ce3dfa"
>[600ce3dfa]</a></li>
</ul>
</dd>
<dt>2009-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo.pod, sudo_usage.h.in:<br>
Allow the -u flag to be used in conjunction with the -v flag as per
older versions of sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b48ab71e"
>[8b48ab71e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fix typo in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f325cfac8"
>[f325cfac8]</a></li>
</ul>
</dd>
<dt>2009-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Convert fmt_first and fmt_confd into macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a9810bfd"
>[2a9810bfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
timeouts can be floats now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a61c1806a"
>[a61c1806a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, def_data.c, def_data.h, def_data.in, defaults.c, defaults.h,
mkdefaults:<br>
Add support for floating point timeout values (e.g. 2.5 minutes).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=186d836eb"
>[186d836eb]</a></li>
</ul>
</dd>
<dt>2009-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
The -L flag will be removed in sudo 1.7.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d92b6c5d9"
>[d92b6c5d9]</a></li>
</ul>
</dd>
<dt>2009-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Fix a bug due to order of operators.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa03d9cac"
>[aa03d9cac]</a></li>
</ul>
</dd>
<dt>2009-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
cmnd_matches() already deals with negation so _cmndlist_matches() does
not need to do so itself. Fixes a bug with negated entries in a
Cmnd_List.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=803dd9a7c"
>[803dd9a7c]</a></li>
</ul>
</dd>
<dt>2009-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t exit() from open_sudoers, just return NULL for all errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a86896a1c"
>[a86896a1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Can&rsquo;t rely on the shell sending us SIGCONT when transitioning from
backgroup to foreground process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=453d055b4"
>[453d055b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Add missing extern def for parse_error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=850990b88"
>[850990b88]</a></li>
</ul>
</dd>
<dt>2009-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Avoid a parse error when #includedir doesn&rsquo;t find any files. Closes bug
#375
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22e333fc5"
>[22e333fc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Include sudo.man.pl and sudoers.man.pl in the distribution tarball.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=41c3dc733"
>[41c3dc733]</a></li>
</ul>
</dd>
<dt>2009-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Start command out in foreground mode if stdout is a tty. Works around
issues with some curses-based programs that don&rsquo;t handle tcsetattr
getting interrupted by a signal. Still allows us to avoid hogging the
tty if the command is part of a pipeline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84d4bc2df"
>[84d4bc2df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudo.c, sudo.h, sudoreplay.c, term.c, tgetpass.c:<br>
Use a socketpair to pass signals from parent to child. Child will now
pass command status change info back via the socketpair. This allows the
parent to distinguish between signals it has been sent directly and
signals the command has received. It also means the parent can once
again print the signal notifications to the tty so all writes to the pty
master occur in the parent. The command is now always started in
background mode with tty signals handled by the parent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcf6602da"
>[dcf6602da]</a></li>
</ul>
</dd>
<dt>2009-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix a few typos in the descriptions; from Jeff Makey Only do the check
for krb5_get_init_creds_opt_free() taking two arguments if we find
krb5_get_init_creds_opt_alloc(). Otherwise we will get a false positive
when using our own krb5_get_init_creds_opt_free which takes only a
single argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=871b3fb12"
>[871b3fb12]</a></li>
</ul>
</dd>
<dt>2009-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove a spurious comma in the kerb5 bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0fdeb12a"
>[d0fdeb12a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Call krb5_get_init_creds_opt_init() in our emulated
krb5_get_init_creds_opt_alloc() for MIT kerberos.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce0fdd554"
>[ce0fdd554]</a></li>
</ul>
</dd>
<dt>2009-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
Add HAVE_ZLIB
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63fee4708"
>[63fee4708]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Need to ignore SIGTT{IN,OU} in child when running the command in the
background. Also some minor cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=febc3cbb1"
>[febc3cbb1]</a></li>
</ul>
</dd>
<dt>2009-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Instead of calling sigsuspend when waiting for SIGUSR[12] from parent,
install the signal handlers w/o SA_RESTART and let them interrupt
waitpid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78cd63e07"
>[78cd63e07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Pass along SIGHUP and SIGTERM from parent to child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94370b319"
>[94370b319]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Close unused bits of script_fds in processes that don&rsquo;t need them.
Restore default SIGCONT handler in child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6567f46b"
>[e6567f46b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Update foreground/background status in SIGCONT handler in parent
process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aee3382ed"
>[aee3382ed]</a></li>
</ul>
</dd>
<dt>2009-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Defer setting terminal into raw mode until just before we fork() and
only do it if sudo is the foreground process. If we get SIGTT{IN,OU} and
sudo is already in the foreground be sure to set raw mode before
continuing the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e62dd7645"
>[e62dd7645]</a></li>
</ul>
</dd>
<dt>2009-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Fix handling of SIGTTOU/SIGTTIN in program being run. We now only give
the command the controlling tty if the main sudo process is the
foreground process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c77ef16fc"
>[c77ef16fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Don&rsquo;t bother with sudo_waitpid() here for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61b57817a"
>[61b57817a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
fix non-zlib case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50f5d5516"
>[50f5d5516]</a></li>
</ul>
</dd>
<dt>2009-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Remove non-wroking code that crept into rev 1.55
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=470d3a192"
>[470d3a192]</a></li>
</ul>
</dd>
<dt>2009-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in, script.c, sudoreplay.c:<br>
First pass at zlib support for transcript data files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=602a62c01"
>[602a62c01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
remove vestiges of ZLDFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaa2f89ea"
>[aaa2f89ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Add missing variable declaration for when TIOCSCTTY is not defined. Need
to include sys/termio.h for TIOCSCTTY on some systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db502bb58"
>[db502bb58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
when resuming command, send SIGCONT to its pgrp not just pid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03e0e4c74"
>[03e0e4c74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>selinux.c:<br>
remove unused variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=777c82a4d"
>[777c82a4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
include selinux.h for is_selinux_enabled() proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa5a519a"
>[8fa5a519a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Don&rsquo;t use log_error() in the child process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b231f074a"
>[b231f074a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Do I/O in parent instead of child since the parent can have both
/dev/tty as well as the pty fds open. The child just sets things up and
waits for its grandchild and writes the signal description to the pty
master if the command was killed by a signal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=425026fa1"
>[425026fa1]</a></li>
</ul>
</dd>
<dt>2009-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>missing.h, sudo.h:<br>
Move two struct forward declarations from sudo.h to missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=773865eb1"
>[773865eb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Make comment at the top of script_exec() match reality.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27b221e43"
>[27b221e43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
if neither stdin nor stdout is a tty, check stderr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7281ad3bc"
>[7281ad3bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add back dependecy of gram.h on gram.y
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6ba8ebdd"
>[c6ba8ebdd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Make transcript mode work as long as we can figure out our tty, even if
it is not stdin. We&rsquo;d like to use /dev/tty but that won&rsquo;t be valid after
the setsid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a5afcbb1"
>[1a5afcbb1]</a></li>
</ul>
</dd>
<dt>2009-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, pty.c:<br>
Add support for IRIX-style dynamic ptys
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5087b726"
>[e5087b726]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, alloc.h, getline.c, sudo.h, sudoreplay.c:<br>
Move alloc.c protos into alloc.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cb463ade"
>[8cb463ade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>missing.h:<br>
Move prototypes for missing libc functions to missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=335b895c1"
>[335b895c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.h, sudoreplay.c:<br>
Move prototypes for missing libc functions to missing.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c6960e7a"
>[8c6960e7a]</a></li>
</ul>
</dd>
<dt>2009-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Disable transcript support if no tcsetpgrp until we support older
BSD-style job control.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52b2762f7"
>[52b2762f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, pty.c, script.c:<br>
Break out pty code into pty.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9544845ef"
>[9544845ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
add killpg macro if no killpg function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e443ee9ff"
>[e443ee9ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, script.c:<br>
Push ptem and ldterm for STERAMS-based systems when allocating a pty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=babf9292d"
>[babf9292d]</a></li>
</ul>
</dd>
<dt>2009-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Sprinkle some more O_NOCTTY and call grantpt() before unlockpt()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d79b1da3"
>[7d79b1da3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Call tcgetpgrp() in the parent, not the child and have the child spin
until it is granted. Fixes a race on darwin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ece4c837"
>[3ece4c837]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Only use TIOCNOTTY in the non-setsid case. If no TIOCSCTTY, just reopen
slave.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52f3374ce"
>[52f3374ce]</a></li>
</ul>
</dd>
<dt>2009-10-14  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
In script mode, if the command is killed by a signal, print the signal
description as well as a core dump notification like the shell does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7411b071e"
>[7411b071e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in, strsignal.c, sudo.h:<br>
Add check for strsignal() and a simple implementation if it is not there
but sys_siglist is
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=233377a8b"
>[233377a8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Add missing WUNTRACED and store the signal that stopped the grandchild
in suspended, not signo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bfe0fe95"
>[7bfe0fe95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
g/c unused code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd8ba1219"
>[cd8ba1219]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Associate the grandchild&rsquo;s pgrp with the tty instead of the child&rsquo;s and
just get suspend notifications via SIGCHLD instead of directly. This
fixes a hang with programs that try to set terminal attributes and is
more consistent with how the shell handles things.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d04ffc40"
>[0d04ffc40]</a></li>
</ul>
</dd>
<dt>2009-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Move setpgid() of child into the parent side of the fork() where it
belongs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d72afb29a"
>[d72afb29a]</a></li>
</ul>
</dd>
<dt>2009-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc1769df2"
>[bc1769df2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Run command in its own pgrp (like the shell does) for easier signalling.
No need to relay SIGINT or SIGQUIT to parent, just send to grandchild.
Don&rsquo;t want grandchild stopped events in the child (only termination).
Flush output after suspending grandchild before signalling parent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88b93973f"
>[88b93973f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Back out revision 1.34; the problem lies elsewhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3185d3e2"
>[a3185d3e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Don&rsquo;t set stdout to blocking mode when flushing remaining output. It can
cause us to hang when trying to exit. Need to investigate why.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f44c2261f"
>[f44c2261f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Handle SIGTTOU and remove some debugging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03e3ca08d"
>[03e3ca08d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
Back out revision 1.10 as the signal that interrupts us may be SIGTTOU
or SIGTTIN which the caller must handle.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9afe6a842"
>[9afe6a842]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Apparently we need to send SIGSTOP to the command as well as ourself
when we get SIGTSTP, the kernel doesn&rsquo;t automatically stop the process
for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09a7bb78f"
>[09a7bb78f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Use an extra process to act as the glue bewteen the sessions associated
with the user&rsquo;s controlling tty (what the shell uses) and the tty that
sudo is using to do its logging. Basically, this means that if we get,
e.g. SIGTSTP from the process sudo is running, we relay the signal to
the parent so it&rsquo;s shell can do the job control.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cf1b81ab"
>[2cf1b81ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
Handle getting/setting terminal attributes when the fd is in
non-blocking mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a343d499"
>[3a343d499]</a></li>
</ul>
</dd>
<dt>2009-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c, sudoreplay.cat, sudoreplay.man.in, sudoreplay.pod:<br>
Add support for pausing and changing the speed in interactive mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55434759f"
>[55434759f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Already define O_NOCTTY in compat.h, don&rsquo;t need it here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50b62b694"
>[50b62b694]</a></li>
</ul>
</dd>
<dt>2009-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Add missing protos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8e048c20"
>[c8e048c20]</a></li>
</ul>
</dd>
<dt>2009-09-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Always update the stashed mtime of the temp file instead of using what
we have for the original because the time resolution of the filesystem
the temporary is on may not match that of the filesystem that holds the
original. Should fix bz #371 found by Philippe Levan.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=378d15f8f"
>[378d15f8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Use cbreak mode instead of raw mode and add signal handlers to restore
the tty on interrupt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5636a93f5"
>[5636a93f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudo.h, term.c:<br>
Retain NL to NLCR conversion on the real tty and skip it on the pty we
allocate. That way, if stdout is not a pty there are no extra carriage
returns.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe9fc5ad1"
>[fe9fc5ad1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Fix log_output(); just pass in a string and a length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6331c077"
>[e6331c077]</a></li>
</ul>
</dd>
<dt>2009-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
do not use errno when complaining out lack of a tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e4379b26"
>[8e4379b26]</a></li>
</ul>
</dd>
<dt>2009-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, sudoreplay.c, term.c:<br>
Instead of messing with line endings, just set terminal to raw mode in
sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d9e1e7b6"
>[0d9e1e7b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
When copying the terminal attributes to the pty, be sure not to set
ONLCR. This prevents extra carriage returns from ending up in the script
output file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=929f13fdf"
>[929f13fdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Convert a do {} while into a while
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=577fb346f"
>[577fb346f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Use if then instead of test &amp;&amp; when installing binaries that may not
exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=672d0f592"
>[672d0f592]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Add O_NOCTTY when opening a tty device. Explicitly disconnect from old
tty before associatng with new one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4283bbcb2"
>[4283bbcb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, selinux.c, sudo.c, sudo.h:<br>
First cut at refactoring some of the selinux code so it can be used in
conjunction with sudo&rsquo;s transcript support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d1947850"
>[7d1947850]</a></li>
</ul>
</dd>
<dt>2009-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Fix default case of transcript_enabled being unset.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6a8c71d2"
>[c6a8c71d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudoreplay.c:<br>
Use _PATH_SUDO_TRANSCRIPT instead of _PATH_SUDO_SESSDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d111b0d9b"
>[d111b0d9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, aclocal.m4, configure, configure.in, sudo.c:<br>
Hook up &ndash;disable-transcript and &ndash;enable-transcript=DIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a6dcebd8"
>[8a6dcebd8]</a></li>
</ul>
</dd>
<dt>2009-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, pathnames.h.in:<br>
_PATH_SUDO_SESSDIR -&gt; _PATH_SUDO_TRANSCRIPT Add &ndash;enable-transcript=DIR
option to specify the directory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e823cdad"
>[0e823cdad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4fa5baa1"
>[c4fa5baa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, sudoers.man.pl, sudoers.pod:<br>
Substitute in default value for secure_path
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=104a402b6"
>[104a402b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Mention that the password must be followed by a newline with the -S
option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8422c4ff"
>[d8422c4ff]</a></li>
</ul>
</dd>
<dt>2009-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Go back to dropping out of the select() loop when the process dies;
Linux ptys apparently don&rsquo;t behave the same as BSD in regards to
select(). No need to flush remaining output to the transcript, only to
stdout. Add back code to check the master pty for additional data when
we exit the main select loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bb38284b"
>[7bb38284b]</a></li>
</ul>
</dd>
<dt>2009-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Add getline.o to COMMON_OBJS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b008f3fda"
>[b008f3fda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
sudoreplay depends on libsudo.a
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16a495c6c"
>[16a495c6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
More pwutil.o into COMMON_OBJS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c4eea59e"
>[6c4eea59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c, testsudoers.c, tsgetgrpw.c:<br>
Remove my_* redirection in pwutil.c for testsudoers and just use the
normal libc get{pw,gr}* names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e56d4af8f"
>[e56d4af8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.cat, sudoreplay.man.in, sudoreplay.pod:<br>
More time and date examples
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2950b0c75"
>[2950b0c75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, nanosleep.c, sudoreplay.c:<br>
Move nanosleep() emulation into its own file Check librt.a for nanosleep
if we don&rsquo;t find it in libc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6794ef532"
>[6794ef532]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Build libsudo with the common bits and link things against that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2752268c9"
>[2752268c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Fix final flush.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f68a24fb3"
>[f68a24fb3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Keep reading from the pty master -&gt; log file until read returns &lt;= 0.
Do our best to write everything to stdout when flushing any remaining
bits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3223231b1"
>[3223231b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Use unbuffered I/O when writing to stdout and make sure we write the
entire buffer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7de6bbcfd"
>[7de6bbcfd]</a></li>
</ul>
</dd>
<dt>2009-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Only use max_wait if it is non-zero
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6744c573b"
>[6744c573b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getdate.c, getdate.y, getline.c:<br>
Need compat.h here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b241a9e2d"
>[b241a9e2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Fix nanosleep emulation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=680351cb9"
>[680351cb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Fix comment after #endif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cc02be8a"
>[3cc02be8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Add protos for missing libc bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9f4db895"
>[b9f4db895]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
add missing line continuation char
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54e38658d"
>[54e38658d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, getline.c:<br>
Implement getline() in terms of fgetln() if we have it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17c6df8e"
>[f17c6df8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Print year when formatting log line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89fa08f7e"
>[89fa08f7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.pod:<br>
Document cwd, attempt to document time/date formats.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7011be08e"
>[7011be08e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Fix getline return value check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb0fb0380"
>[fb0fb0380]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in, getline.c,
sudoreplay.c:<br>
Use getline() if the system has it, else use provide our own for
sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40114c9ba"
>[40114c9ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Refactor code to update output and timing files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=798867ed2"
>[798867ed2]</a></li>
</ul>
</dd>
<dt>2009-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Make sudo_getln() behave more like glibc getline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a537514d"
>[1a537514d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
When flushing remaining output, also update timing file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74844b178"
>[74844b178]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Use get_timestr() and make the -l output look like the regular sudo log.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4421db631"
>[4421db631]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h, timestr.c:<br>
Make get_timestr() take a time_t so we can use it properly in
sudoreplay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fe7ac2b9"
>[3fe7ac2b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Create session dir earlier now that we update the seq number early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88a063b04"
>[88a063b04]</a></li>
</ul>
</dd>
<dt>2009-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Use fromdate and todate as the keywords instead of from and to; the
short forms will still be accepted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=705d23073"
>[705d23073]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Fix reading long liensin sudo_getln()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2b3a0e6c"
>[f2b3a0e6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudoreplay.c:<br>
Log the cwd in the script log file. Add sudo_getln() to read arbitrarily
long lines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a418f7811"
>[a418f7811]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, logging.c, sudo.h, timestr.c:<br>
Move get_timestr() into its own source file so sudoreplay can use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28b3a1813"
>[28b3a1813]</a></li>
</ul>
</dd>
<dt>2009-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Add to and from perdicates (date ranges); needs documentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=789d71601"
>[789d71601]</a></li>
</ul>
</dd>
<dt>2009-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, getdate.c, getdate.y:<br>
Fix warning and add generated getdate.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8589fccae"
>[8589fccae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, getdate.y:<br>
Add getdate.y to be used for sudoreplay date parsing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c7750931"
>[8c7750931]</a></li>
</ul>
</dd>
<dt>2009-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
Check more than just the first character of a predicate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65500fa95"
>[65500fa95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.cat, sudoreplay.man.in, sudoreplay.pod:<br>
Add examples, sort predicates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5acbff40a"
>[5acbff40a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudoreplay.c, sudoreplay.cat, sudoreplay.man.in,
sudoreplay.pod:<br>
Implement search expressions in sudoreplay similar in concept to what
find or tcpdump uses. TODO: date ranges
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3724c2e90"
>[3724c2e90]</a></li>
</ul>
</dd>
<dt>2009-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Remove vhangup as it was hanging up the wrong tty. Should really vhangup
in the child after it as set its tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10fa87dfa"
>[10fa87dfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix cut at documenting transcript support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd9854db5"
>[bd9854db5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
ID= -&gt; TSID= for transcript ID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0040571c9"
>[0040571c9]</a></li>
</ul>
</dd>
<dt>2009-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Move fast_glob description to where it belongs in sorted order
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95c41c897"
>[95c41c897]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, gram.c, gram.h, gram.y, parse.c,
parse.h, sudo.c:<br>
Rename script -&gt; transcript
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=927e98e29"
>[927e98e29]</a></li>
</ul>
</dd>
<dt>2009-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
Add timeradd and timersub for those without them
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8fc35b0a"
>[c8fc35b0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Sanity check sessid before using it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1fe4492f"
>[c1fe4492f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Only set the session id if we are running a command or editing a file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f80fa34e7"
>[f80fa34e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Actually. qsort is fine since most versions fal back to a cheaper sort
when the number of elements to sort is small (like in our case).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=568c99b09"
>[568c99b09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, script.c:<br>
Check for dup2 and use dup instead if we don&rsquo;t have it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2935e2a5b"
>[2935e2a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudo.c, sudo.h:<br>
Move the code to dup2 the script fds to low numbered descriptors into
script_duplow() and fix the fd sorting.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c57b8bb7b"
>[c57b8bb7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudo.c, sudo.h:<br>
Move script_setup() back to immediately before we drop privs and call
the new script_nextid() in its place, which will set sudo_user.sessid
for the logging functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad9ab8dab"
>[ad9ab8dab]</a></li>
</ul>
</dd>
<dt>2009-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Install sudoreplay
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=932914903"
>[932914903]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
remove unused variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f798228a7"
>[f798228a7]</a></li>
</ul>
</dd>
<dt>2009-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c, script.c, sudo.c, sudo.h:<br>
Log the session ID, if there is one. Currently logs ID=XXXXXX, perhaps
should be SESSIONID or SESSID.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6184eb946"
>[6184eb946]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, sudoreplay.cat, sudoreplay.man.in,
sudoreplay.pod:<br>
Add sudoreplay docs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5181d496c"
>[5181d496c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
add -V (version) flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ae1dae37"
>[7ae1dae37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Hook up max_wait.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dd8fe2fe"
>[5dd8fe2fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c, sudoreplay.c:<br>
Use base36 number for the ID and store script files with paths like
/var/log/sudo-session/00/00/00{,.tim,.scr}. This gives us 36^6
(2,176,782,336) unique IDs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9f38b2ac"
>[b9f38b2ac]</a></li>
</ul>
</dd>
<dt>2009-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add check for regcomp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ae9dae82"
>[6ae9dae82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Add support for selecting by pattern and tty when listing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9efd18b1b"
>[9efd18b1b]</a></li>
</ul>
</dd>
<dt>2009-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoreplay.c:<br>
The beginnings of a list mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30cfb7160"
>[30cfb7160]</a></li>
</ul>
</dd>
<dt>2009-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
fix pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051eab750"
>[051eab750]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure.in:<br>
Add scaffolding for building sudoreplay
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a00c5257"
>[7a00c5257]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
include error.h first arg to nanotime is const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20ad41f4d"
>[20ad41f4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoreplay.c:<br>
Initial cut at sudoreplay; replay a sudo session.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4be17511"
>[e4be17511]</a></li>
</ul>
</dd>
<dt>2009-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>script.c:<br>
Fix wait() usage and use correct wait status.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=946ea4c97"
>[946ea4c97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h, tgetpass.c:<br>
Add protos for term_* to sudo.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab5c31ee"
>[0ab5c31ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Fix detection of the child process exiting. Since the child is in its
own session we should only ever get SIGCHLD for that process but better
safe than sorry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40a21a6c7"
>[40a21a6c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add UNIX98 pty support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=834e817fa"
>[834e817fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, script.c:<br>
Add UNIX98 pty support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3c6c299e"
>[c3c6c299e]</a></li>
</ul>
</dd>
<dt>2009-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>term.c:<br>
For raw mode, don&rsquo;t bother clearing BRKINT or PARMRK and clear IUCLC if
it is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92dcfa896"
>[92dcfa896]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Set PAM_RUSER and PAM_RHOST early so they can be used during
authentication. Based on a patch from Jamie Beverly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bc3a2e85"
>[3bc3a2e85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Close dir before returning if strlcpy() reports overflow. From Martynas
Venckus.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fde79c46f"
>[fde79c46f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, script.c:<br>
On Linux, the openpty proto libes in pty.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee20527bf"
>[ee20527bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Call vhangup on exit if the system has it Use setpgrp() if no setsid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51793254e"
>[51793254e]</a></li>
</ul>
</dd>
<dt>2009-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add checks for revoke and vhangup if we don&rsquo;t have openpty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3458ec09"
>[b3458ec09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>script.c:<br>
Session logging guts that got forgotten in the previous commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee45ce4db"
>[ee45ce4db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, compat.h, config.h.in, configure, configure.in,
def_data.c, def_data.h, def_data.in, gram.c, gram.h, gram.y, parse.c,
parse.h, pathnames.h.in, sudo.c, sudo.h, term.c, tgetpass.c:<br>
First cut at session logging for sudo. Still need to write get_pty() for
Unix 98 and old-style BSD ptys. Also needs documentation and general
cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bfce30a8"
>[3bfce30a8]</a></li>
</ul>
</dd>
<dt>2009-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo_edit.c:<br>
Fix a bug introduced with def_closefrom. The value of def_closefrom
already includes the +1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=334c19a40"
>[334c19a40]</a></li>
</ul>
</dd>
<dt>2009-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Generate sudo distributions with pax in ustar mode. No longer need to
use a temp file or have the source dir name match the version.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=477f895ec"
>[477f895ec]</a></li>
</ul>
</dd>
<dt>2009-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Fix expansion of %h in #include names. Fixes bugzilla 363
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8ca82fee"
>[b8ca82fee]</a></li>
</ul>
</dd>
<dt>2009-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>mkdefaults:<br>
If no arg assume def_data.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51e292a47"
>[51e292a47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README, WHATSNEW:<br>
Update for 1.7.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b80daae9"
>[2b80daae9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd52fff16"
>[dd52fff16]</a></li>
</ul>
</dd>
<dt>2009-06-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Add missing single quotes around a colon in Runas_Spec definition. From
Elias Benali.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d73e1924"
>[0d73e1924]</a></li>
</ul>
</dd>
<dt>2009-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29ca85390"
>[29ca85390]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>redblack.c:<br>
In rbrepair, re-color the root or the first non-block node we find to be
black. Re-coloring the root is probably not needed but won&rsquo;t hurt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02dd5d998"
>[02dd5d998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudoers.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4764730f7"
>[4764730f7]</a></li>
</ul>
</dd>
<dt>2009-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>redblack.c:<br>
When repairing the tree, don&rsquo;t touch the root node.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca2e91126"
>[ca2e91126]</a></li>
</ul>
</dd>
<dt>2009-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Protect call to setegid in runas_setup with #ifdef HAVE_SETEUID.
Reported by Josef Schmid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e0200a33"
>[4e0200a33]</a></li>
</ul>
</dd>
<dt>2009-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Document that we accept env_pam-style environment files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2189fede"
>[b2189fede]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Adapt to accept pam_env-style /etc/environment which allows shell-style
lines such as: export EDITOR=&quot;/usr/bin/vi&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c669eda2"
>[0c669eda2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Make it clear that env_delete only works when !env_reset. From Loc
Minier
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f1643467"
>[8f1643467]</a></li>
</ul>
</dd>
<dt>2009-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod:<br>
Add non-unix group bits, adapted from Quest
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2efb0a55"
>[d2efb0a55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
build the .cat page in the current working dir, not the src dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3086f937f"
>[3086f937f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Return EINVAL in setenv() if var is NULL or the empty string to match
glibc behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44ace7735"
>[44ace7735]</a></li>
</ul>
</dd>
<dt>2009-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Use AS_HELP_STRING for AC_ARG_WITH and AC_ARG_ENABLE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=633357448"
>[633357448]</a></li>
</ul>
</dd>
<dt>2009-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.man.in, visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e939739aa"
>[e939739aa]</a></li>
</ul>
</dd>
<dt>2009-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Document &ndash;with-libvas and &ndash;with-libvas-rpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54c599d71"
>[54c599d71]</a></li>
</ul>
</dd>
<dt>2009-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c, sudoers.ldap.pod:<br>
For netscape-derived LDAP SDKs the cert and key paths may be a directory
or a file. However, version 5.0 of the SDK only seems to support using a
directory. If ldapssl_clientauth_init fails and the cert or key paths
look like they could be files, strip off the last path element and try
again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9606d2165"
>[9606d2165]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add non-Unix group .o to COMMON_OBJS and substitute in path to flex.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=073981ea8"
>[073981ea8]</a></li>
</ul>
</dd>
<dt>2009-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in, match.c, sudo.c, vasgroups.c:<br>
Update non-Unix group support from Quest, as reworked by me.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b7ae44ea"
>[7b7ae44ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ea51f226"
>[3ea51f226]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Add support for escaped hex chars in names, e.g. \x20 for space.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c70841395"
>[c70841395]</a></li>
</ul>
</dd>
<dt>2009-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, Makefile.in, aclocal.m4, alias.c, auth/aix_auth.c, auth/pam.c,
auth/sudo_auth.c, auth/sudo_auth.h, check.c, env.c, fileops.c, glob.c,
gram.y, interfaces.c, lbuf.c, ldap.c, logging.c, logging.h, match.c,
parse.c, parse.h, pathnames.h.in, pwutil.c, set_perms.c, sudo.c, sudo.h,
sudo.pod, sudo_nss.c, sudo_nss.h, sudo_usage.h.in, sudoers.ldap.pod,
sudoers.pod, testsudoers.c, tgetpass.c, toke.l, visudo.c:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62b89f9df"
>[62b89f9df]</a></li>
</ul>
</dd>
<dt>2009-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c, lbuf.c:<br>
Minor fixes for Minix-3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4341ce6cd"
>[4341ce6cd]</a></li>
</ul>
</dd>
<dt>2009-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Handle getgroups() returning 0. Also add missing check for
HAVE_GETGROUPS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=896508077"
>[896508077]</a></li>
</ul>
</dd>
<dt>2009-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in, sudo.c, version.h,
visudo.c:<br>
Replace version.h with PACKAGE_VERSION set via AC_INIT in configure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f54b69b0c"
>[f54b69b0c]</a></li>
</ul>
</dd>
<dt>2009-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Remove group setting code in setusercontext case, we will do it
ourselves later on in runas_setup. Set the gid after
initgroups/setgroups is called, since on Mac OS X it seems to change the
egid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f9f29a23"
>[5f9f29a23]</a></li>
</ul>
</dd>
<dt>2009-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, Makefile.in, config.h.in, match.c, nonunix.h, sudo.c,
vasgroups.c:<br>
Initial bits of non-unix group support using Quest Authentication
Services
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d98536623"
>[d98536623]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Accept %:foo as a non-Unix group
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3407d869"
>[f3407d869]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Allow user/group to be double quoted in the case of non-Unix groups
which contain spaces.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e74bea762"
>[e74bea762]</a></li>
</ul>
</dd>
<dt>2009-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Don&rsquo;t allow the user to specify the default runas user if their sudoers
entry only allows them to run as a group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d3491356"
>[8d3491356]</a></li>
</ul>
</dd>
<dt>2009-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Must call audit_success before we change uids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0ac222c3"
>[c0ac222c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, set_perms.c, sudo.h, testsudoers.c:<br>
Add option for set_perm to not exit on failure and use this in the
logging routines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=755a81e94"
>[755a81e94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
In -l mode, if the user is only allowed to run as a group, display the
user&rsquo;s name, not root&rsquo;s before the allowed group.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a609b467"
>[2a609b467]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Fix -g mode, broken by rev 1.503 which had the side effect of setting
the runas user to root unilaterally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3332ee984"
>[3332ee984]</a></li>
</ul>
</dd>
<dt>2009-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>fileops.c:<br>
When unlocking a file with fcntl, use F_SETLK, not F_SETLKW.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9251cf24a"
>[9251cf24a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c:<br>
Only cache by the method we fetched for pwd and grp lookups. Previously
we cached both by namd and id but this can cause problems for entries
that share the same id. Also add more info in the error message in case
the insert fails (which should now be impossible).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03f4a2e70"
>[03f4a2e70]</a></li>
</ul>
</dd>
<dt>2009-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Add a clarification from Nick Sieger
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b8994112"
>[2b8994112]</a></li>
</ul>
</dd>
<dt>2009-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Inline the setting of the environment string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d7518a18"
>[8d7518a18]</a></li>
</ul>
</dd>
<dt>2009-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
setenv(3) in Linux treats a NUL value as the empty string setenv(3) in
BSD doesn&rsquo;t return an error if the name has &lsquo;=&rsquo; in it, it just treats
the &lsquo;=&rsquo; as end of string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0c7180bb"
>[c0c7180bb]</a></li>
</ul>
</dd>
<dt>2009-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Not all systems have d_namlen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=182711e34"
>[182711e34]</a></li>
</ul>
</dd>
<dt>2009-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix up some pod2html issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db9860aa3"
>[db9860aa3]</a></li>
</ul>
</dd>
<dt>2009-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
Check for NULL ifa_addr and ifa_netmask. Adapted from a diff from Quest
Software.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78c347990"
>[78c347990]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Ignore files ending in &lsquo;~&rsquo; in sudo.d (emacs backup files)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0509ce3f6"
>[0509ce3f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Ignore files ending in &lsquo;~&rsquo; in sudo.d (emacs backup files)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72a1d8241"
>[72a1d8241]</a></li>
</ul>
</dd>
<dt>2009-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod, toke.c, toke.l:<br>
For #includedir, ignore any file containing a dot
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95de5670a"
>[95de5670a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
Bump version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=392edea92"
>[392edea92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.y, parse.c, parse.h, sudo.c, sudo.h, sudoers.cat,
sudoers.man.in, sudoers.pod, testsudoers.c, toke.c, toke.l, visudo.c:<br>
Implement #includedir directive. Files in an includedir are not edited
by visudo unless they contain a syntax error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3be603aa4"
>[3be603aa4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e65ec1438"
>[e65ec1438]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
Forgot umask_override
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=584a14555"
>[584a14555]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfce2852f"
>[bfce2852f]</a></li>
</ul>
</dd>
<dt>2009-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Rewind stream if we fdopen sudoers since it may not be at the beginning.
Set the keepopen flag on already-open files too so the lexer doesn&rsquo;t
close them out from under us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68ab808ac"
>[68ab808ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Print the proper file name when there is a parse error in an include
file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7c8554cf"
>[c7c8554cf]</a></li>
</ul>
</dd>
<dt>2009-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
Sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4c408392"
>[e4c408392]</a></li>
</ul>
</dd>
<dt>2009-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix a warning when &ndash;without-ldap is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eae33753"
>[8eae33753]</a></li>
</ul>
</dd>
<dt>2009-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>alias.c, parse.h, visudo.c:<br>
Store aliases that we remove during check_aliases in a freelist and free
them at the end so we don&rsquo;t leak memory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9708f9c2"
>[d9708f9c2]</a></li>
</ul>
</dd>
<dt>2009-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Check aliases in -c mode too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9703224b8"
>[9703224b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, parse.h, visudo.c:<br>
Make alias_remove return the alias struct instead of freeing it
directly. Fixes a use after free in alias_remove_recursive, the only
consumer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bf7af941"
>[7bf7af941]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, match.c, parse.c, parse.h, visudo.c:<br>
Rename find_alias -&gt; alias_find for consistency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=065662998"
>[065662998]</a></li>
</ul>
</dd>
<dt>2009-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
When checking for unused aliases, recurse if the alias points to another
alias.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b65831d4b"
>[b65831d4b]</a></li>
</ul>
</dd>
<dt>2009-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Back out rev 1.105 for now. Real ldapux_client.conf support will be done
later after some refactoring.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=322abc61e"
>[322abc61e]</a></li>
</ul>
</dd>
<dt>2009-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Treat ldap_hostport the same as &ldquo;host&rdquo; for ldapux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c07c11f6b"
>[c07c11f6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only check for ldap_sasl_interactive_bind_s if we can find sasl.h. Fixes
compilation with ldapux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28ce9e96e"
>[28ce9e96e]</a></li>
</ul>
</dd>
<dt>2009-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>fileops.c:<br>
fix char subscript
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd900bdc2"
>[cd900bdc2]</a></li>
</ul>
</dd>
<dt>2009-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
remove errant carriage returns
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55ddfd48a"
>[55ddfd48a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>audit.c, env.c:<br>
fix K&amp;R compilation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2012ce9ea"
>[2012ce9ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.man.in, visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc0ca59db"
>[fc0ca59db]</a></li>
</ul>
</dd>
<dt>2009-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
Add missing HAVE_BSM_AUDIT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45334b209"
>[45334b209]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
Add 1.7.1 features
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=870fd4073"
>[870fd4073]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Mention &ndash;with-netsvc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dec26b06"
>[5dec26b06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.pod:<br>
Document netsvc.conf support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f50deedc3"
>[f50deedc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, pathnames.h.in, sudo.c, sudo_nss.c, sudo_nss.h:
Add support for AIX netsvc.conf (like nsswitch.conf).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=838cb6108"
>[838cb6108]</a></li>
</ul>
</dd>
<dt>2009-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, env.c:<br>
Add &ndash;enable-env-debug flag to enable environment sanity checks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91f04dc3b"
>[91f04dc3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.pod, sudoers.pod:<br>
Work around some pod2html issue.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e85f3754"
>[9e85f3754]</a></li>
</ul>
</dd>
<dt>2009-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Only sync environ for putenv, setenv, and unsetenv. We need to make sure
that sudo_putenv and sudo_setenv only modify env.envp, not environ.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64125368"
>[f64125368]</a></li>
</ul>
</dd>
<dt>2009-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Really fix UNSETENV_VOID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fee90c19"
>[0fee90c19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Fix unsetenv when UNSETENV_VOID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7a53b5f4"
>[a7a53b5f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure:<br>
Fix SUDO_FUNC_PUTENV_CONST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e43e319ae"
>[e43e319ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
tivoli-based ldap does not have ldapssl_err2string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4210f536c"
>[4210f536c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237d4e922"
>[237d4e922]</a></li>
</ul>
</dd>
<dt>2009-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Add support for Tivoli-based LDAP start TLS as seen in AIX. Untested.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef071fa65"
>[ef071fa65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add sanity checks for setenv/unsetenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c8acdd64"
>[3c8acdd64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Include bsm_audit.h in the tarball
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aafea55f2"
>[aafea55f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
bump version for sudo 1.7.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dff0b6b52"
>[dff0b6b52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, auth/aix_auth.c, config.h.in, configure, configure.in,
env.c, ldap.c, sudo.h:<br>
Replace sudo_setenv/sudo_unsetenv with calls to setenv/unsetenv and
provide our own setenv/unsetenv/putenv that operates on own env pointer.
Make sync_env() inline in setenv/unsetenv/putenv functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fed38f32"
>[6fed38f32]</a></li>
</ul>
</dd>
<dt>2009-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Make &ldquo;sudoedit -h&rdquo; work as expected
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a25aee9cb"
>[a25aee9cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Make sure def_prompt is always defined. This is a workaround for pam
configs that prompt for a password in the session but don&rsquo;t have an auth
line. A better fix is to expand the sudo prompt earlier and set
def_prompt to that when initializing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=536ba5e23"
>[536ba5e23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Mention that the helper for -A may be graphical.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c0560975"
>[0c0560975]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Document what happens if there is no tty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4929b5160"
>[4929b5160]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0390504c3"
>[0390504c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
Fix term_restore
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e8d722ae"
>[2e8d722ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Fix &ldquo;sudo -k&rdquo; with no other args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=710e72ecb"
>[710e72ecb]</a></li>
</ul>
</dd>
<dt>2009-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, sudo.c, sudo.pod, sudo_usage.h.in:<br>
Allow the -k flag to be specified in conjunction with a command or
another option that may require authentication.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15975b83c"
>[15975b83c]</a></li>
</ul>
</dd>
<dt>2009-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove unneeded AC_CANONICAL_TARGET; from Diego E. &lsquo;Flameeyes&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7ee38d62"
>[e7ee38d62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Parallel make fix. From Diego E. &lsquo;Flameeyes&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5513388e"
>[c5513388e]</a></li>
</ul>
</dd>
<dt>2009-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, sudo.c, sudoers.pod:<br>
Implement umask_override
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f96b0a743"
>[f96b0a743]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=030b39958"
>[030b39958]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod, toke.l, visudo.c:<br>
Implement %h escape in sudoers include filenames.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d7f77177"
>[0d7f77177]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>audit.c:<br>
Need to include compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceaa7a38c"
>[ceaa7a38c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, audit.c, bsm_audit.c, bsm_audit.h, logging.h, sudo.c:<br>
Make audit_success and audit_failure generic functions in preparation
for integrating linux audit support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6491696ca"
>[6491696ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
remove duplicate include
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=380c953e6"
>[380c953e6]</a></li>
</ul>
</dd>
<dt>2009-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>bsm_audit.c:<br>
Add missing include
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c29881ef1"
>[c29881ef1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
May need to update the runas user after parsing command-based defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4bc42d63"
>[f4bc42d63]</a></li>
</ul>
</dd>
<dt>2009-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>glob.c:<br>
Add missing pair of braces introduced with character class support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9caa4380"
>[a9caa4380]</a></li>
</ul>
</dd>
<dt>2009-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, sudoers.pod, tgetpass.c:<br>
Rename pwstars to pwfeedback
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd56fbadb"
>[dd56fbadb]</a></li>
</ul>
</dd>
<dt>2009-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>bsm_audit.c, bsm_audit.h:<br>
Add const to make MacOS happy.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1bbb48f1"
>[d1bbb48f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, auth/sudo_auth.c, bsm_audit.c, bsm_audit.h, configure,
configure.in, sudo.c:<br>
Add bsm audit support from Christian S.J. Peron
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f492e5305"
>[f492e5305]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>term.c:<br>
This is new code, no DARPA notice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd05b56a8"
>[bd05b56a8]</a></li>
</ul>
</dd>
<dt>2009-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, match.c, sudoers.pod:<br>
Rename simple_glob -&gt; fast_glob
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=108d53548"
>[108d53548]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
g/c unused var
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfb9ec7ba"
>[cfb9ec7ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, match.c, sudoers.pod:<br>
Add simple_glob option to use fnmatch() instead of glob(). This is
useful when you need to specify patterns that reference network file
systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7207b4cd6"
>[7207b4cd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
add term_* proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5df16f86b"
>[5df16f86b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
mention glob()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eec86958b"
>[eec86958b]</a></li>
</ul>
</dd>
<dt>2009-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Delete any pwstars we wrote after the user hits return. That way there
is no record on screen as to the user&rsquo;s password length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e58df973a"
>[e58df973a]</a></li>
</ul>
</dd>
<dt>2009-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>term.c:<br>
Move terminal setting bits from tgetpass.c to term.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c8e1a45e"
>[2c8e1a45e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, def_data.c, def_data.h, def_data.in, sudoers.pod,
tgetpass.c:<br>
Add pwstars sudoers option that causes sudo to print a star every time
the user presses a key.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38c225af0"
>[38c225af0]</a></li>
</ul>
</dd>
<dt>2009-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix up F&lt;&gt; brokenness for visudo.man.in and sudoers.ldap.man.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d88a04a0"
>[6d88a04a0]</a></li>
</ul>
</dd>
<dt>2009-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
For ldap_search_ext_s() the sizelimit param should be 0, not -1, to
indicate no limit. From Mark Janssen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da769cd42"
>[da769cd42]</a></li>
</ul>
</dd>
<dt>2009-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Comments that begin with #- should not be parsed as uids.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d4aebed6"
>[2d4aebed6]</a></li>
</ul>
</dd>
<dt>2009-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Do not try to set the close on exec flag if we didn&rsquo;t actually open
sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77794f27a"
>[77794f27a]</a></li>
</ul>
</dd>
<dt>2008-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=930f3ac48"
>[930f3ac48]</a></li>
</ul>
</dd>
<dt>2008-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36ba7133c"
>[36ba7133c]</a></li>
</ul>
</dd>
<dt>2008-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Return PAM_AUTH_ERR instead of PAM_CONV_ERR if user enters ^C at the
password prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=743c62495"
>[743c62495]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t try to build sudo_noexec.so on HP-UX with the bundled compiler as
it cannot generate shared objects.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bfb3394b"
>[0bfb3394b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/charclass.h, glob.c, lbuf.c, tgetpass.c:<br>
K&amp;R compilation fixes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=761066ab0"
>[761066ab0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Use tq_foreach_fwd when checking pseudo-commands to make it clear that
we are not short-circuiting on last match. When pwcheck is &lsquo;all&rsquo;,
initialize nopass to TRUE and override it with the first non-TRUE entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a93344d2b"
>[a93344d2b]</a></li>
</ul>
</dd>
<dt>2008-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Do not short circuit pseudo commands when we get a match since,
depending on the settings, we may need to examine all commands for tags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96f1ea470"
>[96f1ea470]</a></li>
</ul>
</dd>
<dt>2008-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d488f2a03"
>[d488f2a03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
hostnames may also contain wildcards
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f92c8740"
>[3f92c8740]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
remove stamp-* files and linux core files in clean target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=613b889ee"
>[613b889ee]</a></li>
</ul>
</dd>
<dt>2008-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/sudo_auth.h, config.h.in, configure, configure.in:<br>
Use HAVE_SIA_SES_INIT instead of HAVE_SIA for Digital UNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02a894a09"
>[02a894a09]</a></li>
</ul>
</dd>
<dt>2008-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
correctly enable SIA on Digital UNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2464ba1f5"
>[2464ba1f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=498e00374"
>[498e00374]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc1466519"
>[bc1466519]</a></li>
</ul>
</dd>
<dt>2008-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, sudo.h, tgetpass.c:<br>
Even if neither stdin nor stdout are ttys we may still have /dev/tty
available to us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b18eede62"
>[b18eede62]</a></li>
</ul>
</dd>
<dt>2008-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30296d050"
>[30296d050]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
fix typos; Markus Lude
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42771539e"
>[42771539e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de66ff1af"
>[de66ff1af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13968b685"
>[13968b685]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Fix matching of a line that only consists of a comment char
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c79dd537"
>[1c79dd537]</a></li>
</ul>
</dd>
<dt>2008-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
MacOS pam will retry conversation function if it fails so just treat ^C
as an empty password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3d3db62f"
>[c3d3db62f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
When checking for alias use, also check defaults bindings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1a62bf88"
>[c1a62bf88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>redblack.c:<br>
unused var
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8811643f9"
>[8811643f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>redblack.c:<br>
Replace my rbdelete with Emin&rsquo;s version (which actually works ;-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5a12039a"
>[b5a12039a]</a></li>
</ul>
</dd>
<dt>2008-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>testsudoers.c:<br>
malloc debugging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1939859a2"
>[1939859a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
malloc options in devel mode for visudo too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ed783719"
>[4ed783719]</a></li>
</ul>
</dd>
<dt>2008-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fix compilation on non-C99; from Theo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68baa6346"
>[68baa6346]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
fix check_aliases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d27ceff8e"
>[d27ceff8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c:<br>
when destroying an alias, free the correct data pointer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea81e0446"
>[ea81e0446]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.h:<br>
add proto for aixauth_cleanup; from Dale King
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=875b888da"
>[875b888da]</a></li>
</ul>
</dd>
<dt>2008-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1a43dbe3"
>[d1a43dbe3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
standardize on the term &lsquo;option&rsquo; for command line options (not flag)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59302128d"
>[59302128d]</a></li>
</ul>
</dd>
<dt>2008-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Add note on configuring HP-UX pam
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7af30b75e"
>[7af30b75e]</a></li>
</ul>
</dd>
<dt>2008-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, sudo.c:<br>
Move tty checks into check_user() so we only do them if we actually need
a password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cc3114d9"
>[3cc3114d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t error out if no tty or askpass unless we actually need to
authenticate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e480f4ae"
>[8e480f4ae]</a></li>
</ul>
</dd>
<dt>2008-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8141061bf"
>[8141061bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in, sudo.c:<br>
s/overriden/overridden/; from Tobias Stoeckmann
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43c98580f"
>[43c98580f]</a></li>
</ul>
</dd>
<dt>2008-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW, visudo.c:<br>
check sudoers owner and mode in strict mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=235dc7ad0"
>[235dc7ad0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a33e988df"
>[a33e988df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in, visudo.man.in:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f934f10f"
>[5f934f10f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, alias.c, alloc.c, auth/afs.c, auth/aix_auth.c, auth/bsdauth.c,
auth/fwtk.c, auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/securid.c,
auth/securid5.c, auth/sia.c, auth/sudo_auth.h, closefrom.c, compat.h,
defaults.c, defaults.h, env.c, fileops.c, gettime.c, gram.y,
ins_csops.h, insults.h, interfaces.c, interfaces.h, lbuf.c, license.pod,
list.c, logging.c, logging.h, parse.c, parse.h, pwutil.c, redblack.c,
redblack.h, snprintf.c, sudo.c, sudo.pod, sudo_edit.c, sudo_nss.h,
sudoers.pod, testsudoers.c, toke.l, tsgetgrpw.c, utimes.c, version.h,
visudo.c, visudo.pod, zero_bytes.c:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=840acbd3a"
>[840acbd3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/charclass.h, fnmatch.c, glob.c:<br>
add my copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4baa2f90c"
>[4baa2f90c]</a></li>
</ul>
</dd>
<dt>2008-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
The loop in fill_cmnd() was going one byte too far past the end,
resulting in a NUL being written immediately after the buffer end.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0c1c7979"
>[b0c1c7979]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE, WHATSNEW:<br>
add sections on tgetpass changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8742114c"
>[b8742114c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Treat EOF w/o newline as an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80ca3a972"
>[80ca3a972]</a></li>
</ul>
</dd>
<dt>2008-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Fix &ldquo;sudo -v&rdquo; when NOPASSWD is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54a07b5e8"
>[54a07b5e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c, auth/fwtk.c, auth/pam.c, auth/sudo_auth.c,
auth/sudo_auth.h:<br>
No longer treat an empty password at the prompt as special. To quit out
of sudo you now need to hit ^C at the password prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff175f7f0"
>[ff175f7f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=213eaef4c"
>[213eaef4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, sudo.c, sudoers.pod:<br>
Sudo will now refuse to run if no tty is present unless the new
visiblepw sudoers flag is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=535ed3817"
>[535ed3817]</a></li>
</ul>
</dd>
<dt>2008-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>aix.c:<br>
just use RLIM_INFINITY for RLIM_SAVED_MAX if RLIM_SAVED_MAX not defined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c4840365"
>[5c4840365]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aix.c:<br>
fix fallback value for RLIM_SAVED_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c60c4c71c"
>[c60c4c71c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/sudo_auth.h:<br>
Move clearing of AUTHSTATE into aixauth_cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51fae2c9c"
>[51fae2c9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, env.c:<br>
Unset AUTHSTATE after calling authenticate() as it may not be correct
for the user we are running the command as.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50d897475"
>[50d897475]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>isblank.c:<br>
Add isblank() function for systems without it. Needed for POSIX
character class matching in fnmatch.c and glob.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8654dec3c"
>[8654dec3c]</a></li>
</ul>
</dd>
<dt>2008-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
expound on sudo and cd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b909652ad"
>[b909652ad]</a></li>
</ul>
</dd>
<dt>2008-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e94d951ac"
>[e94d951ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd4065a83"
>[fd4065a83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
mention defauts parse order
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2fb6dbb0"
>[e2fb6dbb0]</a></li>
</ul>
</dd>
<dt>2008-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, compat.h, configure:<br>
Add isblank() function for systems without it. Needed for POSIX
character class matching in fnmatch.c and glob.c.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48329f0e4"
>[48329f0e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add emul/charclass.h to HDRS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49611b132"
>[49611b132]</a></li>
</ul>
</dd>
<dt>2008-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffb9f65b2"
>[ffb9f65b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, parse.c, testsudoers.c, visudo.c:<br>
Move update_defaults into defaults.c and call it properly from visudo
and testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f201db90f"
>[f201db90f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, interfaces.c, pwutil.c, sudo.c, sudo_edit.c, tgetpass.c,
tsgetgrpw.c:<br>
use zero_bytes() instead of memset() for consistency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cb9d538f"
>[3cb9d538f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, mon_systrace.c, parse.c, sudo.c, sudo_edit.c, tgetpass.c,
visudo.c:<br>
Zero out sigaction_t before use in case it has non-standard entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4afceb8e9"
>[4afceb8e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
quiet gcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cc431c42"
>[1cc431c42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Short circuit glob() checks if basename(pattern) != basename(command).
Refactor code that checks for a command in a directory and use it in the
glob case if the resolved pattern ends in a &lsquo;/&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c7a96ba1"
>[4c7a96ba1]</a></li>
</ul>
</dd>
<dt>2008-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.h, parse.c, sudo.c, testsudoers.c, visudo.c:<br>
Defer setting runas defaults until after runaspw/gr is setup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ba6fa2ae"
>[8ba6fa2ae]</a></li>
</ul>
</dd>
<dt>2008-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c, sudo.c, testsudoers.c:<br>
Use MAXHOSTNAMELEN+1 when allocating host/domain name since some systems
do not include space for the NUL in the size. Also manually
NUL-terminate buffer from gethostname() since POSIX is wishy-washy on
this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efb510a9d"
>[efb510a9d]</a></li>
</ul>
</dd>
<dt>2008-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudoers.pod:<br>
When setting the umask, use the union of the user&rsquo;s umask and the
default value set in sudoers so that we never lower the user&rsquo;s umask
when running a command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b5e94cef"
>[9b5e94cef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t try to read from a zero-length sudoers file. Remove the bogus
Solaris work-around for EAGAIN. Since we now use fgetc() it should not
be a problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa54053ad"
>[aa54053ad]</a></li>
</ul>
</dd>
<dt>2008-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
In update_defaults() check the return value of user*_matches against
ALLOW so we don&rsquo;t inadvertantly match on UNSPEC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab32ede12"
>[ab32ede12]</a></li>
</ul>
</dd>
<dt>2008-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.man.in, visudo.cat, visudo.man.in:<br>
regen man pages; no more hyphenation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3349ed6b"
>[b3349ed6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t error out on a zero-length sudoers file. With the advent of
#include the user could create a situation where sudo is unusable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18e764403"
>[18e764403]</a></li>
</ul>
</dd>
<dt>2008-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c, config.h.in, configure, configure.in:<br>
Newer heimdal has 2-argument krb5_get_init_creds_opt_free() like MIT
krb5. Really old heimdal has no krb5_get_init_creds_opt_alloc() at all.
Add configure tests to handle all the cases.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13e2ccea6"
>[13e2ccea6]</a></li>
</ul>
</dd>
<dt>2008-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
resort ENVIRONMENT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf9fa33eb"
>[cf9fa33eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document sudoers_locale
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce67f2249"
>[ce67f2249]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudo_edit.c:<br>
add SUDO_EDITOR variable that sudoedit uses in preference to VISUAL or
EDITOR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bb516039"
>[7bb516039]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
In fill_cmnd(), collapse any escaped sudo-specific characters. Allows
character classes to be used in pathnames.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=240339c05"
>[240339c05]</a></li>
</ul>
</dd>
<dt>2008-10-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lbuf.c:<br>
fix typo in non-C89 function declaration
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55ed6f2c1"
>[55ed6f2c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Mention POSIX characters classes now that out fnmatch() and glob()
support them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22103775c"
>[22103775c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers, sudoers.pod:<br>
Replace [A-z] (which won&rsquo;t match in UTF8) with [A-Za-z] which is locale
agnostic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5446cd3ae"
>[5446cd3ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
use __signed char if we are going to assign a negative value since on
Power, char is unsigned by default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71667af5"
>[a71667af5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add tests for __signed char and signed char.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99cdf6dc8"
>[99cdf6dc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aix.c:<br>
Fix AIX limit setting. getuserattr() returns values in disk blocks
rather than bytes. The default hard stack size in newer AIX is
RLIM_SAVED_MAX. From Dale King.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4dd3b22"
>[ad4dd3b22]</a></li>
</ul>
</dd>
<dt>2008-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>emul/charclass.h, fnmatch.c, glob.c:<br>
Add character class support to included glob(3) and fnmatch(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0372d7dc2"
>[0372d7dc2]</a></li>
</ul>
</dd>
<dt>2008-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>emul/fnmatch.h:<br>
Remove UCB advertising clause and some compatibility defines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c1e64b7d"
>[8c1e64b7d]</a></li>
</ul>
</dd>
<dt>2008-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Check EDITOR/VISUAL to make sure sudoedit is not re-invoking itself or
sudo. This allows one to set EDITOR to sudoedit without getting into an
infinite loop of sudoedit running itself until the path gets too big.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa4ef591"
>[8fa4ef591]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, defaults.c, sudo.c:<br>
Add sudoers_locale Defaults option to override the default sudoers
locale of &ldquo;C&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b02daa827"
>[b02daa827]</a></li>
</ul>
</dd>
<dt>2008-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Set locale to system default except for during sudoers parse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=508295b1f"
>[508295b1f]</a></li>
</ul>
</dd>
<dt>2008-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Redo change in 1.34 to use pointer arithmetic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65bce6555"
>[65bce6555]</a></li>
</ul>
</dd>
<dt>2008-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Fix a dereference (read) of a freed pointer. Reported by Patrick
Williams.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0a44e437"
>[d0a44e437]</a></li>
</ul>
</dd>
<dt>2008-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Set locale to &ldquo;C&rdquo; to avoid interpretation issues with character ranges
in sudoers. May want to make the locale a sudoers option in the future.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5245c235"
>[a5245c235]</a></li>
</ul>
</dd>
<dt>2008-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
we no longer use setproctitle
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=194d57b96"
>[194d57b96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
remove #if 1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1954d6811"
>[1954d6811]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, mkstemp.c:<br>
Use my replacement mkstemp() from the mktemp package.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da6ffd067"
>[da6ffd067]</a></li>
</ul>
</dd>
<dt>2008-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c:<br>
regen with yacc skeleton bug fixed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed3cc2b33"
>[ed3cc2b33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Remove duplicate &ldquo;as root&rdquo;. From Martin Toft.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f38cfbe9"
>[8f38cfbe9]</a></li>
</ul>
</dd>
<dt>2008-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c, sudo.c, sudo.h, testsudoers.c:<br>
Flesh out the fake passwd entry used for running commands as a uid not
listed in the passwd database. Fixes an issue with some PAM modules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e439faeeb"
>[e439faeeb]</a></li>
</ul>
</dd>
<dt>2008-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Error out in -i mode if the user has no shell. This can happen when
running commands as a uid with no password entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cf7172b1"
>[0cf7172b1]</a></li>
</ul>
</dd>
<dt>2008-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Better fix for line continuation inside double quotes. Now accepts
whitespace between the backslash and the newline like the main lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bf94ded8"
>[3bf94ded8]</a></li>
</ul>
</dd>
<dt>2008-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Fix line continuation in strings. It was only being honored if preceded
by whitespace.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd8e38a0c"
>[bd8e38a0c]</a></li>
</ul>
</dd>
<dt>2008-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, logging.c:<br>
Replace the double fork with a fork + daemonize.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca6eddf0d"
>[ca6eddf0d]</a></li>
</ul>
</dd>
<dt>2008-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, sudo.c:<br>
The -i flag should imply env_reset. This got broken in sudo 1.6.9.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4578548c4"
>[4578548c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c, sudo_edit.c, visudo.c:<br>
Change how the mailer is waited for. Instead of having a SIGCHLD
handler, use the double fork trick to orphan the child that opens the
pipe to sendmail. Fixes a problem running su on some Linux distros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5756ddfbe"
>[5756ddfbe]</a></li>
</ul>
</dd>
<dt>2008-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix configure test for dirfd() on Linux where DIR is opaque.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c372928c3"
>[c372928c3]</a></li>
</ul>
</dd>
<dt>2008-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Get rid of the QNX TCSAFLUSH -&gt; TCSADRAIN hack. If QNX still has this
problem we&rsquo;ll need to revisit this again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e37c901cd"
>[e37c901cd]</a></li>
</ul>
</dd>
<dt>2008-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Ignore SIGPIPE instead of blocking it when piping to the mailer. If we
only block the signal it may be delivered later when we unblock. Also,
there is no need to block SIGCHLD since we no longer do the double fork.
The normal SIGCHLD handler is sufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=552eca0d0"
>[552eca0d0]</a></li>
</ul>
</dd>
<dt>2008-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add description for NO_PAM_SESSION, from a redhat patch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfb45078b"
>[cfb45078b]</a></li>
</ul>
</dd>
<dt>2008-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod:<br>
Fix typos in -i usage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06a4e1402"
>[06a4e1402]</a></li>
</ul>
</dd>
<dt>2008-05-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Redo the test for dgettext() in a way that hopefully will work around
the libintl_dgettext() undefined problem.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2cbaa50a"
>[e2cbaa50a]</a></li>
</ul>
</dd>
<dt>2008-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>schema.ActiveDirectory:<br>
change filename in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aadaaded"
>[2aadaaded]</a></li>
</ul>
</dd>
<dt>2008-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, README.LDAP, sudoers.ldap.cat, sudoers.ldap.man.in,
sudoers.ldap.pod:<br>
Reference schema.ActiveDirectory
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64c5738ec"
>[64c5738ec]</a></li>
</ul>
</dd>
<dt>2008-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>schema.OpenLDAP, schema.iPlanet:<br>
Mark sudoRunAs as deprecated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1da320979"
>[1da320979]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>schema.ActiveDirectory:<br>
add sudoRunAsUser and sudoRunAsGroup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=236fd128d"
>[236fd128d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>schema.ActiveDirectory:<br>
Active Directory schema by Chantal Paradis and Eric Paquet
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2860716ba"
>[2860716ba]</a></li>
</ul>
</dd>
<dt>2008-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
remove an XXX that was fixed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0db3ecfb"
>[f0db3ecfb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbc4aea0e"
>[fbc4aea0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Initialize tags to UNSPEC instead of def_* in &ldquo;sudo -l&rdquo; mode. This fixes
a problem where the tag value printed was influenced by defaults set in
the first pass through the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88b932722"
>[88b932722]</a></li>
</ul>
</dd>
<dt>2008-05-04  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, sudo.psf:<br>
No point in packaging the TODO file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c58a7e96"
>[5c58a7e96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d529c35bf"
>[d529c35bf]</a></li>
</ul>
</dd>
<dt>2008-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW, def_data.c, def_data.h, def_data.in, env.c, sudo.c, sudo.h,
sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Add env_file Defaults option that is similar to /etc/environment on some
systems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b85a28aba"
>[b85a28aba]</a></li>
</ul>
</dd>
<dt>2008-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, README, TODO, WHATSNEW, sudo.cat, sudo.man.in, sudoers.cat,
sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.man.in, version.h,
visudo.cat, visudo.man.in:<br>
change version to 1.7.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3470aa58"
>[c3470aa58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
initial valgrind pass done
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfc826872"
>[bfc826872]</a></li>
</ul>
</dd>
<dt>2008-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Fix typo/think in sudo_ldap_read_secret() when storing the secret.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25aa1b5bf"
>[25aa1b5bf]</a></li>
</ul>
</dd>
<dt>2008-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
define LDAPS_PORT if the system headers do not
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fa2f3292"
>[3fa2f3292]</a></li>
</ul>
</dd>
<dt>2008-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c, gram.y:<br>
Fix another memory leak in init_parser().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a890d723d"
>[a890d723d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
There was a missing space before the ldap libs in SUDO_LIBS for some
configurations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0a6827fe"
>[f0a6827fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, gram.c, gram.y, toke.c, toke.l:<br>
Clean up some memory leaks pointed out by valgrind.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b06e2f9d6"
>[b06e2f9d6]</a></li>
</ul>
</dd>
<dt>2008-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fix &ldquo;sudo -s&rdquo; broken by mode/flags breakout
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb8bc538d"
>[cb8bc538d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
remove duplicate check for dgettext
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fe25e284"
>[7fe25e284]</a></li>
</ul>
</dd>
<dt>2008-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>aix.c:<br>
Fall back to default stanza if no user-specific limit is found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ddbc66eb"
>[7ddbc66eb]</a></li>
</ul>
</dd>
<dt>2008-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>snprintf.c:<br>
include stdint.h if present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00d499348"
>[00d499348]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
Use LLONG_MAX, not the old QUAD_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66d388c3d"
>[66d388c3d]</a></li>
</ul>
</dd>
<dt>2008-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.ldap.pod:<br>
fix cut and pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0715e45e7"
>[0715e45e7]</a></li>
</ul>
</dd>
<dt>2008-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Add #ifdef PURITY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82ba4c72e"
>[82ba4c72e]</a></li>
</ul>
</dd>
<dt>2008-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/bsdauth.c:<br>
remove useless cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d43f00c18"
>[d43f00c18]</a></li>
</ul>
</dd>
<dt>2008-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a19527614"
>[a19527614]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27fa3e97d"
>[27fa3e97d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Split MODE_* defines into primary and flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ca2fd6b5"
>[6ca2fd6b5]</a></li>
</ul>
</dd>
<dt>2008-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>aix.c:<br>
It turns out the logic for getting AIX limits is more convoluted than I
realized and differs depending on whether the soft and/or hard limits
are defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7b4d7bc2"
>[d7b4d7bc2]</a></li>
</ul>
</dd>
<dt>2008-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Back out AIX-specific change to set the sudo_noexec path to the .a file,
we do really want to use the .so file. Since libtool doesn&rsquo;t do that
correctly, just install the .so file ourselves in the Makefile.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=241d0750f"
>[241d0750f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>install-sh:<br>
If the file given to install is a path, only use the basename of the
file when building the destination path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1efe9a900"
>[1efe9a900]</a></li>
</ul>
</dd>
<dt>2008-03-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
parse_args() cleanup: Sort command line options in the getopt() switch
The -U option requires a parameter Normalize a few ISSET calls Split
mode into mode and flags and retire the now-obsolete excl variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=938f79172"
>[938f79172]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW, check.c, sudo.c, sudo.cat, sudo.h, sudo.man.in, sudo.pod,
sudo_usage.h.in:<br>
Add -n (non-interactive) flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c352187cf"
>[c352187cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Move version printing, etc. into a separate function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2c84d5a6"
>[f2c84d5a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t try to cleanup nsswitch if it has not been initialized.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b46531e4"
>[4b46531e4]</a></li>
</ul>
</dd>
<dt>2008-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Block SIGPIPE in send_mail() so sudo is not killed by a problem
executing the mailer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7b807e10"
>[b7b807e10]</a></li>
</ul>
</dd>
<dt>2008-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
AIX shared libs end in .a, not .so.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52710ce51"
>[52710ce51]</a></li>
</ul>
</dd>
<dt>2008-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Preserve HOME by default too. Matches documentation and previous
behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=daba1995f"
>[daba1995f]</a></li>
</ul>
</dd>
<dt>2008-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Use getopt() to parse the command line. We need to be able to
intersperse env variables and options yet still honor &ldquo;&ndash;&rdquo;&rdquo; which
complicates things slightly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d11cb3d14"
>[d11cb3d14]</a></li>
</ul>
</dd>
<dt>2008-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=299fe04af"
>[299fe04af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, configure, ltmain.sh:<br>
update to libtool-1.5.26
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=229a79b6b"
>[229a79b6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub:<br>
update from libtool-1.5.26 distribution
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af2555357"
>[af2555357]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aix.c, sudo.h:<br>
attempt to fix compilation errors on AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59c1ac153"
>[59c1ac153]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fix typo in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2a05f214"
>[d2a05f214]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add WHATSNEW file to the distribution
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=094c79a20"
>[094c79a20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
use warningx instead of fprintf(stderr, &hellip;)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=459013247"
>[459013247]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>list.c:<br>
add DEBUG to list2tq
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fbd32170"
>[3fbd32170]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e87d5f845"
>[e87d5f845]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
mention mailfrom
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06053753d"
>[06053753d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aix.c, config.h.in, configure, configure.in, set_perms.c,
sudo.h:<br>
Add aix_setlimits() to set resource limits on AIX using a combination of
getuserattr() and setrlimit(). Currently untested.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=897239afe"
>[897239afe]</a></li>
</ul>
</dd>
<dt>2008-03-05  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, logging.c, sudoers.cat,
sudoers.man.in, sudoers.pod:<br>
Add mailfrom Defaults option that sets the value of the From: field in
the warning/error mail. If unset the login name of the invoking user is
used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f9e7f96f"
>[0f9e7f96f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
store a copy of _PATH_SUDO_ASKPASS in def_askpass that is freeable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2314fd903"
>[2314fd903]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.y:<br>
When adding a default, only call list2tq() once to do the list to tq
conversion. It is not legal to call list2tq multiple times on the same
list since list2tq consumes and modifies the list argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb1a3be9d"
>[cb1a3be9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod:<br>
comment out XXXs for now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c880b55b8"
>[c880b55b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
mention askpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c1b476df"
>[9c1b476df]</a></li>
</ul>
</dd>
<dt>2008-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Error out if both -A and -S are specified Error out if -A is specified
but no askpass is configured
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c6a760fc"
>[0c6a760fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
we are not going to ship a sudo-specific askpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64d226e1d"
>[64d226e1d]</a></li>
</ul>
</dd>
<dt>2008-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
fix definition of TGP_ASKPASS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d86a9d6f"
>[5d86a9d6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.in:<br>
make askpass boolean-capable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbf038c61"
>[cbf038c61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-askpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a6917851"
>[9a6917851]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat, sudoers.man.in,
visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0773d037"
>[c0773d037]</a></li>
</ul>
</dd>
<dt>2008-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudo_usage.h.in, sudoers.pod:<br>
document -A and askpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=143691e6d"
>[143691e6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c, check.c, configure, configure.in, def_data.c,
def_data.h, def_data.in, defaults.c, pathnames.h.in, sudo.c, sudo.h,
sudo_usage.h.in, tgetpass.c:<br>
Add support for running a helper program to read the password when no
tty is present (or when specified with the -A flag). TODO: docs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee0491416"
>[ee0491416]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.in:<br>
add missing printf format to SELinux role and type strings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b248a076"
>[5b248a076]</a></li>
</ul>
</dd>
<dt>2008-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
Disable use of gss_krb5_ccache_name() by default and add
&ndash;enable-gss-krb5-ccache-name configure option to enable it. It seems
that gss_krb5_ccache_name() doesn&rsquo;t work properly with some combinations
of Heimdal and OpenLDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f20935284"
>[f20935284]</a></li>
</ul>
</dd>
<dt>2008-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>selinux.c:<br>
Ignore setexeccon() failing in permissive mode. Also add a call to
setkeycreatecon() (though this is probably insufficient). From Dan
Walsh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c3a47892"
>[9c3a47892]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Only set std_prompt for the PAM_PROMPT_* cases. The conversation
function may be called for non-password reading purposes so we must be
careful not to use def_prompt in cases where it may not be set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48eee67e5"
>[48eee67e5]</a></li>
</ul>
</dd>
<dt>2008-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>selinux.c:<br>
Don&rsquo;t free the new tty context, we need to keep it around when we
restore the tty context after the command completes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a347284e"
>[1a347284e]</a></li>
</ul>
</dd>
<dt>2008-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>selinux.c:<br>
s/newrole/sudo/
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=361280501"
>[361280501]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.pl, sudo.pod:<br>
Only put login_cap(3) in SEE ALSO section if we have login.conf support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2378eb4d"
>[c2378eb4d]</a></li>
</ul>
</dd>
<dt>2008-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.man.in, visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=795a303ea"
>[795a303ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Substitute in comment characters for lines partaining to login.conf, BSD
auth and SELinux and only enable them if pertinent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b07217919"
>[b07217919]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.pl:<br>
Substitute in comment characters for lines partaining to login.conf, BSD
auth and SELinux and only enable them if pertinent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b4e67ff8"
>[2b4e67ff8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Substitute in comment characters for lines partaining to login.conf, BSD
auth and SELinux and only enable them if pertinent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef16f80a3"
>[ef16f80a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.pl:<br>
Substitute in comment characters for lines partaining to login.conf, BSD
auth and SELinux and only enable them if pertinent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a228c7209"
>[a228c7209]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Substitute in comment characters for lines partaining to login.conf, BSD
auth and SELinux and only enable them if pertinent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf6bca4b0"
>[cf6bca4b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.pod, sudoers.ldap.pod, sudoers.pod, visudo.pod:<br>
Remove the =cut on the first line (above the copyright notice) to quiet
pod2man. Also remove the hackery in the FILES section and just deal with
the fact that there will a newline between each pathname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a1e2dfb5"
>[7a1e2dfb5]</a></li>
</ul>
</dd>
<dt>2008-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
run sudo.man.pl when generating sudo.man.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07daaa390"
>[07daaa390]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, sudo.man.pl:<br>
comment out SELinux manual bits unless &ndash;with-selinux was specified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=279ee07ee"
>[279ee07ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document role and type defaults for SELinux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=229b23146"
>[229b23146]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.cat, sudo.man.in, sudo.pod, sudo_usage.h.in:<br>
Document &ldquo;sudo -ll&rdquo; and make &ldquo;sudo -l -l&rdquo; be equivalent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=211be00cc"
>[211be00cc]</a></li>
</ul>
</dd>
<dt>2008-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Treat k<em>bsd</em>-gnu like Linux, not BSD. Fixes compilation problems on
Debian GNU/kFreeBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=506285209"
>[506285209]</a></li>
</ul>
</dd>
<dt>2008-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Avoid Heimdal&rsquo;isms introduced in the rev 1.32 rewrite of
verify_krb_v5_tgt()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd2c345be"
>[dd2c345be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, logging.h, sudo.c:<br>
Remove dependence on VALIDATE_NOT_OK in logging functions. Split
log_auth() into log_allowed() and log_denial() Replace mail_auth() with
should_mail() and a call to send_mail()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04bb8f00f"
>[04bb8f00f]</a></li>
</ul>
</dd>
<dt>2008-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Add debugging so we can tell if the krb5 ccache is accessible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f5d9371a"
>[4f5d9371a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
mention &ndash;with-selinux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebae55854"
>[ebae55854]</a></li>
</ul>
</dd>
<dt>2008-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9635907f2"
>[9635907f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>selinux.c:<br>
add Sudo tag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc47d67b4"
>[cc47d67b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.cat, sudo.h, sudo.man.in, sudo.pod, sudo_usage.h.in,
sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod, testsudoers.c,
toke.c, toke.l:<br>
Add support for SELinux RBAC. Sudoers entries may specify a role and
type. There are also role and type defaults that may be used. To make
sure a transition occurs, when using RBAC commands are executed via the
new sesh binary. Based on initial changes from Dan Walsh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c992e190"
>[4c992e190]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sesh.c:<br>
Add support for SELinux RBAC. Sudoers entries may specify a role and
type. There are also role and type defaults that may be used. To make
sure a transition occurs, when using RBAC commands are executed via the
new sesh binary. Based on initial changes from Dan Walsh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7a2ef7a1"
>[c7a2ef7a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure.in, def_data.c, def_data.h,
def_data.in, gram.c, gram.h, gram.y, ldap.c, parse.c, parse.h,
pathnames.h.in, selinux.c:<br>
Add support for SELinux RBAC. Sudoers entries may specify a role and
type. There are also role and type defaults that may be used. To make
sure a transition occurs, when using RBAC commands are executed via the
new sesh binary. Based on initial changes from Dan Walsh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2b70188b"
>[f2b70188b]</a></li>
</ul>
</dd>
<dt>2008-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>lbuf.c, ldap.c, parse.c, sudo.c, sudo.h, sudo_nss.c:<br>
Add long list (sudo -ll) support for printing verbose LDAP and sudoers
file entries. Still need to update manual.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d20923c2"
>[5d20923c2]</a></li>
</ul>
</dd>
<dt>2008-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c, parse.c, sudo.h, sudo_nss.c, sudo_nss.h:<br>
Unify the -l output for file and ldap based sudoers and use lbufs for
both. The ldap output does not currently include options that cannot be
represented as tags. This will be remedied in a long list output mode to
come.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c7b76bb5"
>[3c7b76bb5]</a></li>
</ul>
</dd>
<dt>2008-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Use a specific error message for errno == EAGAIN when setuid() et al
fails. On Linux systems setuid() will fail with errno set to EAGAIN if
changing to the new uid would result in a resource limit violation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e33f6348"
>[8e33f6348]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Unlimit nproc on Linux systems where calling the setuid() family of
syscalls causes the nroc resource limit to be checked. The limits will
be reset by pam_limits.so when PAM is used. In the non-PAM case the
nproc limit will remain unlimited but there doesn&rsquo;t seem to be a way
around that other than having sudo parse /etc/security/limits.conf
directly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72656eaf3"
>[72656eaf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c, sudo.pod:<br>
Only read /etc/environment on Linux and AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=801860b29"
>[801860b29]</a></li>
</ul>
</dd>
<dt>2008-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Use SUDO_DEFINE_UNQUOTED instead of AC_DEFINE_UNQUOTED to prevent
ldap.conf and ldap.secret paths from going into config.h. Avoid single
quotes in variable expansion when using SUDO_DEFINE_UNQUOTED since in
some versions of bash they will end up literally in the resulting
define.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0dc1caa4"
>[f0dc1caa4]</a></li>
</ul>
</dd>
<dt>2008-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
mention &ndash;with-nsswitch=no
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc346a5ec"
>[cc346a5ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
ldap_ssl.h depends on ldap.h being included first
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48df9c481"
>[48df9c481]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Include ldap_ssl.h if we can find it. Needed for the
ldapssl_set_strength defines on HP-UX at least.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3e6610e0"
>[a3e6610e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.pod:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=870334373"
>[870334373]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40fb31c0a"
>[40fb31c0a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.ldap.cat,
sudoers.ldap.man.in, sudoers.man.in, visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc5772f79"
>[bc5772f79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Use 78n line length when formatting cat pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b54eff661"
>[b54eff661]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Remove redundant info that is now in sudoers.ldap.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57a6ebde5"
>[57a6ebde5]</a></li>
</ul>
</dd>
<dt>2008-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod:<br>
Reorganize the first section a bit. Substitute the proper path for
/etc/sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a48e85e1a"
>[a48e85e1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod:<br>
Substitute values for ldap.conf, ldap.secret and nsswitch.conf Move
schema into EXAMPLES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1db0d126"
>[e1db0d126]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Substitute values for ldap.conf, ldap.secret and nsswitch.conf into
sudoers.ldap.man.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c268627f9"
>[c268627f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
substitute for sudoers.ldap.man
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49f2264ad"
>[49f2264ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix cut &amp; pasto introduced when adding sudoers.ldap man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32d57a928"
>[32d57a928]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod:<br>
Fill in some of the missing pieces. Still needs some reorganization and
editing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=961a79b74"
>[961a79b74]</a></li>
</ul>
</dd>
<dt>2008-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, sudoers.ldap.cat, sudoers.ldap.man.in, sudoers.ldap.pod:<br>
Beginnings of a sudoers.ldap man page. Currently, much of the
information is adapted from README.LDAP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=907be979c"
>[907be979c]</a></li>
</ul>
</dd>
<dt>2008-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
When copying gr_mem we must guarantee that the storage space for gr_mem
is properly aligned. The simplest way to do this is to simply store
gr_mem directly after struct group. This is not a problem for gr_passwd
or gr_name as they are simple strings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a5a01c22"
>[2a5a01c22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Fix a typo/thinko in one of the calls to
sudo_ldap_check_user_netgroup(). From Marco van Wieringen.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09c1189d1"
>[09c1189d1]</a></li>
</ul>
</dd>
<dt>2008-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
include &lt;mps/ldap_ssl.h&gt; in ldap.c if available
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f6101bb2"
>[0f6101bb2]</a></li>
</ul>
</dd>
<dt>2008-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c, gram.y:<br>
Make sure we define SIZE_MAX for yacc&rsquo;s skeleton.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fc4d8fa1"
>[5fc4d8fa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Use TCSAFLUSH when restoring terminal settings (and echo) to guarantee
that any pending output is discarded
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebcf3cf39"
>[ebcf3cf39]</a></li>
</ul>
</dd>
<dt>2008-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers:<br>
no longer need to specify SETENV when user has sudo ALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb4b04978"
>[fb4b04978]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
sync user_args size calculation with sudo.c Add -g group option,
renaming old -g to -G Add set_runasgr() and set_runaspw() and use them
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18d42bf8b"
>[18d42bf8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
Make set_runaspw static void
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f05a4ff6"
>[7f05a4ff6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
g/c set_runaspw stub
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c1ef6839"
>[6c1ef6839]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t add -llber twice.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63f224f04"
>[63f224f04]</a></li>
</ul>
</dd>
<dt>2008-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6131e9f36"
>[6131e9f36]</a></li>
</ul>
</dd>
<dt>2008-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff13a240"
>[2ff13a240]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix check that determines whether -llber is required.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde5143f0"
>[dde5143f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP, config.h.in, configure, configure.in, ldap.c:<br>
For netscape-based LDAP, use ldapssl_set_strength() to implement the
checkpeer ldap.conf option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a07c1a7f"
>[9a07c1a7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Delay krb5_cc_initialize() until we actually need to use the cred cache,
which is what krb5_verify_user() does. Better cleanup on failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0851d77f1"
>[0851d77f1]</a></li>
</ul>
</dd>
<dt>2008-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Rewrite verify_krb_v5_tgt() based on what heimdal&rsquo;s krb5_verify_user()
does.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=584ab252d"
>[584ab252d]</a></li>
</ul>
</dd>
<dt>2008-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c:<br>
The U suffix on constants is an ANSI feature
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a110f08c"
>[7a110f08c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add check for ber_set_option() in -llber
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1df9ca2dc"
>[1df9ca2dc]</a></li>
</ul>
</dd>
<dt>2008-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
default if no nsswitch.conf is files only
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db7b8e59"
>[8db7b8e59]</a></li>
</ul>
</dd>
<dt>2008-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
don&rsquo;t tell people to mail aaron about LDAP stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b6275a69"
>[1b6275a69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
timelimit and bind_timelimit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b11b7e71"
>[0b11b7e71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9615943f"
>[a9615943f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Move ldap.secret reading into a separate function.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00030b9ad"
>[00030b9ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
user_runas -&gt; runas_pw
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43f740860"
>[43f740860]</a></li>
</ul>
</dd>
<dt>2008-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=990910665"
>[990910665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.pod, sudoers.pod:<br>
Add and document the %p escape in the password prompt. Based on a patch
from Patrick Schoenfeld.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fc0e3c86"
>[0fc0e3c86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Check strlcpy() return values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9998419d7"
>[9998419d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
refactor ldap binding code into sudo_ldap_bind_s()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bb216745"
>[4bb216745]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Make it clear that host and uri can take multiple parameters. URI is now
supported for more than just openldap nsswitch.conf does&rsquo;t accept
&ldquo;compat&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77d841e0e"
>[77d841e0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
comment cleanup and update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=055bda626"
>[055bda626]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo_nss.c:<br>
Move display_privs() and display_cmnd() from parse.c to sudo_nss.c. This
should make it possible to build an LDAP-only sudo binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb0164887"
>[fb0164887]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, parse.c, sudo.c, sudo.h, sudo_nss.h:<br>
Improve chaining of multiple sudoers sources by passing in the previous
return value to the next in the chain
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28ed51b44"
>[28ed51b44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y:<br>
Free up parser data structures in sudo_file_close().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56d193b29"
>[56d193b29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, parse.c:<br>
Free up parser data structures in sudo_file_close().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53aec6601"
>[53aec6601]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Parse uri ourself if no ldap_initialize() is present Use ldap_create()
instead of deprecated ldap_init() Use ldap_sasl_bind_s() instead of
deprecated ldap_simple_bind_s()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4370acaa"
>[e4370acaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add check for ldap_sasl_bind_s() Remove -DLDAP_DEPRECATED from CFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1377429a"
>[f1377429a]</a></li>
</ul>
</dd>
<dt>2008-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
add check for ldap_create
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b564d5186"
>[b564d5186]</a></li>
</ul>
</dd>
<dt>2008-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Add sudo_ldap_get_first_rdn() to return the first rdn of an entry&rsquo;s dn
using the mechanism appropriate for the LDAP SDK in use. Use
ldap_unbind_ext_s() instead of deprecated ldap_unbind_s(). Emulate
ldap_unbind_ext_s() and ldap_search_ext_s() for SDK&rsquo;s without them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86bd55fc6"
>[86bd55fc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lbuf.c:<br>
include unistd.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=179ec68f8"
>[179ec68f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
fix typo in mtim_getnsec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27efa3d25"
>[27efa3d25]</a></li>
</ul>
</dd>
<dt>2008-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
add check for st__tim in struct stat as used by SCO
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32e4a98a6"
>[32e4a98a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
use ldap_search_ext_s instead of deprecated ldap_search_s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e23813315"
>[e23813315]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, TODO, sudo.cat, sudo.man.in:<br>
add sudo_nss.h to HDRS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=915fc493c"
>[915fc493c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Replace deprecated ldap_explode_dn() with calls to ldap_str2dn() and
ldap_rdn2str().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5173bbb95"
>[5173bbb95]</a></li>
</ul>
</dd>
<dt>2008-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Use ldap_get_values_len()/ldap_value_free_len() instead of the
deprecated ldap_get_values()/ldap_value_free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a2db8bd0"
>[8a2db8bd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6771b3617"
>[6771b3617]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f738ef46f"
>[f738ef46f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gettime.c, sudo.c:<br>
Remove some already fixed XXXs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a6ad03e5"
>[5a6ad03e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Same return value as non-existent sudoers if LDAP was unable to connect.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa562c8f6"
>[aa562c8f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
mention /etc/environment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab14071ec"
>[ab14071ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP, UPGRADE, WHATSNEW:<br>
Update to reflect recent developments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=685d9d2da"
>[685d9d2da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Print nsswitch.conf, ldap.conf and ldap.secret paths in -V output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=156c94975"
>[156c94975]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
When building up a query don&rsquo;t list groups in the aux group vector that
are the same as the passwd file group. On most systems the first gid in
the group vector is the same as the passwd entry gid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7fb2f3e3"
>[a7fb2f3e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, ldap.c:<br>
Define LDAPNOINIT before calling ldap_init(), etc. to disable user
ldaprc and system defaults that could affect how LDAP works.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd30e8474"
>[cd30e8474]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in, pathnames.h.in, sudo.c, sudo_nss.c,
sudo_nss.h:<br>
Rename read_nss -&gt; sudo_read_nss Add &ndash;with-nsswitch to allow users to
specify nsswitch.conf path or disable it. If &ndash;with-nsswitch=no but
&ndash;with-ldap, order is LDAP, then sudoers. Fix &ndash;with-ldap-conf-file and
&ndash;with-ldap-secret-file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f2cd1b18"
>[6f2cd1b18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Honor def_ignore_local_sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2de8d5fe"
>[d2de8d5fe]</a></li>
</ul>
</dd>
<dt>2007-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
no longer need to check def_ignore_local_sudoers here
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6e9445a6"
>[d6e9445a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Refactor group vector resetting into a function and also call it from
display_cmnd. Stop after the first sucessful match in display_cmnd.
Print a newline between each display_privs method.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d8f37f4b"
>[4d8f37f4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fix double free introduced in rev 1.218
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b221af2"
>[36b221af2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
belt and suspenders; zero out result after freeing it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b28913068"
>[b28913068]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, fileops.c, ldap.c, sudo.h, sudo_nss.c:<br>
Refactor line reading into a separate function, sudo_parseln(), which
removes comments, leading/trailing whitespace and newlines. May want to
rethink the use of sudo_parseln() for /etc/ldap.secret
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=926dcd0bc"
>[926dcd0bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
Make the inability to read the sudoers file a non-fatal error if there
are other sudoers sources available. sudoers_file_lookup now returns
&ldquo;not OK&rdquo; if sudoers was not present
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a2166272"
>[0a2166272]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
make it clear that the global options are from LDAP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09439030f"
>[09439030f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
allocate proper amount of space for error string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6d707b2d"
>[e6d707b2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_nss.c, sudo_nss.h:<br>
actual sudo nss code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de3bb5892"
>[de3bb5892]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, parse.c, sudo.c, sudo.h:<br>
nss-ify display_privs and display_cmnd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adfaebdb4"
>[adfaebdb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, parse.c, testsudoers.c, visudo.c:<br>
move update_defaults() to parse.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3008bb494"
>[3008bb494]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, ldap.c, list.c, parse.c, parse.h, sudo.c, sudo.h:<br>
Use nsswitch to hide some sudoers vs. ldap implementation details and
reduce the number of #ifdef LDAP TODO: fix display routines and error
handling
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae2ae3452"
>[ae2ae3452]</a></li>
</ul>
</dd>
<dt>2007-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, README.LDAP, ldap.c, pathnames.h.in, sudo.c, sudo.h:<br>
First cut at nsswitch.conf support. Further reorganizaton and related
changes are forthcoming.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f323157a"
>[7f323157a]</a></li>
</ul>
</dd>
<dt>2007-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, pathnames.h.in, sudo.c, sudo.h:<br>
Add support for reading and /etc/environment file. Still needs to be
documented and should probably only applies to OSes that have it (AIX
and Linux, maybe others).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8c52dc92"
>[f8c52dc92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
include limits.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a69e42d9"
>[1a69e42d9]</a></li>
</ul>
</dd>
<dt>2007-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
reword LDAP SASL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12b86ef41"
>[12b86ef41]</a></li>
</ul>
</dd>
<dt>2007-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7090332e"
>[d7090332e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Add an example sudoRole, clarify netscape vs. openldap a bit more
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e60093477"
>[e60093477]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Be clear on what is OpenLDAP vs. Netscape-derived
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dc049ccf"
>[9dc049ccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Use ldapssl_init() for ldaps support instead of trying to do it manually
with ldap_init() + ldapssl_install_routines(). Use tls_cert and tls_key
for cert7.db and key3.db respectively. Don&rsquo;t print debugging info for
options that are not set. Add warning if start_tls specified when not
supported.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56729b9a6"
>[56729b9a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
fix compilation on solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f60e1d3cb"
>[f60e1d3cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add missing .h and .c files for missing lib objs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ed999b7a"
>[9ed999b7a]</a></li>
</ul>
</dd>
<dt>2007-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
fix LDAP_OPT_NETWORK_TIMEOUT setting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbe2b9e4f"
>[dbe2b9e4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
fix compilation on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3be9fcbed"
>[3be9fcbed]</a></li>
</ul>
</dd>
<dt>2007-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72e1a2b54"
>[72e1a2b54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
try to clear up which variables are for OpenLDAP and which are for
netscape-derived SDKs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6aa830875"
>[6aa830875]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Add support for &ldquo;ssl on&rdquo; in both netscape and openldap flavors. Only the
OpenLDAP flavor has been tested.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b40949930"
>[b40949930]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c, sudo.h:<br>
Call cleanup() before exit in log_error() instead of calling
sudo_ldap_close() directly. ldap_conn can now be static to sudo.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff0a538d0"
>[ff0a538d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
ld -&gt; ldap_conn
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed88a812e"
>[ed88a812e]</a></li>
</ul>
</dd>
<dt>2007-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c, sudo.c, sudo.h:<br>
Better ldap cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a68ab16dc"
>[a68ab16dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Distinguish between LDAP conf settings that are connection-specific
(which take an ld pointer) and those that are default settings (which do
not).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5b5f0cfd"
>[c5b5f0cfd]</a></li>
</ul>
</dd>
<dt>2007-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Improved warnings on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06e6097a4"
>[06e6097a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Make ldap config table driven and set the config <em>after</em> we open the
connection.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c1889af1"
>[7c1889af1]</a></li>
</ul>
</dd>
<dt>2007-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
fix LDAP_OPT_X_CONNECT_TIMEOUT compat define
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6acbe1728"
>[6acbe1728]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
some operating systems need to link with -lkrb5support when using krb5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=400309aa9"
>[400309aa9]</a></li>
</ul>
</dd>
<dt>2007-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
minor update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ae3bb2dd"
>[5ae3bb2dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51d841654"
>[51d841654]</a></li>
</ul>
</dd>
<dt>2007-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e7a467e8"
>[3e7a467e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, schema.OpenLDAP, schema.iPlanet, sudoers2ldif:<br>
add -g support for LDAP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae98617df"
>[ae98617df]</a></li>
</ul>
</dd>
<dt>2007-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW, sudo.c, sudo.pod, sudo_usage.h.in:<br>
The -i and -s flags can now take an optional command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3592cc0b1"
>[3592cc0b1]</a></li>
</ul>
</dd>
<dt>2007-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c, def_data.c, def_data.h, def_data.in, sudo.c, sudo.pod,
sudoers.pod:<br>
Add passprompt_override flag to sudoers that will cause the prompt to be
overridden in all cases. This flag is also set when the user specifies
the -p flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74c5dc4fa"
>[74c5dc4fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Move setting of login class until after sudoers has been parsed. Set
NewArgv[0] for -i after runas_pw has been set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4efd981d6"
>[4efd981d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Move the dgettext check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c148eb52d"
>[c148eb52d]</a></li>
</ul>
</dd>
<dt>2007-12-01  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>auth/pam.c, config.h.in, configure, configure.in:<br>
Add basic support for looking up the string &ldquo;Password: &quot; in the PAM
localized text db. This allows us to determine whether the PAM prompt is
the default &ldquo;Password: &quot; one even if it has been localized.</p>
<p>TODO: concatenate non-std PAM prompts and user-specified sudo prompts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8694c7314"
>[8694c7314]</a></p>
</li>
</ul>
</dd>
<dt>2007-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in, parse.c, set_perms.c,
sudo.c, sudo.h:<br>
Use AC_FUNC_GETGROUPS instead of a home-grown attempt that was
insufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=908b8f64e"
>[908b8f64e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, configure, interfaces.c, memrchr.c:<br>
Fix typos; Martynas Venckus
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a85dd4b86"
>[a85dd4b86]</a></li>
</ul>
</dd>
<dt>2007-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Don&rsquo;t assume runas_pw is set; it may not be in the -g case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c5696978"
>[9c5696978]</a></li>
</ul>
</dd>
<dt>2007-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c, set_perms.c:<br>
Set aux group vector for PERM_RUNAS and restore group vector for
PERM_ROOT if we previously changed it. Stash the runas group vector so
we don&rsquo;t have to call initgroups more than once. Also add no-op check to
check_perms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a76630000"
>[a76630000]</a></li>
</ul>
</dd>
<dt>2007-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW, check.c, def_data.in, defaults.c, gram.c, gram.h, gram.y,
ldap.c, logging.c, match.c, mon_systrace.c, parse.c, parse.h, pwutil.c,
set_perms.c, sudo.c, sudo.cat, sudo.h, sudo.man.in, sudo.pod,
sudo_usage.h.in, sudoers.cat, sudoers.man.in, sudoers.pod,
testsudoers.c, visudo.c, visudo.cat, visudo.man.in:<br>
Add support for runas groups. This allows the user to run a command with
a different effective group. If the -g option is specified without -u
the command will be run as the current user (only the group will
change). the -g and -u options may be used together. TODO: implement
runas group for ldap improve runas group documentation add testsudoers
support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9f4aca55"
>[f9f4aca55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
fix setting of mandir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfd781ff6"
>[bfd781ff6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod:<br>
document that ALL implies SETENV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9f393e4d"
>[c9f393e4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
s/setenv_ok/setenv_implied/g
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6c0ba72f"
>[e6c0ba72f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
hostname_matches() returns TRUE on match in sudo 1.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fff47a319"
>[fff47a319]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
use strcmp, not strcasecmp when comparing ALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a39e1beb"
>[4a39e1beb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Make sudo ALL imply setenv. Note that unlike with file-based sudoers
this does affect all the commands in the sudoRole.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6751e9a9c"
>[6751e9a9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.y, parse.c, parse.h:<br>
sudo &ldquo;ALL&rdquo; now implies the SETENV tag but, unlike an explicit tag, it is
not passed on to other commands in the list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52b2861bb"
>[52b2861bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Add missing sudo_setpwent() and sudo_setgrent() calls. Also use
sudo_getpwuid() instead of getpwuid().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87dc0bb2e"
>[87dc0bb2e]</a></li>
</ul>
</dd>
<dt>2007-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers:<br>
Expand on the dangers of not using visudo to edit sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b1ada4a8"
>[8b1ada4a8]</a></li>
</ul>
</dd>
<dt>2007-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Don&rsquo;t quote *?[]! on output since the lexer does not strip off the
backslash when reading those in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cd59baad"
>[7cd59baad]</a></li>
</ul>
</dd>
<dt>2007-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>glob.c:<br>
expand &ldquo;u_foo&rdquo; types to &ldquo;unsigned foo&rdquo; to avoid compatibility issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c61e13db"
>[5c61e13db]</a></li>
</ul>
</dd>
<dt>2007-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Refactor log line generation in to new_logline().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ff6b6cca"
>[8ff6b6cca]</a></li>
</ul>
</dd>
<dt>2007-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c22d29597"
>[c22d29597]</a></li>
</ul>
</dd>
<dt>2007-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, interfaces.c, interfaces.h,
match.c:<br>
Add configure check for struct in6_addr instead of relying on AF_INET6
since some systems define AF_INET6 but do not include IPv6 support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d22c2f98"
>[0d22c2f98]</a></li>
</ul>
</dd>
<dt>2007-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix block to add -lutil for FreeBSD and NetBSD when logincap is in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c50e7d4c0"
>[c50e7d4c0]</a></li>
</ul>
</dd>
<dt>2007-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
POSIX states that struct timespec be declared in time.h so check there
regardless of the value of TIME_WITH_SYS_TIME.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ef458b59"
>[8ef458b59]</a></li>
</ul>
</dd>
<dt>2007-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Instead of defining a macro to call the appropriate method for turning
on/off echo, just define tc[gs]etattr() and the related defines that use
the correct terminal ioctls if needed. Also go back to using TCSAFLUSH
instead of TCSADRAIN on all but QNX.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45a382bba"
>[45a382bba]</a></li>
</ul>
</dd>
<dt>2007-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
g/c @ALLOCA@
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f28aa7f8c"
>[f28aa7f8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3f281841"
>[c3f281841]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, auth/pam.c, config.h.in, configure.in:<br>
Add &ndash;disable-pam-session configure option to disable calling
pam_{open,close}_session. May work around bugs in some PAM
implementations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a04b3ff9"
>[5a04b3ff9]</a></li>
</ul>
</dd>
<dt>2007-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
quiet gcc warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f95160542"
>[f95160542]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Avoid printing the prompt if we are already backgrounded. E.g. if the
user runs &ldquo;sudo foo &amp;&rdquo; from the shell. In this case, the call to
tcsetattr() will cause SIGTTOU to be delivered.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c84ad2683"
>[c84ad2683]</a></li>
</ul>
</dd>
<dt>2007-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Reorder things such that the definition of env_reset come right before
the env variable lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=209e35027"
>[209e35027]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
Shrink type and seqno in struct alias from int to u_short
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b6ebf4d8"
>[0b6ebf4d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, match.c, parse.c, parse.h:<br>
Add a sequence number in the aliases for loop detection. If we find an
alias with the seqno already set to the current (global) value we know
we&rsquo;ve visited it before so ignore it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76e5eb434"
>[76e5eb434]</a></li>
</ul>
</dd>
<dt>2007-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO, auth/pam.c, sudo.c, sudo.h:<br>
PAM wants the full tty path so add user_ttypath which holds the full
path to the tty or is NULL if no tty was present.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f5e88532"
>[4f5e88532]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Set PAM_RHOST to work around a bug in Solaris 7 and lower that results
in a segv.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb07eea18"
>[bb07eea18]</a></li>
</ul>
</dd>
<dt>2007-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57ee080a0"
>[57ee080a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, defaults.c, gram.y, list.c, list.h, match.c, parse.c, parse.h,
testsudoers.c, visudo.c:<br>
rename lh_ -&gt; tq_
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0f80d658"
>[a0f80d658]</a></li>
</ul>
</dd>
<dt>2007-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>alloc.c:<br>
remove some useless casts
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91526aaf7"
>[91526aaf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
pull in inttypes.h for SIZE_MAX; we avoid stdint.h since inttypes.h
predates the final C99 spec and the standard specifies that it shall
include stdint.h anyway
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fde060e84"
>[fde060e84]</a></li>
</ul>
</dd>
<dt>2007-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, alloca.c, configure.in:<br>
Since we ship with a pre-generated parser there is no need to ship a
bogus alloca implementation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c59eea84"
>[2c59eea84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cbee775b"
>[6cbee775b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
remove initial setting of CHECKSIA, we require that it be unset if not
used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=580348788"
>[580348788]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add list.c to SRCS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dda1fb26a"
>[dda1fb26a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=638d039ae"
>[638d039ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
only do SIA checks on Digital Unix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c6287b71"
>[2c6287b71]</a></li>
</ul>
</dd>
<dt>2007-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a06ae77c5"
>[a06ae77c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e05465b9"
>[6e05465b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Remove call to krb5_cc_register() as it is not needed for modern kerb5.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c572e31ff"
>[c572e31ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32e97c5dc"
>[32e97c5dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
New method for setting the default authentication type and avoiding
conflicts in auth types.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72255c0ad"
>[72255c0ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c, parse.c, testsudoers.c:<br>
Each entry in a cmndlist now has an associated runaslist so no need to
keep track of the most recent non-NULL one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21f0ea4d6"
>[21f0ea4d6]</a></li>
</ul>
</dd>
<dt>2007-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
back out partial ldaps support mistakenly committed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19ff128f3"
>[19ff128f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Add support for unix groups and netgroups in sudoRunas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84a22a2d5"
>[84a22a2d5]</a></li>
</ul>
</dd>
<dt>2007-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Fix sudoedit of a non-existent file. From Tilo Stritzky.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32403a2d8"
>[32403a2d8]</a></li>
</ul>
</dd>
<dt>2007-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bff032c9"
>[2bff032c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
update &ndash;passprompt escape info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=290eff4f5"
>[290eff4f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
remove now-bogus comment and update copyright date
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ac0dc57b"
>[5ac0dc57b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix up use of with_passwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237922518"
>[237922518]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, config.guess, config.sub, configure.in, ltmain.sh:<br>
Update to autoconf-2.61 andf libtool-1.5.24
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16871871d"
>[16871871d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
&ldquo;cmp -s&rdquo; not just cmp Add @datarootdir@ to quiet autoconf-2.61
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0459e07d4"
>[0459e07d4]</a></li>
</ul>
</dd>
<dt>2007-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8e1c8090"
>[d8e1c8090]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y:<br>
move tags and runaslist propagation to be earlier
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b11b56deb"
>[b11b56deb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
If -f flag given use the permissions of the original file as a template
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dee39f572"
>[dee39f572]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y:<br>
prevent a double free() when re-initing the parser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbe6be8f8"
>[cbe6be8f8]</a></li>
</ul>
</dd>
<dt>2007-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7bfc5909"
>[a7bfc5909]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, alias.c, alloc.c, auth/API, auth/afs.c, auth/bsdauth.c,
auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/securid.c, auth/securid5.c,
auth/sia.c, auth/sudo_auth.h, config.h.in, configure.in, env.c, ldap.c,
list.c, list.h, memrchr.c, parse.c, parse.h, pwutil.c, redblack.c,
redblack.h, snprintf.c, sudo.c, sudo.h, testsudoers.c, visudo.c,
zero_bytes.c:<br>
Remove support for compilers that don&rsquo;t support void *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19fa25948"
>[19fa25948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b3157d80"
>[6b3157d80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, alias.c, defaults.c, gram.y, list.c, list.h, match.c,
parse.c, parse.h, testsudoers.c, visudo.c:<br>
Move list manipulation macros to list.h and create C versions of the
more complex ones in list.c. The names have been down-cased so they
appear more like normal functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d72778832"
>[d72778832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix cmp command when regenerating parser. Make gram.o the first
dependency for all programs so gram.h will be generated before anything
that needs it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07ebde409"
>[07ebde409]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y, parse.h:<br>
Convert NEW_DEFAULT anf NEW_MEMBER into static functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d56d0b115"
>[d56d0b115]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c, parse.c, testsudoers.c:<br>
Use LH_FOREACH_REV when checking permission and short-circuit on the
first non-UNSPEC hit we get for the command. This means that instead of
cycling through the all the parsed sudoers entries we start at the end
and work backwards and quit after the first positive or negative match.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10e5d4e70"
>[10e5d4e70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=270ba11db"
>[270ba11db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, gram.y, parse.c, parse.h, testsudoers.c, visudo.c:<br>
Change list head macros to take a pointer, not a struct.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1dbe2ece"
>[d1dbe2ece]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4df703781"
>[4df703781]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y:<br>
Propagate the runasspec from one command to the next in a cmndspec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=470a710c3"
>[470a710c3]</a></li>
</ul>
</dd>
<dt>2007-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Replace has_meta() with a macro that calls strpbrk().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d69c0d63"
>[1d69c0d63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb51d5210"
>[bb51d5210]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>alias.c, defaults.c, gram.y, match.c, parse.c, parse.h, testsudoers.c,
visudo.c:<br>
Use a list head struct when storing the semi-circular lists and convert
to tail queues in the process. This will allow us to reverse foreach
loops more easily and it makes it clearer which functions expect a list
as opposed to a single member.</p>
<p>Add macros for manipulating lists. Some of these should become
functions.</p>
<p>When freeing up a list, just pop off the last item in the queue instead
of going from head to tail. This is simpler since we don&rsquo;t have to stash
a pointer to the next member, we always just use the last one in the
queue until the queue is empty.</p>
<p>Rename match functions that take a list to have list in the name. Break
cmnd_matches() into cmnd_matches() and cmndlist_matches.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cdea0b94"
>[8cdea0b94]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Fix pasto, append &ldquo;!&rdquo; not negated (which is an int) for sudo -l output.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a05abf5c8"
>[a05abf5c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove the dependency of gram .h on gram.y, the .c dependency is enough.
Only move y.tab.h to gram.h if it is different; avoids needless
rebuilding.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e30ec199"
>[0e30ec199]</a></li>
</ul>
</dd>
<dt>2007-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Defaults lines may be associated with lists of users, hosts, commands
and runas users, not just single entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaacf16ee"
>[aaacf16ee]</a></li>
</ul>
</dd>
<dt>2007-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Revert the &ldquo;cmp&rdquo; portion of the last diff, it doesn&rsquo;t make sense.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd6d9d7e1"
>[cd6d9d7e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Remove *.lo for clean: When generating the parser, only move the
generated files into place if they differ from the existing ones.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e90c32674"
>[e90c32674]</a></li>
</ul>
</dd>
<dt>2007-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Replace IPV6 regexp with a much simpler (readable) one and add an extra
check when it matches to make sure we have a valid address.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51904f668"
>[51904f668]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Fix thinko introduced when merging IPV6 support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fd33970c"
>[3fd33970c]</a></li>
</ul>
</dd>
<dt>2007-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY, LICENSE:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9dd821b5"
>[f9dd821b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>license.pod:<br>
add 2007
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb8b3d6b5"
>[eb8b3d6b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
mention #uid vs. comment pitfall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=836d04019"
>[836d04019]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4:<br>
Merge in a patch from the libtool cvs that fixes a problem with the
latest autoconf. From Stepan Kasal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f11011f0"
>[5f11011f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
Back out he XOR swap trick, it is slower than a temp variable on modern
CPUs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b63a4c9db"
>[b63a4c9db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb4b7b2e6"
>[eb4b7b2e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y, parse.h:<br>
Convert the tail queue to a semi-circle queue and use the XOR swap trick
to swap the prev pointers during append.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f732db02"
>[6f732db02]</a></li>
</ul>
</dd>
<dt>2007-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.h:<br>
remove useless statement
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=444e77946"
>[444e77946]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Refactor #include parsing into a separate function and return unparsed
chars (such as newline or comment) back to the lexer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cea15ef4"
>[7cea15ef4]</a></li>
</ul>
</dd>
<dt>2007-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>WHATSNEW:<br>
mention better uid support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cb10fc94"
>[9cb10fc94]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Users may now consist of a uid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94922dbae"
>[94922dbae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.h, toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d65c8e827"
>[d65c8e827]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Use lbuf_append_quoted() for sudo -l output to quote characters that
would require quoting in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=340831499"
>[340831499]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lbuf.c, lbuf.h:<br>
Add lbuf_append_quoted() which takes a set of characters which should be
quoted with a backslash when displayed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14d1b79a4"
>[14d1b79a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Require that the first character after a comment not be a digit or a
dash. This allows us to remove the GOTRUNAS state and treat uid/gids
similar to other words. It also means that we can now specify uids in
User_Lists and a User_Spec may now contain a uid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0940a74e6"
>[0940a74e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y, toke.l:<br>
Replace RUNAS token with &lsquo;(&rsquo; and &lsquo;)&rsquo; tokens to make the runas portion of
the grammar more natural.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=add2fe024"
>[add2fe024]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
The BUGS file is history
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=057d10a1e"
>[057d10a1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, README:<br>
The BUGS file is history
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58fd9b25b"
>[58fd9b25b]</a></li>
</ul>
</dd>
<dt>2007-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Allow comments after a RunasAlias as long as the character after the
pound sign isn&rsquo;t a digit or a dash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53961224a"
>[53961224a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
Glob support was back-ported to 1.6.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd0ea842f"
>[fd0ea842f]</a></li>
</ul>
</dd>
<dt>2007-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
remove sudo_usage.h in distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68aac1b39"
>[68aac1b39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
If a Defaults value contains a blank, double-quote the string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6cf39cdf"
>[c6cf39cdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Properly deal with Defaults double-quoted strings that span multiple
lines using the line continuation char. Previously, the entire thing,
including the continuation char, newline, and spaces was stored as-is.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cf8213c2"
>[9cf8213c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Be consistent when using single quotes and backticks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa6536920"
>[fa6536920]</a></li>
</ul>
</dd>
<dt>2007-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, lbuf.c, lbuf.h, parse.c, sudo.c,
sudo_usage.h.in:<br>
Add new linebuf code to do appends of dynamically allocated strings and
word-wrapped output. Currently used for sudo&rsquo;s usage() and sudo -l
output. Sudo usage strings are now in sudo_usage.h which is generated at
configure time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2315b317e"
>[2315b317e]</a></li>
</ul>
</dd>
<dt>2007-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.h:<br>
Fix line wrapping in usage() and use the actual tty width instead of
assuming 80.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d28030c9f"
>[d28030c9f]</a></li>
</ul>
</dd>
<dt>2007-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>history.pod:<br>
some more info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccd780f99"
>[ccd780f99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>history.pod:<br>
Mentioned Chris Jepeway&rsquo;s parser and also the new one that is in sudo
1.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b43e9362"
>[0b43e9362]</a></li>
</ul>
</dd>
<dt>2007-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
For the options list, add flag args where appropriate and increase the
indent level so there is room for them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28f814d12"
>[28f814d12]</a></li>
</ul>
</dd>
<dt>2007-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Fix some spacing in &ldquo;sudo -l&rdquo; and add a comment about some bogosity in
the line wrapping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=994036cf0"
>[994036cf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ab2e0767"
>[5ab2e0767]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, WHATSNEW, config.h.in, configure.in, def_data.c,
def_data.h, def_data.in, gram.c, gram.h, gram.y, parse.c, parse.h,
pathnames.h.in, sudo.c, sudo.h, sudoers.pod, testsudoers.c, toke.c,
toke.l:<br>
Remove monitor support until there is a versino of systrace that uses a
lookaside buffer (or we have a better mechanism to use).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=317e600f4"
>[317e600f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo.c:<br>
use getaddrinfo() instead of gethostbyname() if it is available
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72b36ddf5"
>[72b36ddf5]</a></li>
</ul>
</dd>
<dt>2007-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
Deal with OSes where sizeof(gid_t) &lt; sizeof(int).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c93969078"
>[c93969078]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
repair non-getifaddrs() code after ipv6 integration
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd3e80180"
>[dd3e80180]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
If we can open sudoers but fail to read the first byte, close the file
stream before trying again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=580be13e7"
>[580be13e7]</a></li>
</ul>
</dd>
<dt>2007-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1845dcf1"
>[b1845dcf1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y, interfaces.c, interfaces.h, match.c, sudoers.pod, toke.l:<br>
Add IPv6 support; adapted from patches by YOSHIFUJI Hideaki
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d65602ca6"
>[d65602ca6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Add some missing markup Update copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a96fe407"
>[0a96fe407]</a></li>
</ul>
</dd>
<dt>2007-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
fix sudo_noexec extension which got broken in the libtool update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f90beb2b2"
>[f90beb2b2]</a></li>
</ul>
</dd>
<dt>2007-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
explicitly specify -Tascii to nroff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb68709a7"
>[cb68709a7]</a></li>
</ul>
</dd>
<dt>2007-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
remove an ANSI-ism that crept in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcdddfc05"
>[bcdddfc05]</a></li>
</ul>
</dd>
<dt>2007-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
Adjust list indents Prevent &ndash; from being turned into an em dash Use a
list for the environment instead of a literal paragraph
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae60a557"
>[1ae60a557]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
Use a list for the environment instead of an indented literal paragraph.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91f2696d1"
>[91f2696d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Adjust list indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c2448ed2"
>[6c2448ed2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>license.pod:<br>
add =head3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=977ff0d6a"
>[977ff0d6a]</a></li>
</ul>
</dd>
<dt>2007-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
mention that when specifying a uid for the -u option the shell may
require that the # be escaped
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1994a37c6"
>[1994a37c6]</a></li>
</ul>
</dd>
<dt>2007-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Fix off by one in group matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fea71625"
>[4fea71625]</a></li>
</ul>
</dd>
<dt>2007-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Fix typo: PYTHONINSPEC should be PYTHONINSPECT. From David Krause.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17c8249fe"
>[17c8249fe]</a></li>
</ul>
</dd>
<dt>2007-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add missing define of HAVE_GSS_KRB5_CCACHE_NAME for the -lgssapi_krb5
case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4da496423"
>[4da496423]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Fix link tests such that new gcc doesn&rsquo;t optimize away the test.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e81f9efd1"
>[e81f9efd1]</a></li>
</ul>
</dd>
<dt>2007-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
add missing over/back
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a08b9a107"
>[a08b9a107]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Change FILES section to use =item
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3a1e75b0"
>[c3a1e75b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add back allocation of the env struct in rebuild_env but save a copy of
the old pointer and free it before returning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b257e50c"
>[4b257e50c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>env.c:<br>
Don&rsquo;t init the private environment in rebuild_env() since it may have
already been done implicitly sudo_setenv/sudo_unsetenv.</p>
<p>Multiply length by sizeof(char *) in memcpy/memmove when copying the
environment so we copy the full thing.</p>
<p>Add missing set of parens so we deref the right pointer in sudo_unsetenv
when searching for a matching variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2304e1a4a"
>[2304e1a4a]</a></p>
</li>
</ul>
</dd>
<dt>2007-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Use file markup for paths in the FILES section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e147dc73"
>[2e147dc73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Don&rsquo;t capitalize sudo/visudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5cc89e01"
>[e5cc89e01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Sort sudoers options; based on a diff from Igor Sobrado.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b925712f9"
>[b925712f9]</a></li>
</ul>
</dd>
<dt>2007-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Use 8 and 5 instead of @mansectsu@ and @mansectform@ since the
latter confuses pod2man. The Makefile rules for the .man.in file will
add @mansectsu@ and @mansectform@ back in after pod2man is done
anyway.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d947abaa3"
>[d947abaa3]</a></li>
</ul>
</dd>
<dt>2007-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, Makefile.in, license.pod:<br>
Move license info to pod format
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0c31eef1"
>[e0c31eef1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, sudoers.pod:<br>
Substitute value of path_info into sudoers man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c6880f1e"
>[5c6880f1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
remove features that were back-ported to 1.6.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd9aad660"
>[cd9aad660]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.pod, visudo.c, visudo.pod:<br>
Sort SYNOPSIS and sync usage. From Igor Sobrado.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cd49e1e0"
>[5cd49e1e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Only need sudo_setenv/sudo_unsetenv if we are going to use
ldap_sasl_interactive_bind_s() but don&rsquo;t have gss_krb5_ccache_name().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c94a3d624"
>[c94a3d624]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
rebuild without branch info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd711b629"
>[fd711b629]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add ChangeLog target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aa5ba749"
>[8aa5ba749]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Run cleanup code if the user hits ^C at the password prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42ac4fb2c"
>[42ac4fb2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Some versions of pam_lastlog have a bug that will cause a crash if
PAM_TTY is not set so if there is no tty, set PAM_TTY to the empty
string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b166928ba"
>[b166928ba]</a></li>
</ul>
</dd>
<dt>2007-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
ChageLog not Changelog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24ada438f"
>[24ada438f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f0788597"
>[5f0788597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
CHANGE -&gt; Changelog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bbac967e"
>[1bbac967e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=641f34e30"
>[641f34e30]</a></li>
</ul>
</dd>
<dt>2007-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, ldap.c:<br>
Add configure hooks for gss_krb5_ccache_name() and the gssapi headers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f30bd424"
>[1f30bd424]</a></li>
</ul>
</dd>
<dt>2007-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>env.c, sudo.c:<br>
rebuild_env() and insert_env_vars() no longer return environment
pointer, they set environ directly.</p>
<p>No longer need to pass around an envp pointer since we just operate on
environ now.</p>
<p>Add dosync argument to insert_env() that indicates whether it should
reset environ when realloc()ing env.envp.</p>
<p>Use an initial size of 128 for the environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f0f4743f"
>[8f0f4743f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Split sudo_setenv() into an external version and a version only for use
by rebuild_env().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fa2eb187"
>[8fa2eb187]</a></li>
</ul>
</dd>
<dt>2007-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Add support for using gss_krb5_ccache_name() instead of setting
KRB5CCNAME. Also use sudo_unsetenv() in the non-gss_krb5_ccache_name()
case if there was no KRB5CCNAME in the original environment. TODO:
configure setup for gss_krb5_ccache_name()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a96b6de4"
>[3a96b6de4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
add krb5_ccname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=320ab55d5"
>[320ab55d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP, ldap.c:<br>
Add support for sasl_secprops in ldap.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5ad187ed"
>[f5ad187ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.h:<br>
Add sudo_unsetenv() and refactor private env syncing code into
sync_env().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=436e3b631"
>[436e3b631]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP, ldap.c:<br>
The ldap.conf variable is sasl_auth_id not sasl_authid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=328a6b493"
>[328a6b493]</a></li>
</ul>
</dd>
<dt>2007-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c, sudo.c, sudo.h:<br>
Add support for krb5_ccname in ldap.conf. If specified, it will override
the default value of KRB5CCNAME in the environment for the duration of
the call to ldap_sasl_interactive_bind_s().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af18ed5e9"
>[af18ed5e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.h:<br>
Remove format_env() Add sudo_setenv() to replace most format_env() +
insert_env() combinations. insert_env() no longer takes a struct
environment *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1f6bdbcf"
>[d1f6bdbcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Fix use_sasl vs. rootuse_sasl logic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cb8c55f9"
>[8cb8c55f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP, config.h.in, configure, configure.in, ldap.c:<br>
Add support for SASL auth when connecting to an LDAP server. Adapted
from a diff by Tom McLaughlin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fdb0649b"
>[5fdb0649b]</a></li>
</ul>
</dd>
<dt>2007-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Only enable AIX or BSD auth if no other exclusive auth method has been
chosen. Allows people to e.g., use PAM on AIX without adding
&ndash;without-aixauth. A better solution is needed to deal with default
authentication since if a non-exclusive method is chosen we will still
get an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38b2dd0a5"
>[38b2dd0a5]</a></li>
</ul>
</dd>
<dt>2007-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY, Makefile.in, history.pod:<br>
Generate HISTORY from history.pod (which is also used for web pages)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39228bf9e"
>[39228bf9e]</a></li>
</ul>
</dd>
<dt>2007-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0ffb8ce3"
>[c0ffb8ce3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Better explanation of environment handling in the sudo man page.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8dc37d79"
>[e8dc37d79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c:<br>
Defer setting user-specified env vars until after authentication.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6462c1edd"
>[6462c1edd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
honor def_default_path for PATH set on the command line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25b624ce5"
>[25b624ce5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c, sudo.pod, sudoers.pod:<br>
Allow user to set environment variables on the command line as long as
they are allowed by env_keep and env_check. Ie: apply the same
restrictions as normal environment variables. TODO: deal with
secure_path
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87a95bb3a"
>[87a95bb3a]</a></li>
</ul>
</dd>
<dt>2007-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo_edit.c:<br>
Call rebuild_env() in call cases. Pass original envp to sudo_edit().
Don&rsquo;t allow -E or env var setting in sudoedit mode. More accurate
usage() when called as sudoedit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5919eb1fa"
>[5919eb1fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
warn -&gt; warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16166fc5e"
>[16166fc5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
add -c option to sudoedit synopsis
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c94ee11b6"
>[c94ee11b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
udpate to reality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7927b2b3"
>[b7927b2b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Use ALLOW/DENY instead of TRUE/FALSE when dealing with the return value
from {user,host,runas,cmnd}_matches(). Rename *matches variables -&gt;
*match. Purely cosmetic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=888540a7b"
>[888540a7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Move setting of FLAG_NO_CHECK into the if(pwflag) block. No change in
behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e9030d95"
>[1e9030d95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
add SETENV tag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b70cf25a3"
>[b70cf25a3]</a></li>
</ul>
</dd>
<dt>2007-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Make pwcheck local to the pwflag block. Use pwcheck even if user didn&rsquo;t
match since Defaults options may still apply.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a26c783be"
>[a26c783be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c:<br>
Do not update timestamp if user not validated by sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f1a9c0bc"
>[6f1a9c0bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
for PERM_RUNAS, set the egid to the runas user&rsquo;s gid and restore to the
user&rsquo;s original in PERM_ROOT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=988f44a60"
>[988f44a60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, mon_systrace.c, set_perms.c, sudo.h:<br>
PERM_FULL_ROOT is now no different than PERM_ROOT so remove
PERM_FULL_ROOT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ef73825"
>[f3ef73825]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
don&rsquo;t check timestamp mtime if we are just going to remove it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af53e335a"
>[af53e335a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Move sudoers defaults parameters into their own section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95df3fa67"
>[95df3fa67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Reduce a level of indent by a few placed continue statements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45b311cfa"
>[45b311cfa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Make matching but negated commands/hosts/runas entries override a
previous match as expected. Also reduce some levels of indent by a few
placed continue statements.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f0bb4b1a"
>[7f0bb4b1a]</a></li>
</ul>
</dd>
<dt>2007-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Print default runas in &ldquo;sudo -l&rdquo; if sudoers don&rsquo;t specify one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdd5b43f7"
>[bdd5b43f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Less hacky way of testing whether the domain was set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a8fb7115"
>[6a8fb7115]</a></li>
</ul>
</dd>
<dt>2007-07-04  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Mention pam-devel and openldap-devel for Linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c21164d37"
>[c21164d37]</a></li>
</ul>
</dd>
<dt>2007-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
or vs. are
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5bb0bb97"
>[e5bb0bb97]</a></li>
</ul>
</dd>
<dt>2007-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fix typo in Solaris project support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d321157a"
>[3d321157a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c6c4677b"
>[3c6c4677b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Make &ndash; on the command line match the manual page. The implied shell
case has been simplified as a result.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49b66be51"
>[49b66be51]</a></li>
</ul>
</dd>
<dt>2007-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers2ldif:<br>
add simplistic support for sudoRunas; note that if a sudoers entry
contains multiple Runas users, all will apply to the sudoRole
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad86ccfb1"
>[ad86ccfb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers2ldif:<br>
honor SETENV and NOSETENV tags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=888a6d2e4"
>[888a6d2e4]</a></li>
</ul>
</dd>
<dt>2007-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Redo setting of user_args. We now build up a private copy of argv first
and then replace the NULswith spaces.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f49d28ea"
>[9f49d28ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
getcwd() returns NULL on failure, not 0 on success
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a83e28b25"
>[a83e28b25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
allow chunksiz to reach 1 before erroring out
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d76de6cd"
>[2d76de6cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3b905ba5"
>[b3b905ba5]</a></li>
</ul>
</dd>
<dt>2007-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, env.c, gram.c, gram.h, gram.y,
logging.c, parse.c, parse.h, sudo.c, sudo.h, sudo.pod, sudoers.pod,
toke.c, toke.l:<br>
Add support for setting environment variables on the command line. This
is only allowed if the setenv sudoers options is enabled or if the
command is prefixed with the SETENV tag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=879c46e4d"
>[879c46e4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
replace Aaron&rsquo;s email address with the sudo-workers list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=459c4bcd3"
>[459c4bcd3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d4fe735a"
>[0d4fe735a]</a></li>
</ul>
</dd>
<dt>2007-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>schema.OpenLDAP, schema.iPlanet:<br>
Break schema out into separate files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddeafc2bc"
>[ddeafc2bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, README.LDAP:<br>
Break schema out into separate files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8d7657c5"
>[d8d7657c5]</a></li>
</ul>
</dd>
<dt>2007-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/aix_auth.c:<br>
free message if set by authenticate()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd7a9af87"
>[fd7a9af87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
deal with NULL gr_mem
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae2f7c77e"
>[ae2f7c77e]</a></li>
</ul>
</dd>
<dt>2007-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9a6950fb"
>[f9a6950fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add template for HAVE_PROJECT_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c22c694c"
>[5c22c694c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c:<br>
include fcntl.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a8cda261"
>[2a8cda261]</a></li>
</ul>
</dd>
<dt>2007-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention &ndash;with-project
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce963ef43"
>[ce963ef43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in, sudo.c:<br>
Add Solaris 10 &ldquo;project&rdquo; support. From Michael Brantley.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60b7ac61b"
>[60b7ac61b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=459b9cb1d"
>[459b9cb1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0ae6e100"
>[e0ae6e100]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix preservation of LDFLAGS in the LDAP case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1702ca4c"
>[d1702ca4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>memrchr.c:<br>
Remove dependecy on NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c59e9046"
>[5c59e9046]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f21fc74c"
>[7f21fc74c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
Can&rsquo;t use the regular autoconf fnmatch() check since we need
FNM_CASEFOLD so go back to our custom one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c154f0119"
>[c154f0119]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Fix preserving of variables in env_keep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=363a2f259"
>[363a2f259]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
add XAUTHORIZATION
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f670ef29b"
>[f670ef29b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
expand upon env resetting and mention that it began in 1.6.9 not 1.7.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d8b899e4"
>[7d8b899e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Update descriptions of env_keep and env_check to match current reality.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a922ff68a"
>[a922ff68a]</a></li>
</ul>
</dd>
<dt>2007-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Add LINGUAS to initial_checkenv_table. Add COLORS, HOSTNAME, LS_COLORS,
MAIL, PS1, PS2, XAUTHORITY to intial_keepenv_table.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ac9f1de5"
>[5ac9f1de5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, logging.c:<br>
Treat USERNAME environemnt variable like LOGNAME/USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c22566897"
>[c22566897]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Don&rsquo;t need to populate keepenv table with the contents of the checkenv
table.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=549c88d51"
>[549c88d51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t force sudo into the C locale.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dcaba90a"
>[4dcaba90a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Make env_check apply when env_reset it true. Environment variables are
passed through unless they contain &lsquo;/&rsquo; or &lsquo;%&rsquo;. There is no need to have
a variable in both env_check and env_keep.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e096ae6f1"
>[e096ae6f1]</a></li>
</ul>
</dd>
<dt>2007-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Remove an duplicate lock_file() call and add a comment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db084676e"
>[db084676e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
Add sudo 1.6.9 upgrade note.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a162c1634"
>[a162c1634]</a></li>
</ul>
</dd>
<dt>2007-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
Solaris will return EINVAL if the buffer used in SIOCGIFCONF is too
small. From Klaus Wagner.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f58f63770"
>[f58f63770]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
Redo the long syslog line splitting based on a patch from Eygene
Ryabinkin. Include memrchr() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49cb30aa5"
>[49cb30aa5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>memrchr.c:<br>
Redo the long syslog line splitting based on a patch from Eygene
Ryabinkin. Include memrchr() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=889f928e5"
>[889f928e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in:<br>
Redo the long syslog line splitting based on a patch from Eygene
Ryabinkin. Include memrchr() for systems without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c22096ac3"
>[c22096ac3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Since we need to be able to convert timespec to timeval for utimes() the
last 3 digits in the tv_nsec are not significant. This makes the
sudoedit file date comparison work again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f38301a5"
>[1f38301a5]</a></li>
</ul>
</dd>
<dt>2007-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Add SUDO_ADD_AUTH macro to deal with adding things to AUTH_OBJS. This
deals with exclusive authentication methods in a simple way.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a7c81886"
>[4a7c81886]</a></li>
</ul>
</dd>
<dt>2007-06-12  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE:<br>
mkstemp.c is BSD code too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=927c229b9"
>[927c229b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
No commercial support for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f2230617"
>[3f2230617]</a></li>
</ul>
</dd>
<dt>2007-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
cleanenv() is no more.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fb914ea0"
>[7fb914ea0]</a></li>
</ul>
</dd>
<dt>2007-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>ChangeLog:<br>
Display branch info in Changelog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=214f7d07f"
>[214f7d07f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>utimes.c:<br>
Include config.h early so we have it for TIME_WITH_SYS_TIME
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce92c1cf6"
>[ce92c1cf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ChangeLog:<br>
Fix Changelog generation and update.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b73bcbb8"
>[7b73bcbb8]</a></li>
</ul>
</dd>
<dt>2007-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>closefrom.c:<br>
Use /proc/self/fd instead of /proc/$$/fd</p>
<p>Move old-style fd closing into closefrom_fallback() and call that if
/proc/self/fd doesn&rsquo;t exist or the F_CLOSEM fcntl() fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ae409b8f"
>[8ae409b8f]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c, config.h.in, configure.in:<br>
o use krb5_verify_user() if available instead of doing it by hand o use
krb5_init_secure_context() if we have it o pass an encryption type of 0
to krb5_kt_read_service_key() instead of ENCTYPE_DES_CBC_MD5 to let
kerberos choose.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc38e7c21"
>[fc38e7c21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Check TERM and COLORTERM for &lsquo;%&rsquo; and &lsquo;/&rsquo; characters. From Debian.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f221ba230"
>[f221ba230]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix closefrom() substitution in the Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d04baaee"
>[4d04baaee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Mention alternate sudo pronunciation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7323cbb50"
>[7323cbb50]</a></li>
</ul>
</dd>
<dt>2007-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Remove KRB5_KTNAME from environment. Allow COLORTERM.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30e57038d"
>[30e57038d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
If we cannot get a valid service key using the default keytab it is a
fatal error. Fixes a bug where sudo could be tricked into allowing
access when it should not by a fake KDC. From Thor Lancelot Simon.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d9732115"
>[8d9732115]</a></li>
</ul>
</dd>
<dt>2007-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in:<br>
Update long long checks to use AC_CHECK_TYPES and to cache values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd221e2eb"
>[bd221e2eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
Use AC_FUNC_FNMATCH instead of a homebrew fnmatch checker. We can&rsquo;t use
AC_REPLACE_FNMATCH since that assumes replacing with GNU fnmatch.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c824fb36"
>[1c824fb36]</a></li>
</ul>
</dd>
<dt>2007-05-11  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Add closefrom() to LIB_OBJS not SUDO_OBJS if it is missing since we need
it for visudo now too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1488331d7"
>[1488331d7]</a></li>
</ul>
</dd>
<dt>2007-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Attempt to clarify the bit talking about network numbers w/o netmasks.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea35c0d3"
>[0ea35c0d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Clarify timestamp dir ownership sentence.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af80a3e57"
>[af80a3e57]</a></li>
</ul>
</dd>
<dt>2007-04-20  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Linux PAM now defines <strong>LINUX_PAM</strong>, not __LIBPAM_VERSION. From Dmitry
V. Levin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2433e036"
>[f2433e036]</a></li>
</ul>
</dd>
<dt>2007-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
-i is also one of the mutually exclusive options to list it in the
warning message. Noted by Chris Pepper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f2b6b146"
>[3f2b6b146]</a></li>
</ul>
</dd>
<dt>2007-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.pod:<br>
The sudoers variable is env_editor, not enveditor. From Jean-Francois
Saucier.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b679cb930"
>[b679cb930]</a></li>
</ul>
</dd>
<dt>2007-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>redblack.c:<br>
I tracked down the original author so credit him and include his license
info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=666c85dba"
>[666c85dba]</a></li>
</ul>
</dd>
<dt>2007-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod, sudoers.cat, sudoers.man.in,
sudoers.pod:<br>
Fix typos; from Jason McIntyre.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a96eb86e"
>[7a96eb86e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Restore signal mask before calling reapchild(). Fixes a possible race
condition that could prevent sudo from properly waiting for the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=832f4c376"
>[832f4c376]</a></li>
</ul>
</dd>
<dt>2007-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Don&rsquo;t declare pw_free() if we are not going to use it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51d61f148"
>[51d61f148]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add NOEXEC support for AIX 5.3 which supports LDR_PRELOAD and
LDR_PRELOAD64. The 64-bit version is not currently supported. Remove
zero_env() prototype as it no longer exists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf500a00d"
>[bf500a00d]</a></li>
</ul>
</dd>
<dt>2006-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Add &ldquo;Auto-Submitted: auto-generated&rdquo; line to sudo mail for rfc 3834.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d6695ed4"
>[9d6695ed4]</a></li>
</ul>
</dd>
<dt>2006-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
If the user enters ^C at the password prompt, abort instead of trying to
authenticate with an empty password (which causes an annoying delay).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d97a8d20"
>[8d97a8d20]</a></li>
</ul>
</dd>
<dt>2006-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>closefrom.c, config.h.in, configure, configure.in:<br>
Add fcntl F_CLOSEM support to closefrom(); adapted from a diff by Darren
Tucker.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cad6de7d7"
>[cad6de7d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c:<br>
pw_free() is only used by sudo_freepwcache() so ifdef it out too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5994797e4"
>[5994797e4]</a></li>
</ul>
</dd>
<dt>2006-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Update to latest versions from cvs.savannah.gnu.org
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e9df267c"
>[6e9df267c]</a></li>
</ul>
</dd>
<dt>2006-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c, sudo_edit.c:<br>
Move password/group cache cleaning out of sudo_end{pw,grp}ent() so we
can close the passwd/group files early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=884b70acc"
>[884b70acc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, set_perms.c:<br>
Add seteuid() flavor of set_perms() for systems without setreuid() or
setresuid() that have a working seteuid(). Tested on Darwin.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea8c5d5d2"
>[ea8c5d5d2]</a></li>
</ul>
</dd>
<dt>2006-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
systrace_read() returns ssize_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7276bf7b9"
>[7276bf7b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix typo, -lldap vs. -ldap; from Tim Knox.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be3a220f7"
>[be3a220f7]</a></li>
</ul>
</dd>
<dt>2006-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY:<br>
Fix typo; Matt Ackeret
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbe7ab84b"
>[bbe7ab84b]</a></li>
</ul>
</dd>
<dt>2006-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Print sudoers path in -V mode for root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c28a289f1"
>[c28a289f1]</a></li>
</ul>
</dd>
<dt>2006-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Do a sub tree search instead of a base search (one level in the tree
only) for sudo right objects. This allows system administrators to
categorize the rights in a tree to make them easier to manage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=296680928"
>[296680928]</a></li>
</ul>
</dd>
<dt>2005-12-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6e3fb008"
>[b6e3fb008]</a></li>
</ul>
</dd>
<dt>2005-12-04  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Convert GET_OPT and GET_OPTI to use just 2 args. Add timelimit and
bind_timelimit support; adapted from gentoo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c588a014"
>[7c588a014]</a></li>
</ul>
</dd>
<dt>2005-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Support comments that start in the middle of a line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=920c81168"
>[920c81168]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Define LDAP_DEPRECATED until we start using ldap_get_values_len()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bce8fbdd6"
>[bce8fbdd6]</a></li>
</ul>
</dd>
<dt>2005-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>closefrom.c:<br>
Silence gcc -Wsign-compare; djm@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab076942e"
>[ab076942e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>error.c, sudo.c, sudo.h, testsudoers.c, visudo.c:<br>
cleanup() now takes an int as an arg so it can be used as a signal
handler too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d282cd22"
>[2d282cd22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Make a copy of the shell field in the passwd struct for NewArgv to avoid
a use after free situation after sudo_endpwent() is called.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7140895a"
>[c7140895a]</a></li>
</ul>
</dd>
<dt>2005-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add mkstemp() for those poor souls without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8efcb4051"
>[8efcb4051]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkstemp.c:<br>
Add mkstemp() for those poor souls without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ac7edb6e"
>[6ac7edb6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add mkstemp() for those poor souls without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a8ed8e07"
>[7a8ed8e07]</a></li>
</ul>
</dd>
<dt>2005-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Add PERL5DB to list of environment variables to remove.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be9d490e1"
>[be9d490e1]</a></li>
</ul>
</dd>
<dt>2005-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>mon_systrace.c, mon_systrace.h:<br>
Instead of calling the check function twice with a state cookie use
separate check/log functions.</p>
<p>Check more ioctl() calls for failure.</p>
<p>systrace_{read,write} now return the number of bytes read/written or -1
on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3553eee07"
>[3553eee07]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add more environment variables to remove; from gentoo linux Add some
comments about what bad env variables go to what (more to do)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9f34a5a3"
>[b9f34a5a3]</a></li>
</ul>
</dd>
<dt>2005-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo_edit.c:<br>
Move sudo_end{gr,pw}ent() until just before the exec since they free up
our cached copy of the passwd structs, including sudo_user and
sudo_runas. Fixes a use-after-free bug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2a32d13c"
>[b2a32d13c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Close all fd&rsquo;s before executing editor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b3b32ab9"
>[0b3b32ab9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Enable malloc debugging on OpenBSD when SUDO_DEVEL is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69c627658"
>[69c627658]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Fix fd leak when lecture file option is enabled. From Jerry Brown
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50004e00b"
>[50004e00b]</a></li>
</ul>
</dd>
<dt>2005-11-07  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Add PERLLIB, PERL5LIB and PERL5OPT to the default list of environment
variables to remove. From Charles Morris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c6d0cc87"
>[3c6d0cc87]</a></li>
</ul>
</dd>
<dt>2005-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
add JAVA_TOOL_OPTIONS to initial_badenv_table for java 5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce8f2b10e"
>[ce8f2b10e]</a></li>
</ul>
</dd>
<dt>2005-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
add PS4 and SHELLOPTS to initial_badenv_table for bash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=096a289d9"
>[096a289d9]</a></li>
</ul>
</dd>
<dt>2005-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix typo; Toby Peterson
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c3be532a"
>[2c3be532a]</a></li>
</ul>
</dd>
<dt>2005-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>tsgetgrpw.c:<br>
Make return buffers static so they don&rsquo;t get clobbered
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f75830227"
>[f75830227]</a></li>
</ul>
</dd>
<dt>2005-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/securid5.c:<br>
Fix securid5 authentication, was not checking for ACM_OK. Also add
default cases for the two switch()es. Problem noted by ccon at worldbank
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26523a7ce"
>[26523a7ce]</a></li>
</ul>
</dd>
<dt>2005-06-27  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Remove ncat() in favor of just counting bytes and pre-allocating what is
needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e86b1d74"
>[4e86b1d74]</a></li>
</ul>
</dd>
<dt>2005-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Fix up some comments Add missing fclose() for the rootbinddn case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73730b872"
>[73730b872]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
align struct ldap_config
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=380d3c8c7"
>[380d3c8c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
use LINE_MAX for max conf file line size
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76f3c652d"
>[76f3c652d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
add _PATH_LDAP_SECRET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0ac56ae6"
>[e0ac56ae6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Mention rootbinddn Give example ou=SUDOers container
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69be47579"
>[69be47579]</a></li>
</ul>
</dd>
<dt>2005-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, configure, configure.in, ldap.c:<br>
Support rootbinddn in ldap.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b30d7514"
>[3b30d7514]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.pod, sudoers.pod:<br>
Preserve DISPLAY environment variable by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f90cfbd8"
>[8f90cfbd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, configure:<br>
set need_lib_prefix=no for all cases; this is safe for LD_PRELOAD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=485fa9b66"
>[485fa9b66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, configure:<br>
set need_version=no for all cases; this is safe for LD_PRELOAD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c09bfd638"
>[c09bfd638]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8f360fd5"
>[c8f360fd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add dragonfly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ddff1113"
>[1ddff1113]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Fix call to pam_end() when pam_open_session() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d281ff77e"
>[d281ff77e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94ab74182"
>[94ab74182]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4:<br>
rebuild acsite.m4 from libtool 1.9f libtool.m4 ltoptions.m4 ltsugar.m4
ltversion.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2c030930"
>[a2c030930]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, ltmain.sh:<br>
merge in local changes: config.guess: o better openbsd support
config.sub: o hiuxmpp support ltmain.sh o remove requirement that libs
must begin with &ldquo;lib&rdquo; o don&rsquo;t print a bunch of crap about library
installs o don&rsquo;t run ldconfig
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8b3770be"
>[f8b3770be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub, ltmain.sh:<br>
libtool 1.9f
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37d8f4ee9"
>[37d8f4ee9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Update with autoupdate and make minor changes for libtool 1.9f
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95b9648ba"
>[95b9648ba]</a></li>
</ul>
</dd>
<dt>2005-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
don&rsquo;t call sudo_ldap_display_cmnd if ldap not setup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98931e0f8"
>[98931e0f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c, visudo.c:<br>
Move declatation of struct timespec to its own include files for systems
without it since it needs time_t defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2566e6b7d"
>[2566e6b7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gettime.c:<br>
Move declatation of struct timespec to its own include files for systems
without it since it needs time_t defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46230280c"
>[46230280c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fileops.c:<br>
Move declatation of struct timespec to its own include files for systems
without it since it needs time_t defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cbaca026"
>[6cbaca026]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/timespec.h:<br>
Move declatation of struct timespec to its own include files for systems
without it since it needs time_t defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad5c04c90"
>[ad5c04c90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h:<br>
Move declatation of struct timespec to its own include files for systems
without it since it needs time_t defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bb5c181b"
>[3bb5c181b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Don&rsquo;t set safe_cmnd for the &ldquo;sudo ALL&rdquo; case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9800e99ff"
>[9800e99ff]</a></li>
</ul>
</dd>
<dt>2005-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Call pam_open_session() and pam_close_session() to give pam_limits a
chance to run. Idea from Karel Zak.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3b45ae3f"
>[d3b45ae3f]</a></li>
</ul>
</dd>
<dt>2005-04-24  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, sudo.c:<br>
Add explicit cast from mode_t -&gt; u_int in printf to silence warnings on
Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7ea24f2c"
>[c7ea24f2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
include grp.h to silence a warning on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce5994d6"
>[7ce5994d6]</a></li>
</ul>
</dd>
<dt>2005-04-23  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Fix printing of += and -= defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1a095308"
>[f1a095308]</a></li>
</ul>
</dd>
<dt>2005-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Sanity check number of syscall args with argsize. Not really needed but
a little paranoia never hurts.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56d72a3b8"
>[56d72a3b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Don&rsquo;t do pointer arithmetic on void * Use int, not size_t/ssize_t for
systrace lengths (since it uses int)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95c47e7f3"
>[95c47e7f3]</a></li>
</ul>
</dd>
<dt>2005-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Add some memsets for paranoia Fix namespace collsion w/ error Check rval
of decode_args() and update_env() Remove improper setting of validated
variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe9b65308"
>[fe9b65308]</a></li>
</ul>
</dd>
<dt>2005-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.h:<br>
In -l mode, only check local sudoers file if def_ignore_sudoers is not
set and call LDAP versions from display_privs() and display_cmnd()
instead of directly from main(). Because of this we need to defer
closing the ldap connection until after -l processing has ocurred and we
must pass in the ldap pointer to display_privs() and display_cmnd().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f261a99f2"
>[f261a99f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>ldap.c:<br>
Reorganize LDAP code to better match normal sudoers parsing. Instead of
storing strings for later printing in -l mode we do another query since
the authenticating user and the user being listed may not be the same
(the new -U flag). Also add support for &ldquo;sudo -l command&rdquo;.</p>
<p>There is still a fair bit if duplicated code that can probably be
refactored.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe4f33ab9"
>[fe4f33ab9]</a></p>
</li>
</ul>
</dd>
<dt>2005-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Replace pass variable with do_netgr for better readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8cbf50a3"
>[b8cbf50a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
use DPRINTF macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f84e1b18"
>[3f84e1b18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
estrdup, not strdup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1d67a9b3"
>[f1d67a9b3]</a></li>
</ul>
</dd>
<dt>2005-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Add macro to test if the tag changed to improve readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0df82a93"
>[d0df82a93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Avoid printing defaults header if there are no defaults to print&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce7708e09"
>[ce7708e09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>glob.c:<br>
Fix a warning on systems without strlcpy().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=132a79945"
>[132a79945]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c:<br>
Use macros where possible for sudo_grdup() like sudo_pwdup().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06a11acf1"
>[06a11acf1]</a></li>
</ul>
</dd>
<dt>2005-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>utimes.c:<br>
It is possible for tv_usec to hold &gt;= 1000000 usecs so add in tv_usec /
1000000.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f057686d2"
>[f057686d2]</a></li>
</ul>
</dd>
<dt>2005-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
The component in krb5_principal_get_comp_string() should be 1, not 0 for
Heimdal. From Alex Plotnick.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d857334e6"
>[d857334e6]</a></li>
</ul>
</dd>
<dt>2005-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>alias.c, alloc.c, check.c, defaults.c, find_path.c, gram.c, gram.y,
interfaces.c, ldap.c, logging.c, match.c, mon_systrace.c, pwutil.c,
redblack.c, sudo.c, sudo.h, toke.c, toke.l, visudo.c:<br>
Add efree() for consistency with emalloc() et al. Allows us to rely on
C89 behavior (free(NULL) is valid) even on K&amp;R.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=304dc46d7"
>[304dc46d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
Move initgroups() for -U option into display_privs() so group matching
in sudoers works correctly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9efe91fa1"
>[9efe91fa1]</a></li>
</ul>
</dd>
<dt>2005-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Removed duplicate call to ldap_unbind_s introduced along with
sudo_ldap_close.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3c99d9c8"
>[e3c99d9c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Add missing space in Defaults printing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61413ca50"
>[61413ca50]</a></li>
</ul>
</dd>
<dt>2005-03-25  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Sync sudo_pwdup with OpenBSD changes: use macros for size computaton and
string copies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f78ce5517"
>[f78ce5517]</a></li>
</ul>
</dd>
<dt>2005-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Zero old pw_passwd before replacing with version from shadow file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca7c43574"
>[ca7c43574]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Only attempt shadow password detection if PAM is not being used Add
shadow_* variables to make shadow password detection more generic.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6666ca23d"
>[6666ca23d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Use OSDEFS for os-specific -D_FOO_BAR stuff rather than CPPFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a795b83d"
>[0a795b83d]</a></li>
</ul>
</dd>
<dt>2005-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
use a non-breaking space to avoid a double space after e.g.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=244eae916"
>[244eae916]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
commna, not colon after e.g.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=963ca5045"
>[963ca5045]</a></li>
</ul>
</dd>
<dt>2005-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Add __ variants of the exec functions. GNU libc at least uses __execve()
internally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00bea5e74"
>[00bea5e74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>indent.pro:<br>
Match reality a bit more.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a7ab7e63"
>[5a7ab7e63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c:<br>
Missed piece from rev. 1.6, fix sudo_getpwnam() too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb63e0168"
>[bb63e0168]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pwutil.c:<br>
Store shadow password after making a local copy of struct passwd in case
normal and shadow routines use the same internal buffer in libc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ea568c7d"
>[0ea568c7d]</a></li>
</ul>
</dd>
<dt>2005-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>alloc.c, logging.c:<br>
Make varargs usage consistent with the rest of the code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7dcda792"
>[e7dcda792]</a></li>
</ul>
</dd>
<dt>2005-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Wrap more of the exec family since on Linux the others do not appear to
go through the normal execve() path.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7362b7e98"
>[7362b7e98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
make print_unused static like proto says
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4b745759"
>[d4b745759]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>glob.c:<br>
silence a warning on K&amp;R systems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b980f9588"
>[b980f9588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, error.c:<br>
make this build in K&amp;R land
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b899b10"
>[40b899b10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
make this build in K&amp;R land
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f35ff3e32"
>[f35ff3e32]</a></li>
</ul>
</dd>
<dt>2005-03-08  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e060faa3"
>[5e060faa3]</a></li>
</ul>
</dd>
<dt>2005-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
return(foo) not return foo optimize _atobool() slightly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddb8c3d7d"
>[ddb8c3d7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Use TRUE/FALSE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=474768bd5"
>[474768bd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Reformat to match the rest of sudo&rsquo;s code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3154a75b8"
>[3154a75b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
I am the primary author
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abc10fd9a"
>[abc10fd9a]</a></li>
</ul>
</dd>
<dt>2005-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, README, RUNSON:<br>
The RUNSON file is toast&ndash;it confused too many people and really isn&rsquo;t
needed in a configure-oriented world.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5e92527c"
>[b5e92527c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
alternate -&gt; alternative
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33d0e5128"
>[33d0e5128]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Use TCSADRAIN instead of TCSAFLUSH since some OSes have issues with
TCSAFLUSH.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7facbeeed"
>[7facbeeed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Allow leading blanks before Defaults and Foo_Alias definitions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=470a4b549"
>[470a4b549]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fix rules to build toke.o and gram.o in devel mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=444b6fbf8"
>[444b6fbf8]</a></li>
</ul>
</dd>
<dt>2005-02-20  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
env_keep overrides set_logname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9805bdd7f"
>[9805bdd7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Fix disabling set_logname and make env_keep override set_logname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2791a1807"
>[2791a1807]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
No longer need memmove()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2f6b93ad"
>[c2f6b93ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c:<br>
Just clean the environment once. This assumes that any further
setenv/putenv will be able to handle the fact that we replaced environ
with our own malloc&rsquo;d copy but all the implementations I&rsquo;ve checked do.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bee8e377"
>[6bee8e377]</a></li>
</ul>
</dd>
<dt>2005-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, sudo.c:<br>
In -i mode, base the value of insert_env()&rsquo;s dupcheck flag on DID_FOO
flags. Move checks for $HOME resetting into rebuild_env()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87a8b5b48"
>[87a8b5b48]</a></li>
</ul>
</dd>
<dt>2005-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, sudo.c:<br>
Move setting of user_path, user_shell, user_prompt and prev_user into
init_vars() since user_shell at least is needed there.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74894ebf6"
>[74894ebf6]</a></li>
</ul>
</dd>
<dt>2005-02-12  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
fix devel builds
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2a517d88"
>[e2a517d88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Fix some printf format mismatches on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7068a413"
>[b7068a413]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Fix some printf format mismatches on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc84c41fb"
>[cc84c41fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, gram.c, toke.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=889a0334e"
>[889a0334e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, alias.c, alloc.c, auth/afs.c, auth/aix_auth.c,
auth/bsdauth.c, auth/dce.c, auth/fwtk.c, auth/kerb4.c, auth/kerb5.c,
auth/pam.c, auth/passwd.c, auth/rfc1938.c, auth/secureware.c,
auth/securid.c, auth/securid5.c, auth/sia.c, auth/sudo_auth.c,
auth/sudo_auth.h, check.c, closefrom.c, compat.h, configure.in,
defaults.c, defaults.h, emul/utime.h, env.c, error.c, fileops.c,
find_path.c, getprogname.c, getspwuid.c, gettime.c, goodpath.c, gram.y,
interfaces.c, interfaces.h, ldap.c, logging.c, logging.h, match.c,
mon_systrace.c, parse.c, redblack.c, redblack.h, set_perms.c,
sigaction.c, snprintf.c, strcasecmp.c, strerror.c, strlcat.c, strlcpy.c,
sudo.c, sudo.h, sudo.pod, sudo_edit.c, sudo_noexec.c, sudoers.pod,
testsudoers.c, tgetpass.c, toke.l, utimes.c, version.h, visudo.c,
visudo.pod, zero_bytes.c:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=778d58706"
>[778d58706]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary.in:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd0c93bbe"
>[fd0c93bbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
Update copyright years.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f02f4b428"
>[f02f4b428]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, INSTALL, INSTALL.binary, Makefile.in, README, configure.in:<br>
version 1.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd6a11b81"
>[cd6a11b81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>WHATSNEW:<br>
What&rsquo;s new in sudo 1.7, based on the 1.7 CHANGES entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93cc79642"
>[93cc79642]</a></li>
</ul>
</dd>
<dt>2005-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h, logging.h, sudo.h:<br>
Add __printflike and use it with gcc to warn about printf-like format
mismatches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3b65fb7f"
>[b3b65fb7f]</a></li>
</ul>
</dd>
<dt>2005-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, ChangeLog:<br>
Replaced CHANGES file with ChangeLog generated from cvs logs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d74dc1de"
>[8d74dc1de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
Use warning/error instead of perror/fatal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31968c368"
>[31968c368]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess:<br>
Update OpenBSD section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b48e0dc4"
>[2b48e0dc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
Add upgrading noted for 1.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a50e709a3"
>[a50e709a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c, sudoers.pod:<br>
Instead of zeroing out the environment, just prune out entries based on
the env_delete and env_check lists. Base building up the new environment
on the current environment and the variables we removed initially.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab2e7bc26"
>[ab2e7bc26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo.c:<br>
Set locale to &ldquo;C&rdquo; if locales are supported, just to be safe.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b315c10d"
>[0b315c10d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
Castargument to ctype functions to unsigned char.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab2439a44"
>[ab2439a44]</a></li>
</ul>
</dd>
<dt>2005-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
correct value for DID_USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f015a51b9"
>[f015a51b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>error.c, fnmatch.c, getcwd.c, glob.c, snprintf.c:<br>
#include &lt;compat.h&gt; not &ldquo;compat.h&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b950f2807"
>[b950f2807]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
Reset the environment by default.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=280540521"
>[280540521]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Alloc an extra slot in NewArgv. Removes the need to malloc an new vector
if execve() fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d27f06b5f"
>[d27f06b5f]</a></li>
</ul>
</dd>
<dt>2005-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in, sudo.c:<br>
Use execve(2) and wrap the command in sh if we get ENOEXEC.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a890467a"
>[9a890467a]</a></li>
</ul>
</dd>
<dt>2005-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Only include time.h on systems that lack struct timespec which gets
defind in compat.h (using time_t).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cea03b5e8"
>[cea03b5e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Include time.h for time_t in compat.h for systems w/o struct timespec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90d2f5f50"
>[90d2f5f50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
use bcopy on systems w/o memmove
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f780611c3"
>[f780611c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
<strong>attribute</strong>((<strong>unused</strong>)) doesn&rsquo;t work in gcc 2.7.2.1 so limit its use
to gcc &gt;= 2.8.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f0c64f67"
>[8f0c64f67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add explicit rule to build sudo_noexec.lo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=550e8f5a5"
>[550e8f5a5]</a></li>
</ul>
</dd>
<dt>2005-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.configure, Makefile.in:<br>
No longer depend on VPATH; pointed out a bunch of missed dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c20f64d2f"
>[c20f64d2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Help for PAM when account section is missing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2f7e61ff"
>[b2f7e61ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Give user a clue when there is a missing &ldquo;account&rdquo; section in the PAM
config.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6548e82f2"
>[6548e82f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Better error handling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f51aa1a"
>[e6f51aa1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Move _FOO_SOURCE to CPPFLAGS so it takes effect as early as possible.
Silences a warning about isblank() on linux.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e166c1b11"
>[e166c1b11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Fix typo (missing comma) that caused an incorrect number of args to be
passed to log_error().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7adbaddc"
>[f7adbaddc]</a></li>
</ul>
</dd>
<dt>2005-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c:<br>
Don&rsquo;t try to destroy a tree we didn&rsquo;t create.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=543fe6e7d"
>[543fe6e7d]</a></li>
</ul>
</dd>
<dt>2005-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>alias.c, alloc.c, auth/afs.c, auth/aix_auth.c, auth/bsdauth.c,
auth/dce.c, auth/fwtk.c, auth/kerb4.c, auth/kerb5.c, auth/pam.c,
auth/passwd.c, auth/rfc1938.c, auth/secureware.c, auth/securid.c,
auth/securid5.c, auth/sia.c, auth/sudo_auth.c, check.c, closefrom.c,
compat.h, defaults.c, env.c, error.c, fileops.c, find_path.c, fnmatch.c,
getcwd.c, getprogname.c, getspwuid.c, gettime.c, goodpath.c, gram.c,
gram.y, interfaces.c, ldap.c, logging.c, match.c, mon_systrace.c,
parse.c, pwutil.c, set_perms.c, sigaction.c, snprintf.c, strcasecmp.c,
strerror.c, strlcat.c, strlcpy.c, sudo.c, sudo_edit.c, sudo_noexec.c,
testsudoers.c, tgetpass.c, toke.c, toke.l, utimes.c, visudo.c,
zero_bytes.c:<br>
Add __unused to rcsids
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b8b88407"
>[3b8b88407]</a></li>
</ul>
</dd>
<dt>2005-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix error message when mixing invalid auth types
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2dad169f"
>[c2dad169f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
PAM, AIX auth, BSD auth and login_cap are now on by default if the OS
supports them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f751d934d"
>[f751d934d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.h, config.h.in:<br>
s/HAVE_AUTHENTICATE/HAVE_AIXAUTH/g
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dc559bf3"
>[2dc559bf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Better checking for conflicting authentication methods Display the
authentication methods used at the end of configure Rename
&ndash;with-authenticate -&gt; &ndash;with-aixauth Use &ndash;with-aixauth,
&ndash;with-bsdauth, &ndash;with-pam, &ndash;with-logincap by default on systems that
support them unless disabled. Add OSMAJOR variable that replaces old
OSREV; now OSREV has full version number
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=609a615f8"
>[609a615f8]</a></li>
</ul>
</dd>
<dt>2005-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.in, sudo.c, sudoers.pod:<br>
s/-O/-C/
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=840d51a16"
>[840d51a16]</a></li>
</ul>
</dd>
<dt>2005-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>configure.in:<br>
Replace: test -n &ldquo;$FOO&rdquo; || FOO=&ldquo;bar&rdquo;</p>
<p>With: : ${FOO=&lsquo;bar&rsquo;}
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e8e96346"
>[2e8e96346]</a></p>
</li>
</ul>
</dd>
<dt>2005-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>pwutil.c, testsudoers.c, tsgetgrpw.c:<br>
Use function pointers to only call private passwd/group routines when
using a nonstandard passwd/group file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ca844890"
>[7ca844890]</a></li>
</ul>
</dd>
<dt>2005-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7f2e2a19"
>[e7f2e2a19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tsgetgrpw.c:<br>
Can&rsquo;t use strtok() since it doesn&rsquo;t handle empty fields so add
getpwent()/getgrent() functions and call those.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8c4e2770"
>[b8c4e2770]</a></li>
</ul>
</dd>
<dt>2005-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix dummied out toke.c and gram.c dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fd0f3d4c"
>[2fd0f3d4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Rename PARSESRCS -&gt; GENERATED since it is only used in the clean target
Add devdir variable and use it to specify the path to parser sources
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba001795e"
>[ba001795e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=031a3ef55"
>[031a3ef55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add a devdir variables that defaults to $(srcdir) and is set to . if
&ndash;devel was specified. Allows for proper dependecies building the
parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fb59a25c"
>[1fb59a25c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Add support for custom passwd/group files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e475c85b"
>[5e475c85b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Build private copy of pwutil.o for testsudoers with MYPW defined so it
uses our own passwd/group routines.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66773d1b6"
>[66773d1b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Remove sudo_<em>{pw,gr}</em> stubs and add sudo_setspent/sudo_endspent stubs
instead. We can now just use the caching sudo_<em>{pw,gr}</em> functions in
pwutil.c Add comment about wanting to call sudo_endpwent/sudo_endgrent
in cleanup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab0ad244"
>[0ab0ad244]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tsgetgrpw.c:<br>
Remove caching; we will just use what is in pwutil.c Use global buffers
for passwd/group structs Rename functions from sudo_* to my_*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13cc08779"
>[13cc08779]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c:<br>
g/c pwcache_init/pwcache_destroy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfccf1933"
>[dfccf1933]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Undo last commit and add sudo_setspent and sudo_endspent instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54db5e40b"
>[54db5e40b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, pwutil.c:<br>
Move all but the shadow stuff from getspwuid.c to pwutil.c and
pwcache_get and pwcache_put as they are no longer needed. Also add
preprocessor magic to use private versions of the passwd and group
routines if MYPW is defined (for use by testsudoers).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=308b6fa11"
>[308b6fa11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tsgetgrpw.c:<br>
zero out struct passwd/group before filling it in so if there are fields
we don&rsquo;t handle they end up as 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=516ff2977"
>[516ff2977]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c, sudo.h, testsudoers.c, visudo.c:<br>
Adapt to pwutil.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5d9296d2"
>[a5d9296d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add tsgetgrpw.c and pwutil.c Rename the *OBJ variables for better
readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c58acdc0"
>[3c58acdc0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tsgetgrpw.c:<br>
Passwd and group lookup routines for testsudoers that support alternate
passwd and group files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31fd279da"
>[31fd279da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, pwutil.c:<br>
Split off pw/gr cache and dup code into its own file. This allows visudo
and testsudoers to use the pw/gr cache too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=282c0bf36"
>[282c0bf36]</a></li>
</ul>
</dd>
<dt>2005-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Print Defaults info in &ldquo;sudo -l&rdquo; output and wrap lines based on the
terminal width.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed4df3a94"
>[ed4df3a94]</a></li>
</ul>
</dd>
<dt>2005-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c, testsudoers.c, visudo.c:<br>
Only check group vector in usergr_matches() if we are matching the
invoking or list user. Always check the group members, even if there was
a group vector.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a58012cff"
>[a58012cff]</a></li>
</ul>
</dd>
<dt>2004-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, Makefile.in, fnmatch.3:<br>
No longer bundle fnmatch.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39ddb7716"
>[39ddb7716]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e05905dd1"
>[e05905dd1]</a></li>
</ul>
</dd>
<dt>2004-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
sort usage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb76440b4"
>[bb76440b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Sort command line options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b1ef8ff5"
>[0b1ef8ff5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, defaults.c, logging.c, sudo.c,
sudo.pod, sudoers.pod:<br>
Add closefrom sudoers option to start closing at a point other than 3.
Add closefrom_override sudoers option and -C sudo flag to allow the user
to specify a different closefrom starting point.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051a2110a"
>[051a2110a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
Add _PATH_DEVNULL for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74c19b024"
>[74c19b024]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
no more UCB strcasecmp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c9dc5a69"
>[2c9dc5a69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strcasecmp.c:<br>
replace BSD licensed one with version derived from pdksh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9a727023"
>[b9a727023]</a></li>
</ul>
</dd>
<dt>2004-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Fix last commit.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f93cd1e97"
>[f93cd1e97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Make sure stdin, stdout and stderr are open and dup them to /dev/null if
not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07d74adfb"
>[07d74adfb]</a></li>
</ul>
</dd>
<dt>2004-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c, mon_systrace.c, sudo.c, sudo.h:<br>
add sudo_ldap_close
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1936aeb29"
>[1936aeb29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fileops.c, gettime.c, sudo.c, sudo_edit.c, utimes.c, visudo.c:<br>
Use TIME_WITH_SYS_TIME
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d488657f"
>[7d488657f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add TIME_WITH_SYS_TIME_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9884923a9"
>[9884923a9]</a></li>
</ul>
</dd>
<dt>2004-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Add missing braces to avoid DYLD_FORCE_FLAT_NAMESPACE being set
unconditionally on darwin. From Toby Peterson.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48dae86b8"
>[48dae86b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>getspwuid.c:<br>
Check rbinsert() return value. In the case of faked up entries there is
usually a negative response cached that we need to overwrite.</p>
<p>In pwfree() don&rsquo;t try to zero out a NULL pw_passwd pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77a7ab659"
>[77a7ab659]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Use the double fork trick to avoid the monitor process being waited for
by the main program run through sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d88e6523a"
>[d88e6523a]</a></li>
</ul>
</dd>
<dt>2004-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Call initgroups() in -U mode so group matches work normally.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68e54d2c8"
>[68e54d2c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.h, mkdefaults:<br>
Don&rsquo;t print a trailing comma for the last entry in enum def_tupple
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51fbe264f"
>[51fbe264f]</a></li>
</ul>
</dd>
<dt>2004-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Mention values when lecture, listpw and verifypw are used in boolean
context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c8844142"
>[9c8844142]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.in:<br>
verifypw when used in a boolean TRUE context should be &ldquo;all&rdquo;, not &ldquo;any&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5c359ee0"
>[f5c359ee0]</a></li>
</ul>
</dd>
<dt>2004-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.in, defaults.c:<br>
Allow tuples that can be used as booleans to be used as boolean TRUE. In
this case the 2nd possible value of the tuple is used for TRUE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57ab7279b"
>[57ab7279b]</a></li>
</ul>
</dd>
<dt>2004-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Correct the test for 2-parameter timespecsub
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ed367de8"
>[8ed367de8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add strub struct definitions for passwd, timeval and timespec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d72a4e9c2"
>[d72a4e9c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo_edit.c, visudo.c:<br>
Add check for 2-argument form of timespecsub (FreeBSD and BSD/OS) and
fix a typo in the gettimeofday check.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33db4b2ed"
>[33db4b2ed]</a></li>
</ul>
</dd>
<dt>2004-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c, testsudoers.c:<br>
Deal with user_stat being NULL as it is for visudo and testsudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94f606fbf"
>[94f606fbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.cat, sudo.h, sudo.man.in, sudo.pod:<br>
Add -U option to use in conjunction with -l instead of -u. Add support
for &ldquo;sudo -l command&rdquo; to test a specific command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f06b19a6"
>[5f06b19a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.y, sudo.c:<br>
Set safe_cmnd after sudoers_lookup() if it has not been set. Previously
it was set by sudo &ldquo;ALL&rdquo; in the parser but at that point the
fully-qualified pathname has not yet been found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f75a034f0"
>[f75a034f0]</a></li>
</ul>
</dd>
<dt>2004-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, testsudoers.c:<br>
Correctly handle multiple privileges per userspec and runas inheritence.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c526bdc3"
>[9c526bdc3]</a></li>
</ul>
</dd>
<dt>2004-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
Zero out sd_un for each entry in sudo_defs_table in init_defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2bdbda17"
>[f2bdbda17]</a></li>
</ul>
</dd>
<dt>2004-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>toke.c, toke.l:<br>
make per-command defaults work with sudoedit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77cd81f41"
>[77cd81f41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, parse.c, sudo.c, sudo.h:<br>
Remove the FLAG_NOPASS, FLAG_NOEXEC and FLAG_MONITOR flags. Instead, we
just set the approriate defaults variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e60507014"
>[e60507014]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers, sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Document per-command Defaults.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c954d803"
>[9c954d803]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h, gram.c, gram.h, gram.y, mon_systrace.c, sudo.c,
testsudoers.c, toke.c, toke.l, visudo.c:<br>
Add support for command-specific Defaults entries. E.g.
Defaults!/usr/bin/vi noexec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe869025c"
>[fe869025c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, match.c, parse.c, parse.h, testsudoers.c:<br>
Change an occurence of user_matches() -&gt; runas_matches() missed
previously runas_matches(), host_matches() and cmnd_matches() only
really need to pass in a list of members. user_matches() still needs to
pass in a passwd struct because of &ldquo;sudo -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cddfc368"
>[0cddfc368]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Check def_authenticate, def_noexec and def_monitor when setting return
flags. XXX May be better to just set the defaults directly and get rid
of those flags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c3cff170"
>[2c3cff170]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alias.c, alloc.c, auth/afs.c, auth/aix_auth.c, auth/bsdauth.c,
auth/dce.c, auth/fwtk.c, auth/kerb4.c, auth/kerb5.c, auth/pam.c,
auth/passwd.c, auth/rfc1938.c, auth/secureware.c, auth/securid.c,
auth/securid5.c, auth/sia.c, auth/sudo_auth.c, check.c, closefrom.c,
defaults.c, env.c, error.c, fileops.c, find_path.c, fnmatch.c, getcwd.c,
getprogname.c, getspwuid.c, gettime.c, glob.c, goodpath.c, gram.c,
gram.y, interfaces.c, ldap.c, logging.c, match.c, mon_systrace.c,
parse.c, redblack.c, set_perms.c, snprintf.c, strcasecmp.c, strerror.c,
strlcat.c, strlcpy.c, sudo.c, sudo_edit.c, sudo_noexec.c, testsudoers.c,
tgetpass.c, toke.c, toke.l, utimes.c, visudo.c, zero_bytes.c:<br>
Use: #include &lt;config.h&gt; Not: #include &ldquo;config.h&rdquo; That way we get the
correct config.h when build dir != src dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c2daa8ec"
>[2c2daa8ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Back out part of rev 1.263; fix -I order
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb60da6bb"
>[bb60da6bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c, toke.l:<br>
More robust parsing if #include; could be much better still.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faa9a8972"
>[faa9a8972]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c, visudo.c:<br>
Make arg splitting in visudo and sudoedit consistent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a78b9194"
>[6a78b9194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, alias.c, gram.c, gram.y, parse.h:<br>
Split alias routines out into their own file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07139128f"
>[07139128f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>error.h:<br>
<strong>attribute</strong> is already defined in compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55d6af846"
>[55d6af846]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
quit() should not be <strong>noreturn</strong> as it is non-void on some platforms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f9ee04fb"
>[3f9ee04fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/fwtk.c, auth/rfc1938.c, auth/securid.c, auth/securid5.c:<br>
Add local error/warning functions like err/warn but that call an
additional cleanup routine in the error case. This means we no longer
need to compile a special version of alloc.o for visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a414762c4"
>[a414762c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
Clarify comments about the data structures
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f38c58574"
>[f38c58574]</a></li>
</ul>
</dd>
<dt>2004-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Add support for VISUAL and EDITOR containing command line args. If
env_editor is not set any args in VISUAL and EDITOR are ignored.
Arguments are also now supported in def_editor.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75ad6b81a"
>[75ad6b81a]</a></li>
</ul>
</dd>
<dt>2004-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.h:<br>
alias_matches() is no more
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf02ff7f5"
>[cf02ff7f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e71bf81a"
>[0e71bf81a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
When regenerating the parser, don&rsquo;t replace gram.h unless it has
changed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81f558732"
>[81f558732]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
remove Makefile.binary for distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=761695f32"
>[761695f32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Preserve KRB5CCNAME in zero_env() and add a paranoia check to make sure
we can&rsquo;t overflow new_env.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2ef18bbd"
>[b2ef18bbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
paranoia when stripping trailing slashes from tempdir.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88ce50751"
>[88ce50751]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Set user_ngroups to 0 if getgroups() returns an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d427384ae"
>[d427384ae]</a></li>
</ul>
</dd>
<dt>2004-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo.c:<br>
Add configure check for getgroups()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f282ba1"
>[f7f282ba1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Use supplementary group vector in struct sudo_user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc85c6f02"
>[fc85c6f02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Only do string comparisons on the group members if there is no
supplemental group list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=596d1ef5a"
>[596d1ef5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfbf7768f"
>[cfbf7768f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
On Digital UNIX _PATH_VAR_TMP doesn&rsquo;t end with a trailing slash so chop
off any trailing slashes we see and add an explicit one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=900db20f7"
>[900db20f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
remove bogus XXX comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ed255795"
>[0ed255795]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Get rid of alias_matches and correctly fall through to the non-alias
cases when there is no alias with the specified name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e97ace97"
>[3e97ace97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
Cache non-existent passwd/group entries too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4620e8fa6"
>[4620e8fa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7679efc43"
>[7679efc43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8680307db"
>[8680307db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, getspwuid.c, glob.c, ldap.c, logging.c, match.c,
mon_systrace.h, sudo.c, sudo.h, testsudoers.c, visudo.c:<br>
Implement group caching and use the passwd and group caches throughout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9846e562a"
>[9846e562a]</a></li>
</ul>
</dd>
<dt>2004-11-15  Todd C. Miller</dt>
<dd>
<ul>
<li>match.c:<br>
Properly negate the return value of alias_matches() when appropriate.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd46c2c3e"
>[fd46c2c3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Make hostname_matches() return TRUE for a match, else FALSE like the
caller expects.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61ba998ee"
>[61ba998ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add missing dependencies on gram.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf356ed80"
>[cf356ed80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Use runas_matches in alias_matches() now that we have it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=814103ee2"
>[814103ee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h:<br>
Expand aliases in &ldquo;sudo -l&rdquo; mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74169a83e"
>[74169a83e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y, match.c:<br>
Use ALIAS for the member type when storing an alias instead of
HOSTALIAS/RUNASALIAS/CMNDALIAS/USERALIAS since match.c relies on the
more generic type. Expand runas_matches instead of calling
user_matches() inside of it since user_matches() looks up USERALIASes,
not RUNASALIASes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d076091ab"
>[d076091ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, getspwuid.c:<br>
Paranoia; zero out pw_passwd before freeing passwd entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77cb1b56a"
>[77cb1b56a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, Makefile.in, alloc.c, check.c, config.h.in, configure,
configure.in, defaults.c, emul/err.h, env.c, err.c, error.c, error.h,
find_path.c, interfaces.c, logging.c, mon_systrace.c, sudo.c, sudo.h,
sudo_edit.c, testsudoers.c, visudo.c:<br>
Add local error/warning functions like err/warn but that call an
additional cleanup routine in the error case. This means we no longer
need to compile a special version of alloc.o for visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51375f969"
>[51375f969]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
Use userpw_matches() to compare usernames, not strcmp(), since the
latter checks for &ldquo;#uid&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=244eec5cd"
>[244eec5cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, mon_systrace.c, mon_systrace.h, sudo.c:<br>
Cache passwd db entries in 2 reb-black trees; one indexed by uid, the
other by user name. The data returned from the cache should be
considered read-only and is destroyed by sudo_endpwent().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae2e26fd2"
>[ae2e26fd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
add cast to uid_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99158cc7e"
>[99158cc7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.y:<br>
missing free in alias_destroy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ee6d6815"
>[7ee6d6815]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>redblack.c:<br>
Can&rsquo;t use rbapply() for rbdestroy since the destructor is passed a data
pointer, not a node pointer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec431b4e3"
>[ec431b4e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, logging.c, sudo.c, sudo.h:<br>
Create and use private versions of setpwent() and endpwent() that
set/end the shadow password file too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b34123a8"
>[0b34123a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.h, gram.y, match.c, parse.h, testsudoers.c, visudo.c:<br>
Store aliases in a red-black tree.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e26e40df8"
>[e26e40df8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, redblack.c, redblack.h:<br>
red-black tree implementation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72c6f3ba9"
>[72c6f3ba9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Edit all sudoers file if there were unused or undefined aliases and we
are in strict mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3839f1bf"
>[f3839f1bf]</a></li>
</ul>
</dd>
<dt>2004-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, def_data.c, def_data.h, def_data.in, defaults.c, env.c,
find_path.c, sudoers.cat, sudoers.man.in, sudoers.pod, visudo.c:<br>
Bring back the &ldquo;secure_path&rdquo; Defaults option now that Defaults take
effect before the path is searched.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a768dbc34"
>[a768dbc34]</a></li>
</ul>
</dd>
<dt>2004-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c, parse.c:<br>
A user can always list their own entries, even with -u. Better error
message when failing to list another user&rsquo;s entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=541908f1b"
>[541908f1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.h:<br>
The syntax to list another user&rsquo;s entries is now &ldquo;-u otheruser -l&rdquo;. Only
root or users with sudo &ldquo;ALL&rdquo; may list other user&rsquo;s entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a239e60a6"
>[a239e60a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod:<br>
Update env variable info in SECURITY NOTES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85d1ca15a"
>[85d1ca15a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
strip CDPATH too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=74b4e439a"
>[74b4e439a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
strip exported bash functions from the environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=482526bde"
>[482526bde]</a></li>
</ul>
</dd>
<dt>2004-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Only reset sudo_user.pw based on SUDO_USER environment variables for
real commands and sudoedit. This avoids a confusing message when a user
tries &ldquo;sudo -l&rdquo; or &ldquo;sudo -v&rdquo; and is denied.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29fc2c947"
>[29fc2c947]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.y, parse.h:<br>
Extend LIST_APPEND to deal with appending lists too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ac791557"
>[8ac791557]</a></li>
</ul>
</dd>
<dt>2004-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
Convert some bitwise AND to ISSET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=454998066"
>[454998066]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.c:<br>
toke.c replaces lex.yy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7062fd28f"
>[7062fd28f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d7ccde4"
>[b1d7ccde4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
new parser fixes most of the outstanding bugs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3d8a1160"
>[f3d8a1160]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5744a0bfd"
>[5744a0bfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Rework for the new parser. Now checks for unused aliases in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c1da58a8"
>[2c1da58a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Rewrite for the new parser. Now supports a -d flag (dump) and adds a -h
flag (host). It now defaults to the local hostname unless otherwise
specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=987d5cf81"
>[987d5cf81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add new prototypes. Remove NOMATCH/UNSPEC (now in parse.h)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e392b4d11"
>[e392b4d11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Update for new parse. We now call find_path() <em>after</em> we have updated
the global defaults based on sudoers. Also adds support for listing
other user&rsquo;s privs if you are root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efbc9997a"
>[efbc9997a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Working LDAP support; also remove a now-unneeded rewind().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce4b69f8b"
>[ce4b69f8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, logging.h:<br>
Add NO_STDERR flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=899e22194"
>[899e22194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Split sudo_ldap_check() into three pieces: sudo_ldap_open(),
udo_ldap_update_defaults() and sudo_ldap_check(). This allows us to
connecto to LDAP, apply the default options, find the command in the
user&rsquo;s path, and then check whether the user is allowed to run it. The
important thing here is that the default runas user may be specified as
a default option and that needs to be set before we search for the
command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c5550d13"
>[6c5550d13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
Add casts to unsigned char for isspace() to quiet a gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0de1515d0"
>[0de1515d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.h:<br>
Add prototype for update_defaults()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c14a9998"
>[9c14a9998]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
Don&rsquo;t warn about line numbers now that we operate on a set of data
structures (or LDAP) and not a file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50e00d2b0"
>[50e00d2b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
No long use lsearch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba12600db"
>[ba12600db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Update for new and changed file names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e777eb9dd"
>[e777eb9dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
no more BSD lsearch.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=306734c6b"
>[306734c6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>match.c:<br>
foo_matches() routines now live in match.c Added user_matches(),
runas_matches(), host_matches(), cmnd_matches() and alias_matches() that
operate on the parsed sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56e8b2fcf"
>[56e8b2fcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>toke.l:<br>
Move parse.lex -&gt; toke.l Rename buffer_frob() -&gt; switch_buffer() WORD
no longer needs to exclude &lsquo;@&rsquo; kill yywrap()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d1e360e8"
>[2d1e360e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gram.c, gram.h, gram.y, parse.c, parse.h, parse.yacc, sudo.tab.c:<br>
Rewritten parser that converts sudoers into a set of data structures.
This eliminates ordering issues and makes it possible to apply sudoers
Defaults entries before searching for the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5becc0385"
>[5becc0385]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in, emul/search.h, lsearch.c:<br>
We won&rsquo;t be using lsearch() any longer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6725bb2e5"
>[6725bb2e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
sudo should not send mail if someone who runs &lsquo;sudo -l&rsquo; has no entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7d7a3d5f"
>[f7d7a3d5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8204723c8"
>[8204723c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
Update warnings to match new visudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae0a788d9"
>[ae0a788d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
The new parser doesn&rsquo;t have the old ordering constraints.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7479ce1e"
>[b7479ce1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Document that -l now takes an optional username argument
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92d0954bc"
>[92d0954bc]</a></li>
</ul>
</dd>
<dt>2004-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
AIX 5.2.0.0 works
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17bb4b138"
>[17bb4b138]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>ldap.c:<br>
If LDAP_OPT_SUCCESS is not defined, use LDAP_SUCCESS instead. Fixes a
compilation problem with Solaris 9&rsquo;s native LDAP.</p>
<p>Set FLAG_MONITOR when needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66992e10e"
>[66992e10e]</a></p>
</li>
</ul>
</dd>
<dt>2004-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Call sudo_goodpath() <em>after</em> changing the cwd to match the traced
process. Fixes relative paths.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c91a5814"
>[2c91a5814]</a></li>
</ul>
</dd>
<dt>2004-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>testsudoers.c:<br>
Kill set_perms() stub&ndash;it is no longer needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9e4426cb"
>[d9e4426cb]</a></li>
</ul>
</dd>
<dt>2004-10-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
stay_setuid now requires set_reuid() or setresuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e455f848a"
>[e455f848a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, PORTING, TROUBLESHOOTING, config.h.in, configure, configure.in,
set_perms.c, sudo.c, sudo.h:<br>
Kill use of POSIX saved uids; they aren&rsquo;t worth bothering with.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48cdd1dec"
>[48cdd1dec]</a></li>
</ul>
</dd>
<dt>2004-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>glob.c:<br>
remove call to issetugid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55e1b220e"
>[55e1b220e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Remove warning about wildcards. Now that we use glob() the bug is fixed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d56b543a1"
>[d56b543a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Use glob(3) instead of fnmatch(3) for matching pathnames and stat each
result that matches the basename of the user&rsquo;s command. This makes &ldquo;cd
/usr/bin ; sudo ./blah&rdquo; work when sudoers allows /usr/bin/blah. Fixes
bug #143.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b06f3e81"
>[1b06f3e81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Define HAVE_EXTENDED_GLOB for extended glob (GLOB_TILDE and GLOB_BRACE)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=082b0f8b3"
>[082b0f8b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Check for a glob() that supports GLOB_BRACE and GLOB_TILDE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e05c8441e"
>[e05c8441e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
reference glob
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b19c6c4e9"
>[b19c6c4e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>glob.c:<br>
4.4BSD glob(3) with fixes from OpenBSD and some unneeded extensions
removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50ed391d1"
>[50ed391d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/glob.h:<br>
4.4BSD glob(3) with fixes from OpenBSD and some unneeded extensions
removed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ef398856"
>[1ef398856]</a></li>
</ul>
</dd>
<dt>2004-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Just return if STRIOCINJECT or STRIOCREPLACE fail. It probably means we
are out of space in the stack gap&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=163994c11"
>[163994c11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3367a715"
>[a3367a715]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Take a stab at ldap sudoers support here.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7d63df1f"
>[a7d63df1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Detach from tracee on SIGHUP, SIGINT and SIGTERM. Now &ldquo;sudo reboot&rdquo;
doesn&rsquo;t cause reboot to inadvertanly kill itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=385dfb269"
>[385dfb269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
put &ldquo;monitor&rdquo; in the proctitle, not &ldquo;systrace&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e2fb232a"
>[6e2fb232a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
When modifying the environment, don&rsquo;t replace envp when we can get away
with just rewriting pointers in the traced process.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f01c983f1"
>[f01c983f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Add environment updating via STRIOCINJECT (if available).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc368b59f"
>[dc368b59f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c259f8b4"
>[5c259f8b4]</a></li>
</ul>
</dd>
<dt>2004-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30f4a9c13"
>[30f4a9c13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Fix bug introduced in unput() removal; want yyless(0) not yyless(1)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e36fc441"
>[7e36fc441]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Include file is now mon_systrace.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7e43093e"
>[d7e43093e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in, def_data.c, def_data.h,
def_data.in, lex.yy.c, parse.c, parse.h, parse.lex, parse.yacc, sudo.c,
sudo.h, sudo.tab.c, sudo.tab.h, sudoers.pod:<br>
No longer call it tracing, it is now &ldquo;monitoring&rdquo; which should be more a
obvious name to non-hackers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c8145a92"
>[3c8145a92]</a></li>
</ul>
</dd>
<dt>2004-10-01  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Fix some XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eb4895b5"
>[5eb4895b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>mon_systrace.c, mon_systrace.h:<br>
No need to include syscall.h, use 1024 as the max # of entries (the max
that systrace(4) allows).</p>
<p>Only need to use SYSTR_POLICY_ASSIGN once</p>
<p>Change check_syscall() -&gt; find_handler() and have it return the handler
instead of just running it. We need this since handler now have two
parts: one part that generates and answer and another that gets called
after the answer is accepted (to do logging).</p>
<p>Add some missing check_exec for emul execv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e173a07c8"
>[e173a07c8]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>sample.pam, sample.sudoers, sample.syslog.conf, sudoers:<br>
Add $Sudo$ tags.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebf22ee97"
>[ebf22ee97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add missing HAVE_LINUX_SYSTRACE_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0035b30f9"
>[0035b30f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add trace_systrace.o dependency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d94975937"
>[d94975937]</a></li>
</ul>
</dd>
<dt>2004-09-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Also look for systrace.h in /usr/include/linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f338fd77"
>[6f338fd77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Move all struct defs and prototypes into trace_systrace.h and mark all
but systace_attach() static.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7edec1990"
>[7edec1990]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c, mon_systrace.h:<br>
Add support for tracing emulations. At the moment, all emulations are
compiled in. It might make sense to #ifdef them in the future, though
this impeeds readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33badbaea"
>[33badbaea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
rename systrace.c -&gt; trace_systrace.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cfa16a77"
>[2cfa16a77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Allow this to build with a K&amp;R compiler again
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fa20c570"
>[6fa20c570]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c15884b2"
>[9c15884b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, sudo.c, visudo.c:<br>
Use <strong>attribute</strong>((<strong>noreturn</strong>))
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a3302598"
>[8a3302598]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Exit() takes a negative value to indicate it was not called via signal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e65afba3"
>[1e65afba3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abc7ac8ee"
>[abc7ac8ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, visudo.c:<br>
Define Err() and Errx() that are like err() and errx() but call Exit()
instead of exit(). Build private copy of alloc.o for visudo that calls
Err() and Errx().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b020f999"
>[2b020f999]</a></li>
</ul>
</dd>
<dt>2004-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5d2fbb77"
>[b5d2fbb77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfaf67451"
>[bfaf67451]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>visudo.c:<br>
Overhaul visudo for editing multiple files: o visudo has been broken out
into functions (more work needed here) o each file is now edited before
sudoers is re-parsed o if a #include line is added that file will be
edited too</p>
<p>TODO: o cleanup temp files when exiting via err() or errx() o continue
breaking things out into separate functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2ae53323"
>[f2ae53323]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, sudo.c, sudo.h, testsudoers.c, visudo.c:<br>
Add keepopen arg to open_sudoers that open_sudoers can use to indicate
to the caller that the fd should not be closed when it is done with it.
To be used by visudo to keep locked fds from being closed prematurely
(and thus losing the lock).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbcb60b18"
>[cbcb60b18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.c:<br>
Add errorfile global that contains the name of the file that caused the
error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9b23cdee"
>[e9b23cdee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
return COMMENT to yacc grammar for a #include line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8f41d69a"
>[f8f41d69a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Remove us of unput() in favor of yyless() which is cheaper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72894e693"
>[72894e693]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Allow an empty sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e975fafe"
>[9e975fafe]</a></li>
</ul>
</dd>
<dt>2004-09-28  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
Rewind sudoers_fp now that sudoers_lookup() doesn&rsquo;t do it for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27e83bacb"
>[27e83bacb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4b1891e0"
>[f4b1891e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Do signal setup before calling edit_sudoers(). Don&rsquo;t shadow the &ldquo;quiet&rdquo;
global.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34269049b"
>[34269049b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
If a sudoers file includes other files, edit those too. Does not yes
deal with creating the new includes files itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97d800c91"
>[97d800c91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
init_parser now takes a path
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01212e4eb"
>[01212e4eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h, parse.lex, parse.yacc:<br>
More scaffolding for dealing with multiple sudoers files: o
init_parser() now takes a path used to populate the sudoers global o the
sudoers global is used to print the correct file in yyerror() o when
switching to a new sudoers file, perserve old file name and line number
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db2a97fd0"
>[db2a97fd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, pathnames.h.in:<br>
Kill _PATH_SUDOERS_TMP; it is not meaningful now that we can have
multiple sudoers files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b99ad3ee2"
>[b99ad3ee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
Rewind sudoers_fp in open_sudoers() instead of sudoers_lookup() so we
start at the right file position when reading include files.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b75a0334"
>[4b75a0334]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document #include
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbb62c680"
>[fbb62c680]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aa29b5f2"
>[4aa29b5f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>parse.lex:<br>
Add max depth of 128 for the include stack to avoid loops.</p>
<p>Since yyerror() doesn&rsquo;t stop parsing, pass return values back to yylex
and call yyterminate() on error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c039eac9"
>[8c039eac9]</a></p>
</li>
</ul>
</dd>
<dt>2004-09-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
document tracing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1f1af2bc"
>[d1f1af2bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Mention PREVENTING SHELL ESCAPES section of sudoers man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a79c3af48"
>[a79c3af48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=741177ad1"
>[741177ad1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Add support for #include in sudoers (visudo support TBD)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5691c513d"
>[5691c513d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
make yyerror()&rsquo;s argument const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f7358159"
>[7f7358159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
Add open_sudoers() stubs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec0ef3fcf"
>[ec0ef3fcf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
Rename check_sudoers() open_sudoers() and make it return a FILE *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cf26298a"
>[7cf26298a]</a></li>
</ul>
</dd>
<dt>2004-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, INSTALL.binary, Makefile.in, README, configure.in,
version.h:<br>
Crank version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22ad3cbc9"
>[22ad3cbc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.psf:<br>
Better HP-UX depot construction
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b8ff2e45"
>[8b8ff2e45]</a></li>
</ul>
</dd>
<dt>2004-09-25  Todd C. Miller</dt>
<dd>
<ul>
<li>mon_systrace.c:<br>
o Made children global so check_exec() can lookup a child. o Replaced
uid in struct childinfo with struct passwd * (for runas) o new_child()
now takes a parent pid so the runas info can be inherited o Added
find_child() to lookup a child by its pid o update_child() now fills in
a struct passwd o Converted the big if/else mess in set_policy to a
switch o Syscalls that change uid are now &ldquo;ask&rdquo; so we get SYSTR_MSG_UGID
events
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4d64ce1d"
>[e4d64ce1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
Add flag to sudo_pwdup that indicates whether or not to lookup the
shadow password. Will be used to a struct passwd that has the shadow
password already filled in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea5307a43"
>[ea5307a43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
add missing increment of addr in read_string()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28736eb55"
>[28736eb55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Remove bogus call to update_child() and some cosmetic fixes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=649e2dac1"
>[649e2dac1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
Don&rsquo;t leak /dev/systrace fd to tracee Make initialized global for
simplicity If STRIOCATTACH returns EBUSY we are already being traced
Check for user_args == NULL in setproctitle() call Add missing calls to
STRIOCANSWER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e5c53e13"
>[4e5c53e13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
g/c sudo_pwdup proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4e3f175c"
>[d4e3f175c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.psf:<br>
Add target for building a depot file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=007aff2b6"
>[007aff2b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
trim includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1131db069"
>[1131db069]</a></li>
</ul>
</dd>
<dt>2004-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c, sudo.tab.h:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bb847298"
>[2bb847298]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-systrace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78ac046db"
>[78ac046db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add check for setproctitle
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35203ffe5"
>[35203ffe5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
pass struct str_msg_ask in to syscall checker so it can set the error
code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11edf288b"
>[11edf288b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mon_systrace.c:<br>
systrace(4) support for sudo. On systems with the systrace(4) kernel
facility (OpenBSD, NetBSD, Linux w/ patches) sudo can intercept exec
calls and check the exec args against the sudoers file. In other words,
sudo can now control subcommands and shell escapes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d492138ff"
>[d492138ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
Call systrace_attach() if FLAG_TRACE is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa8d212e3"
>[aa8d212e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h, parse.lex, parse.yacc, sudo.h:<br>
Add trace Defaults option and TRACE/NOTRACE tags and set FLAG_TRACE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3391d597"
>[e3391d597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
Don&rsquo;t close sudoers_fp, keep it open and set close on exec flag instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c2be0808"
>[0c2be0808]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Add trace option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef874440a"
>[ef874440a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add systrace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84a3d101e"
>[84a3d101e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
SunOS /bin/sh blows up with configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7db351d7a"
>[7db351d7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Include sys/param.h before systrace.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce559899e"
>[ce559899e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec57f115f"
>[ec57f115f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
_PATH_DEV_SYSTRACE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5431e1451"
>[5431e1451]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
line up options in &ndash;help
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35b33cc1b"
>[35b33cc1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add &ndash;with-systrace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2af113f24"
>[2af113f24]</a></li>
</ul>
</dd>
<dt>2004-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdaaeda58"
>[fdaaeda58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
make this work with autoconf-2.59
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2306b4eb5"
>[2306b4eb5]</a></li>
</ul>
</dd>
<dt>2004-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Simplify logic around open &amp; stat of files and do sanity on edited file
even if we lack fstat (still racable but worth doing).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ac82331b"
>[5ac82331b]</a></li>
</ul>
</dd>
<dt>2004-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY:<br>
Add support url
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bf59231e"
>[4bf59231e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
versino 1.6.8p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=075af35f9"
>[075af35f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
more changes for 1.6.8p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98e8b1a15"
>[98e8b1a15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
1.6.8p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55be146f0"
>[55be146f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, sudo_edit.c:<br>
Add sanity check so we don&rsquo;t try to edit something other than a regular
file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12c78c0f6"
>[12c78c0f6]</a></li>
</ul>
</dd>
<dt>2004-09-15  Aaron Spangler</dt>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbfe3c0a6"
>[bbfe3c0a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-ldap-conf-file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=beb677357"
>[beb677357]</a></li>
</ul>
</dd>
<dt>2004-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, ins_csops.h:<br>
political correctness strikes again
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec404a074"
>[ec404a074]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3161b7a9"
>[e3161b7a9]</a></li>
</ul>
</dd>
<dt>2004-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.binary.in, Makefile.in:<br>
Install sudoedit man link
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13a265e0e"
>[13a265e0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Update PAM note and mention where HP-UX users can download gcc binaries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4dcb7919"
>[e4dcb7919]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
libtool wants to install stuff from .libs so fake one up for binary
installations.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aa5447ab"
>[4aa5447ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary.in:<br>
rm -f old sudoedit link instead of using ln -f set LIBTOOL correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dcceccfc"
>[3dcceccfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Deal with &ldquo;uname -m&rdquo; having slashes in it rm -f old sudoedit link
instead of using ln -f
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75866326a"
>[75866326a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary.in:<br>
Makefile.binary -&gt; Makefile.binary.in for config.status substitution
Add support for installing noexec bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f8b2d646"
>[5f8b2d646]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Copy noexec bits into binary dists too No longer use my old arch script
for making binary dists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b503734d0"
>[b503734d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary:<br>
Install sudoedit link.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35e0ade7a"
>[35e0ade7a]</a></li>
</ul>
</dd>
<dt>2004-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>emul/utime.h:<br>
avoid __P so there is no need for compat.h to be included
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc4d46d1"
>[9cc4d46d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>utimes.c:<br>
Don&rsquo;t use HAVE_UTIME_H before including config.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6efac29fb"
>[6efac29fb]</a></li>
</ul>
</dd>
<dt>2004-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
Fix Solatis futimes macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc3bbe24c"
>[dc3bbe24c]</a></li>
</ul>
</dd>
<dt>2004-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Rename ots -&gt; omtim for improved readability.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c93248273"
>[c93248273]</a></li>
</ul>
</dd>
<dt>2004-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Redo changes in revision 1.7. Don&rsquo;t really need to keep the temp file
open; re-opening it with the invoking user&rsquo;s euid is sufficient.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=611b0ca14"
>[611b0ca14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cde080f9"
>[4cde080f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e12b105f"
>[5e12b105f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
back out revision 1.70; it is no long applicable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5e0ff864"
>[a5e0ff864]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Let the loader initialize nep
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01dbe19ba"
>[01dbe19ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Removed unneed check for fchown Add check for gettimeofday Move
autoheader template stuff into separate AH_TEMPLATE lines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70d8f7832"
>[70d8f7832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, fileops.c, sudo.h, sudo_edit.c, visudo.c:<br>
Use timespec throughout.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f056c0d5"
>[0f056c0d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
gettime.[co]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=574866457"
>[574866457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>gettime.c:<br>
function to return the current time in a struct timespec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eb8badcc"
>[8eb8badcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>utimes.c:<br>
Not a darpa-sponsored file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8972c696"
>[a8972c696]</a></li>
</ul>
</dd>
<dt>2004-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
Add a check for struct timespec and provide it for those without.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54789c8fb"
>[54789c8fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo_edit.c:<br>
Add checks for st_mtim and st_mtimespec and add macros for pulling the
mtime sec and nsec out of struct stat. These are used in sudo_edit() to
better tell whether or not the file has changed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0bfcc95c"
>[c0bfcc95c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, fileops.c, sudo.h, sudo_edit.c, visudo.c:<br>
Add an extra param to touch() for nsec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f772c822"
>[7f772c822]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
Call mkstemp() as the in invoking user so we don&rsquo;t have to chown the
file later. Only touch() the temp file if we can do it via the file
descriptor. Don&rsquo;t check for modification of the temp file if we lack
fstat(). Catch errors read()ing the temp file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=707c3c2cb"
>[707c3c2cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fileops.c:<br>
If path is NULL and fd == -1 return -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b243b0ad3"
>[b243b0ad3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
closefrom() is overkill, the only extra fds are the ones we opened so
just close those in the child.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47d25da64"
>[47d25da64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, check.c, compat.h, config.h.in, configure,
configure.in, fileops.c, sudo.h, sudo_edit.c, utimes.c, visudo.c:<br>
Use utimes() and futimes() instead of utime() in touch(), emulating as
needed. Not all systems are able to support setting the times of an fd
so touch() takes both an fd and a file name as arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c20ff1a6"
>[1c20ff1a6]</a></li>
</ul>
</dd>
<dt>2004-09-07  Aaron Spangler</dt>
<dd>
<ul>
<li>env.c:<br>
Rare SEGV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03b53b691"
>[03b53b691]</a></li>
</ul>
</dd>
<dt>2004-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e0f96b91"
>[1e0f96b91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Add SUPPORT section and re-order some of the sections to match the order
we use in OpenBSD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb49afe6c"
>[eb49afe6c]</a></li>
</ul>
</dd>
<dt>2004-09-06  Aaron Spangler</dt>
<dd>
<ul>
<li>env.c:<br>
Openldap ~/.ldaprc fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2102b561b"
>[2102b561b]</a></li>
</ul>
</dd>
<dt>2004-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
Talk about how the editor must write its changes to the original file
and not just use rename(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6d8ea8af"
>[c6d8ea8af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac3893910"
>[ac3893910]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
Keep the temp file open instead of re-opening after the editor has
exited.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b701107b4"
>[b701107b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.pam:<br>
Update for current redhat/fedora core.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e410bbb58"
>[e410bbb58]</a></li>
</ul>
</dd>
<dt>2004-09-03  Aaron Spangler</dt>
<dd>
<ul>
<li>README.LDAP:<br>
tls_ examples
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe020eca3"
>[fe020eca3]</a></li>
</ul>
</dd>
<dt>2004-09-02  Aaron Spangler</dt>
<dd>
<ul>
<li>ldap.c:<br>
config tls_* options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=646d43cf5"
>[646d43cf5]</a></li>
</ul>
</dd>
<dt>2004-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
No need for -lcrypt when using pam.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f153f222"
>[2f153f222]</a></li>
</ul>
</dd>
<dt>2004-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11fe0b0bf"
>[11fe0b0bf]</a></li>
</ul>
</dd>
<dt>2004-08-27  Aaron Spangler</dt>
<dd>
<ul>
<li>configure.in, ldap.c, pathnames.h.in:<br>
Allow &ndash;with-ldap-conf-file option to override LDAP_CONF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ceb87bc5"
>[2ceb87bc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
cleanup debug message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7ea12521"
>[b7ea12521]</a></li>
</ul>
</dd>
<dt>2004-08-26  Aaron Spangler</dt>
<dd>
<ul>
<li>README.LDAP:<br>
more config info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d3b307b9"
>[2d3b307b9]</a></li>
</ul>
</dd>
<dt>2004-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO, find_path.c, goodpath.c, parse.c, sudo.c, sudo.h, visudo.c:<br>
Add cmnd_base to struct sudo_user and set it in init_vars(). Add
cmnd_stat to struct sudo_user and set it in sudo_goodpath(). No longer
use gross statics in command_matches(). Also rename some variables for
improved clarity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f30ab72c4"
>[f30ab72c4]</a></li>
</ul>
</dd>
<dt>2004-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
document HP&rsquo;s crippled compiler deficiency.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=badd06688"
>[badd06688]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Fix some thinkos in &ndash;with-editor and &ndash;with-env-editor descriptions.
Noticed by Norihiko Murase.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e46c4d26"
>[1e46c4d26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
&ndash;with-noexec takes an optional PATH argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6ea92617"
>[a6ea92617]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-noexec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65d6b278b"
>[65d6b278b]</a></li>
</ul>
</dd>
<dt>2004-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c0dcf2e3"
>[0c0dcf2e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_edit.c:<br>
Better warning message when sudoedit is unable to write to the
destination file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6acae1b3b"
>[6acae1b3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2218f7827"
>[2218f7827]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Don&rsquo;t italicize the string &ldquo;sudoedit&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecc1efce9"
>[ecc1efce9]</a></li>
</ul>
</dd>
<dt>2004-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY:<br>
Mention GratiSoft.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad4b66e0e"
>[ad4b66e0e]</a></li>
</ul>
</dd>
<dt>2004-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bc46dc93"
>[4bc46dc93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Reset used_runas to FALSE when re-intializing the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f03e9180"
>[4f03e9180]</a></li>
</ul>
</dd>
<dt>2004-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess:<br>
Correct OpenBSD mips support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45805aa2b"
>[45805aa2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess:<br>
Add OpenBSD/mips
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef12124c9"
>[ef12124c9]</a></li>
</ul>
</dd>
<dt>2004-08-07  Aaron Spangler</dt>
<dd>
<ul>
<li>README.LDAP:<br>
More behavior notes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f62576942"
>[f62576942]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Updates on current behavior
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aafff3c21"
>[aafff3c21]</a></li>
</ul>
</dd>
<dt>2004-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
=back does not take an indentlevel (makes no difference to formatted
files).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ad6600cc"
>[0ad6600cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
=back does not take an indentlevel (makes no difference to formatted
files).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f44518f3"
>[6f44518f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
new
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c0e4ea1"
>[23c0e4ea1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Consistency. Use same error for bad -u #uid when targetpw is set as we
do when a bad -u username is specified.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c6bb6c79"
>[3c6bb6c79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
Add checksum idea from Steve Mancini
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8013ece9b"
>[8013ece9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e9dcd837"
>[1e9dcd837]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95ef97652"
>[95ef97652]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod:<br>
Document the restriction on uids specified via -u when targetpw is set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc1b9cb80"
>[bc1b9cb80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Error out when targetpw is enabled and sudo is run with -u #uid but #uid
does not exist in the passwd database. We can&rsquo;t do target authentication
when the target is not in passwd!
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=252093fa6"
>[252093fa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e41a38e38"
>[e41a38e38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
Some more todo for the next release.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2bc02a1d"
>[e2bc02a1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Make it clear that PAM should be used for DCE support when possible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15222dbc1"
>[15222dbc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
o Document problems with wildcards and relative paths. o Make the order
requirements more prominent. o Change a &ldquo;set&rdquo; to &ldquo;reset&rdquo; for clarity.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14be1c37d"
>[14be1c37d]</a></li>
</ul>
</dd>
<dt>2004-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
Mention &ndash;with-secure-path, not SECURE_PATH.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0adaed9c9"
>[0adaed9c9]</a></li>
</ul>
</dd>
<dt>2004-08-03  Aaron Spangler</dt>
<dd>
<ul>
<li>ldap.c:<br>
reflect changes to parse.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02381e4c2"
>[02381e4c2]</a></li>
</ul>
</dd>
<dt>2004-08-02  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf4f5913d"
>[bf4f5913d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h, testsudoers.c, visudo.c:<br>
Don&rsquo;t pass user_cmnd and user_args to command_matches(), just use the
globals there. Since we keep state with statics anyway it is misleading
to pretend that passing in different cmnd and cmnd_args will work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a46dd74f"
>[1a46dd74f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Don&rsquo;t pass user_cmnd and user_args to command_matches(), just use the
globals there. Since we keep state with statics anyway it is misleading
to pretend that passing in different cmnd and cmnd_args will work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=600e9e394"
>[600e9e394]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Fix a bug introduced in rev. 1.149. When checking for pseudo-commands
check for a &lsquo;/&rsquo; anywhere in cmnd, not just the first character.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98fb55387"
>[98fb55387]</a></li>
</ul>
</dd>
<dt>2004-07-31  Aaron Spangler</dt>
<dd>
<ul>
<li>sudo.man.in, sudo.pod:<br>
Clarification thanks to Olivier Blin &lt;oblin@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f3d569e3"
>[5f3d569e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
Add ignore_local_sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed8a3eeed"
>[ed8a3eeed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Sun One schema definition by Andreas.Bussjaeger@&hellip; and
janth@moldung.no
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d634a4e46"
>[d634a4e46]</a></li>
</ul>
</dd>
<dt>2004-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44b6e87c9"
>[44b6e87c9]</a></li>
</ul>
</dd>
<dt>2004-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8aa17107"
>[e8aa17107]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Parse sudoers file as PERM_RUNAS not PERM_ROOT and remove a useless
PERM_SUDOERS. Restore to PERM_ROOT upon exit of the parse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ce996770"
>[8ce996770]</a></li>
</ul>
</dd>
<dt>2004-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
PAM change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8573f78c9"
>[8573f78c9]</a></li>
</ul>
</dd>
<dt>2004-07-08  Aaron Spangler</dt>
<dd>
<ul>
<li>ldap.c:<br>
Better debugging of ALL command
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=921f74613"
>[921f74613]</a></li>
</ul>
</dd>
<dt>2004-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
When matching for &ldquo;sudoedit&rdquo; in sudoers check both the command the user
typed <em>and</em> the command that is listed in the sudoers entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6fe34784"
>[a6fe34784]</a></li>
</ul>
</dd>
<dt>2004-07-04  Aaron Spangler</dt>
<dd>
<ul>
<li>ldap.c:<br>
Added !command feature
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e8d3f8f2"
>[5e8d3f8f2]</a></li>
</ul>
</dd>
<dt>2004-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Use pam_acct_mgmt() to check for disabled accounts; Brian Farrell
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=529d2d200"
>[529d2d200]</a></li>
</ul>
</dd>
<dt>2004-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE:<br>
License is ISC-style, not BSD-style
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15fc7f686"
>[15fc7f686]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e4144b0a"
>[3e4144b0a]</a></li>
</ul>
</dd>
<dt>2004-06-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f7943db5"
>[5f7943db5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
o Update some out of date bits to reality o Change the shell promt in
examples to bourne-shell style o Clarify some details o Add a CAVEAT
about &ldquo;sudo cd /foo&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18dae902b"
>[18dae902b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Don&rsquo;t ask for a password if invoking user == target user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31f98d84d"
>[31f98d84d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
typo in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20815542a"
>[20815542a]</a></li>
</ul>
</dd>
<dt>2004-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceb351fd9"
>[ceb351fd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Expand on NOEXEC a little.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc1dea2ed"
>[fc1dea2ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf8eb4bca"
>[bf8eb4bca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88828092c"
>[88828092c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=208736746"
>[208736746]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
Add a check in visudo for runas_default being set after it has already
been used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=906c12c75"
>[906c12c75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, parse.yacc, visudo.c:<br>
Add a check in visudo for runas_default being set after it has already
been used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce1b21d42"
>[ce1b21d42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=517d8af5e"
>[517d8af5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Add a MATCHED macro for testing whether foo_matches has been set to TRUE
or FALSE. This is more readable than checking for &gt;=0 or &lt; 0. Doesn&rsquo;t
change the actual code generated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13b0c693d"
>[13b0c693d]</a></li>
</ul>
</dd>
<dt>2004-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34288539a"
>[34288539a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62732558c"
>[62732558c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Correct description of where Defaults specs should go.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=213a92e2f"
>[213a92e2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
Correct description of where Defaults specs should go.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5b70b6b2"
>[f5b70b6b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c01dbab98"
>[c01dbab98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.h:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b934d8a"
>[f9b934d8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed7aee0e2"
>[ed7aee0e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1273bf257"
>[1273bf257]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecdfa6373"
>[ecdfa6373]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c, auth/kerb5.c:<br>
update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8268535cc"
>[8268535cc]</a></li>
</ul>
</dd>
<dt>2004-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0543ced78"
>[0543ced78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c, auth/kerb5.c, auth/pam.c, visudo.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77791e7ab"
>[77791e7ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=806fac889"
>[806fac889]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, logging.h, parse.c, parse.yacc, sudo.c, testsudoers.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=713e419fe"
>[713e419fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2154e5f09"
>[2154e5f09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ed41967a"
>[7ed41967a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, defaults.c, env.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=362d6f4eb"
>[362d6f4eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Remove trailing spaces, no actual code changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba803b6e1"
>[ba803b6e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=983bdcb22"
>[983bdcb22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Fix a &gt;=0 that should be &lt;0 that was improperly converted when UNSPEC
was added.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=318cd646f"
>[318cd646f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Add do {} while(0) around pop macro Set cmnd_matches to UNSPEC, not
NOMATCH when resetting it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e73e5c38"
>[4e73e5c38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Fix pastos introduced in SETNMATCH addition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5c99554d"
>[a5c99554d]</a></li>
</ul>
</dd>
<dt>2004-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>README.LDAP:<br>
Update for configure changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aa69afaa"
>[2aa69afaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8e2108d4"
>[f8e2108d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add NOMATCH and UNSPEC defines (-1 and -2 respectively) and use these in
parse.yacc. Also in parse.yacc initialize the *_matches vars to UNSPEC
and add two macros, SETMATCH and SETNMATCH for use when setting
*_matches to a value that may be NOMATCH/UNSPEC/TRUE/FALSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a99f53e2f"
>[a99f53e2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Add NOMATCH and UNSPEC defines (-1 and -2 respectively) and use these in
parse.yacc. Also in parse.yacc initialize the *_matches vars to UNSPEC
and add two macros, SETMATCH and SETNMATCH for use when setting
*_matches to a value that may be NOMATCH/UNSPEC/TRUE/FALSE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e37d41a"
>[46e37d41a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>parse.yacc:<br>
Initialize runas to -2, not -1 since we need to be able to distinguish
between the initialized value and the value of a non-match when passing
along the runas value to multiple commands.</p>
<p>The result of this is that an unmatched runas is now set to -1, not 0.
This is required now that parse.c treats a FALSE value for runas as
being explicitly denied.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=385372b4d"
>[385372b4d]</a></p>
</li>
</ul>
</dd>
<dt>2004-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, visudo.c:<br>
Error out if argc &lt; 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e1e279d2"
>[3e1e279d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getprogname.c:<br>
Error out if argc &lt; 1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46fa00164"
>[46fa00164]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add tests for what libs we need to link with for ldap and for whether or
not lber.h needs to be explicitly included.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24dd77986"
>[24dd77986]</a></li>
</ul>
</dd>
<dt>2004-06-03  Aaron Spangler</dt>
<dd>
<ul>
<li>ldap.c:<br>
Solaris native LDAP build fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=115869110"
>[115869110]</a></li>
</ul>
</dd>
<dt>2004-06-01  Todd C. Miller</dt>
<dd>
<ul>
<li>ldap.c:<br>
Set edn to NULL is ldap_get_dn() fails to avoid potential use of an
unset variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23da57f9f"
>[23da57f9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add prototype for sudo_ldap_list_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03d1a9ed4"
>[03d1a9ed4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Better check for dirfd macro&ndash;we now set HAVE_DIRFD for the macro
version too. Added check for dd_fd in `DIR&rsquo; if no dirfd is found; this
is now used to confitionally define the dirfd macro in compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e009af0c9"
>[e009af0c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Better check for dirfd macro&ndash;we now set HAVE_DIRFD for the macro
version too. Added check for dd_fd in `DIR&rsquo; if no dirfd is found; this
is now used to confitionally define the dirfd macro in compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=610da19a8"
>[610da19a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Better check for dirfd macro&ndash;we now set HAVE_DIRFD for the macro
version too. Added check for dd_fd in `DIR&rsquo; if no dirfd is found; this
is now used to confitionally define the dirfd macro in compat.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=330d2ff42"
>[330d2ff42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c:<br>
Only check /proc/$$/fd if we have the dirfd function/macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cebfa4c03"
>[cebfa4c03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
Add a check for a dirfd() function (like Linux) and add a dirfd macro in
compat.h if there is no dirfd() function or macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54cb0921d"
>[54cb0921d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c, getcwd.c:<br>
dirfd() is now defined in compat.h as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a79bb7268"
>[a79bb7268]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
Clarify closefrom() note.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d55466c02"
>[d55466c02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
When checking for a command in the directory, only copy the base dir
once.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b954f0bc9"
>[b954f0bc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c:<br>
If there is a /proc/$$/fd directory, behave like the Solaris closefrom()
and only close the descriptors listed therein.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2a573d6c"
>[e2a573d6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
compat.h guarantees INT_MAX is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cb8b8349"
>[5cb8b8349]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Add definitions of OPEN_MAX and INT_MAX for those without it and remove
definition of RLIM_INFINITY (now unused).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=397019519"
>[397019519]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, alloc.c, check.c, compat.h, find_path.c, getcwd.c, parse.c,
sudo.c, sudo.h, visudo.c:<br>
Use PATH_MAX, not MAXPATHLEN since the former is standardized.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d33ad9520"
>[d33ad9520]</a></li>
</ul>
</dd>
<dt>2004-05-31  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bce9860f"
>[3bce9860f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
Add some entries that were mailed in a while ago
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13b900c84"
>[13b900c84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c:<br>
o sysconf returns a long, not an int. o check for negative return value
from sysconf/getdtablesize and use OPEN_MAX in this case. o define
OPEN_MAX to 256 for those without it (a fair guess&hellip;)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f323ada7"
>[2f323ada7]</a></li>
</ul>
</dd>
<dt>2004-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>UPGRADE:<br>
Mention change in parse order for RunAs entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d8bc778d"
>[8d8bc778d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d8fab307"
>[2d8fab307]</a></li>
</ul>
</dd>
<dt>2004-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, README.LDAP, config.h.in, configure.in:<br>
o &ndash;with-ldap now takes an optional dir as a parameter o added check for
ldap_initialize() and start_tls_s()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64a92347"
>[f64a92347]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README.LDAP:<br>
Fix some typos, word choice and formatting issues.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=286f74780"
>[286f74780]</a></li>
</ul>
</dd>
<dt>2004-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Use SA_INTERRUPT so SunOS works correctly, avoid stdio and just use
read/write as it is simpler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8176ceda"
>[f8176ceda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Remove hack overriding cross-compiler check. It should no longer be
needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a76be42f"
>[1a76be42f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Remove select() compat bits since we no longer use select().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0ee2095b"
>[c0ee2095b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, tgetpass.c:<br>
Use alarm() instead of select() for the timeout for systems that don&rsquo;t
fully/properly implement select().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47b833d4c"
>[47b833d4c]</a></li>
</ul>
</dd>
<dt>2004-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
synbc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97f43c49f"
>[97f43c49f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051826c8c"
>[051826c8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
Deal with systems that have no way of setting the effective uid such as
nsr-tandem-nsk.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5376f8d2"
>[b5376f8d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Define NO_SAVED_IDS if we don&rsquo;t find seteuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4506e81a"
>[e4506e81a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add back check for setreuid() since NSK doesn&rsquo;t have it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=224f05ad1"
>[224f05ad1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d94c6f36b"
>[d94c6f36b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ffe050bc"
>[4ffe050bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76fa9ce50"
>[76fa9ce50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>parse.c:<br>
In sudoers_lookup() return VALIDATE_NOT_OK if the runas user was
explicitly denied and the command matched. This fixes a long-standing
bug and makes: foo machine = (ALL) /usr/bin/blah foo machine = (!bar)
/usr/bin/blah</p>
<p>equivalent to: foo machine = (ALL, !bar) /usr/bin/blah
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5150db1db"
>[5150db1db]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Clarify mail_noperm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=406db89f1"
>[406db89f1]</a></li>
</ul>
</dd>
<dt>2004-05-20  Aaron Spangler</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Missing DESTDIR in make install for sudo_noexec.la
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12411c9c0"
>[12411c9c0]</a></li>
</ul>
</dd>
<dt>2004-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a998e47d"
>[1a998e47d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=034ae50b8"
>[034ae50b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Remove fastboot/fasthalt (who still remembers these?) and add a minimal
sudoedit example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0f638db7"
>[d0f638db7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
Remove fastboot/fasthalt (who still remembers these?) and add a minimal
sudoedit example.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e6dcf79"
>[46e6dcf79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE, sudo.c, visudo.c:<br>
filesystem -&gt; file system
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f074282"
>[e6f074282]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
filesystem -&gt; file system
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2778555f3"
>[2778555f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, INSTALL:<br>
filesystem -&gt; file system
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ba185ee6"
>[1ba185ee6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod:<br>
Fix some minor typos and formatting goofs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7d5a998d"
>[c7d5a998d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b96c5e559"
>[b96c5e559]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
remove my email addr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4e12a8fe"
>[e4e12a8fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Use @mansectform@ and @mansectsu@ everywhere Make man page
references links with L&lt;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5e0c4d82"
>[d5e0c4d82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Accept quoted globbing characters and pass them verbatim for fnmatch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53d91bcce"
>[53d91bcce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
Document that /tmp/.odus is gone.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6f6c0b79"
>[f6f6c0b79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
No longer use /tmp/.odus as a possible timestamp dir unless specifically
configured to do so. Instead, if no /var/run exists, use /var/adm/sudo
or /usr/adm/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4467a95f4"
>[4467a95f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
No longer use /tmp/.odus as a possible timestamp dir unless specifically
configured to do so. Instead, if no /var/run exists, use /var/adm/sudo
or /usr/adm/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed9475a8c"
>[ed9475a8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
No longer use /tmp/.odus as a possible timestamp dir unless specifically
configured to do so. Instead, if no /var/run exists, use /var/adm/sudo
or /usr/adm/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=233fdc787"
>[233fdc787]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
No longer use /tmp/.odus as a possible timestamp dir unless specifically
configured to do so. Instead, if no /var/run exists, use /var/adm/sudo
or /usr/adm/sudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13050dc4d"
>[13050dc4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.c, tgetpass.c, visudo.c:<br>
Preliminary changes to support nsr-tandem-nsk. Based on patches from Tom
Bates.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6849607c"
>[a6849607c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Preliminary changes to support nsr-tandem-nsk. Based on patches from Tom
Bates.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0a49825e"
>[b0a49825e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h:<br>
Preliminary changes to support nsr-tandem-nsk. Based on patches from Tom
Bates.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51c9ed319"
>[51c9ed319]</a></li>
</ul>
</dd>
<dt>2004-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
There was no 1.6.7p6.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e7afec7f"
>[1e7afec7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1862f550f"
>[1862f550f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add missing files to DISTFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59de2968f"
>[59de2968f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudoers.cat, visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4d073b89"
>[f4d073b89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7366ce4da"
>[7366ce4da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Fix some line wrap and update (c) year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52d63d6d7"
>[52d63d6d7]</a></li>
</ul>
</dd>
<dt>2004-04-28  Aaron Spangler</dt>
<dd>
<ul>
<li>README.LDAP:<br>
Build Note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93bf2196c"
>[93bf2196c]</a></li>
</ul>
</dd>
<dt>2004-04-07  Aaron Spangler</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Fix install-dirs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe449ba2b"
>[fe449ba2b]</a></li>
</ul>
</dd>
<dt>2004-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a30d516f6"
>[a30d516f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
In Exit() when used as a signal handler, emsg is a pointer so sizeof()
is wrong so make it a #define instead. Also avoid using a negative exit
value. Found by Aaron Campbell
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e121633d"
>[2e121633d]</a></li>
</ul>
</dd>
<dt>2004-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Remove bogus sentence about uids in a User_List. Document usernames vs.
uid parsing in a Runas_List.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b8dbaf49"
>[3b8dbaf49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>parse.c, parse.h, parse.yacc, sudo.c, testsudoers.c, visudo.c:<br>
If the user specified a uid with the -u flag and the uid exists in the
passwd file, set runas_user to the name, not the uid.</p>
<p>When comparing usernames in sudoers, if a name is really a uid (starts
with &lsquo;#&rsquo;) compare it numerically to pw_uid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6190f376c"
>[6190f376c]</a></p>
</li>
</ul>
</dd>
<dt>2004-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
krb5_mcc_ops should be const; Johnny C. Lam
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=631cbc285"
>[631cbc285]</a></li>
</ul>
</dd>
<dt>2004-02-28  Aaron Spangler</dt>
<dd>
<ul>
<li>CHANGES, config.h.in, ldap.c:<br>
Added start_tls support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42cfd5612"
>[42cfd5612]</a></li>
</ul>
</dd>
<dt>2004-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Clean up libtool stuff for &lsquo;make distclean&rsquo; and add def_data.c,
def_data.h to PARSESRCS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88b2dd450"
>[88b2dd450]</a></li>
</ul>
</dd>
<dt>2004-02-14  Aaron Spangler</dt>
<dd>
<ul>
<li>strlcat.c, strlcpy.c:<br>
Un-Fix last license munge
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbfbde616"
>[cbfbde616]</a></li>
</ul>
</dd>
<dt>2004-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dee266e4d"
>[dee266e4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON, TODO:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e938290a2"
>[e938290a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a872ff046"
>[a872ff046]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c, auth/rfc1938.c, auth/secureware.c, auth/securid.c,
auth/securid5.c, auth/sia.c, auth/sudo_auth.c, auth/sudo_auth.h,
emul/search.h, emul/utime.h:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2fa9af02"
>[d2fa9af02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c, auth/pam.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56b5cbc89"
>[56b5cbc89]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/dce.c, auth/fwtk.c, auth/kerb4.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a1009c06"
>[1a1009c06]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d58c9f6f9"
>[d58c9f6f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, zero_bytes.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1fa5aec5"
>[a1fa5aec5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod, testsudoers.c, tgetpass.c, visudo.c,
visudo.man.in, visudo.pod:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5befe6ddf"
>[5befe6ddf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_noexec.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78fd7d420"
>[78fd7d420]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strlcat.c, strlcpy.c, sudo.c, sudo.h, sudo.man.in, sudo.pod,
sudo_edit.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21e3ca9cf"
>[21e3ca9cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sigaction.c, strerror.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=476c05aca"
>[476c05aca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, logging.c, logging.h, parse.c, parse.h, pathnames.h.in,
set_perms.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a2282c92"
>[3a2282c92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h,
ins_goons.h, insults.h, interfaces.c, interfaces.h:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa96e1c86"
>[fa96e1c86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getprogname.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8ae391a9"
>[b8ae391a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fileops.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e996375b"
>[3e996375b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a2e5144d"
>[5a2e5144d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.h:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3be828f78"
>[3be828f78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, Makefile.in, alloc.c, check.c, closefrom.c, compat.h,
defaults.c:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b217d36a"
>[5b217d36a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>utime.c, version.h:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dccf8fcc"
>[8dccf8fcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bc294b71"
>[5bc294b71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary:<br>
More to a less restrictive, ISC-style license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dda192f90"
>[dda192f90]</a></li>
</ul>
</dd>
<dt>2004-02-13  Aaron Spangler</dt>
<dd>
<ul>
<li>sudoers2ldif:<br>
Merged in LDAP Support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f0dda088"
>[9f0dda088]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ldap.c, sudo.c, sudo.h:<br>
Merged in LDAP Support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0226e939"
>[b0226e939]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Merged in LDAP Support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=240f4e031"
>[240f4e031]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, Makefile.in, README.LDAP, config.h.in, configure.in:<br>
Merged in LDAP Support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd9be2cf0"
>[bd9be2cf0]</a></li>
</ul>
</dd>
<dt>2004-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h, sudo_noexec.c:<br>
Only do &ldquo;extern int errno&rdquo; if errno is not a macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d80d2e29a"
>[d80d2e29a]</a></li>
</ul>
</dd>
<dt>2004-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
setreuid(0, 0) fails on QNX if the euid is not already 0 so set the euid
first, then just call setuid(0) to set the real uid too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a622cb279"
>[a622cb279]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
Use setresuid() and setreuid() for PERM_RUNAS when appropriate instead
of seteuid() which may not exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bc6df024"
>[7bc6df024]</a></li>
</ul>
</dd>
<dt>2004-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE:<br>
2004
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7f9bb024"
>[c7f9bb024]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in, ins_classic.h:<br>
Add &ndash;with-pc-insults configure option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a4d28310"
>[3a4d28310]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.man.in:<br>
Prefer VISUAL over EDITOR like old vipw did.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff092a1a1"
>[ff092a1a1]</a></li>
</ul>
</dd>
<dt>2004-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb467e2a5"
>[cb467e2a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Add a note that noexec is not a cure-all.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a31bf974"
>[3a31bf974]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Mention that disabling &ldquo;root_sudo&rdquo; is pretty pointless.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c892061f0"
>[c892061f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Substitute for root_sudo in sudoers.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7039ea7b"
>[a7039ea7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Add sudoedit to the NAME section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be4bcc99c"
>[be4bcc99c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Document that fact that setting ignore_dot in sudoers has no effect due
to the fact that find_path() is called <em>before</em> sudoers is read.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3802623a0"
>[3802623a0]</a></li>
</ul>
</dd>
<dt>2004-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Do not require _PATH_USRTMP to be set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4716ea988"
>[4716ea988]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES, TODO:<br>
sync
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=926d3f5b5"
>[926d3f5b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9763592ef"
>[9763592ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Clarify that when sudo is run by root with the SUDO_USER variable set,
the sudoers lookup happens for root and not the SUDO_USER user.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f452989c9"
>[f452989c9]</a></li>
</ul>
</dd>
<dt>2004-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c, auth/sudo_auth.c, interfaces.c, logging.c, parse.c,
set_perms.c, sigaction.c, sudo.c, tgetpass.c:<br>
Use the SET, CLR and ISSET macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4a8ab8b9"
>[c4a8ab8b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fnmatch.c:<br>
Use the SET, CLR and ISSET macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb5a1aa3a"
>[fb5a1aa3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, env.c:<br>
Use the SET, CLR and ISSET macros.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=262bb5e87"
>[262bb5e87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.h:<br>
MAIN was replaced with _SUDO_MAIN some time ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22c30e08d"
>[22c30e08d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t look at prev_user until after we&rsquo;ve parsed sudoers and done the
password check. That way, if sudo/sudoedit is run from a root process
that was invoked by sudo, we check sudoers for root, not the previous
user. This makes sudoedit much more useful and means that for the sudo
case, we get correct logging on who actually ran the command.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a07ad864"
>[7a07ad864]</a></li>
</ul>
</dd>
<dt>2004-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_edit.c:<br>
Add a comment describing why we need to be notified about our child
stopping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2af994ada"
>[2af994ada]</a></li>
</ul>
</dd>
<dt>2004-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.in:<br>
Update the noexec variable descriptions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04b8f60ca"
>[04b8f60ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
noexec now replaces more than just execve()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a972df0b"
>[5a972df0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Alas, all the world does not go through execve(2). Many systems still
have an execv(2) system call, Linux 2.6 provides fexecve(2) and it is
not uncommon for libc to have underscore (&rsquo;_&rsquo;) versions of the functions
to be used internally by the library. Instead of stubbing all these out
by hand, define a macro and let it do the work. Extra exec functions
pointed out by Reznic Valery.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ad4ba174"
>[4ad4ba174]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo_edit.c:<br>
Fix suspending the editor in -e mode. Because we do a fork() first we
need to be notified when the child has been stopped and then send that
same signal to ourself so the shell can do its job control thing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ccddf817"
>[5ccddf817]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Use WIFEXITED and WEXITSTATUS macros. If there are systems out there
that want to run sudo that still don&rsquo;t support these we can try to deal
with that later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24155a405"
>[24155a405]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f2cfc2bc"
>[6f2cfc2bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudo.pod, sudoers.man.in, sudoers.pod:<br>
Document sudo -e / sudoedit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be8c6acf6"
>[be8c6acf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e1f3dd9"
>[63e1f3dd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add SET/CLR/ISSET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d21140a3"
>[2d21140a3]</a></li>
</ul>
</dd>
<dt>2004-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Allow non-exclusive flags when invoked as sudoedit. Pretty print the
long usage() line to not wrap (assumes 80 char display)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1798a06b"
>[d1798a06b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.c:<br>
If sudo is invoked as &ldquo;sudoedit&rdquo; the -e flag is implied and no other
flags are permitted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be964efe"
>[2be964efe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add a new flag, -e, that makes it possible to give users the ability to
edit files with the editor of their choice as the invoking user, not the
runas user. Temporary files are used for the actual edit and the temp
file is copied over the original after the editor is done.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7d74402f"
>[c7d74402f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, parse.c, parse.lex, sudo.c, sudo_edit.c:<br>
Add a new flag, -e, that makes it possible to give users the ability to
edit files with the editor of their choice as the invoking user, not the
runas user. Temporary files are used for the actual edit and the temp
file is copied over the original after the editor is done.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dc5700a6"
>[4dc5700a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c:<br>
If real uid == 0 and the SUDO_USER environment variables is set, use
that to determine the invoking user&rsquo;s true identity. That way the proper
info gets logged by someone who has done &ldquo;sudo su&rdquo; but still uses sudo
to as root. We can&rsquo;t do this for non-root users since that would open up
a security hole, though perhaps it would be acceptable to use
getlogin(2) on OSes where this a system call (and doesn&rsquo;t just look in
the utmp file).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ab5b8c59"
>[8ab5b8c59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
Add _PATH_TMP, _PATH_VARTMP and _PATH_USRTMP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc7cfa707"
>[cc7cfa707]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add check for fchown(2)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4a4d4c66"
>[f4a4d4c66]</a></li>
</ul>
</dd>
<dt>2004-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Back out portions of the -i commit that set NewArgv[0] in set_runaspw.
It is far to late to set NewArgv[0] there and will have no effect anyway
as cmnd and safe_cmnd have already been set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=063c2812e"
>[063c2812e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c, visudo.pod:<br>
Prefer VISUAL over EDITOR like old vipw did.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f068ee01c"
>[f068ee01c]</a></li>
</ul>
</dd>
<dt>2004-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, sudo.c:<br>
In -i mode always set new environment based on the runas user&rsquo;s passwd
entry.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3001e7f29"
>[3001e7f29]</a></li>
</ul>
</dd>
<dt>2004-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man.in, sudo.pod:<br>
Document the new -i flag and sync SYNOPSIS section with usage() in
sudo.c. Also sort the flags in the OPTIONS section.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b7cf30c7"
>[1b7cf30c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
o Add -i that acts similar to &ldquo;su -&rdquo;, based on patches from David J.
MacKenzie o Sort the flags in the usage message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ca6264df"
>[1ca6264df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
Add a missing @runas_default@ substitution.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7471253e6"
>[7471253e6]</a></li>
</ul>
</dd>
<dt>2004-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Change euid to runas user before calling find_path(). Unfortunately,
though runas_user can be modified in sudoers we haven&rsquo;t parsed sudoers
yet.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c82381727"
>[c82381727]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
Add missing defintion of Parameter_List and use single pipes in the
Defaults EBNF definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6def750d0"
>[6def750d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>sudo.c:<br>
Fix a bug when set_runaspw() is used as a callback. We don&rsquo;t want to
reset the contents of runas_pw if the user specified a user via the -u
flag.</p>
<p>Avoid unnecessary passwd lookups in set_authpw(). In most cases we
already have the info in runas_pw.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03f5f4087"
>[03f5f4087]</a></p>
</li>
</ul>
</dd>
<dt>2004-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
Add Stan Lee / Uncle Ben quote to the lecture from RedHat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e404f54c2"
>[e404f54c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Update sudo_getepw() proto and add one for set_runaspw()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18027fa58"
>[18027fa58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
If we can&rsquo;t stat the command as root, try as the runas user instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69d47fe75"
>[69d47fe75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
Add stub set_runaspw() function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=327729a7e"
>[327729a7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Add set_runaspw() function to fill in runas_pw. This will be used as a
callback to update runas_pw when the runas user changes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=febc09e14"
>[febc09e14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c:<br>
PERM_RUNAS -&gt; PERM_FULL_RUNAS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecfc81375"
>[ecfc81375]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.h:<br>
Rename PERM_RUNAS -&gt; PERM_FULL_RUNAS and add a PERM_RUNAS that just
changes the euid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceb3653d7"
>[ceb3653d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
Make sudo_pwdup() act like OpenBSD pw_dup() and allocate memory in one
chunk for easy free()ing. Also change it from static to extern.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6ff287e"
>[de6ff287e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
Add callback support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb65156a7"
>[fb65156a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdefaults:<br>
Add a callback field and use it for runas_default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=175e9e472"
>[175e9e472]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.in:<br>
Add a callback field and use it for runas_default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=487cd96e0"
>[487cd96e0]</a></li>
</ul>
</dd>
<dt>2004-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/fwtk.c:<br>
Add support for chalnecho and display server responses used by fwtk &gt;=
2.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae1a984af"
>[ae1a984af]</a></li>
</ul>
</dd>
<dt>2004-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
ld.so is ld.so.1 on solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db1196a91"
>[db1196a91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure, configure.in, sudo.c, sudo.h:<br>
Use closefrom() instead of doing the equivalent inline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d55c3f63c"
>[d55c3f63c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>closefrom.c:<br>
closefrom(3) for systems w/o it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a34078ac3"
>[a34078ac3]</a></li>
</ul>
</dd>
<dt>2004-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.man.in:<br>
Update from .pod file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c493bb6b6"
>[c493bb6b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Substitute noexec_file for the sudoers man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c16da4f2"
>[5c16da4f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudo.pod:<br>
Mention noexec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=051943b68"
>[051943b68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
Document noexec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67ba09fcc"
>[67ba09fcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c, config.h.in, configure.in:<br>
Move PAM_CONST macro definition from config.h to pam.c where it belongs.
We can&rsquo;t have this in config.h since that gets included too early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=149862cd9"
>[149862cd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c, config.h.in, configure, configure.in:<br>
Some PAM implementations put their headers in /usr/include/pam instead
of /usr/include/security.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa4eb97ed"
>[aa4eb97ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
I missed changing the EXEC macro -&gt; EXECV here when I changed this in
config.h.in and sudo.c a while ago.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5459af61d"
>[5459af61d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4:<br>
OpenBSD vax/m88k/hppa don&rsquo;t do shared libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fce2b7491"
>[fce2b7491]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
o merge the hpux case entries into a single entry w/ its own sub-case
statement. o HP-UX &gt;= 11 support getspnam(), use it in preference to
getprpwuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd2bd25a8"
>[cd2bd25a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
eval $shrext so that it expands nicely on MacOS X
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aaea9826"
>[0aaea9826]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Don&rsquo;t lie about making a module, it does the wrong thing on mach
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18a2a32e"
>[c18a2a32e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ltmain.sh:<br>
Remove requirement that libs must begin with &ldquo;lib&rdquo;. They don&rsquo;t when we
point directly at the lib using LD_PRELOAD or its equivalent.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5206defd6"
>[5206defd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4:<br>
Disable support for c++, f77 and java. We don&rsquo;t need it, it takes a lot
of time, and it hosed our check for shared lib support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e6fe46e9"
>[7e6fe46e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a71e4f169"
>[a71e4f169]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Call AC_ENABLE_SHARED and check the status of enable_shared to know when
shared libs are available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64956333"
>[f64956333]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4:<br>
Duh, OpenBSD suports shared libs too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bede9b7b5"
>[bede9b7b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Only OpenPAM and Linux PAM use const qualifiers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b106eabb4"
>[b106eabb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
o No need to check for sed, libtool config does that for us o move check
for &ndash;with-noexec until after libtool magic is run so we can use
$can_build_shared and $shrext
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f8f030c5"
>[9f8f030c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ltmain.sh:<br>
Don&rsquo;t print a bunch of crap about library installs since we are not
really installing a library.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad13250c2"
>[ad13250c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Make format_env() varargs Add noexec support for Darwin, MacOS X, Irix,
and Tru64
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=230a54ebb"
>[230a54ebb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, ltconfig, ltmain.sh:<br>
Update to libtool 1.5 with local changes: o no ldconfig in the finish
step o assume no libprefix or version is needed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f192682f6"
>[f192682f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_noexec.c:<br>
Fix compilation under K&amp;R
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd4acb880"
>[dd4acb880]</a></li>
</ul>
</dd>
<dt>2004-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e8d52f5"
>[63e8d52f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_noexec.c:<br>
stub execve() that just returns EACCES; used for noexec functionality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17ee88eb"
>[e17ee88eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.h:<br>
Regen w/ updated byacc from OpenBSD; fixes a gcc 3.2 issue with
generated code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bac45090a"
>[bac45090a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
Regen w/ updated byacc from OpenBSD; fixes a gcc 3.2 issue with
generated code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a39a63f4f"
>[a39a63f4f]</a></li>
</ul>
</dd>
<dt>2004-01-05  Todd C. Miller</dt>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Move the environment defaults to the end and shorten a few of the
descriptions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f6749fa2"
>[0f6749fa2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
no shared libs on ultris or convexos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e796b909"
>[8e796b909]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Build sudo_noexec shared object using libtool; could use some cleanup.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9b9d94c3"
>[d9b9d94c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>acsite.m4, ltconfig, ltmain.sh:<br>
libtool scaffolding
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9019ee7b4"
>[9019ee7b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Merge the NOPASSWD/PASSWD and NOEXEC/EXEC rules so that order is not
important.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db230cc52"
>[db230cc52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, env.c, lex.yy.c, parse.c, parse.h, parse.lex, parse.yacc,
pathnames.h.in, sudo.c, sudo.h, sudo.tab.c:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e421c95b"
>[8e421c95b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in, defaults.c, env.c, pathnames.h.in:<br>
Add _PATH_SUDO_NOEXEC and corresponding &ndash;with-noexec configure option.
The default value of noexec_file is set to this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=626e2cd20"
>[626e2cd20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, env.c, lex.yy.c, parse.c, parse.h,
parse.lex, parse.yacc, sudo.c, sudo.h, sudo.tab.c, sudo.tab.h:<br>
Add support for preloading a shared object containing a dummy execve()
function that just sets error and returns -1. This adds a &ldquo;noexec_file&rdquo;
option to load the filename as well as a &ldquo;noexec&rdquo; flag to enable it
unconditionally. There is also a NOEXEC tag that can be attached to
specific commands and an EXEC tag to disable it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7536a781f"
>[7536a781f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdefaults:<br>
add missing newline to usage statement
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d5ce6761"
>[4d5ce6761]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, sudo.c:<br>
Rename EXEC macro -&gt; EXECV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf389c2f"
>[caf389c2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Don&rsquo;t truncate usernames to 8 characters in the log message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e987e1152"
>[e987e1152]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudoers.man.in, sudoers.pod:<br>
Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9eba370a0"
>[9eba370a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, def_data.c, def_data.h, def_data.in, sudoers.man.in,
sudoers.pod:<br>
Add a new option, lecture_file, that can be used to point to a custom
sudo lecture.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b289f7387"
>[b289f7387]</a></li>
</ul>
</dd>
<dt>2003-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c,
auth/sudo_auth.c:<br>
Add a zero_bytes() function to do the equivalent of bzero in such a way
that will heopfully not be optimized away by sneaky compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394423748"
>[394423748]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>zero_bytes.c:<br>
Add a zero_bytes() function to do the equivalent of bzero in such a way
that will heopfully not be optimized away by sneaky compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de5e16b22"
>[de5e16b22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.h:<br>
Add a zero_bytes() function to do the equivalent of bzero in such a way
that will heopfully not be optimized away by sneaky compilers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2550741c"
>[b2550741c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>err.c:<br>
Use #ifdef <strong>STDC</strong>, not #if <strong>STDC</strong>.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=617ac8a3c"
>[617ac8a3c]</a></li>
</ul>
</dd>
<dt>2003-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>mkdefaults:<br>
Always put at least one space between the def_* macro name and its
definition.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cb570327"
>[1cb570327]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Adjust code for &ndash;without-lecture to match new values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbc43afb"
>[ffbc43afb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.man.in:<br>
regen after pasto fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e34adcc2c"
>[e34adcc2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man.in, sudoers.pod:<br>
Document that &ldquo;lecture&rdquo; has changed from a flag to a tuple.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3062ac665"
>[3062ac665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>check.c, def_data.c, def_data.h, def_data.in, defaults.c, defaults.h,
logging.c, mkdefaults, parse.c, sudo.c, sudo.h:<br>
Add support for tuples in def_data.in; these are implemented as an enum
type. Currently there is only a single tuple enum but in the future we
may have one tuple enum per T_TUPLE entry in def_data.in. Currently
listpw, verifypw and lecture are tuples. This avoids the need to have
two entries (one ival, one str) for pwflags and syslog values.</p>
<p>lecture is now a tuple with the following values: never, once, always</p>
<p>We no longer use both an int and string entry for syslog facilities and
priorities. Instead, there are logfac2str() and logpri2str() functions
that get used when we need to print the string values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02f37dc2d"
>[02f37dc2d]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c,
auth/rfc1938.c, auth/securid5.c, auth/sia.c, auth/sudo_auth.c, check.c,
def_data.h, defaults.c, defaults.h, env.c, find_path.c, logging.c,
mkdefaults, parse.c, parse.yacc, set_perms.c, sudo.c, sudo.tab.c,
visudo.c:<br>
Create def_* macros for each defaults value so we no longer need the
def_{flag,ival,str,list,mode} macros (which have been removed). This is
a step toward more flexible data types in def_data.in.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ad252765"
>[6ad252765]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45fe0a6cc"
>[45fe0a6cc]</a></li>
</ul>
</dd>
<dt>2003-12-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
If we are in -k/-K mode, just spew to stderr. It is not unusual for
users to place &ldquo;sudo -k&rdquo; in a .logout file which can cause sudo to be
run during reboot after the YP/NIS/NIS+/LDAP/etc daemon has died.
Previously, this would result in useless mail and logging.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f773be1f"
>[7f773be1f]</a></li>
</ul>
</dd>
<dt>2003-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.pod:<br>
fix pasto in VISUAL description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccef4e334"
>[ccef4e334]</a></li>
</ul>
</dd>
<dt>2003-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ce9403a4"
>[0ce9403a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb081ff5e"
>[cb081ff5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Some OSes (like Solaris) allow export w/ nosuid too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53a38fc56"
>[53a38fc56]</a></li>
</ul>
</dd>
<dt>2003-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
We don&rsquo;t use FD_ZERO anymore so just define FD_SET (if not already
there).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=769b205c0"
>[769b205c0]</a></li>
</ul>
</dd>
<dt>2003-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Fix a core dump on Solaris by preserving the pam_handle_t we used during
authentication for pam_prep_user(). If we didn&rsquo;t authenticate (ie:
ticket still valid), we call pam_init() from pam_prep_user(). This is
something of a hack; it may be better to change the auth API and add an
auth_final() function that acts like pam_prep_user().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d619fd43a"
>[d619fd43a]</a></li>
</ul>
</dd>
<dt>2003-06-21  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Add explicit declaration of printerr variable in function header (was
defaulting to int which is OK but oh so K&amp;R :-). From Theo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cd9f4f1e"
>[8cd9f4f1e]</a></li>
</ul>
</dd>
<dt>2003-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
s/HAVE_STOW/USE_STOW/
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e52feabd4"
>[e52feabd4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Also exit waitpid() loop when pid == 0. Fixes a problem where the sudo
process would spin eating up CPU until sendmail finished when it has to
send mail.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27ad285a0"
>[27ad285a0]</a></li>
</ul>
</dd>
<dt>2003-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>fnmatch.c:<br>
Remove advertising clause, UCB has disavowed it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e53863e5"
>[7e53863e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fnmatch.3:<br>
Remove advertising clause, UCB has disavowed it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdb69602e"
>[bdb69602e]</a></li>
</ul>
</dd>
<dt>2003-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
Don&rsquo;t assume that getgrnam() calls don&rsquo;t modify contents of struct
passwd returned by getpwnam(). On FreeBSD w/ NIS this can happen. Based
on a patch from Kirk Webb.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b63be2f"
>[40b63be2f]</a></li>
</ul>
</dd>
<dt>2003-05-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
missing ;;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61e7453f8"
>[61e7453f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
darwin has a broken setreuid() in at least some versions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dc823861"
>[8dc823861]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Fix an off by one error when reallocating the environment; Kevin Pye
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=684f62dd0"
>[684f62dd0]</a></li>
</ul>
</dd>
<dt>2003-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix User_Spec definition; SEKINE Tatsuo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c917da1cc"
>[c917da1cc]</a></li>
</ul>
</dd>
<dt>2003-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY:<br>
More info on the early days from Coggs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04b402662"
>[04b402662]</a></li>
</ul>
</dd>
<dt>2003-04-21  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
remove errant semicolon that prevented compilation under heimdal
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c03ffb197"
>[c03ffb197]</a></li>
</ul>
</dd>
<dt>2003-04-16  Todd C. Miller</dt>
<dd>
<ul>
<li>testsudoers.c, tgetpass.c, visudo.c, visudo.man.in, visudo.pod:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e74e8c53"
>[4e74e8c53]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58db01577"
>[58db01577]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sigaction.c, strerror.c, sudo.c, sudo.h, sudo.man.in, sudo.pod,
sudoers.man.in:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f13528b0b"
>[f13528b0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69ac0e56c"
>[69ac0e56c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58596112c"
>[58596112c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.c:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a76a79f6d"
>[a76a79f6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c, auth/rfc1938.c, auth/secureware.c, auth/securid.c,
auth/securid5.c, auth/sia.c, auth/sudo_auth.c, fileops.c, find_path.c,
getprogname.c, getspwuid.c, goodpath.c, interfaces.c, interfaces.h:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=505b424a5"
>[505b424a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c, auth/pam.c:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b45d6459"
>[8b45d6459]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, auth/bsdauth.c, auth/dce.c, auth/fwtk.c,
auth/kerb4.c, parse.lex, parse.yacc, utime.c, version.h:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94567681a"
>[94567681a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6c8c9951"
>[c6c8c9951]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34479303a"
>[34479303a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=492367bd6"
>[492367bd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, alloc.c, check.c:<br>
add DARPA credit on affected files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c51ebd37"
>[6c51ebd37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
slightly different wording for the darpa credit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b6bdba4"
>[f9b6bdba4]</a></li>
</ul>
</dd>
<dt>2003-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE:<br>
Add DARPA credit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b7ed974d"
>[2b7ed974d]</a></li>
</ul>
</dd>
<dt>2003-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>auth/kerb5.c:<br>
Use krb5_princ_component() instead of krb5_princ_realm() for MIT
Kerberos like we did before I messed things up ;-)</p>
<p>Use krb5_principal_get_comp_string() to do the same thing w/ Heimdal.
I&rsquo;m not sure if the component should be 0 or 1 in this case.</p>
<p>#define ENCTYPE_DES_CBC_MD5 ETYPE_DES_CBC_MD5 for Heimdal since older
versions lack ENCTYPE_DES_CBC_MD5. This is gross and there should be a
configure check for this I guess.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a2da4c96"
>[4a2da4c96]</a></p>
</li>
</ul>
</dd>
<dt>2003-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
builtin -&gt; built-in; Jason McIntyre
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86febe03a"
>[86febe03a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING, config.h.in, configure, configure.in:<br>
builtin -&gt; built-in; Jason McIntyre
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6ec7f337"
>[e6ec7f337]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
built in -&gt; built-in; Jason McIntyre
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d146fae7"
>[8d146fae7]</a></li>
</ul>
</dd>
<dt>2003-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for 1.6.7p3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28eca61dd"
>[28eca61dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
Update info on the early years @ SUNY-Buffalo from Cliff Spencer.
Amazingly, sudo source from 1985 is available via groups.google.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b941870e"
>[6b941870e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t change rl.rlim_max for RLIMIT_CORE. We need only set rl.rlim_cur
to 0 to turn off core dumps. This may be needed for the RLIMIT_CORE
restoration on some OSes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e15de8443"
>[e15de8443]</a></li>
</ul>
</dd>
<dt>2003-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Make this compile on Heimdal and MIT Kerberos 5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfeec138e"
>[cfeec138e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Check for heimdal even if we found krb5-config and define HAVE_HEIMDAL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fab224f42"
>[fab224f42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Replace ETYPE_DES_CBC_MD5 with ENCTYPE_DES_CBC_MD5. The former is no
longer defined by MIT kerb5 (though it used to be and indeed remains so
in Heimdal).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d22075714"
>[d22075714]</a></li>
</ul>
</dd>
<dt>2003-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>mkinstalldirs:<br>
Remove newer stuff that passes multiple (possibly duplicate) directories
to &ldquo;mkdir -p&rdquo; since that seems to break on Tru64 Unix at least. This
basically brings back what shipped with sudo 1.6.6.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=941162deb"
>[941162deb]</a></li>
</ul>
</dd>
<dt>2003-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Correct number of args to krb5_principal_get_realm() and fix an unclosed
comment that hid the bug.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58887b76b"
>[58887b76b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce070cdc6"
>[ce070cdc6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18486069"
>[c18486069]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a37e9d95"
>[2a37e9d95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12694ed15"
>[12694ed15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.binary:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8459f7d1"
>[c8459f7d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50b48929c"
>[50b48929c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cb95ca0b"
>[6cb95ca0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=539a65cde"
>[539a65cde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
use krb5-config to determine Kerberos V details if it exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a15e5079"
>[7a15e5079]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, auth/fwtk.c, auth/rfc1938.c, auth/securid.c, auth/securid5.c,
auth/sia.c, check.c, compat.h, defaults.c, env.c, find_path.c,
interfaces.c, logging.c, parse.c, sudo.c, sudo.h, testsudoers.c,
visudo.c:<br>
Use warn/err and getprogname() throughout. The main exception is
openlog(). Since the admin may be filtering logs based on the program
name in the log files, hard code this to &ldquo;sudo&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcf1a5acc"
>[dcf1a5acc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add getprogname.c and err.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4afe01580"
>[4afe01580]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd5d6e943"
>[fd5d6e943]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add checks for getprognam(), __progname and err.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d64a83b41"
>[d64a83b41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/err.h:<br>
For systems withour err/warn functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b51c12411"
>[b51c12411]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>err.c:<br>
For systems withour err/warn functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eaddf3e8"
>[0eaddf3e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getprogname.c:<br>
For systems neither getprogname() nor __progname; uses Argv[0].
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5aa05992"
>[c5aa05992]</a></li>
</ul>
</dd>
<dt>2003-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for 1.6.7p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad200188f"
>[ad200188f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, testsudoers.c:<br>
fix strlcpy() rval check (innocuous)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=632dbebef"
>[632dbebef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
oflow detection in expand_prompt() was faulty (false positives). The
count was based on strlcat() return value which includes the length of
the entire string.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f761cef5c"
>[f761cef5c]</a></li>
</ul>
</dd>
<dt>2003-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON, TODO:<br>
checkpoint for the sudo 1.6.7 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d529fea7b"
>[d529fea7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for the sudo 1.6.7 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea6c2c1cc"
>[ea6c2c1cc]</a></li>
</ul>
</dd>
<dt>2003-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
g/c unused variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fff31a8a5"
>[fff31a8a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b16eb4722"
>[b16eb4722]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
use man sections 8 and 5 for csops
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa698f905"
>[aa698f905]</a></li>
</ul>
</dd>
<dt>2003-03-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c827a73ae"
>[c827a73ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add -lskey or -lopie directly to SUDO_LIBS instead of having
AC_CHECK_LIB() add them to LIBS. Fixes visudo linkage.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8cc257b59"
>[8cc257b59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf8618c7a"
>[cf8618c7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add &ndash;with-blibpath for AIX. An alternate libpath may be specified or
-blibpath support can be disabled. Also change conifgure such that
-blibpath is not specified if no -L libpaths were added to SUDO_LDFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed7cfdc1c"
>[ed7cfdc1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
Add &ndash;with-blibpath for AIX. An alternate libpath may be specified or
-blibpath support can be disabled. Also change conifgure such that
-blibpath is not specified if no -L libpaths were added to SUDO_LDFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02b4fa769"
>[02b4fa769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Add &ndash;with-blibpath for AIX. An alternate libpath may be specified or
-blibpath support can be disabled. Also change conifgure such that
-blibpath is not specified if no -L libpaths were added to SUDO_LDFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=936e8b501"
>[936e8b501]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add AIX blibpath support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a2de952a"
>[0a2de952a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>INSTALL, configure.in:<br>
&ndash;with-skey and &ndash;with-opie now take an option directory argument This
obsoletes a &ndash;with-csops hack (/tools/cs/skey)</p>
<p>Also remove the remaining direct uses of &ldquo;echo&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7759a8b0"
>[e7759a8b0]</a></p>
</li>
</ul>
</dd>
<dt>2003-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
Detect KTH Kerberos IV and deal with it. Also make -lroken optional for
KTH Kerberos IV and V.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67837e50c"
>[67837e50c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
Add SUDO_APPEND_LIBPATH function that add -L/path/to/dir (and
-R/path/to/dir if $with_rpath) to the specified variable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b1013f82"
>[4b1013f82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure.in:<br>
Add -R/path/to/libs for Solaris and SVR4. There is a new configure
option, &ndash;with-rpath to control this behavior.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e6f38062"
>[9e6f38062]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
for kerb4 put libdes after libkrb on the link line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a41cbc597"
>[a41cbc597]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb4.c:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4dd20ab7"
>[c4dd20ab7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fix kerberos lib check when a path is specified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0343559c5"
>[0343559c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Fix boolean thinko in SIGCHLD reaper and call reapchild after sending
mail instead of doing a conditional sudo_waitpid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7d746af2"
>[a7d746af2]</a></li>
</ul>
</dd>
<dt>2003-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2897c23e9"
>[2897c23e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
replace =DIR with [=DIR] where sensible
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a23a3d77b"
>[a23a3d77b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o Use AC_MSG_* instead of &ldquo;echo&rdquo; o New Kerberos include/lib detection
based on openssh&rsquo;s configure.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02cde4645"
>[02cde4645]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
&ndash;with-kerb4 and &ndash;with-kerb5 now take an optional argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6aac4105f"
>[6aac4105f]</a></li>
</ul>
</dd>
<dt>2003-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/securid.c:<br>
Kill remaining strcpy(), the programmer&rsquo;s guide says username is 32
bytes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecee62038"
>[ecee62038]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb4.c:<br>
trat uid_t as unsigned long for printf and use snprintf, not sprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2ced184e"
>[d2ced184e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/rfc1938.c:<br>
use snprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc39c5650"
>[dc39c5650]</a></li>
</ul>
</dd>
<dt>2003-03-15  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, auth/bsdauth.c, auth/dce.c, auth/fwtk.c,
auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/passwd.c, auth/rfc1938.c,
auth/sudo_auth.c:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6a9e16d9"
>[d6a9e16d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in, visudo.man.in:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=150aec798"
>[150aec798]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, Makefile.in, aclocal.m4, alloc.c, check.c, compat.h,
configure.in, env.c, find_path.c, interfaces.c, logging.c, parse.c,
parse.lex, parse.yacc, set_perms.c, sudo.c, sudo.h, sudo.pod,
sudoers.pod, testsudoers.c, version.h, visudo.c, visudo.pod:<br>
update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48229cbac"
>[48229cbac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, env.c, sudo.c:<br>
Cast [ug]ids to unsigned long and printf with %lu
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b18a141ae"
>[b18a141ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eafc58b26"
>[eafc58b26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
correct error messages for &ndash;with-sudoers-{mode,uid,gid}
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc400ffbf"
>[bc400ffbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
make the malloc(0) error specific to each function to aid tracking down
bugs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb2c3323d"
>[bb2c3323d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
deal with platforms where size_t is signed and there is no SIZE_MAX or
SIZE_T_MAX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d8b59796"
>[8d8b59796]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Make this compile w/ Heimdal and fix some gcc warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80013dd91"
>[80013dd91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Use stat_sudoers macro so &ndash;with-stow can work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b7b3c7f5"
>[4b7b3c7f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in:<br>
Add support for &ndash;with-stow based on patches from Robert Uhl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b124c5de"
>[7b124c5de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
fix indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e05ae7a3"
>[7e05ae7a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
back out rev 1.352
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18f3cfdf6"
>[18f3cfdf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37a1bfccd"
>[37a1bfccd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
use strlcpy, not strncpy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc5cc0765"
>[cc5cc0765]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
Fix typo; check pw_uid, not pw_gid after setusercontext() failure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aec2bd72"
>[2aec2bd72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
use pid_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4b5af8da"
>[f4b5af8da]</a></li>
</ul>
</dd>
<dt>2003-03-14  Todd C. Miller</dt>
<dd>
<ul>
<li>strlcat.c, strlcpy.c:<br>
Make gcc shutup about unused rcsid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e1b157c5"
>[4e1b157c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
Move the n == 0 check for the non-getifaddrs cas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0932bf305"
>[0932bf305]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/rfc1938.c:<br>
skeychallenge() on NetBSD take a size parameter
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27ffee8ac"
>[27ffee8ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cafae7a6"
>[9cafae7a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
put -ldl after -lpam, not before; fixes static linking on Linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50b049dcc"
>[50b049dcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
Avoid malloc(0) and fix the loop invariant for the getifaddrs() case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=debf9f09c"
>[debf9f09c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudoers.cat, visudo.cat:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af7c4632f"
>[af7c4632f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7aa90a9bb"
>[7aa90a9bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Preserve copyright notice from .pod file in .man.in file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc65ea65c"
>[fc65ea65c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
Add sudoers(5) to SEE ALSO
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0037d9ad"
>[e0037d9ad]</a></li>
</ul>
</dd>
<dt>2003-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8656452ca"
>[8656452ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Don&rsquo;t assume libc can realloc() a NULL string. If malloc/realloc fails,
make sure we just return; yyerror() is not terminal.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a01f25b5f"
>[a01f25b5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1725de877"
>[1725de877]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
simplify fill_args a little and use strlcpy for paranoia
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ae8aadee"
>[9ae8aadee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a822179f5"
>[a822179f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, env.c, find_path.c, parse.c, parse.yacc, sudo.c, testsudoers.c:
Use strlc{at,py} for paranoia&rsquo;s sake and exit on overflow. In all cases
the strings were either pre-allocated to the correct size of length
checks were done before the copy but a little paranoia can go a long
way.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eebc763bd"
>[eebc763bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Add strlc{at,py} protos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a54c8e66f"
>[a54c8e66f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, interfaces.c:<br>
Use erealloc3()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce95c61c"
>[7ce95c61c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=006e64f61"
>[006e64f61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
Oflow test of nmemb &gt; SIZE_MAX / size is fine (don&rsquo;t need &gt;=). Use
memcpy() instead of strcpy() in estrdup() so this is strcpy()-free.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b40c964d"
>[5b40c964d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
snprintf() a uid as %lu, not %ld to match the MAX_UID_T_LEN test in
configure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96376b6d4"
>[96376b6d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
In MAX_UID_T_LEN test cast uid_t to unsigned long, just unsigned.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4df44eea5"
>[4df44eea5]</a></li>
</ul>
</dd>
<dt>2003-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Use snprintf() for paranoia
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=804caf395"
>[804caf395]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Use emalloc2 and erealloc3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35b2800a8"
>[35b2800a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
strlc{at,py} for those w/o it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cb46fd4e"
>[6cb46fd4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strlcat.c, strlcpy.c:<br>
stlc{at,py} for those w/o it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfa77cede"
>[cfa77cede]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add stlc{at,py} for those w/o it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=285791c42"
>[285791c42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, sudo.h:<br>
Add erealloc3(), a realloc() version of emalloc2().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=838ec0a2c"
>[838ec0a2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c, sudo.c:<br>
Use emalloc2() to allocate N things of a certain size.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c96a62e26"
>[c96a62e26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, sudo.h:<br>
Add emalloc2() &ndash; like calloc() but w/o the bzero and with error/oflow
checking.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b4248529"
>[8b4248529]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
Error out on malloc(0); suggested by theo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e041c3f3"
>[8e041c3f3]</a></li>
</ul>
</dd>
<dt>2003-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
fix a typo; David Krause
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=450a56193"
>[450a56193]</a></li>
</ul>
</dd>
<dt>2003-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc387e982"
>[fc387e982]</a></li>
</ul>
</dd>
<dt>2003-03-04  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Remove DYLD_ from the environment for MacOS X; from bbraun
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=466216fe8"
>[466216fe8]</a></li>
</ul>
</dd>
<dt>2003-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
not not; Anil Madhavapeddy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a7a5fe2e"
>[7a7a5fe2e]</a></li>
</ul>
</dd>
<dt>2003-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
typos; jmc@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a48a0f67"
>[4a48a0f67]</a></li>
</ul>
</dd>
<dt>2003-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
Add some missing &lsquo;;&rsquo; rule terminators that bison warns about.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b34e37390"
>[b34e37390]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
fix typo I introduced in last merge
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5478ef4e2"
>[5478ef4e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regenerate with autoconf 2.57
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1b032925"
>[f1b032925]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add missing &ldquo;$HOME&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfd0d2829"
>[dfd0d2829]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add some more square backets to make autoconf 2.57 happy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf76450ae"
>[cf76450ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub, mkinstalldirs:<br>
Updates from autoconf-2.57
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe79cba0b"
>[fe79cba0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess:<br>
Updates from autoconf-2.57
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e73dd504b"
>[e73dd504b]</a></li>
</ul>
</dd>
<dt>2003-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.h:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=270e6cab7"
>[270e6cab7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26d9f4856"
>[26d9f4856]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc, sudoers.pod:<br>
Add support for Defaults&gt;RunasUser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8153f4d5"
>[a8153f4d5]</a></li>
</ul>
</dd>
<dt>2003-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
fclose() yyin after each yyparse() is done and use fopen() instead of
using freopen().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e118c64b"
>[6e118c64b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Better fix for sudoers files w/o a newline before EOF. It looks like the
issue is that yyrestart() does not reset the start condition to INITIAL
which is an issue since we parse sudoers multiple times.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b3c38d20"
>[8b3c38d20]</a></li>
</ul>
</dd>
<dt>2003-01-06  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
Work around what appears to be a flex bug when dealing with files that
lack a final newline before EOF. This adds a rule to match EOF in the
non-initial states which resets the state to INITIAL and throws an
error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cce84a181"
>[cce84a181]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
o The parser needs sudoers to end with a newline but some editors
(emacs) may not add one. Check for a missing newline at EOF and add one
if needed. o Set quiet flag during initial sudoers parse (to get
options) o Move yyrestart() call and always use freopen() to open yyin
after initial sudoers parse.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35cf881d7"
>[35cf881d7]</a></li>
</ul>
</dd>
<dt>2002-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Fix pasto/thinko in setresgid()/setregid() usage. Want to set effective
gid, not real gid, when reading sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e27e963f2"
>[e27e963f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
don&rsquo;t compile set_perms_posix if we have setreuid or setresuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1996179bf"
>[1996179bf]</a></li>
</ul>
</dd>
<dt>2002-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, sudoers.pod:<br>
document new prompt escapes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bfbd4b1e"
>[3bfbd4b1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Add %U and %H escapes and redo prompt rewriting. &ldquo;%%&rdquo; now gets collapsed
to &ldquo;%&rdquo; as was originally intended. This also gets rid of lastchar (does
lookahead instead of lookback) which should simplify the logic slightly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b0f8d6d3"
>[0b0f8d6d3]</a></li>
</ul>
</dd>
<dt>2002-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Write the prompt <em>after</em> turning off echo to avoid some password
characters being echoed on heavily-loaded machines with fast typists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f9ed308f"
>[4f9ed308f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
Add support for mipseb; wiz@danbala.tuwien.ac.at
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=412151ce7"
>[412151ce7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix IRIX fallout from name changes in man dir/sect Makefile variables.
Patch from erici AT motown DOT cc DOT utexas DOT edu
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8fa23112"
>[c8fa23112]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Keep a local copy of tgetpass_flags so we don&rsquo;t add in TGP_ECHO to the
global copy. Problem noted by Peter Pentchev.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b49046433"
>[b49046433]</a></li>
</ul>
</dd>
<dt>2002-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d26b60827"
>[d26b60827]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Add missing yyerror() calls; YYERROR does not seem to call this for us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bf742d28"
>[5bf742d28]</a></li>
</ul>
</dd>
<dt>2002-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fix typo in comment; Pedro Bastos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=897b55137"
>[897b55137]</a></li>
</ul>
</dd>
<dt>2002-11-22  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;disable-setresuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7e953201"
>[f7e953201]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c,
auth/sudo_auth.c:<br>
Sprinkle some volatile qualifiers to prevent over-enthusiastic
optimizers from removing memset() calls.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abb4e1ad3"
>[abb4e1ad3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.yacc:<br>
minor sign fixes pointed out by gcc -Wsign-compare
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd140ff5d"
>[fd140ff5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.c, sudo.h:<br>
Revamp set_perms. We now use a version based on setresuid() or
setreuid() when possible since that allows us to support the stay_setuid
option and we always know exactly what the semantics will be (various
Linux kernels have broken POSIX saved uid support).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b152da4cd"
>[b152da4cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure:<br>
regen from configure.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2de61320b"
>[2de61320b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add checks for setresuid() and a way to disable using it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=736660571"
>[736660571]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
No long need to emulate set*[ug]id() via setres[ug]id() or
setre[ug]id(). The new set_perms stuff only uses things it knows are
there.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=351fcc138"
>[351fcc138]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Before exec, restore state of signal handlers to be the same as when we
were initialy invoked instead of just reseting to SIG_DFL. Fixes a
problem when using sudo with nohup. Based on a patch from Paul Markham.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=faabf3bac"
>[faabf3bac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
o timestamp_uid should be uid_t, not int o clarify error message when
sudo is run by root and no_root_sudo is set
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f2d87e28"
>[4f2d87e28]</a></li>
</ul>
</dd>
<dt>2002-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
update ftp link for bison
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06cd79be8"
>[06cd79be8]</a></li>
</ul>
</dd>
<dt>2002-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Error out if setusercontext() fails and the runas user is not root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d497949e6"
>[d497949e6]</a></li>
</ul>
</dd>
<dt>2002-05-20  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/securid5.c:<br>
Fix rcsid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3437e96a3"
>[3437e96a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix SecurID API test
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c2e0aeda"
>[9c2e0aeda]</a></li>
</ul>
</dd>
<dt>2002-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
typo in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3ddf66e0"
>[f3ddf66e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
securid5 stuff needs pthreads. Just adding -lpthread is suboptimal but I
don&rsquo;t see a better way at the moment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef8c99a5f"
>[ef8c99a5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, auth/securid5.c:<br>
SecurID API version 5 support from Michael Stroucken
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16547b2ef"
>[16547b2ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add check for SecurID 5.0 API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1039ff788"
>[1039ff788]</a></li>
</ul>
</dd>
<dt>2002-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>strerror.c:<br>
We actually do still need config.h to get the &lsquo;const&rsquo; definition for K&amp;R
C.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09f5d0a46"
>[09f5d0a46]</a></li>
</ul>
</dd>
<dt>2002-05-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen with autoconf 2.5.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109155726"
>[109155726]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Don&rsquo;t set sysconfdir to &lsquo;/etc&rsquo; if the user has specified a &ndash;prefix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80f50dbc4"
>[80f50dbc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Some fixes for autoconf 2.53 from Robert Uhl o don&rsquo;t AC_SUBST LIBOBJS o
force a 4th arg for AC_CHECK_HEADER() to workaround a bug
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac8ca82f0"
>[ac8ca82f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c, sudo.h:<br>
No need for dump_badenv() now that dump_defaults() knows how to dump
lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f60107a1"
>[0f60107a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, INSTALL, INSTALL.binary, Makefile.in, README, configure.in,
version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed4f749c7"
>[ed4f749c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document timestampowner
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd4ec1d2b"
>[cd4ec1d2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Don&rsquo;t call set_perms() when doing timestamp stuff unless timestamp_uid
!= 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=982218c34"
>[982218c34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c, check.c, logging.c, parse.c, set_perms.c, sudo.c,
sudo.h, testsudoers.c:<br>
g/c second arg to set_perms&ndash;it is no longer used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c28915995"
>[c28915995]</a></li>
</ul>
</dd>
<dt>2002-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, set_perms.c, sudo.c, sudo.h:<br>
Add support for non-root timestamp dirs. This allows the timestamp dir
to be shared via NFS (though this is not recommended).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a30951d34"
>[a30951d34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Add timestampowner, &ldquo;Owner of the authentication timestamp dir&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15965c2ce"
>[15965c2ce]</a></li>
</ul>
</dd>
<dt>2002-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Don&rsquo;t try to pre-compute the size of the new envp, just allocate space
up front and realloc as needed. Changes to the new env pointer must all
be made through insert_env() which now keeps track of spaced used and
allocates as needed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f7d80188"
>[3f7d80188]</a></li>
</ul>
</dd>
<dt>2002-04-26  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4160f7eb7"
>[4160f7eb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix two typo/pastos; from jrj@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0a5ce978"
>[e0a5ce978]</a></li>
</ul>
</dd>
<dt>2002-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.binary, README:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc8a177c9"
>[cc8a177c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in,
visudo.cat, visudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da7384a0e"
>[da7384a0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON, TODO:<br>
Sync with 1.6.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=853669984"
>[853669984]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
The the loop used to expand %h and %u, the lastchar variable was not
being initialized. This means that if the last char in the prompt is &lsquo;%&rsquo;
and the first char is &lsquo;h&rsquo; or &lsquo;u&rsquo; a extra copy of the host or user name
would be copied, for which space had not been allocated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db63aefb2"
>[db63aefb2]</a></li>
</ul>
</dd>
<dt>2002-04-18  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, configure.in, version.h:<br>
crank version to 1.6.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9bb746df"
>[d9bb746df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c:<br>
#undef VOID to get rid of an AFS warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=763db0e63"
>[763db0e63]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Use easprintf instead of emalloc + sprintf for some things.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a57620762"
>[a57620762]</a></li>
</ul>
</dd>
<dt>2002-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08ee411a6"
>[08ee411a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, parse.yacc, testsudoers.c:<br>
Remove Chris Jepeway&rsquo;s email address so people don&rsquo;t bug him ;-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cc2f3b3e"
>[7cc2f3b3e]</a></li>
</ul>
</dd>
<dt>2002-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Move endpwent() to be after set_perms(PERM_RUNAS, &hellip;) and also call
endgrent() at the same time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99cc62452"
>[99cc62452]</a></li>
</ul>
</dd>
<dt>2002-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Make it clear which configure options take arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c23b1b68"
>[1c23b1b68]</a></li>
</ul>
</dd>
<dt>2002-01-25  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
HP-UX 9.x has RLIMIT_* but no RLIM_INFINITY. If there is no
RLIM_INFINITY, just pretend it is -1. This works because we only check
for RLIM_INFINITY and do not set anything to that value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1bb1bc09"
>[d1bb1bc09]</a></li>
</ul>
</dd>
<dt>2002-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Zero and free allocated memory when there is a conversation error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef1f01874"
>[ef1f01874]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c:<br>
Use sigaction() not signal()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33efe1270"
>[33efe1270]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Mention that some linux kernels have broken POSIX saved ID support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da6aa6157"
>[da6aa6157]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for 1.6.5p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ec9784be"
>[1ec9784be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7748f4b4e"
>[7748f4b4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add &ndash;disable-setreuid flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a186c346"
>[5a186c346]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Document new &ndash;disable-setreuid option and change description for
&ndash;disable-saved-ids to match new error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2292a1d2f"
>[2292a1d2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c:<br>
fatal() now takes an argument that determines whether or not to call
perror().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf0aa0ae7"
>[bf0aa0ae7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Update for new error messages from set_perms()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86a50f8ca"
>[86a50f8ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
Update for new error messages from set_perms()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dea05aa2"
>[6dea05aa2]</a></li>
</ul>
</dd>
<dt>2002-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Make this compile w/o warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d195bd7f1"
>[d195bd7f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Mention that we can&rsquo;t use pam_acct_mgmt()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a61088a43"
>[a61088a43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c:<br>
The user&rsquo;s password was not zeroed after use when AIX authentication,
BSD authentication, FWTK or PAM was in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ebe32423"
>[0ebe32423]</a></li>
</ul>
</dd>
<dt>2002-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Avoid giving PAM a NULL password response, use the empty string instead.
This avoids a log warning when the user hits ^C at the password prompt
when PAM is in use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73979f1a2"
>[73979f1a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Don&rsquo;t check the return value of pam_setcred(). In Linux-PAM 0.75
pam_setcred() returns the last saved return code, not the return code
for the setcred module. Because we haven&rsquo;t called pam_authenticate(),
this is not set and so pam_setcred() returns PAM_PERM_DENIED.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a6c0ea2e"
>[3a6c0ea2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Don&rsquo;t need a &lsquo;/&rsquo; between $(DESTDIR) and a directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3646887d5"
>[3646887d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary:<br>
Don&rsquo;t need a &lsquo;/&rsquo; between $(DESTDIR) and a directory.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=839cd24a8"
>[839cd24a8]</a></li>
</ul>
</dd>
<dt>2002-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0eb8bfd9"
>[c0eb8bfd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o BSDi also has a bogus setreuid() o Old FreeBSD has a bogus setreuid()
o new NetBSD has a real setreuid() o add check for freeifaddrs() if
getifaddrs() exists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c9139457"
>[1c9139457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, interfaces.c:<br>
Older BSDi releases lack freeifaddrs() so add a test for that and if it
is not present just use free().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35014b44b"
>[35014b44b]</a></li>
</ul>
</dd>
<dt>2002-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, RUNSON:<br>
Checkpoint for 1.6.5p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10a86c771"
>[10a86c771]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c:<br>
Return AUTH_FAILURE in passwd_init() if skeyaccess() denies access to
normal passwords, not AUTH_FATAL (which just causes an exit).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05d1f0290"
>[05d1f0290]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Don&rsquo;t use memory after it has been freed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b6bfbf45"
>[1b6bfbf45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c:<br>
skeyaccess() wants a struct passwd * not a char *; Patch from Phillip E.
Lobbes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=437464847"
>[437464847]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aba0e43da"
>[aba0e43da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON, TODO:<br>
checkpoint for sudo 1.6.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea2bfc5fd"
>[ea2bfc5fd]</a></li>
</ul>
</dd>
<dt>2002-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7a5dc39f"
>[a7a5dc39f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, INSTALL.binary, Makefile.in, README, configure.in:<br>
version 1.6.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b72dadcb9"
>[b72dadcb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
sudo version 1.6.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16472afa0"
>[16472afa0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>logging.c:<br>
o when invoking the mailer as root use a hard-coded environment that
doesn&rsquo;t include any info from the user&rsquo;s environment. Basically
paranoia.</p>
<p>o Add support for the NO_ROOT_MAILER compile-time option and run the
mailer as the user and not root if NO_ROOT_MAILER is defined.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=261f81907"
>[261f81907]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.h:<br>
Bring back PERM_FULL_USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fec1b63ca"
>[fec1b63ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b2219c08"
>[7b2219c08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
version 1.6.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d48d93a7"
>[4d48d93a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure.in:<br>
Add &ndash;disable-root-mailer option to run the mailer as the user and not
root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aac4f03b"
>[0aac4f03b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for 1.6.4p2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5694aa532"
>[5694aa532]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
Mention the &ldquo;seteuid(0): Operation not permitted&rdquo; problem here too just
for good measure.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c12bb733b"
>[c12bb733b]</a></li>
</ul>
</dd>
<dt>2002-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c, getspwuid.c, sudo.c:<br>
The SHELL environment variable was preserved from the user&rsquo;s environment
instead of being reset based on the passwd database when the &ldquo;env_reset&rdquo;
option was used. Now it is reset as it should be.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea24bef19"
>[ea24bef19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5236ceedf"
>[5236ceedf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, TROUBLESHOOTING, config.h.in, configure.in, set_perms.c,
sudo.c:<br>
Add a configure option to turn off use of POSIX saved IDs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f03942725"
>[f03942725]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62233923e"
>[62233923e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add &ndash;with-efence option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=495dc9248"
>[495dc9248]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Only OR in MODE_RESET_HOME if MODE_RUN is set. Fixes a problem where
&ldquo;sudo -l&rdquo; would not work if always_set_home was set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb97ce45e"
>[eb97ce45e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b7187483"
>[8b7187483]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Quoted commas were not being treated correctly in command line
arguments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08b394dc3"
>[08b394dc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>sudo.c:<br>
o Move the call to rebuild_env() until after MODE_RESET_HOME is set.
Otherwise, the set_home option has no effect.</p>
<p>o Fix use of freed memory when the &ldquo;fqdn&rdquo; flag is set. This was
introduced by the fix for the &ldquo;segv when gethostbynam() fails&rdquo; bug.
Also, we no longer call set_fqdn() if the &ldquo;fqdn&rdquo; flag is not set so
there is no need to check the &ldquo;fqdn&rdquo; flag in set_fqdn() itself.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26e835b09"
>[26e835b09]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add &lsquo;continue&rsquo; statements to optimize the switch statement. From Solar.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b6d4ad87"
>[1b6d4ad87]</a></li>
</ul>
</dd>
<dt>2002-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
Regen from new sudoers.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e869e0eb5"
>[e869e0eb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Add caveat about stay_setuid flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=017366ce4"
>[017366ce4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
If set_perms == set_perms_posix and the stay_setuid flag is not set, set
all uids to 0 and use set_perms_fallback().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9eac6eeaa"
>[9eac6eeaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.h:<br>
Remove PERM_FULL_USER (which is no longer used) and add PERM_FULL_ROOT
(used when exec&rsquo;ing the mailer).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26f2a9655"
>[26f2a9655]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Use set_perms(PERM_FULL_ROOT, 0) before exec&rsquo;ing the mailer since we
never want to run the mailer setuid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddf96f301"
>[ddf96f301]</a></li>
</ul>
</dd>
<dt>2002-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod, visudo.cat, visudo.man.in, visudo.pod:<br>
Use sudo.ws instead of courtesan.com in URLs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2abe7d8e1"
>[2abe7d8e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary, Makefile.in:<br>
Fix mansect substitution
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96fc0545c"
>[96fc0545c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Substitute man sections in Makefile.binary
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43a65bb5c"
>[43a65bb5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary:<br>
Sync install targets with Makefile.in and substitute in man sections.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6be68c67"
>[a6be68c67]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, INSTALL.binary:<br>
version is 1.6.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1b65f1e6"
>[e1b65f1e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Repair bindist target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33336389e"
>[33336389e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
sync for 1.6.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81b534b29"
>[81b534b29]</a></li>
</ul>
</dd>
<dt>2002-01-10  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
Fix case where neither whoami nor id are found
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fe1bcd3d"
>[2fe1bcd3d]</a></li>
</ul>
</dd>
<dt>2002-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
If neither whoami nor id exists, just assume we are root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0244c4ee6"
>[0244c4ee6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
Add explicit cast to (VOID *) on malloc/realloc. Seems to be needed on
AIX which for some reason isn&rsquo;t pulling in the malloc prototype.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7da5ec51"
>[b7da5ec51]</a></li>
</ul>
</dd>
<dt>2002-01-08  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, compat.h, parse.c, sudo.c:<br>
(c) 2002
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a82e7a8ef"
>[a82e7a8ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0847eb01"
>[d0847eb01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Defer assigning new environment until right before the exec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53299b78a"
>[53299b78a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
kill extra blank line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd74bbdfb"
>[bd74bbdfb]</a></li>
</ul>
</dd>
<dt>2002-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5849db069"
>[5849db069]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Use -O not -O2 for m88k-motorola-sysv* since motorola gcc-derived
compiler doesn&rsquo;t recognise -O2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de7c18845"
>[de7c18845]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
Clarify origins of Root Group sudo a bit based on info from billp@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0910f8203"
>[0910f8203]</a></li>
</ul>
</dd>
<dt>2002-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE:<br>
2002
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ac8e6f38"
>[1ac8e6f38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint for 1.6.4rc1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45a28b58a"
>[45a28b58a]</a></li>
</ul>
</dd>
<dt>2002-01-02  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
now generated via autoheader
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce95eb80b"
>[ce95eb80b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b05c753da"
>[b05c753da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Move in some stuff that was previously in config.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3e429aed"
>[a3e429aed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
Add info for autoheader.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5baef4dad"
>[5baef4dad]</a></li>
</ul>
</dd>
<dt>2002-01-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
o Add DESTDIR support o Use -M, -O, and -G instead of -m, -o, and -g to
facilitate non-root installs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edbdf215f"
>[edbdf215f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>install-sh:<br>
Add -M option (like -m but only for root) If we can&rsquo;t find &ldquo;whoami&rdquo;, use
&ldquo;id&rdquo; w/ some sed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76b2f1a32"
>[76b2f1a32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed6b129d8"
>[ed6b129d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
allow user to always override mansectsu and mansectform
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=513605df4"
>[513605df4]</a></li>
</ul>
</dd>
<dt>2001-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>mkinstalldirs:<br>
update from autoconf 2.52
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eecc076ef"
>[eecc076ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Update from autoconf 2.52
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=360f4d01f"
>[360f4d01f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen with autoconf 2.52
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0b31d588"
>[c0b31d588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o Call AC_PROG_CC_STDC to find out how to run the compiler in ANSI mode
o Remove compiler-specific checks for HP-UX now that we use
AC_PROG_CC_STDC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ae422826"
>[1ae422826]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
Checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24995ea37"
>[24995ea37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
o Add pam_prep_user function to call pam_setcred() for the target user;
on Linux this often sets resource limits. o When calling pam_end(), try
to convert the auth-&gt;result to a PAM_FOO value. This is a hack&ndash;we
really need to stash the last PAM_FOO value received and use that
instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a78f6e75"
>[9a78f6e75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.h:<br>
o Add pam_prep_user function to call pam_setcred() for the target user;
on Linux this often sets resource limits.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a55e6898e"
>[a55e6898e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Fix off by one error in number of bytes allocated via malloc (does not
affected any released version of sudo).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=705c4c751"
>[705c4c751]</a></li>
</ul>
</dd>
<dt>2001-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aa5f6850"
>[8aa5f6850]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Allow &lsquo;@&rsquo;, &lsquo;(&rsquo;, &lsquo;)&rsquo;, &lsquo;:&rsquo; in arguments to a defaults variable w/o
requiring that they be quoted.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d5c6783d"
>[5d5c6783d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Mention that no double quotes are needed when adding/deleting/assigning
a single value to a list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=412819b40"
>[412819b40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Don&rsquo;t rely on mkdefaults being executable, call perl explicitly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e69a33b47"
>[e69a33b47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e86de6496"
>[e86de6496]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Remove some XXX that are no longer relevant.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf2952dd8"
>[cf2952dd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
o Roll our own loop instead of using strpbrk() for better grokability o
When adding to a list we must malloc() and use memcpy(), not strdup()
since we must only copy len bytes from str.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dc87eeb2"
>[8dc87eeb2]</a></li>
</ul>
</dd>
<dt>2001-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53320cadd"
>[53320cadd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
typo in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac4aa8115"
>[ac4aa8115]</a></li>
</ul>
</dd>
<dt>2001-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
checkpoint
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b961b88af"
>[b961b88af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ceda8c9b"
>[7ceda8c9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
avoid the -g flag unless &ndash;with-devel was specified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83c2e51ba"
>[83c2e51ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
mkdefaults, def_data.in and sigaction.c were missing from the tarball
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e69dc38fd"
>[e69dc38fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
def_data.c was missing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21de57f54"
>[21de57f54]</a></li>
</ul>
</dd>
<dt>2001-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
Fix setting of $USER and $LOGNAME in the non-reset_env case. Also allow
HOME, SHELL, LOGNAME, and USER to be specified in keep_env
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=087f5a7d5"
>[087f5a7d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
Another TODO item
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdae7ed9d"
>[fdae7ed9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
Add comment for Default section so folks know where it should go.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2403f24a2"
>[2403f24a2]</a></li>
</ul>
</dd>
<dt>2001-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Use TCSETAF, not TCSETA to set terminal in termio case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cc2362d4"
>[0cc2362d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen from sudoers.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a459e6a31"
>[a459e6a31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
o Typo, Runas_User_List should be Runas_List o a User_List can not
contain a uid o mention that the Defaults section should come after
Alias definitions but before the user specifications
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a3300763"
>[9a3300763]</a></li>
</ul>
</dd>
<dt>2001-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b42400d77"
>[b42400d77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix listpw and verifypw sections, they were not being formatted
properly.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16912179e"
>[16912179e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df7144394"
>[df7144394]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
fix typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d24eac7fd"
>[d24eac7fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4b65750e"
>[b4b65750e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
use AC_SYS_POSIX_TERMIOS instead of rolling our own
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=313bbae1d"
>[313bbae1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
Reference sudo.ws not courtesan.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3970677c"
>[f3970677c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
Add notes on shadow passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dd7527bd"
>[8dd7527bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
In list mode (sudo -l), characters escaped with a backslash are shown
verbatim with the backslash.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a4d81f8"
>[81a4d81f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
Add simple examples from OpenBSD (Marc Espie)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c953644f6"
>[c953644f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Catch SIGTTIN and SIGTTOU too and treat them like SIGTSTP.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=540ba4287"
>[540ba4287]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
minor prettyification
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4e9f7cff"
>[a4e9f7cff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
Updated change log
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c587ba66"
>[4c587ba66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Fix CIDR handling here too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b083b9f92"
>[b083b9f92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Apparently a NULL response is OK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79df2fa42"
>[79df2fa42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
Checkpoint for upcoming beta release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e1e65807"
>[1e1e65807]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Many people believe that adding a runas spec should obviate the need for
the -u flag. It does not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4450b82c8"
>[4450b82c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
checkpoint update for upcoming 1.6.4 beta
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a138852ea"
>[a138852ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
o Add HAVE_STDLIB_H and HAVE_MEMORY_H o Define HAVE_STRINGS_H even if
HAVE_STRING_H is defined &ndash; this is safe now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7be0cd14a"
>[7be0cd14a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
Add signals section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22d04a60b"
>[22d04a60b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab70cc89b"
>[ab70cc89b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Fix check for sigaction_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=947573dbe"
>[947573dbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
XXX - should call find_path() as runas user, not root. Can&rsquo;t do that
until the parser changes though.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afe8333fc"
>[afe8333fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
If find_path() fails as root, try again as the invoking user (useful for
NFS). Idea from Chip Capelik.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfadcb173"
>[cfadcb173]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in:<br>
Regenerate after pod file changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dc5439c2"
>[3dc5439c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, set_perms.c, sudo.c, sudo.h,
sudo.pod, sudoers.pod:<br>
Add new sudoers option &ldquo;preserve_groups&rdquo;. Previously sudo would not call
initgroups() if the target user was root. Now it always calls
initgroups() unless the -P command line option or the &ldquo;preserve_groups&rdquo;
sudoers option is set. Idea from TJ Saunders.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=761b119e2"
>[761b119e2]</a></li>
</ul>
</dd>
<dt>2001-12-14  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h, config.h.in:<br>
Use new HAVE_SIGACTION_T define
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66d801055"
>[66d801055]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Fix compilation on K&amp;C
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d723eda8"
>[3d723eda8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82a1cba52"
>[82a1cba52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add check for sigaction_t &ndash; IRIX already defines this so don&rsquo;t redefine
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f20e80b9"
>[1f20e80b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3a5ef5b7"
>[b3a5ef5b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
need stdlib.h here too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b925f81a"
>[3b925f81a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df5df978d"
>[df5df978d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Remove redundant checks for string.h, strings.h and unistd.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06461973d"
>[06461973d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
Regen from pod files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d0b523ae"
>[5d0b523ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
Update for 1.6.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba0635bf5"
>[ba0635bf5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=722cebb5c"
>[722cebb5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strerror.c:<br>
Return EINVAL if errnum &gt; sys_nerr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0315c59e"
>[e0315c59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.h:<br>
o Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=152e745d7"
>[152e745d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, Makefile.binary, Makefile.in, aclocal.m4, compat.h,
config.h.in, defaults.h, interfaces.h, pathnames.h.in, sudo.h, sudo.pod:
o Update copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47dff3718"
>[47dff3718]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o Don&rsquo;t define STDC_HEADERS unconditionally for IRIX o Update copyright
year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2b2b6c3d"
>[c2b2b6c3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
update version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea17e9fd6"
>[ea17e9fd6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, auth/bsdauth.c, auth/dce.c, auth/fwtk.c,
auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/passwd.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/sia.c, auth/sudo_auth.c,
logging.c, parse.c, parse.lex, parse.yacc, set_perms.c, snprintf.c,
sudo.c, testsudoers.c, tgetpass.c, utime.c, visudo.c:<br>
o Reorder some headers and use STDC_HEADERS define properly o Update
copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65fad4df3"
>[65fad4df3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
o Reorder some headers and use STDC_HEADERS define properly o Update
copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31053cfac"
>[31053cfac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, goodpath.c, interfaces.c:<br>
o Reorder some headers and use STDC_HEADERS define properly o Update
copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f61723c47"
>[f61723c47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
o Reorder some headers and use STDC_HEADERS define properly o Update
copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca12a5bef"
>[ca12a5bef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, check.c, defaults.c, env.c, fileops.c, find_path.c, fnmatch.c:<br>
o Reorder some headers and use STDC_HEADERS define properly o Update
copyright year
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46dd419cd"
>[46dd419cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38a890097"
>[38a890097]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
flags set in signal handlers should be volatile sig_atomic_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1dd45403"
>[b1dd45403]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add checks for volatile and sig_atomic_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86743d987"
>[86743d987]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0095c2f9"
>[b0095c2f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in, defaults.c, env.c, find_path.c,
sudo.c, sudoers.pod:<br>
Remove &ldquo;secure_path&rdquo; Defaults option since it cannot work with the
existing parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e677e102"
>[2e677e102]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, sudo.c:<br>
Unset &ldquo;secure_path&rdquo; if user_is_exempt()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f590093e4"
>[f590093e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, pathnames.h.in:<br>
o Remove assumption that PATH and TERM are not listed in env_keep o If
no PATH is in the environment use a default value o If TERM is not set
in the non-reset case also give it a default value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cbd965d6"
>[2cbd965d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in, defaults.c, pathnames.h.in:<br>
_PATH_SENDMAIL -&gt; _PATH_SUDO_SENDMAIL so &ndash;without-sendmail works on
systems that define in paths.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be8422eed"
>[be8422eed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c, auth/sudo_auth.c, auth/sudo_auth.h:<br>
Add support for skeyaccess(3) if it is present in libskey.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e299dee34"
>[e299dee34]</a></li>
</ul>
</dd>
<dt>2001-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Only need to do &rsquo;lc = login_getclass(NULL)&rsquo; if lc == NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf92836ec"
>[cf92836ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
&lsquo;\&rsquo; is a perfectly legal character to have in a command line argument.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f97a5e44"
>[3f97a5e44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
o Defer call to set_fqdn() until it is safe to use log_error() o Don&rsquo;t
print errno string value if gethostbyname fails, it is not relevant
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=678f56e2e"
>[678f56e2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Fix CIDR -&gt; in_addr_t conversion.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4572e8046"
>[4572e8046]</a></li>
</ul>
</dd>
<dt>2001-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Remove an extra &ldquo;User_List&rdquo; in the User_Spec definition From ybertrand
AT snoopymail.com
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcdcc32a7"
>[bcdcc32a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
Make &rsquo;listpw=never&rsquo; work for users who are not explicitly mentioned in
sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afff0d56b"
>[afff0d56b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Remove gratuitous &lsquo;=&rsquo; in EBNF grammar; era AT iki.fi
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d1344a71"
>[3d1344a71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Document new list Defaults type and convert env_keep and env_delete to
lists. Document new env_check option.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1687838f"
>[b1687838f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c, sudo.tab.h:<br>
regen parser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d684d37a9"
>[d684d37a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Don&rsquo;t let &lsquo;#&rsquo; appear in a {WORD} and restrict #foo in a Runas spec to
#[0-9-]+.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4447e04fa"
>[4447e04fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40840e10c"
>[40840e10c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
Simpler SUDO_FUNC_ISBLANK that uses AC_TRY_LINK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=170eef964"
>[170eef964]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
Add check for skeyaccess(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f66fcb464"
>[f66fcb464]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
Document new -c, -f, and -q options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4632986cd"
>[4632986cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
o Add -f option (alternate sudoers file) o Convert to use getopt(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c4691a1d"
>[3c4691a1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4073b477f"
>[4073b477f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure.in:<br>
Add check for isblank and a replacement macro if it doesn&rsquo;t exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46be666b3"
>[46be666b3]</a></li>
</ul>
</dd>
<dt>2001-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
In check-only mode, don&rsquo;t create sudoers if it does not already exist.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f896ec2e"
>[8f896ec2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
o Add a new token, DEFVAR, to indicate a Defaults variable name o Add
support for &ldquo;+=&rdquo; and &ldquo;-=&rdquo; list operators o replace some 1 and 0 with
TRUE and FALSE for greater legibility.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=548639078"
>[548639078]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
o Use exclusive start conditions to remove some ambiguity in the lexer.
Also reorder some things for clarity. o Add support for &ldquo;+=&rdquo; and &ldquo;-=&rdquo;
list operators. o Use the new DEFVAR token to denote a Defaults variable
name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf2db3682"
>[cf2db3682]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Prototype init_envtables()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e63182a25"
>[e63182a25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
o Convert environment handling to use lists instead of strings. This
greatly simplifies routines that need to do &ldquo;foreach&rdquo; type operations. o
Add new init_envtables() function to set env_check and env_delete
defaults based on initial_badenv_table and initial_checkenv_table
(formerly sudo_badenv_table).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=199a17436"
>[199a17436]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
o Add a new LIST type and functions to manipulate it. o This is for use
with environment handling variables. o Call new init_envtables() routine
inside init_defaults() to initialize the environment lists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f818e2c3"
>[2f818e2c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c, def_data.h, def_data.in:<br>
Convert environment options to use the new LIST type and add a new one,
env_check that only deletes if the sanity check fails.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93971de65"
>[93971de65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Add dummy version of init_envtables()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b93f51d5"
>[7b93f51d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
honor quiet mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0e806a12"
>[f0e806a12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Add check-only mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7f91aff5"
>[f7f91aff5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdefaults:<br>
Fix generation of entries with NULL descriptions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76ff0218c"
>[76ff0218c]</a></li>
</ul>
</dd>
<dt>2001-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Use sigaction_t and quiet a gcc warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d38e57ef4"
>[d38e57ef4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Must reset signal handlers before we exec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cad1daa7"
>[4cad1daa7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c,
auth/sudo_auth.c:<br>
Be carefule now that tgetpass() can return NULL (user hit ^C). PAM
version needs testing. Set SIGTSTP to SIG_DFL during password entry so
user can suspend us.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88951a3b9"
>[88951a3b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Add support for interrupting/suspending tgetpass via keyboard input. If
you suspend sudo from the password prompt and resume it will re-prompt
you.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d6d4628f"
>[6d6d4628f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t block keyboard interrupt signals, just set them to SIG_IGN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60bbfa42d"
>[60bbfa42d]</a></li>
</ul>
</dd>
<dt>2001-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
add back HAVE_SIGACTION
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6545c86f"
>[e6545c86f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c570580e4"
>[c570580e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in, logging.c, sudo.c, visudo.c:<br>
Kill POSIX_SIGNALS define and old signal support now that we emulate
POSIX ones Also be sure to correctly initialize struct sigaction.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=241cb64cc"
>[241cb64cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strerror.c:<br>
Don&rsquo;t need config.h or &ldquo;#ifndef HAVE_STRERROR&rdquo; wrapper.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=028a55fb2"
>[028a55fb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Add scaffolding for POSIX signal emulation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb66a3315"
>[fb66a3315]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sigaction.c:<br>
o Add missing &lsquo;;&rsquo; so this compiles o Can&rsquo;t use NULL since we don&rsquo;t
include stdio.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0cee8304a"
>[0cee8304a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sigaction.c:<br>
Emulate sigaction() using sigvec()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9af30ba66"
>[9af30ba66]</a></li>
</ul>
</dd>
<dt>2001-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Document new behavior of negative values of timestamp_timeout Fix a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78d67cfb5"
>[78d67cfb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Add security note about command not being logged after &lsquo;sudo su&rsquo; and
friends.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eac21ad7b"
>[eac21ad7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Mention that -V prints default values when run as root, including the
list of environment variables to clear.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=031b00921"
>[031b00921]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Run pod2man with &ndash;quotes=none to avoid stupid quoting of C&lt;&gt; entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc5272531"
>[fc5272531]</a></li>
</ul>
</dd>
<dt>2001-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/sudo_auth.c, def_data.c, def_data.h, def_data.in, sudoers.pod:<br>
Add mail_badpass option Also modify mail_always behavior to also send
mail when the password is wrong
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de9d655ea"
>[de9d655ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c, sudo.c, sudo.h:<br>
Dump default bad env table when &lsquo;sudo -V&rsquo; is run by root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63ae9ec2a"
>[63ae9ec2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document env_delete
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4c0f0046"
>[c4c0f0046]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add support for &lsquo;*&rsquo; in env_keep when not resetting the environment (ie:
the normal case).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65302649f"
>[65302649f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Add env_delete variable that lets the user replace/add to the
bad_env_table. Allow &lsquo;*&rsquo; wildcard in env_keep entries.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab020c056"
>[ab020c056]</a></li>
</ul>
</dd>
<dt>2001-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>mkinstalldirs:<br>
Force umask to 022 to guarantee sane directory permissions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07f5d7ae7"
>[07f5d7ae7]</a></li>
</ul>
</dd>
<dt>2001-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
add sudo.tab.h and sudo.tab.c to sudo.tab.o dependency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5133d4a34"
>[5133d4a34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdefaults:<br>
fix breakage in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d5486db9"
>[2d5486db9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
acsite.m4 -&gt; aclocal.m4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d232a6aa"
>[1d232a6aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fix I_TS_TIMEOUT vs. I_TIMESTAMP_TIMEOUT pasto in previous commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dea43637e"
>[dea43637e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.c:<br>
regenerated from def_data.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d50e2bb38"
>[d50e2bb38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, defaults.c, defaults.h:<br>
Add new T_UINT type that most things use instead of T_INT If
timestamp_timeout is &lt; 0 then treat the ticket as never expiring (to be
expired manually by the user).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3550d52a9"
>[3550d52a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>def_data.in:<br>
change most T_INT -&gt; T_UINT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0906516df"
>[0906516df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>mkdefaults:<br>
fix warning when no args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27a4c619b"
>[27a4c619b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Change 2 Exit() -&gt; exit() Avoid stdio in Exit() and call _exit() if we
are a signal handler. We no longer print the signal number but the user
can just check the exit value for that.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=717eb3fdf"
>[717eb3fdf]</a></li>
</ul>
</dd>
<dt>2001-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
when setting up pipes in child process check for case where stdin ==
pipe fd 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fbc786d6"
>[1fbc786d6]</a></li>
</ul>
</dd>
<dt>2001-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Ignore editor exit value since XPG4 says vi&rsquo;s exit value is the count of
editing errors made (failed searches, etc).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6e0c7049"
>[d6e0c7049]</a></li>
</ul>
</dd>
<dt>2001-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d17da315a"
>[d17da315a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
sco now is identified by config.guess as <em>-sco-</em>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fb718e7f"
>[8fb718e7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Check for getspnam() in -lgen if not in -lc for UnixWare.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89f2ab84d"
>[89f2ab84d]</a></li>
</ul>
</dd>
<dt>2001-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod, visudo.pod:<br>
&ldquo;upper case&rdquo; -&gt; &ldquo;uppercase&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ace935f8a"
>[ace935f8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
fix typos and grammar; pjanzen@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51dd80bd7"
>[51dd80bd7]</a></li>
</ul>
</dd>
<dt>2001-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Missing word (specify); krapht@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12a978331"
>[12a978331]</a></li>
</ul>
</dd>
<dt>2001-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
If we fail to lookup a login class, apply the default one.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29871e442"
>[29871e442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
In log_error() free message, not logline unconditionally, then free
logline if it is not the same as message. No function change but this
mirrors how they are allocated.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b31b73f07"
>[b31b73f07]</a></li>
</ul>
</dd>
<dt>2001-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regenerate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=944044e30"
>[944044e30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
remove some backslash quotes that are unneeded
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f8d2fb3e"
>[7f8d2fb3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o Tweaks to make this work with autoconf-2.50 o Use AC_LIBOBJ instead of
changing LIBOBJS directly o Use AC_REPLACE_FUNCS where we can o Use
AC_CHECK_FUNCS instead of AC_CHECK_FUNC so we don&rsquo;t have to AC_DEFINE
things manually.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4969fa536"
>[4969fa536]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Updated from autoconf-2.50
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb79789ac"
>[cb79789ac]</a></li>
</ul>
</dd>
<dt>2001-05-22  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
Update mailing list section. We use mailman now, not majordomo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c3273aaf"
>[0c3273aaf]</a></li>
</ul>
</dd>
<dt>2001-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>getspwuid.c, logging.c, sudo.c:<br>
Use setpwent()/endpwent() + all the shadow variants to make sure we
don&rsquo;t inadvertantly leak an fd to the child. Apparently Linux&rsquo;s shadow
routines leave the fd open even if you don&rsquo;t call setspent(). Reported
by mike@&hellip;; different patch used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11127e346"
>[11127e346]</a></li>
</ul>
</dd>
<dt>2001-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
s/eg./e.g./
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=993409b90"
>[993409b90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
select() may return EAGAIN. If so, continue like we do for EINTR.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d9fb0a5a"
>[2d9fb0a5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Fix a non-exploitable buffer overflow in the word splitting code. This
should really be rewritten.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dd02e2fb"
>[9dd02e2fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
FAQ link goes away
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c70104020"
>[c70104020]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Tell people to look in sample.syslog.conf for examples, not FAQ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=224c77f5a"
>[224c77f5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Update list of env vars that are cleared
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af93a4422"
>[af93a4422]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
remove struct env_table decl since that stuff has all moved to env.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=646bd7034"
>[646bd7034]</a></li>
</ul>
</dd>
<dt>2001-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>fileops.c:<br>
Fix a pasto in flock-style unlocking and include &lt;sys/file.h&gt; for
flock on older systems; twetzel@gwdg.de
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6b005f25"
>[a6b005f25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen to get NeXT lockf/flock fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6fcf09f56"
>[6fcf09f56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
force NeXT to use flock since lockf is broken
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a788475e5"
>[a788475e5]</a></li>
</ul>
</dd>
<dt>2001-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
Use stashed user_gid when checking against exempt gid since sudo sets
its gid to a a value that makes sudoers readable. Previously if you used
gid 0 as the exempt group everyone would be exempt. From Paul Kranenburg
&lt;pk@cs.few.eur.nl&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f6906953"
>[4f6906953]</a></li>
</ul>
</dd>
<dt>2001-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f1ff9a1e"
>[4f1ff9a1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
#include stdio.h in SUDO_CHECK_TYPE since IRIX 6 aparently defines some
types (such as ssize_t) therein.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2282d3e4"
>[e2282d3e4]</a></li>
</ul>
</dd>
<dt>2001-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
Fix negation of paths in a boolean context. Problem found by apt@UH.EDU
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a64a6abd3"
>[a64a6abd3]</a></li>
</ul>
</dd>
<dt>2001-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=132f59534"
>[132f59534]</a></li>
</ul>
</dd>
<dt>2001-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
SA_RESETHAND means the opposite of what I was thinking&ndash;oops To block
all signals in old-style signals use ~0, not 0xffffffff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394ececcb"
>[394ececcb]</a></li>
</ul>
</dd>
<dt>2001-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
coerce difference of pointers to int when used in a string length printf
format; deraadt@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=422021aeb"
>[422021aeb]</a></li>
</ul>
</dd>
<dt>2001-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Block all signals in Exit() to avoid a signal race. There is still a
tiny window but I&rsquo;m not going to worry about it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af80178b8"
>[af80178b8]</a></li>
</ul>
</dd>
<dt>2001-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>env.c:<br>
glibc uses the LANGUAGE env var so clear that too; Solar Designer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeb8cefc4"
>[aeb8cefc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
Regenerate with a fix to flex.skl that preserves errno from clobbering
by isatty().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0a75258b"
>[f0a75258b]</a></li>
</ul>
</dd>
<dt>2000-12-31  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/aix_auth.c, auth/bsdauth.c, auth/fwtk.c, auth/pam.c, auth/sia.c,
auth/sudo_auth.c:<br>
Some defaults I_ defines got renamed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16e6a3b84"
>[16e6a3b84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, def_data.c, def_data.h, def_data.in, defaults.c,
defaults.h, env.c, logging.c, mkdefaults, parse.yacc, set_perms.c,
sudo.c, sudo.tab.c:<br>
Move defaults info into its own files from which we generate .h and .c
files. This makes adding or rearranging variables much simpler.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d956d7752"
>[d956d7752]</a></li>
</ul>
</dd>
<dt>2000-12-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
fix typo in last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ca4d6515"
>[4ca4d6515]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure, configure.in:<br>
Add check + emulation for setegid (like seteuid).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5481e2289"
>[5481e2289]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>env.c:<br>
Make env_keep override badenv_table as documented Fix traversal of
badenv_table (broken in last commit)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1875e4747"
>[1875e4747]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>set_perms.c, sudo.c, sudo.h:<br>
Don&rsquo;t try and build saved uid version of set_perms on systems w/o them.
Rename set_perms_saved_uid() -&gt; set_perms_posix() Make
set_perms_setreuid simply be set_perms_fallback() and simply include the
appropriate function at compile time (setreuid() vs. setuid()).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=572b4cf39"
>[572b4cf39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
PATH is also preserved when env_reset is in effect
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9318379d8"
>[9318379d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>CHANGES, Makefile.in, check.c, compat.h, config.h.in, configure,
configure.in, defaults.c, defaults.h, env.c, find_path.c, getspwuid.c,
set_perms.c, sudo.c, sudo.cat, sudo.h, sudo.man.in, sudo.pod,
sudoers.cat, sudoers.man.in, sudoers.pod, testsudoers.c, visudo.c,
visudo.cat, visudo.man.in:<br>
New Defaults options: o stay_setuid - sudo will remain setuid if system
has saved uids or setreuid(2) o env_reset - reset the environment to a
sane default o env_keep - preserve environment variables that would
otherwise be cleared</p>
<p>No longer use getenv/putenv/setenv functions&ndash;do environment munging by
hand. Potentially dangerous environment variables can be cleared only if
they contain &lsquo;/&rsquo; pr &lsquo;%&rsquo; characters to protect buggy programs. Moved
environment routines into env.c (new file)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=998631b73"
>[998631b73]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Clear up &ndash;without-passwd description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f88c0c930"
>[f88c0c930]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>putenv.c, sudo_setenv.c:<br>
We now build up a new environment from scratch and assign it to
&ldquo;environ&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=679fee0f5"
>[679fee0f5]</a></li>
</ul>
</dd>
<dt>2000-12-19  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
Grammatical fixes from Paul Janzen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=211d8c7de"
>[211d8c7de]</a></li>
</ul>
</dd>
<dt>2000-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
If there was a syntax error and the user just wants to quit, unlink
sudoers if it is zero length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6448c3523"
>[6448c3523]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
&lsquo;Q&rsquo; means ignore parse error, not &lsquo;q&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f14cf7973"
>[f14cf7973]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Open sudoers for writing with mode SUDOERS_MODE From Dimitry Andric
&lt;dim@xs4all.nl&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02559d344"
>[02559d344]</a></li>
</ul>
</dd>
<dt>2000-12-13  Todd C. Miller</dt>
<dd>
<ul>
<li>set_perms.c:<br>
Add missing #ifdef HAVE_LOGIN_CAP_H; ayamura@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=744917ed6"
>[744917ed6]</a></li>
</ul>
</dd>
<dt>2000-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.sub:<br>
Darwin / Mac OS X support from Wilfredo Sanchez &lt;wsanchez@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21cdac6b0"
>[21cdac6b0]</a></li>
</ul>
</dd>
<dt>2000-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, visudo.c:<br>
Use exit(127), not exit(-1)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ce284a13"
>[7ce284a13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>Makefile.in, defaults.c, defaults.h, set_perms.c, sudo.c:<br>
Move set_perms() to its own file and use POSIX saved uid or setreuid()
if available.</p>
<p>Added stay_setuid option for systems that have libraries that perform
extra paranoia checks in system libraries for setuid programs (ie:
anything with issetugid(2)).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ea65e54b"
>[7ea65e54b]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
strip more bits from the environment and add a facility for stripping
things only if they contain &lsquo;/&rsquo; or &lsquo;%&rsquo; to address printf format string
vulnerabilities in other programs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70f16a284"
>[70f16a284]</a></li>
</ul>
</dd>
<dt>2000-11-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3233194c"
>[c3233194c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
For NCR, add -lc89 to LIBS, not SUDO_LIBS and cache the existence of
strcasecmp().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8eb484858"
>[8eb484858]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ea228b39"
>[9ea228b39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Check for strcasecmp(3) in -lc89 for NCR Unix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e7efac42"
>[7e7efac42]</a></li>
</ul>
</dd>
<dt>2000-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
Define HAVE_INNETGR #ifdef HAVE__INNETGR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43905f4d7"
>[43905f4d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff9bbf0bd"
>[ff9bbf0bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, configure.in:<br>
Add check for _innetgr(3) since NCR systems have that instead of
innetgr(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fdb825a0"
>[4fdb825a0]</a></li>
</ul>
</dd>
<dt>2000-10-31  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/securid.c:<br>
check return value of creadcfg() call sd_close() after sd_auth() store
username in sd-&gt;username so we don&rsquo;t rely on the USER env variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92f5fad80"
>[92f5fad80]</a></li>
</ul>
</dd>
<dt>2000-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-bsdauth
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e4985821"
>[7e4985821]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60c1253c8"
>[60c1253c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
&ndash;with-bsdauth assumes &ndash;with-logincap
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9d00a88b"
>[e9d00a88b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c, auth/fwtk.c:<br>
When prompting for a response to a challenge, if the user just hits
return then reprompt with echo turned on.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ec9c6a45"
>[2ec9c6a45]</a></li>
</ul>
</dd>
<dt>2000-10-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Remove debugging code that should not have been committed, oops.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f31d6ce25"
>[f31d6ce25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/bsdauth.c:<br>
Use lower-level routines and get the password ourselves. Checks for a
challenge and if there is one echo is not turned off.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84baa9127"
>[84baa9127]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c, auth/sudo_auth.h:<br>
minor housekeeping, no real code changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a93a4aa7"
>[7a93a4aa7]</a></li>
</ul>
</dd>
<dt>2000-10-27  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>sudo.c:<br>
Fix a coredump in the logging functions if gethostname(2) fails by
deferring the call to log_error() until things are better setup.</p>
<p>Fix return value of set_loginclass() in non-BSD-auth case.</p>
<p>Hard-code &lsquo;sudo&rsquo; in the usage message so we can fit more options on a
line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e23d30b91"
>[e23d30b91]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Fix errant &lsquo;;&rsquo; (typo) that broken MSG_ONLY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ad0d64a1"
>[2ad0d64a1]</a></li>
</ul>
</dd>
<dt>2000-10-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dea1ce4d3"
>[dea1ce4d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
Document -a flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=975a58f6c"
>[975a58f6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, auth/bsdauth.c, auth/sudo_auth.h, config.h.in, configure,
configure.in, getspwuid.c, sudo.c:<br>
Add support for BSD authentication.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0208b2268"
>[0208b2268]</a></li>
</ul>
</dd>
<dt>2000-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Fix typo; from sato@complex.eng.hokudai.ac.jp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7ee4f988"
>[e7ee4f988]</a></li>
</ul>
</dd>
<dt>2000-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
Mention negating umask
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2365c52b2"
>[2365c52b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
Allow user to specify umask of 0777 (same as !umask)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=04777172c"
>[04777172c]</a></li>
</ul>
</dd>
<dt>2000-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
Fix a typo and give a URL for the sudo history.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44b9e4d4b"
>[44b9e4d4b]</a></li>
</ul>
</dd>
<dt>2000-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c, sudo.pod:<br>
fix typos; pepper@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ded7261fa"
>[ded7261fa]</a></li>
</ul>
</dd>
<dt>2000-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo.h, sudo_setenv.c:<br>
sudo_setenv() now exits on memory alloc failure instead of returning -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9745a3194"
>[9745a3194]</a></li>
</ul>
</dd>
<dt>2000-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Strip out NLSPATH and PATH_LOCALE from the environment for FreeBSD and
possibly others.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb5b07f4"
>[deb5b07f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Don&rsquo;t use vsyslog(3) since HP-UX (and others?) lack it. This means that
&ldquo;%m&rdquo; won&rsquo;t be expanded but we don&rsquo;t use that anyway since the logging
routines may splat to stderr as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff3a2315"
>[2ff3a2315]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h, sudo.c, sudoers.cat, sudoers.man.in,
sudoers.pod:<br>
Add always_set_home variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed7827dec"
>[ed7827dec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Have to hard code default values in help since the defaults are set
<em>after</em> the help stuff.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f743f06b"
>[4f743f06b]</a></li>
</ul>
</dd>
<dt>2000-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
Allow special characters (including &lsquo;#&rsquo;) to be embedded in pathnames if
quoted by a &lsquo;\&rsquo;. The quoted chars will be dealt with by fnmatch().
Unfortunately, &lsquo;sudo -l&rsquo; still prints the &lsquo;\&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d64ad7751"
>[d64ad7751]</a></li>
</ul>
</dd>
<dt>2000-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
Better path searching for programs we need.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=641e30612"
>[641e30612]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Add section on &ldquo;C compiler cannot create executables&rdquo; errors.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81cf72ec6"
>[81cf72ec6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.binary, Makefile.in, version.h:<br>
Crank version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87ccf62b7"
>[87ccf62b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, configure.in, sudo.cat, sudo.man.in, sudo.pod,
sudoers.cat, sudoers.man.in, sudoers.pod, visudo.cat, visudo.man.in,
visudo.pod:<br>
Substitute values from configure into man pages.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fafefc1df"
>[fafefc1df]</a></li>
</ul>
</dd>
<dt>2000-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, sudo.c:<br>
The listpw and verifypw sudoers options would not take effect because
the value of the default was checked <em>before</em> sudoers was parsed.
Instead of passing in the value of PWCHECK_* to sudoers_lookup(), pass
in the arg for def_ival() so the check can be deferred until after
sudoers is parsed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6525e882a"
>[6525e882a]</a></li>
</ul>
</dd>
<dt>2000-08-11  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
When writing prompt, no need to write the NUL as well; hag@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d76537718"
>[d76537718]</a></li>
</ul>
</dd>
<dt>2000-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
When looking for chown, check in /sbin too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f9dfff26"
>[8f9dfff26]</a></li>
</ul>
</dd>
<dt>2000-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Remove extraneous call to init_defaults() and set runas_user to NULL
betweem parses so init_defaults will reset it each time, thus avoiding a
reference to free()d data.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9a645879"
>[d9a645879]</a></li>
</ul>
</dd>
<dt>2000-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, interfaces.c, interfaces.h, sudo.c:<br>
Add support for using getifaddrs() to get the list of ip addr / netmask
pairs. Currently IPv4-only.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7050d561"
>[d7050d561]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Add a missing check for UserEditor == NULL Add missing &lsquo;+&rsquo; before line
number when invoking editor to fix a syntax error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61048797f"
>[61048797f]</a></li>
</ul>
</dd>
<dt>2000-05-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Call clean_env very early in main() for paranoia&rsquo;s sake. Idea from Marc
Esipovich.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a2dfb77f"
>[7a2dfb77f]</a></li>
</ul>
</dd>
<dt>2000-05-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
Update proto for evasprintf and easprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc15c3dbd"
>[fc15c3dbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
Make easprintf() and evasprintf() return an int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b00e117e3"
>[b00e117e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
If the targetpw flag is set, use target username as part of the
timestamp path. If tty tickets are in effect cat the tty and the target
username with a &lsquo;:&rsquo; as the separator.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=192b2ae6c"
>[192b2ae6c]</a></li>
</ul>
</dd>
<dt>2000-05-09  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
Backout part of last change; setting PAM_USER to the invoking user
breaks things like targetpw.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dce46e8c"
>[7dce46e8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
set tty and username via pam_set_item
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6becc577"
>[b6becc577]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c, check.c, getspwuid.c, sudo.c, sudo.h:<br>
Fix root, runas, and target authentication for non-passwd file auth
methods.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=165bd7faf"
>[165bd7faf]</a></li>
</ul>
</dd>
<dt>2000-04-22  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod, sudoers.cat, sudoers.man.in,
sudoers.pod, visudo.cat, visudo.man.in, visudo.pod:<br>
Use B&lt;-Z&gt; not C&lt;-Z&gt; for command line flags in all places. This is
more consistent and works around a bug in Pod::Man.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30daa8325"
>[30daa8325]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Fix an occurence of &lsquo;semicolon&rsquo; that should be &lsquo;colon&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d50daad2"
>[2d50daad2]</a></li>
</ul>
</dd>
<dt>2000-04-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix &ndash;with-badpri help line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=576ea0ed1"
>[576ea0ed1]</a></li>
</ul>
</dd>
<dt>2000-04-17  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c, logging.c, sudo.c:<br>
Bracket calls to syslog with an openlog() and closelog() since some
authentication methods (like PAM) may do their own logging via syslog.
Since we don&rsquo;t use syslog much (usually just once per session) this
doesn&rsquo;t really incur a performance penalty. It also Fixes a SEGV with
pam_kafs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=455f27816"
>[455f27816]</a></li>
</ul>
</dd>
<dt>2000-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Fix -H flag. runas_homedir is only valid after set_perms(PERM_RUNAS,
mode)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=978e3f8bc"
>[978e3f8bc]</a></li>
</ul>
</dd>
<dt>2000-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Clarify the fact that insults are not enabled just by including them in
the binary.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aef6d6ddb"
>[aef6d6ddb]</a></li>
</ul>
</dd>
<dt>2000-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudoers.cat, sudoers.man.in, visudo.cat,
visudo.man.in:<br>
Regenerated with perl 5.6.0 pod2man
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dffa5b014"
>[dffa5b014]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Give date string to pod2man since its default is ugly and it ain&rsquo;t got
no alibi.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e00f9c37"
>[7e00f9c37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Do section substitution on the output of pod2man and remove hack needed
for old pod2man.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0755c34a8"
>[0755c34a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, sudoers.pod, visudo.pod:<br>
Put back real man sections, we will do the substitution later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4be49c5f"
>[d4be49c5f]</a></li>
</ul>
</dd>
<dt>2000-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t bother checking for the path to vi if user specified &ndash;with-editor
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc6fe43af"
>[fc6fe43af]</a></li>
</ul>
</dd>
<dt>2000-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, visudo.c:<br>
Visudo now does its own fork/exec instead of calling system(3).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c061c037"
>[0c061c037]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>CHANGES, INSTALL, Makefile.in, sudoers.cat, sudoers.man.in, sudoers.pod,
visudo.c:<br>
Visudo now checks for the existence of an editor and gives a sensible
error if it does not exist.</p>
<p>The path to the editor for visudo is now a colon-separated list of
allowable editors. If the user has $EDITOR set and it matches one of the
allowed editors that editor will be used. If not, the first editor in
the list that actually exists is used.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dd2d9592"
>[6dd2d9592]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod:<br>
Clear up confusion wrt sudo&rsquo;s return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2588aeaa5"
>[2588aeaa5]</a></li>
</ul>
</dd>
<dt>2000-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Strip sudo and visudo for bindist target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaa68a2b4"
>[aaa68a2b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man.in, sudo.pod, sudoers.cat, sudoers.man.in,
sudoers.pod, visudo.cat, visudo.man.in, visudo.pod:<br>
Use @mansectsu@ and @mansectform@ in the man page bodies as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c94d8d23"
>[6c94d8d23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.cat, visudo.man.in, visudo.pod:<br>
Typo: @sysconf@ -&gt; @sysconfdir@
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92132436b"
>[92132436b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
&lsquo;make dist&rsquo; should not cause any files to be modified so remove its
dependencies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9a9e6601"
>[a9a9e6601]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
Whoops, forgot to add release marker
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2a1d4ee7"
>[b2a1d4ee7]</a></li>
</ul>
</dd>
<dt>2000-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
Final change for 1.6.3 (or so I hope)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7fdfdab4"
>[b7fdfdab4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudoers.cat, visudo.cat:<br>
Use SYSV man sections since BSD systems will have nroff&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6627448f5"
>[6627448f5]</a></li>
</ul>
</dd>
<dt>2000-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
When checking to see if the host/user matches in a defaults spec, check
against TRUE, not just non-zero since it might be -1.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eeb9cb96"
>[1eeb9cb96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
OSF/1 puts file formats in section 4, not 5.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e736ad4a5"
>[e736ad4a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, INSTALL, sudo.c:<br>
Make login class support work on BSD/OS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f32e054fe"
>[f32e054fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
Update for 1.6.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b84f2948"
>[5b84f2948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
If there is no inet_addr but there <em>is</em> an __inet_addr that&rsquo;s ok since
inet_addr is probably just a macro then. The better thing to do would be
to look for the macro, but this is fine for now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f343c7a0"
>[1f343c7a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t use shlicc for BSD/OS 4.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6814458ab"
>[6814458ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
*.man lives in cwd, *.cat lives in $(srcdir), add a @mansrcdir@
configure variable so we can deal with this. Also, only remove *.man for
&lsquo;distclean&rsquo; not &lsquo;clean&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0bbcfc18"
>[b0bbcfc18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
set_loginclass() should be static like the proto says
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fed49d49e"
>[fed49d49e]</a></li>
</ul>
</dd>
<dt>2000-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>fnmatch.c:<br>
Add #ifdef <strong>STDC</strong> around the rangematch function header to avoid
promotion of test to int, thus violating the prototype. Gcc handles this
gracefully but more std ANSI compilers will complain.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ffc5a9fa"
>[7ffc5a9fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/fnmatch.h:<br>
Pull in newer fnmatch(3) that supports FNM_CASEFOLD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a41ebe72"
>[9a41ebe72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure, fnmatch.3, fnmatch.c:<br>
Pull in newer fnmatch(3) that supports FNM_CASEFOLD Check for
FNM_CASEFOLD in configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fc832c6c"
>[4fc832c6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
update for 1.6.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5bd3d968"
>[e5bd3d968]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c, sudo.tab.h, testsudoers.c, visudo.c:<br>
Fully qualified hosts w/ wildcards were not matching the FQHOST token
type. There&rsquo;s really no need for a separate token for fully-qualified
vs. unqualified anymore so FQHOST is now history and hostname_matches
now decides which hostname (short or long) to check based on whether or
not the pattern contains a &lsquo;.&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffca544b6"
>[ffca544b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
Fully qualified hosts w/ wildcards were not matching the FQHOST token
type. There&rsquo;s really no need for a separate token for fully-qualified
vs. unqualified anymore so FQHOST is now history and hostname_matches
now decides which hostname (short or long) to check based on whether or
not the pattern contains a &lsquo;.&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d72d7ec3f"
>[d72d7ec3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.c, parse.lex, parse.yacc:<br>
Fully qualified hosts w/ wildcards were not matching the FQHOST token
type. There&rsquo;s really no need for a separate token for fully-qualified
vs. unqualified anymore so FQHOST is now history and hostname_matches
now decides which hostname (short or long) to check based on whether or
not the pattern contains a &lsquo;.&rsquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9aeabf1b0"
>[9aeabf1b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h, parse.yacc, sudo.tab.c, sudoers.cat, sudoers.man.in,
sudoers.pod, testsudoers.c, visudo.c:<br>
Add support for wildcards in the hostname.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ce1fa96f"
>[5ce1fa96f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add targets for *.man.in, using config.status to generate *.man from
*.man.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c232acbfc"
>[c232acbfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man.in, sudoers.pod:<br>
Document set_logname option and enbolden refs to sudo and visudo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c8b4fad5"
>[4c8b4fad5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, aclocal.m4, configure, configure.in, sudo.cat,
sudo.man.in, sudo.pod, sudoers.cat, sudoers.man.in, sudoers.pod,
visudo.cat, visudo.man.in, visudo.pod:<br>
Add FreeBSD login.conf support (untested on BSD/OS) based on a patch
from Michael D. Marchionna. configure now does substitution on the man
pages, allowing us to fix up the paths and set the section correctly.
Based on an idea from Michael D. Marchionna.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d168a21ce"
>[d168a21ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/passwd.c:<br>
Better fix for handling HP-UX aging info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d4ed8c16"
>[4d4ed8c16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Add support for set_logname run-time default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78b6514e5"
>[78b6514e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man.in, sudoers.man.in, visudo.man.in:<br>
configure does substitution on these to produce *.man
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cd18cf36"
>[7cd18cf36]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man, sudoers.man, visudo.man:<br>
These files now get generated from *.man.in at configure time.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a154e4ff"
>[2a154e4ff]</a></li>
</ul>
</dd>
<dt>2000-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
Add set_logname option so users can turn off setting of LOGNAME/USER
environment variables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7ed0b0df"
>[f7ed0b0df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c, parse.c, testsudoers.c:<br>
kill register
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db2c55545"
>[db2c55545]</a></li>
</ul>
</dd>
<dt>2000-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/passwd.c:<br>
HP-UX adds extra info at the end for password aging so when comparing
the result of crypt to pw_passwd we only compare the first len(epass)
bytes <em>unless</em> the user entered an empty string for a password.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbd889868"
>[cbd889868]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
Get rid of grandchild hack, it was causing problems and there is really
no need for it. This fixes a bug where we spin eating up CPU when the
user runs a long-running process like a shell.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6ad7f071"
>[a6ad7f071]</a></li>
</ul>
</dd>
<dt>2000-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
User can always specify a login class if he/she is already root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=568483159"
>[568483159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, defaults.c, defaults.h, sudo.c,
sudo.h:<br>
FreeBSD login class (login.conf) support.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=935a51e76"
>[935a51e76]</a></li>
</ul>
</dd>
<dt>2000-03-06  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
HAVE_SECUREWARE -&gt; HAVE_GETPRPWNAM; fixes secureware support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ea67119e"
>[4ea67119e]</a></li>
</ul>
</dd>
<dt>2000-03-03  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/passwd.c:<br>
Truncate unencrypted password to 8 chars if encrypted password is
exactly 13 characters (indicateing standard a DES password). Many
versions of crypt() do this for you, but not all (like HP-UX&rsquo;s).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a7226ad7"
>[8a7226ad7]</a></li>
</ul>
</dd>
<dt>2000-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, RUNSON:<br>
Mention that gcc on dynix may have problems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02cbda999"
>[02cbda999]</a></li>
</ul>
</dd>
<dt>2000-02-29  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
Link visudo with NET_LIBS since we now call syslog via defaults.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39e191bca"
>[39e191bca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
Use Argv[0] as the first arg to openlog() since visudo uses this too.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8b1e595a"
>[f8b1e595a]</a></li>
</ul>
</dd>
<dt>2000-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Stash coredumpsize resource limit and retsore it before the exec()
Otherwise the child ends up with a coredumpsize of 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24f8ee880"
>[24f8ee880]</a></li>
</ul>
</dd>
<dt>2000-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man, sudo.pod:<br>
document -S flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7fa52054"
>[f7fa52054]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fix usage string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1c2ba6aa"
>[f1c2ba6aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON, TODO, auth/aix_auth.c, auth/fwtk.c, auth/pam.c,
auth/sudo_auth.c, sudo.c, sudo.h, tgetpass.c:<br>
Added -S flag (read passwd from stdin) and tgetpass_flags global that
holds flags to be passed in to tgetpass(). Change echo_off param to
tgetpass() into a flags field. There are currently 2 possible flags for
tgetpass(): TGP_ECHO and TGP_STDIN. In tgetpass(), abstract the echo
set/clear via macros and if (flags &amp; TGP_ECHO) but echo is not set on
the terminal, but sure to set it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54fbe0854"
>[54fbe0854]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Fixed a bug that caused an infinite loop when the password timeout was
disabled.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de44c711b"
>[de44c711b]</a></li>
</ul>
</dd>
<dt>2000-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, defaults.c, defaults.h, getspwuid.c, sudo.c, sudo.h,
sudoers.cat, sudoers.man, sudoers.pod, visudo.c:<br>
Add rootpw, runaspw, and targetpw options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09b23e7b4"
>[09b23e7b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, defaults.c, sudoers.cat, sudoers.man, sudoers.pod, visudo.c:<br>
enveditor -&gt; env_editor
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44c5092fa"
>[44c5092fa]</a></li>
</ul>
</dd>
<dt>2000-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, README, configure, configure.in, sudo.cat,
sudo.man, sudoers.cat, sudoers.man, version.h, visudo.cat, visudo.man:<br>
crank versino to 1.6.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73946622b"
>[73946622b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, TODO, defaults.c, defaults.h, sudoers.cat, sudoers.man,
sudoers.pod, visudo.c:<br>
Add &rsquo;editor&rsquo; and &rsquo;enveditor&rsquo; sudoers defaults and make visudo honor
them. This means that visudo will now parse the sudoers file <em>before</em> it
is edited so a bogus sudoers file will cause a warning to go to stderr.
Also, visudo checks the variables once&ndash;it does not check them after
each editor run since that could be confusing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=020125336"
>[020125336]</a></li>
</ul>
</dd>
<dt>2000-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
1.6.2 -&gt; 1.6.2p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43050cc49"
>[43050cc49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c, sudo.h:<br>
Move user_is_exempt prototype into sudo.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc08d7004"
>[fc08d7004]</a></li>
</ul>
</dd>
<dt>2000-02-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix thinko, some &amp;&amp; should have been || in the last commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82b60ddc2"
>[82b60ddc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Don&rsquo;t initialized Makefile variables to be NULL since the user may want
to import variables from their environment.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26b93e27f"
>[26b93e27f]</a></li>
</ul>
</dd>
<dt>2000-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36a249399"
>[36a249399]</a></li>
</ul>
</dd>
<dt>2000-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
fix a yacc (skeleton.c) warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30c5e442f"
>[30c5e442f]</a></li>
</ul>
</dd>
<dt>2000-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, RUNSON, configure, configure.in:<br>
Make pam work on HP-UX 11.0;jaearick@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4f529eae"
>[a4f529eae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
recent changes; prepare for 1.6.2p1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=364a4bef7"
>[364a4bef7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
Don&rsquo;t apply SECURE_PATH if user is example; jmknoble@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bffb27280"
>[bffb27280]</a></li>
</ul>
</dd>
<dt>2000-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
Regen with yacc that has a memory leak plugged.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9abb89750"
>[9abb89750]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man, sudoers.pod:<br>
Expanded docs on sudoers &lsquo;defaults&rsquo; options based on INSTALL file info.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=192d33832"
>[192d33832]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Fix some while lies
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1db208b99"
>[1db208b99]</a></li>
</ul>
</dd>
<dt>2000-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
When making a bindist, link FAQ to TROUBLESHOOTING instead of copying.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d05fbe95"
>[5d05fbe95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man, sudoers.pod:<br>
Add netgroup caveat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=592bae1d7"
>[592bae1d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
Last minute updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa79e11f8"
>[aa79e11f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
PAM entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2386a3f61"
>[2386a3f61]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
correct a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ced99391"
>[0ced99391]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON:<br>
update for 1.6.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af9bee905"
>[af9bee905]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
Better detection of PAM errors and fix custom prompts with PAM. Based on
patches from &ldquo;Cloyce D. Spradling&rdquo; &lt;cloyce@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15a1669d5"
>[15a1669d5]</a></li>
</ul>
</dd>
<dt>2000-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>snprintf.c:<br>
Cast ULONG_MAX to unsigned long long when comparing to an unsigned long
long value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e5f1c729"
>[6e5f1c729]</a></li>
</ul>
</dd>
<dt>2000-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, config.h.in, configure, configure.in, visudo.c:<br>
Fix sudoers locking in visudo. We now lock the sudoers file itself, not
the temp file (since locking the temp file can foul up editors). The
previous locking scheme didn&rsquo;t work because the fd was closed too early.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9790399b"
>[d9790399b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Don&rsquo;t need test for ftruncate() any more.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90371b1c0"
>[90371b1c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Add a test for the -Aa flag w/ HP-UX&rsquo;s cc. Fixes compilation with the
unbundled HP-UX cc.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f63b8d321"
>[f63b8d321]</a></li>
</ul>
</dd>
<dt>2000-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.man, sudoers.pod:<br>
&ldquo;a a&rdquo; -&gt; &ldquo;a&rdquo;; Aaron Campbell &lt;aaron@cs.dal.ca&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4f3853d7"
>[e4f3853d7]</a></li>
</ul>
</dd>
<dt>2000-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, Makefile.in, defaults.c, defaults.h, parse.c, parse.h,
parse.yacc, sudo.c, sudo.h, sudoers.pod, testsudoers.c, tgetpass.c,
version.h, visudo.c:<br>
update copyright year on changed files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e0bae9fc"
>[9e0bae9fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d26184f30"
>[d26184f30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
aix fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20e44882b"
>[20e44882b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Crank version to 1.6.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ab8ad3c6"
>[0ab8ad3c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
Crank version to 1.6.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d24e69ba"
>[5d24e69ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
When using rlimit check for RLIM_INFINITY When computing the value of
maxfd, use min(getdtablesize(), RLIMIT_NOFILE)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=217cae528"
>[217cae528]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=903bd6eca"
>[903bd6eca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, Makefile.in, README, configure.in, sudo.cat, sudo.man,
sudoers.cat, sudoers.man, version.h, visudo.cat, visudo.man:<br>
Crank version to 1.6.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d6c22b4b"
>[6d6c22b4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, defaults.c, defaults.h, sudo.c, sudo.h, sudoers.pod:<br>
Add &lsquo;shell_noargs&rsquo; runtime option back in. We have to defer checking
until after the sudoers file has been parsed but since there are now
other options that operate that way this one can too. Based on a patch
from bguillory@&hellip;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccb808da3"
>[ccb808da3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h, parse.c, sudo.c, sudo.h:<br>
Add &ldquo;listpw&rdquo; and &ldquo;verifypw&rdquo; options.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f68cc2f62"
>[f68cc2f62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.man, sudoers.pod:<br>
o Fix some typos/omissions o Add section on verifypw and listpw o Define
how NOPASSWD interacts with the -v and -l flags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a597c4ad5"
>[a597c4ad5]</a></li>
</ul>
</dd>
<dt>2000-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
For HP-UX cc, add -Aa to CPPFLAGS. For HP-UX always add -D_HPUX_SOURCE
to CPPFLAGS.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26f5aa6f2"
>[26f5aa6f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
In struct sudo_defs_types, move the union to the end and don&rsquo;t
initialize the union member since that only works with an ANSI compiler.
We set the value of the union by hand in init_defaults() anyway. This
allows sudo to compile on a K&amp;R compiler again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1a9b1e67"
>[b1a9b1e67]</a></li>
</ul>
</dd>
<dt>2000-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, parse.h, parse.yacc, sudo.tab.c, testsudoers.c, visudo.c:<br>
netgr_matches needs to check shost as well as host since they may be
different.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b59a0974"
>[0b59a0974]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
End on \r as well as \n
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=58fb4fc86"
>[58fb4fc86]</a></li>
</ul>
</dd>
<dt>2000-01-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Update statbuf.st_mode based on SUDOERS_MODE when we are chaning from
0400 to whatever SUDOERS_MODE is (converting from the old sudoers mode).
Assumes that SUDOERS_MODE is less restrictive than 0400 which should
always be the case.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=038dea2d3"
>[038dea2d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.yacc, sudo.c, sudo.h, sudo.tab.c:<br>
Make treatment of -l and -v sane wrt NOPASSWD flags. Now allow -l w/o a
passwd if there is <em>any</em> entry for the user on the host with a NOPASSWD
flag. For -v, only allow w/o a passwd if <em>all</em> entries for the user on
the host w/ the specified runas user have the NOPASSWD flag set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=625e3e46d"
>[625e3e46d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add check target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df297922c"
>[df297922c]</a></li>
</ul>
</dd>
<dt>1999-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Treat EOF at whatnow prompt like &lsquo;x&rsquo; instead of looping.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a720dfa30"
>[a720dfa30]</a></li>
</ul>
</dd>
<dt>1999-12-10  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7db5ff9f5"
>[7db5ff9f5]</a></li>
</ul>
</dd>
<dt>1999-12-09  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure, configure.in, sudo.c:<br>
Add check for initgroups() since old SYSV lacks this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac67ced55"
>[ac67ced55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON, aclocal.m4, config.h.in, configure, configure.in,
parse.c, testsudoers.c:<br>
o Kill HAVE_FNMATCH_H o Only define HAVE_FNMATCH if &lt;fnmatch.h&gt;
exists.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=957fa7941"
>[957fa7941]</a></li>
</ul>
</dd>
<dt>1999-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
Don&rsquo;t allow insults to be enabled if the insults[] array is empty.
Otherwise there would be division by zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8446da40f"
>[8446da40f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
Don&rsquo;t allow insults to be enabled if the insults[] array is empty.
Otherwise there would be division by zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=423f6d5ab"
>[423f6d5ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, RUNSON:<br>
Don&rsquo;t allow insults to be enabled if the insults[] array is empty.
Otherwise there would be division by zero.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baf50ee07"
>[baf50ee07]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
Don&rsquo;t care about USE_INSULTS #define since the insult stuff may be
overridden at runtime.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06f517bac"
>[06f517bac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
Honor insults flag.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c85a0b9bc"
>[c85a0b9bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, parse.c:<br>
Don&rsquo;t ask the user for a password if the user is not allowed to run the
command and the authenticate flag (in sudoers) is false.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b937889e8"
>[b937889e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>CHANGES, RUNSON, lex.yy.c, parse.lex:<br>
o Whenever we get a bare newline we change to the INITIAL state. o Enter
GOTRUNAS when we see Runas_Alias</p>
<p>This allows #uid to work in a RunasAlias.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eb988233"
>[2eb988233]</a></p>
</li>
</ul>
</dd>
<dt>1999-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, parse.yacc, sudo.tab.c:<br>
fix parsing of runas lists: o oprunasuser and runaslist now return a
value o in a runasspec, if a runaslist does not return TRUE, set
runas_matches to FALSE. Normally, a runaslist only returns FALSE for
explicitly denied users. o since runaslist does not modify the stack
there is no need for a push/pop in runasalias.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34d793254"
>[34d793254]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c:<br>
Don&rsquo;t kill the user&rsquo;s tickets until after sudoers has been parsed since
tty_tickets and ticket_dir could be set in sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12f521609"
>[12f521609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES, Makefile.binary, Makefile.in, README, RUNSON, configure,
configure.in, sudo.cat, sudo.man, sudoers.cat, sudoers.man, tgetpass.c,
version.h, visudo.cat, visudo.man:<br>
crank version to 1.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6136f976"
>[c6136f976]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
add set_fqdn() stub
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a183816d2"
>[a183816d2]</a></li>
</ul>
</dd>
<dt>1999-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, defaults.c, defaults.h, sudo.c, sudo.h, sudoers.cat,
sudoers.man, sudoers.pod, visudo.c:<br>
o Kill shell_noargs option, it cannot work since the command needs to be
set before sudoers is parsed. o Fix the &ldquo;set_home&rdquo; sudoers option (only
worked at compile time). o Fix &ldquo;fqdn&rdquo; sudoers option. We now set
host/shost via set_fqdn which gets called when the &ldquo;fqdn&rdquo; option is set
in sudoers. o Move the openlog() to store_syslogfac() so this gets
overridden correctly from the sudoers file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=449f67f77"
>[449f67f77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/securid.c:<br>
SecurID support should compile now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6a2b564d"
>[a6a2b564d]</a></li>
</ul>
</dd>
<dt>1999-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.man, sudo.pod, sudoers.cat, sudoers.man, visudo.cat,
visudo.man, visudo.pod:<br>
fix some syntactic goofs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df7c6e0bf"
>[df7c6e0bf]</a></li>
</ul>
</dd>
<dt>1999-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, sudo.html, sudoers.html, visudo.html:<br>
No longer need the .html files as they are generated automatically on
the web site.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96ffd91ec"
>[96ffd91ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, LICENSE:<br>
kill characters that made wml unhappy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da14eb97d"
>[da14eb97d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b47fea38a"
>[b47fea38a]</a></li>
</ul>
</dd>
<dt>1999-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
majordomo@&hellip; -&gt; majordomo@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=395e56a86"
>[395e56a86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure:<br>
Wrap script execution w/ /bin/sh for the benefit of ctm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22bb6197d"
>[22bb6197d]</a></li>
</ul>
</dd>
<dt>1999-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Make the -s flag be exclusive too. Also reorder the flags in the
exclusive usage message so they are alphabetical.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6713b85dc"
>[6713b85dc]</a></li>
</ul>
</dd>
<dt>1999-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
make pam errors other than PAM_PERM_DENIED fatal
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c5e61db4"
>[1c5e61db4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/API:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fd3e643b"
>[4fd3e643b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
make it clear that /etc/pam.d/sudo is required on linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fe397ae5"
>[1fe397ae5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
fix a warning on redhat and spew an error if pam_authenticate() returns
an error other than AUTH_SUCCESS or PAM_PERM_DENIED
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dab213c3e"
>[dab213c3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
Be very clear that the password required is the user&rsquo;s not root&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f0fa1814"
>[1f0fa1814]</a></li>
</ul>
</dd>
<dt>1999-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
add sample.syslog.conf to DISTFILES and BINFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c977b43ca"
>[c977b43ca]</a></li>
</ul>
</dd>
<dt>1999-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updates from Brian Jackson + some formatting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93cda3a23"
>[93cda3a23]</a></li>
</ul>
</dd>
<dt>1999-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL.binary, Makefile.binary, README, RUNSON:<br>
o One RUNSon update o Changes for automating real binary releases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7dc5c099"
>[c7dc5c099]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Add bindist target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e742c68d"
>[5e742c68d]</a></li>
</ul>
</dd>
<dt>1999-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
talk about run-time options in addition to compile-time options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee9af2974"
>[ee9af2974]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
fix typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e6f6697c"
>[3e6f6697c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
need sys/time.h if HAVE_SETRLIMIT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1976aec18"
>[1976aec18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING, README, RUNSON, sudo.c, sudo.cat, sudo.html, sudo.man,
sudo.pod, visudo.cat, visudo.html, visudo.man, visudo.pod:<br>
get rid of references to sudo-bugs. Now mention the web site or the
sudo@ alias
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d00a8de2f"
>[d00a8de2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.html:<br>
repair pod2html damage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3299d72a5"
>[3299d72a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON, TODO:<br>
Update for 1.6 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6a034cf7"
>[d6a034cf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.html, sudoers.man, sudoers.pod:<br>
Add warning about using ALL in a command context.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42f7c6f3f"
>[42f7c6f3f]</a></li>
</ul>
</dd>
<dt>1999-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
Call yyrestart() on a parse error to reset the lexer state.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbc51dac5"
>[bbc51dac5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
Don&rsquo;t need YY_FLUSH_BUFFER after all Move yyrestart() into visudo.c
since it might not get called in yywrap if we get a parse error (and we
only reread the file on error anyway).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=818bbacb5"
>[818bbacb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
Call YY_FLUSH_BUFFER macro in yywrap() to clean up any buffers that
might still exist. Call yyrestart() instead of using the deprecated
YY_NEW_FILE macro.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95eb54d99"
>[95eb54d99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
flex doesn&rsquo;t need %N table size declarations
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f03cac3b8"
>[f03cac3b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.html, sudoers.man, sudoers.pod:<br>
Mention what characters need to be escaped in names.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afe809a31"
>[afe809a31]</a></li>
</ul>
</dd>
<dt>1999-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=701c55c08"
>[701c55c08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
clarify Mac OS X entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5b437605"
>[a5b437605]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c02b05acd"
>[c02b05acd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o Use AC_MSG_ERROR throughout o Check syslog configure options for
danity
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75ca0c512"
>[75ca0c512]</a></li>
</ul>
</dd>
<dt>1999-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
Fix printing of type T_MODE in dump_defaults()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e834851b"
>[9e834851b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strcasecmp.c:<br>
missing sys/types.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d44b9e29f"
>[d44b9e29f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Break out options that may be overridden at run time into their own
section. Add a not about Max OS X and correct some lies.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3781244a9"
>[3781244a9]</a></li>
</ul>
</dd>
<dt>1999-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, config.h.in, configure, configure.in, sudo.c:<br>
o Now use getrlimit to find the highest fd when closing all non-std fd&rsquo;s
o Turn off core dumps via setrlimit for the sake of paranoia
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59666aca7"
>[59666aca7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa41fbec5"
>[aa41fbec5]</a></li>
</ul>
</dd>
<dt>1999-11-01  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b467e802"
>[1b467e802]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
When read()&lsquo;ing, do a single character at a time to be sure we don&rsquo;t go
oast the newline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68fd7e74c"
>[68fd7e74c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
For the sudo_root option, check against user_uid, not getuid() since at
this point, ruid == euid == 0.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e08f3f393"
>[e08f3f393]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
some updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20a6bb33"
>[b20a6bb33]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.h:<br>
Fix compilation problem when &ndash;with-logging=file was specified. This
means that syslog is now required to build sudo but that should not be a
problem. If it is it can be fixed trivially with a configure check for
syslog() or syslog.h.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7cc50dab"
>[a7cc50dab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Make this work again for things like &ldquo;sudo echo hi | more&rdquo; where the tty
gets put into character at a time mode. We read until we read end of
line or we run out of space (similar to fgets(3)).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f1581ae6"
>[3f1581ae6]</a></li>
</ul>
</dd>
<dt>1999-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.cat, sudoers.html, sudoers.man, sudoers.pod:<br>
change ital to bold
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0026e7d8"
>[d0026e7d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76a97eb99"
>[76a97eb99]</a></li>
</ul>
</dd>
<dt>1999-10-16  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
Error out if syslog parameters are given without a value. For Ultrix or
4.2BSD &ldquo;syslog&rdquo; is allowed without a value since there are no facilities
in the 4.2BSD syslog.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be02f53ea"
>[be02f53ea]</a></li>
</ul>
</dd>
<dt>1999-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
Ignore the syslog facility for systems w/ old syslog like Ultrix.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=041188d02"
>[041188d02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
people with &ldquo;.&rdquo; early in their path can have problems running sudo from
the build dir ;-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cf9d84fb"
>[1cf9d84fb]</a></li>
</ul>
</dd>
<dt>1999-10-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
Remove -r realm option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea90bc54b"
>[ea90bc54b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c, auth/sudo_auth.c, auth/sudo_auth.h, configure,
configure.in, sudo.c:<br>
New krb5 code from Frank Cusack &lt;fcusack@iconnet.net&gt;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3acdd5b02"
>[3acdd5b02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
update to reality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0a83ab41"
>[e0a83ab41]</a></li>
</ul>
</dd>
<dt>1999-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/fwtk.c:<br>
include &lt;auth.h&gt; to get function prototypes.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8d230f46"
>[b8d230f46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
document -L flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=421aca163"
>[421aca163]</a></li>
</ul>
</dd>
<dt>1999-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
in set_perms(), always call setuid(0) before changing the ruid/euid so
we always know it will succeed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f5c24893"
>[7f5c24893]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.h:<br>
#undef T_FOO to avoid conflicts with system defines (like on ULTRIX).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd99c3545"
>[bd99c3545]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO, sample.sudoers, sudoers.cat, sudoers.html, sudoers.man,
sudoers.pod:<br>
Docuement &ldquo;Defaults&rdquo; lines in /etc/sudoers. Still needs some fleshing
out but this is a start.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a33fc598"
>[8a33fc598]</a></li>
</ul>
</dd>
<dt>1999-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>:<br>
use strtol, not strtoul since not everyone has not strtoul
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=278f6c85a"
>[278f6c85a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c:<br>
use strtol, not strtoul since not everyone has not strtoul
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d34020aef"
>[d34020aef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
last {WORD} rule should only apply in the INITIAL state
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=315335247"
>[315335247]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
o Add support for escaped characters in the WORD macro o Modify fill()
to squash escape chars
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f963da316"
>[f963da316]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h:<br>
o Add T_PATH flag to allow simple sanity checks for default values that
are supposed to be pathnames. o Fix a duplicate free when visudo finds
an error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deb02f9b3"
>[deb02f9b3]</a></li>
</ul>
</dd>
<dt>1999-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c, defaults.h, logging.c:<br>
mail_if_foo -&gt; mail_foo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=deab20a57"
>[deab20a57]</a></li>
</ul>
</dd>
<dt>1999-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h, defaults.c, defaults.h, sudo.c, tgetpass.c:<br>
o Add requiretty option o Move O_NOCTTY to compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c4fefde5"
>[2c4fefde5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
The exit() in log_error() was mistakenly removed in a previous version.
Put it back&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1296f2884"
>[1296f2884]</a></li>
</ul>
</dd>
<dt>1999-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, TODO, auth/aix_auth.c, auth/fwtk.c, auth/pam.c, auth/rfc1938.c,
auth/sia.c, auth/sudo_auth.c, check.c, config.h.in, configure,
configure.in, defaults.c, defaults.h, find_path.c, getspwuid.c,
logging.c, parse.yacc, sudo.c, sudo.tab.c:<br>
o Change defaults stuff to put the value right in the struct. o
Implement mailer_flags o Store syslog stuff both in int and string form.
Setting the string form magically updates the int version. o Add boolean
attribute to strings where it makes sense to say !foo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7769bf6a3"
>[7769bf6a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
add O_NOCTTY when opening /dev/tty just in case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc82693f5"
>[cc82693f5]</a></li>
</ul>
</dd>
<dt>1999-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/API:<br>
cleanup function no longer takes a status arg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c832accc1"
>[c832accc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
the the
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97fc9e232"
>[97fc9e232]</a></li>
</ul>
</dd>
<dt>1999-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO, config.h.in, configure, configure.in, logging.c:<br>
Use strftime() instead of ctime() if it is available.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7e23611b"
>[f7e23611b]</a></li>
</ul>
</dd>
<dt>1999-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>defaults.c:<br>
fix copyright date
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b5e21697"
>[7b5e21697]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
update ReliantUNIX entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0da16dc26"
>[0da16dc26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>defaults.c, defaults.h, logging.c:<br>
add log_year option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80ac47fb0"
>[80ac47fb0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
add &ndash;without-sendmail to help output
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1f71dcd8"
>[c1f71dcd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
enforce an otctal arg for &ndash;with-suoders-mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb635cab4"
>[bb635cab4]</a></li>
</ul>
</dd>
<dt>1999-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>BUGS, INSTALL, Makefile.in, TODO, aclocal.m4, auth/aix_auth.c,
auth/fwtk.c, auth/kerb5.c, auth/pam.c, auth/rfc1938.c, auth/sia.c,
auth/sudo_auth.c, check.c, config.h.in, configure, configure.in,
defaults.c, defaults.h, find_path.c, lex.yy.c, logging.c, parse.h,
parse.lex, parse.yacc, sudo.c, sudo.h, sudo.tab.c, sudo.tab.h,
testsudoers.c, version.c, visudo.c:<br>
Add support for &ldquo;Defaults&rdquo; line in sudoers to make configuration
variables changable at runtime (and on a global, per-host and per-user
basis). Both the names and the internal representation are still subject
to change. It was necessary to make sudo_user.runas but a char **
instead of a char * since this value can be changed by a Defaults line.
There is a similar (but more complicated) issue with sudo_user.prompt
but it is handled differently at the moment.</p>
<p>Add a &ldquo;-L&rdquo; flag to list the name of options with their descriptions.
This may only be temporary.</p>
<p>Move some prototypes to parse.h</p>
<p>Be much less restrictive on what is allowed for a username.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13bf42675"
>[13bf42675]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>sample.syslog.conf:<br>
Add more info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=093fbe1e4"
>[093fbe1e4]</a></li>
</ul>
</dd>
<dt>1999-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, fnmatch.3, fnmatch.c, getcwd.c, lsearch.c, snprintf.c,
strcasecmp.c:<br>
UCB has dropped the advertising clause from their license.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aa7852a4"
>[4aa7852a4]</a></li>
</ul>
</dd>
<dt>1999-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/sudo_auth.h:<br>
move dce_verofy proto to correct section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3197ab9de"
>[3197ab9de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/dce.c:<br>
remove XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b8c2b07b"
>[5b8c2b07b]</a></li>
</ul>
</dd>
<dt>1999-08-28  Todd C. Miller</dt>
<dd>
<ul>
<li>emul/fnmatch.h:<br>
Add fnmatch() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f74a9f987"
>[f74a9f987]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fnmatch.c, parse.c, testsudoers.c:<br>
Move inclusion of emul/fnmatch.h to be after sudo.h for __P
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a067249e1"
>[a067249e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
add strcasecmp proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=607e54b5e"
>[607e54b5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
add check for case where there are no auth methods
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba31293c2"
>[ba31293c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Define _XOPEN_EXTENDED_SOURCE on AIX and <strong>USE_FIXED_PROTOTYPES</strong> on
SunOS4 w/ gcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92e5ebd9f"
>[92e5ebd9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, lex.yy.c, parse.lex, parse.yacc, sudo.tab.c:<br>
include strings.h everywhere we include string.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a8c0ca96"
>[3a8c0ca96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.c:<br>
nicer output when showing auth methods
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55e31d781"
>[55e31d781]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.c:<br>
Add support for SEND_MAIL_WHEN_NO_HOST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3de04bb48"
>[3de04bb48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Add _GNU_SOURCE for Linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fda4a9709"
>[fda4a9709]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
fix definition of OCTECT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86c1328f6"
>[86c1328f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
aix_auth.o not authenticate.o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df15b27a0"
>[df15b27a0]</a></li>
</ul>
</dd>
<dt>1999-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Only block SIGINT, SIGQUIT, SIGTSTP (which can be generated from the
keyboard). Since we run with ruid/euid == 0 the user can&rsquo;t really signal
us in nasty ways.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61bd59c73"
>[61bd59c73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Don&rsquo;t need to worry about catching too many signals since we do locking
on the tmp file. If a lockfile is really stale, it will be detected and
overwritten.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fcdf8a30"
>[8fcdf8a30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in:<br>
include auth/API in tarball
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24f317e17"
>[24f317e17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
move memset() of plaintext pw outside of verify loop and only do the
memset if we are <em>not</em> in standalone mode.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e026a2c24"
>[e026a2c24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c, auth/sudo_auth.h:<br>
DCE is not a standalone method
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=017a9a0ad"
>[017a9a0ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fix &ndash;enable-noargs-shell
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79faf00e5"
>[79faf00e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
&ldquo;#ifdef <strong>STDC</strong>&rdquo; not &ldquo;#if <strong>STDC</strong>&rdquo; (I missed one)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54a43740e"
>[54a43740e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/fwtk.c, auth/sia.c:<br>
_cleanup() function returns an int.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5fc92121"
>[c5fc92121]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/dce.c:<br>
there were still some return(0)&rsquo;s hanging around, make them AUTH_FAILURE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e061ce62f"
>[e061ce62f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
typo in comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56f3bf61c"
>[56f3bf61c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.c:<br>
add missing semicolon
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cff5f9b39"
>[cff5f9b39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.h:<br>
missing backslash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5dca2ab0"
>[b5dca2ab0]</a></li>
</ul>
</dd>
<dt>1999-08-26  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, config.h.in, configure, configure.in:<br>
Kill _XOPEN_EXTENDED_SOURCE &ndash; causes problems on some OSes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=359b5be92"
>[359b5be92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add parse.h to HDRS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e4dcff8f"
>[2e4dcff8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Kill VISUDO_LIBS and VISUDO_LDFLAGS. Add LIBS, NET_LIBS, and LDFLAGS.
Common libs go in LIBS, commong ld flags go in LDFLAGS and network libs
like -lsocket, -lnsl go in NET_LIBS. This allows testsudoers to build on
Solaris and is a bit cleaner in general.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3118b7f86"
>[3118b7f86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
mention ptmp -&gt; sudoers.tmp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a80f9e0fb"
>[a80f9e0fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in:<br>
Define _XOPEN_SOURCE_EXTENDED not _XOPEN_SOURCE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff95bb1d7"
>[ff95bb1d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
add 2 reports
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82a59a898"
>[82a59a898]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
Minor changes, mostly cosmetic. verify_krb_v5_tgt() changed to return a
value more like a system function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17f02dfb1"
>[17f02dfb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/dce.c:<br>
Add an XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39c448c71"
>[39c448c71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
more things todo!
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21e6a9d16"
>[21e6a9d16]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
update based on what is in the man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05a861df1"
>[05a861df1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
minor change to first line printed in -l mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b28160a5"
>[2b28160a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
rename &ldquo;ENVIRONMENT VARIABLES&rdquo; section to &ldquo;ENVIRONMENT&rdquo; to be more
standard and add &ldquo;EXAMPLES&rdquo; section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e50798ff5"
>[e50798ff5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.cat, visudo.html, visudo.man, visudo.pod:<br>
rename &ldquo;ENVIRONMENT VARIABLES&rdquo; section to &ldquo;ENVIRONMENT&rdquo; to be more
standard
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=575c28def"
>[575c28def]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.c, sudo.h:<br>
add FLAG_NO_CHECK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2b3e36e7"
>[a2b3e36e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
make an OCTET really be limited to 0-255
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca1b945b3"
>[ca1b945b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE:<br>
mention timestamp changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e89b9ff18"
>[e89b9ff18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
cosmetic cleanup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d5133d4c"
>[5d5133d4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.html, sudoers.man, sudoers.pod:<br>
new sudoers(8) man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a84959b4"
>[7a84959b4]</a></li>
</ul>
</dd>
<dt>1999-08-24  Todd C. Miller</dt>
<dd>
<ul>
<li>version.c:<br>
Update comments about syslog name tables
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d661d1d66"
>[d661d1d66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, LICENSE, Makefile.in, configure, configure.in, parse.yacc,
strcasecmp.c, sudo.tab.c:<br>
include strcasecmp() for those without it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d38bef9a"
>[0d38bef9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
Use the : operator some more and fix a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a5da52c7"
>[1a5da52c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
update the history of sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4f46ff02"
>[f4f46ff02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, testsudoers.c:<br>
CIDR-style netmask support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8723291d8"
>[8723291d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3781e9d41"
>[3781e9d41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c, sudo.tab.h:<br>
these should be generated with byacc, not bison
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25d75cea6"
>[25d75cea6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b0368f2f"
>[7b0368f2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h, parse.yacc, sudo.tab.c, sudo.tab.h:<br>
In &ldquo;sudo -l&rdquo; mode, the type of the stored (expanded) alias was not
stored with the contents. This could lead to incorrect output if the
sudoers file had different alias types with the same name. Normal
parsing (ie: not in &lsquo;-l&rsquo; mode) is unaffected.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51350b2c7"
>[51350b2c7]</a></li>
</ul>
</dd>
<dt>1999-08-23  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
define _XOPEN_SOURCE to get at crypt() proto on some systems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba358d6d5"
>[ba358d6d5]</a></li>
</ul>
</dd>
<dt>1999-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>snprintf.c:<br>
fix comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b3c8d5c7"
>[8b3c8d5c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
don&rsquo;t need limits.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db4cac174"
>[db4cac174]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
kill bogus reference to vfprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d5008bf3"
>[9d5008bf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers, sudoers:<br>
better examples
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c58303644"
>[c58303644]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
Add some const in the K&amp;R defs. This is safe since we define const away
if the compiler doesn&rsquo;t grok it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5922bfb58"
>[5922bfb58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure:<br>
Better test for working long long support. Ultrix compiler supports
basic long long but not all operations on them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=084b426b3"
>[084b426b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, auth/secureware.c, config.h.in, configure, getspwuid.c,
snprintf.c, sudo.c:<br>
Add check for LONG_IS_QUAD #undef MAXINT before including hpsecurity.h
to silence an HP-UX warning Check for U?LONG_LONG_MAX in snprintf.c and
use LONG_IS_QUAD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b13e8006e"
>[b13e8006e]</a></li>
</ul>
</dd>
<dt>1999-08-21  Todd C. Miller</dt>
<dd>
<ul>
<li>LICENSE, aclocal.m4, config.h.in, configure, configure.in, snprintf.c:<br>
UCB-derived snprintf + asprintf support. Supports quads if the compiler
does. No floating point yet, perhaps later&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab0c1eae1"
>[ab0c1eae1]</a></li>
</ul>
</dd>
<dt>1999-08-20  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/API, auth/sudo_auth.c, auth/sudo_auth.h, check.c, find_path.c,
goodpath.c, logging.c, parse.c, sudo.c:<br>
Run most of the code as root, not the invoking user. It doesn&rsquo;t really
gain us anything to run as the user since an attacker can just have an
setuid(0) in their egg. Running as root solves potential problems wrt
signalling.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=275c2fc98"
>[275c2fc98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc65b24ed"
>[bc65b24ed]</a></li>
</ul>
</dd>
<dt>1999-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>
<p>logging.c, sudo.c:<br>
Don&rsquo;t wait for child to finish in log_error(), let the signal handler
get it if we are still running, else let init reap it for us. The extra
time it takes to wait lets the user know that mail is being sent.</p>
<p>Install SIGCHLD handler in main() and for POSIX signals, block
everything <em>except</em> SIGCHLD.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9746389c"
>[b9746389c]</a></p>
</li>
</ul>
</dd>
<dd>
<ul>
<li>
<p>INSTALL, config.h.in, configure, configure.in, logging.c, parse.c,
parse.yacc, sudo.c, sudo.h:<br>
sudoers_lookup() now returns a bitmap instead of an int. This makes it
possible to express things like &ldquo;failed to validate because user not
listed for this host&rdquo;. Some thigns that were previously VALIDATE_FOO are
now FLAG_FOO. This may change later on.</p>
<p>Reorganized code in log_auth() and sudo.c to deal with above changes.</p>
<p>Safer versions of push/pushcp with in the do { &hellip; } while (0) style</p>
<p>parse.yacc now saves info on the stack to allow parse.c to determine if
a user was listed, but not for the host he/she tried to run on.</p>
<p>Added &ndash;with-mail-if-no-host option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0598093e2"
>[0598093e2]</a></p>
</li>
</ul>
</dd>
<dt>1999-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.h, sudo.tab.c, visudo.c, visudo.cat, visudo.html,
visudo.man, visudo.pod:<br>
o NewArgv and NewArgc don&rsquo;t need to be externally visible. o If pedantic
&gt; 1, it is a parse error. o Add -s (strict) option to visudo which sets
pedantic to 2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=804e168d9"
>[804e168d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY, INSTALL:<br>
Just have sudo-bugs contact info in one place
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1afa5be40"
>[1afa5be40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
Add BUGS section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7a10e740"
>[b7a10e740]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure, configure.in:<br>
Add testsudoers to default build target if &ndash;with-devel Don&rsquo;t clean
generated parser files unless &ldquo;distclean&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ad8fe164"
>[3ad8fe164]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
In pedantic mode we need to save <em>all</em> the aliases, not just those that
match, or we get spurious warnings.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b28ac86ab"
>[b28ac86ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
reference samples.sylog.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0acdc98f1"
>[0acdc98f1]</a></li>
</ul>
</dd>
<dt>1999-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.syslog.conf:<br>
Sample entries for syslog.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1451404ba"
>[1451404ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e8eaae77"
>[2e8eaae77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/API, auth/afs.c, auth/aix_auth.c, auth/dce.c, auth/fwtk.c,
auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/passwd.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/sia.c, auth/sudo_auth.c,
auth/sudo_auth.h:<br>
In struct sudo_auth, turn need_root and configured into flags and add a
flag to specify an auth method is running alone (the only one). Pass
auth methods their sudo_auth pointer, not the data pointer. This allows
us to get at the flags and tell if we are the only auth method. That, in
turn, allows the method to be able to decide what should/should not be a
fatal error. Currently only rfc1938 uses it this way, which allows us to
kill the OTP_ONLY define and te hackery that went with it. With access
to the sudo_auth struct, methods can also get at a string holding their
cannonical name (useful in error messages).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d40947c0b"
>[d40947c0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, README, config.h.in, configure, configure.in,
getspwuid.c, lex.yy.c, parse.lex, parse.yacc, sudo.tab.c, sudo.tab.h:<br>
o &ndash;with-otp deprecated, use &ndash;without-passwd instead o real
dependencies in the Makefile o &ndash;with-devel option to enable yacc, lex,
and -Wall o style &ndash; &ldquo;foo -&gt; bar&rdquo; becomes &ldquo;foo-&gt;bar&rdquo; o ALL goes back
to being a token, not a string but don&rsquo;t leak memory o rename hsotspec
-&gt; host in parse.yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a8b0be63"
>[3a8b0be63]</a></li>
</ul>
</dd>
<dt>1999-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, CHANGES:<br>
recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2d088ebe"
>[c2d088ebe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c, configure, configure.in, interfaces.c, snprintf.c,
sudo.c, sudo.h:<br>
o Digital UNIX needs to check for *snprintf() before -ldb is added to
LIBS since -ldb includes a bogus snprintf(). o Add forward refs for
struct mbuf and struct rtentry for Digital UNIX. o Reorder some
functions in snprintf.c to fix -Wall o Add missing includes to fix more
-Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7ebfe06d"
>[d7ebfe06d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, auth/sudo_auth.c, check.c, config.h.in, configure,
configure.in, parse.yacc, sudo.tab.c, testsudoers.c, version.c,
visudo.c:<br>
o Add a &ldquo;pedentic&rdquo; flag to the parser. This makes sudo warn in cases
where an alias may be used before it is defined. Only turned on for
visudo and testsudoers. o Add &ndash;disable-authentication option that makes
sudo not require authentication by default. The PASSWD tag can be used
to require authentication for an entry. We no longer overload
&ndash;without-passwd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2386dc1b4"
>[2386dc1b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, parse.lex:<br>
Break &lsquo;WORD&rsquo; regexp def into HOSTNAME and USERNAME. These days a
username can contain just about anything so be very permissive. Also
drop the unused . punctuation.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f14dd25b0"
>[f14dd25b0]</a></li>
</ul>
</dd>
<dt>1999-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
o add a &lsquo;val&rsquo; element to aliasinfo struct and move -&gt; parse.h o
find_alias() now returns an aliasinfo * instead of boolean o add_alias()
now takes a value parameter to store in the aliasinfo.val o The cmnd,
hostspec, runasuser, and user rules now return: 1) positive match 0)
negative match (due to &lsquo;!&rsquo;) -1) no match This means setting $$
explicitly in all cases, which I should have done in the first place. It
also means that we always store a value that is != -1 and when we see a
&lsquo;!&rsquo; we can set *_matches to !rv if rv != -1. The upshot of all of this
is that &lsquo;!&rsquo; now works the way it should in lists and some of the rules
are more uniform and sensible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ce523cd1"
>[2ce523cd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add parse.h dependency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=518eec0ab"
>[518eec0ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.h:<br>
kill unused *_matched macros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b18495e62"
>[b18495e62]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Allow a list of users as the first thing in a user spec, not just a
single entry. This makes things more uniform, though it does allow you
to write user specs that are hard to read.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76c801a68"
>[76c801a68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
parse.yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4a7c5507"
>[b4a7c5507]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2dcea30c"
>[d2dcea30c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fix check for crypt() in libufc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bb2d52e9"
>[7bb2d52e9]</a></li>
</ul>
</dd>
<dt>1999-08-07  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
sudo-users list now exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=609851d85"
>[609851d85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, PORTING, README, TODO, TROUBLESHOOTING:<br>
Update to reality.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be4e87f66"
>[be4e87f66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, Makefile.in, TODO, TROUBLESHOOTING, check.c, compat.h,
config.h.in, configure, configure.in, fileops.c, logging.c, sudo.h,
version.c, visudo.c:<br>
o Move lock_file() and touch() into fileops.c so visudo can use them o
Visudo now locks the sudoers temp file instead of bailing when the temp
file already exists. This fixes the problem of stale temp files but it
does <em>require</em> that you not try to put the temp file in a world-writable
directory. This shoud not be an issue as the temp file should live in
the same dir as sudoers. o Visudo now only installs the temp file as
sudoers if it changed.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76148d531"
>[76148d531]</a></li>
</ul>
</dd>
<dt>1999-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
add fcntl locking
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68a2b1678"
>[68a2b1678]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure, configure.in, logging.c:<br>
Lock the log file.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=925f4eabc"
>[925f4eabc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, TROUBLESHOOTING, parse.c, pathnames.h.in, sudo.c, visudo.c,
visudo.cat, visudo.html, visudo.man, visudo.pod:<br>
o /etc/stmp -&gt; /etc/sudoers.tmp since solaris uses stmp as shadow temp
file o _PATH_SUDO_SUDOERS -&gt; _PATH_SUDOERS and _PATH_SUDO_STMP -&gt;
_PATH_SUDOERS_TMP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=145992dce"
>[145992dce]</a></li>
</ul>
</dd>
<dt>1999-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, check.c, config.h.in, configure, configure.in, version.c:<br>
o Kill *_MESSAGE and replace with NO_LECTURE o Add more things to root
sudo -V config reporting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c53b7496"
>[7c53b7496]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
aix_auth.o not authenticate.o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61dc1ddf6"
>[61dc1ddf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
Add &ndash;with-goodpri and &ndash;with-badpri configure options to specify the
syslog priority to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae96a4f1a"
>[ae96a4f1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in, logging.h:<br>
Add &ndash;with-goodpri and &ndash;with-badpri configure options to specify the
syslog priority to use.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d47ddf6a9"
>[d47ddf6a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
kill crufty AIX stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdb5da47a"
>[fdb5da47a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
Sigh, some versions of make (like Solaris&rsquo;s) don&rsquo;t deal with $&lt; like I
would expect. Both GNU and BSD makes get this right but&hellip; So, we just
expand $&lt; inline at the cost of some ugliness.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93c236774"
>[93c236774]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.c:<br>
If the invoking user is root, sudo will now print configure info in -V
mode. Currently just prints logging info, to be expanded later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd16d8e77"
>[fd16d8e77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, logging.h, sudo.c, sudo.h:<br>
o new defines for syslog facility and priority o use new print_version()
functino for -V mode
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27d6f353e"
>[27d6f353e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Don&rsquo;t need version.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=928352412"
>[928352412]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, configure, configure.in:<br>
Add check for syslog facilities and priorities tables in syslog.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e966a6b3e"
>[e966a6b3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
o authenticate -&gt; aix_auth o add version.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7acfdb68"
>[a7acfdb68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
Missed a prompt -&gt; user_prompt conversion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e7246552"
>[5e7246552]</a></li>
</ul>
</dd>
<dt>1999-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
sudo should lock its logfile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4aa1fb7fe"
>[4aa1fb7fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
o Add &lsquo;!&rsquo; correctly when expanding Aliases. o Add shortcut macros for
append() to make things more readable. o The separator in append() is
now a string instead of a char. o In append(), only prepend the
separator if the last char is not a &lsquo;!&rsquo;. This is a hack but it greatly
simplifies &lsquo;!&rsquo; handling. o In -l mode, Runas lists and NOPASSWD/PASSWD
tags are now inherited across entries in a list (matches current
behavior). o Fix formatting in -l mode such that items in a list are
separated by a space. Greatlt improves readability. o Space for name
field in struct aliasinfo is now allocated dyanically instead of using a
(big) buffer. o In add_alias(), only search the list once (lsearch
instead of lfind + lsearch)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16ab37701"
>[16ab37701]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c, sudo.tab.h:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d5a675f5"
>[0d5a675f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Solais pam doesn&rsquo;t require anye xtra setup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a4ebcf2f"
>[1a4ebcf2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
o Simpler &lsquo;!&rsquo; support now that the lexer deals with multiple !&rsquo;s for us.
o In the case of opFOO, have FOO give a boolean return value and set
foo_matches in opFOO, not FOO. o Treat &lsquo;ALL&rsquo; as a string since it gets
fill()&rsquo;d in parse.lex&ndash;fixes a small memory leak. In the long run it may
be better to just fix parse.lex and make ALL back into a token. However,
having it be a string is useful since it can be easily passed back to
the parent rule if we so desire.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=716e0b543"
>[716e0b543]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
o Remove some unnecessary backslashes o collapse multiple !&rsquo;s by using
!+ and checking if yyleng is even or odd. this allows us to simplify !
handling in parse.yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1a6fa810"
>[d1a6fa810]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
-u flag was being ignored
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=014bd2293"
>[014bd2293]</a></li>
</ul>
</dd>
<dt>1999-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
correct fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fc0ab768"
>[3fc0ab768]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
work around pod2man stupididy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=896c2748e"
>[896c2748e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
correct dependencies for .cat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e8a6d496"
>[3e8a6d496]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man, visudo.cat, visudo.man:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=762fb6a66"
>[762fb6a66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
Add copyright Update to reality
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29974bceb"
>[29974bceb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.h:<br>
rename validate() to the more descriptive sudoers_lookup()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b3909c78"
>[6b3909c78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c:<br>
use tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef4302501"
>[ef4302501]</a></li>
</ul>
</dd>
<dt>1999-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff7b46866"
>[ff7b46866]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY, INSTALL, Makefile.in, README, RUNSON, TROUBLESHOOTING,
configure, configure.in, sudo.c:<br>
Sudo, not CU Sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a51e05e6"
>[5a51e05e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE:<br>
add 4th term to license similar to term 5 in the apache license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa26399ae"
>[fa26399ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h, emul/utime.h:<br>
add 4th term to license similar to term 5 in the apache license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a89248e4"
>[1a89248e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, auth/dce.c, auth/fwtk.c, auth/kerb4.c,
auth/kerb5.c, auth/pam.c, auth/passwd.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/sia.c, auth/sudo_auth.c,
auth/sudo_auth.h, insults.h, interfaces.c, interfaces.h, lex.yy.c,
logging.c, logging.h, parse.c, parse.h, parse.lex, parse.yacc,
pathnames.h.in, putenv.c, strerror.c, sudo.c, sudo.h, sudo.tab.c,
sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c:<br>
add 4th term to license similar to term 5 in the apache license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d732401f"
>[0d732401f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h:<br>
add 4th term to license similar to term 5 in the apache license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40c228aa7"
>[40c228aa7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, alloc.c, check.c, compat.h, config.h.in, find_path.c,
getspwuid.c, goodpath.c:<br>
add 4th term to license similar to term 5 in the apache license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca8eb6f2a"
>[ca8eb6f2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>LICENSE, aclocal.m4, auth/rfc1938.c, check.c, configure.in, insults.h,
logging.c, sudo.c, sudo.h:<br>
there was a 1995 release too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=794f537ee"
>[794f537ee]</a></li>
</ul>
</dd>
<dt>1999-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46e856500"
>[46e856500]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Use dirs instead of files for timestamp. This allows tty and non-tty
schemes to coexist reasonably. Note, however, that when you update a tty
ticket, the mtime on the user dir gets updated as well.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0804f1786"
>[0804f1786]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
Fix getprpwnam() checking on SCO. Need to link with &ldquo;-lprot -lx&rdquo; when
linking test program, not just -lprot. Also add check for getspnam().
The SCO docs indicate that /etc/shadow can be used but this may be a
lie.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0368b9e61"
>[0368b9e61]</a></li>
</ul>
</dd>
<dt>1999-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/API:<br>
first cut at auth API description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=234f718e4"
>[234f718e4]</a></li>
</ul>
</dd>
<dt>1999-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/fwtk.c, auth/kerb4.c, auth/kerb5.c, auth/pam.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/sudo_auth.c, auth/sudo_auth.h:<br>
auth API change. There is now an init method that gets run before the
main loop. This allows auth routines to differentiate between
initialization that happens once vs. setup that needs to run each time
through the loop.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1e0a8180"
>[a1e0a8180]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c, logging.c:<br>
use easprintf() and evasprintf()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d72a57eb"
>[8d72a57eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, sudo.h:<br>
add easprintf() and evasprintf(), error checking versions of asprintf()
and vasprintf()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd410d4bc"
>[fd410d4bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
remove 2 items. One done, one won&rsquo;t do.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8962786f"
>[c8962786f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=712675948"
>[712675948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, sudo.cat, sudo.html, sudo.man, sudoers.html, visudo.cat,
visudo.html, visudo.man:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c7239fd9"
>[4c7239fd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
new changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ffac7eb4"
>[2ffac7eb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
o Document -K flag and update meaning of -k flag. o BSD-style copyright
o Document clearing of BIND resolver environment variables o Clarify bit
about shared libs o suggest rc files create /tmp/.odus if your OS gives
away files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e2cc2b7a"
>[0e2cc2b7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
BSD license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cbcd52f9"
>[3cbcd52f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ccee0f5b"
>[6ccee0f5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
o BSD copyright o no need to block signals, we now do that in main() o
cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd312cee2"
>[dd312cee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
o BSD-style copyright o Use &ldquo;struct sudo_user&rdquo; instead of old globals. o
some cometic cleanup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dc01cc91"
>[4dc01cc91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_setenv.c:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fbc12d52"
>[5fbc12d52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
o BSD copyright o logging and parser bits moved to their own .h files o
new &ldquo;struct sudo_user&rdquo; to encapsulate many of the old globals.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95179ddff"
>[95179ddff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
o no longer contains sudo 1.1/1.2 code o BSD copyright o use new logging
routines o simplified flow of control o BIND resolver additions to
badenv_table
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fe99a8ca"
>[7fe99a8ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strerror.c:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4079a538"
>[c4079a538]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
Now compiles on more K&amp;R compilers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcc133c11"
>[bcc133c11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>putenv.c:<br>
BSD-style copyright, cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebc1acfff"
>[ebc1acfff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be40509eb"
>[be40509eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.h, parse.lex, parse.yacc:<br>
BSD-style copyright. Move parser-specific defines and structs into
parse.h + other cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7fd99aa5"
>[c7fd99aa5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.h:<br>
defines for logging routines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c665b6724"
>[c665b6724]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getspwuid.c, goodpath.c, interfaces.c:<br>
BSD-style copyright, cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=692fe8cdb"
>[692fe8cdb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h, insults.h,
interfaces.h:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdd6ceff6"
>[cdd6ceff6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
o tgetpass.c is no longer optional o kill DCE_OBJS, add AUTH_OBJS o kill
&ndash;disable-tgetpass o add &ndash;without-passwd o changes to fill in AUTH_OBJS
for new auth api o check for strerror(), v?snprintf() and v?asprintf() o
replace &ndash;with-AuthSRV with &ndash;with-fwtk
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=379f68366"
>[379f68366]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
BSD-style copyright. Remove USE_GETPASS and HAVE_UTIME_NULL. Add
HAVE_FWTK, HAVE_STRERROR, HAVE_SNPRINTF, HAVE_VSNPRINTF, HAVE_ASPRINTF,
HAVE_VASPRINTF, WITHOUT_PASSWD and NO_PASSWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be18d643e"
>[be18d643e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
BSD-style copyright; Add S_IFLNK and MIN/MAX id they are missing.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4ea15963"
>[e4ea15963]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1403ace08"
>[1403ace08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
no more &ndash;with-getpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d5c6fc25"
>[3d5c6fc25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
Take out things I&rsquo;ve done&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bce72741"
>[3bce72741]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
Refer to LICENSE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e31765b8"
>[6e31765b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
&ndash;with-getpass no longer exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27456c392"
>[27456c392]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
BSD-style copyright. Update to reflect reality wrt new files and new
auth modules.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e86bcddbe"
>[e86bcddbe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
Remove &ndash;with-AuthSRV and &ndash;disable-tgetpass. Add &ndash;with-fwtk and
&ndash;without-passwd.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=106a909f3"
>[106a909f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
Update history a bit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1497cdb54"
>[1497cdb54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>COPYING, LICENSE:<br>
Now distributed under a BSD-style license
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b43b7a2"
>[40b43b7a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.c:<br>
o BSD-style copyright o Add support for NO_PASSWD/WITHOUT_PASSWD
options. o skey/opie replaced by rfc1938 code o new struct sudo_user
global
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c47edcb88"
>[c47edcb88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c, auth/sia.c:<br>
BSD-style copyright and use new log functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53543b6b7"
>[53543b6b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
o BSD-style copyright o Use new log functiongs o Use asprintf() and
snprintf() where sensible.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43499ea5e"
>[43499ea5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Rewrote all the old sudo 1.1/1.2 code. Timestamp handling is now done
more reasonably&ndash;better sanity checks and tty-based stamps are now done
as files in a directory with the same name as the invoking user, eg.
/var/run/sudo/millert/ttyp1. It is not currently possible to mix tty and
non-tty based ticket schemes but this may change in the future (it
requires sudo to use a directory instead of a file in the non-tty case).
Also, <code>sudo -k'' now sets the ticket back to the epoch and </code>sudo -K&rsquo;&rsquo;
really deletes the file. That way you don&rsquo;t get the lecture again just
because you killed your ticket in .logout. BSD-style copyright now.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccc736937"
>[ccc736937]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
o rewritten logging routines. log_error() now takes printf-style varargs
and log_auth() for the return value of validate(). o BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e369e519"
>[7e369e519]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth.c, check_sia.c, dce_pwent.c, secureware.c:<br>
superceded by new auth API
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1bcdd049"
>[d1bcdd049]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb4.c:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55ced1ba2"
>[55ced1ba2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/fwtk.c:<br>
Use snprintf() where it makes sense and add a BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d0a0e44e"
>[5d0a0e44e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/aix_auth.c, auth/dce.c, auth/passwd.c, auth/rfc1938.c,
auth/secureware.c, auth/securid.c, auth/sudo_auth.h:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f73c3fa0d"
>[f73c3fa0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/utime.h, utime.c:<br>
BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61f51d958"
>[61f51d958]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h:<br>
this has been rewritten so use my BSD-style copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f00f0b239"
>[f00f0b239]</a></li>
</ul>
</dd>
<dt>1999-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>snprintf.c:<br>
include malloc.h if no stdlib.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17f22b06c"
>[17f22b06c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>snprintf.c:<br>
KTH snprintf()/asprintf() for systems w/o them
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=143a6195c"
>[143a6195c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strerror.c:<br>
strerror() for systems w/o it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f47def63f"
>[f47def63f]</a></li>
</ul>
</dd>
<dt>1999-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
stylistic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b144c103f"
>[b144c103f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, parse.yacc:<br>
Add contribution info in the main comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26be17a3d"
>[26be17a3d]</a></li>
</ul>
</dd>
<dt>1999-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>auth/pam.c:<br>
remove missed ref to PAM_nullpw
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68ee11667"
>[68ee11667]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sudo_auth.h:<br>
pasto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0c6d7581"
>[d0c6d7581]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/kerb5.c:<br>
more or less complete now&ndash;still untested
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baadc4ede"
>[baadc4ede]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/pam.c:<br>
don&rsquo;t use user_name macro, it will go away
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61e798ffd"
>[61e798ffd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/opie.c, auth/rfc1938.c, auth/sudo_auth.h:<br>
combine skey/opie code into rfc1938.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ad09786a"
>[2ad09786a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/dce.c, auth/sudo_auth.h:<br>
DCE authentication method; basically unchanged from dce_pwent.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e40c7888"
>[0e40c7888]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/aix_auth.c, auth/sudo_auth.h:<br>
AIX authenticate() support. Could probably be much better
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce2573d99"
>[ce2573d99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sia.c:<br>
Fix an uninitialized variable and some cleanup. Now works (tested)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1c145f41"
>[d1c145f41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/sia.c, auth/sudo_auth.h:<br>
SIA support for digital unix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9e9f07ac"
>[c9e9f07ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/pam.c:<br>
don&rsquo;t use prompt global, it will go away
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14854258a"
>[14854258a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/secureware.c:<br>
correct copyright years
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d8417f59"
>[2d8417f59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth/afs.c, auth/fwtk.c, auth/kerb4.c, auth/kerb5.c, auth/opie.c,
auth/pam.c, auth/passwd.c, auth/secureware.c, auth/securid.c,
auth/skey.c, auth/sudo_auth.c, auth/sudo_auth.h:<br>
New authentication API and methods
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=169d85ac9"
>[169d85ac9]</a></li>
</ul>
</dd>
<dt>1999-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d22fe7a98"
>[d22fe7a98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
only save an entry if user_matches &amp;&amp; host_matches, even if the stack is
empty (fix for previous commit)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63209c134"
>[63209c134]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ab9fa82e"
>[5ab9fa82e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:
<ol>
<li>
<p>Always save an entry on the stack if it is empty. This fixes the -l
and -v flags that were broken by earlier parser changes.</p>
</li>
<li>
<p>In a Runas list, don&rsquo;t negate FALSE -&gt; TRUE since that would make
!foo match any time the user specified a runas user (via -u) other than
foo.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb54a0311"
>[fb54a0311]</a></p>
</li>
</ol>
</li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
interfaces and num_interfaces are now auto, not extern
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feb78be26"
>[feb78be26]</a></li>
</ul>
</dd>
<dt>1999-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>auth.c:<br>
use a static global to keep stae about empty passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7a4a6c78"
>[b7a4a6c78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check_sia.c:<br>
make PASSWORD_NOT_CORRECT logging consistent with other modules
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc68b825c"
>[cc68b825c]</a></li>
</ul>
</dd>
<dt>1999-07-05  Todd C. Miller</dt>
<dd>
<ul>
<li>auth.c:<br>
PAM prompt code was wrong, looks like we have to kludge it after all.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b023dc9d"
>[1b023dc9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth.c:<br>
In the PAM code, when a user hits return at the first password prompt,
exit without a warning just like the normal auth code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3bdb3e41c"
>[3bdb3e41c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
kludge around cross-compiler false positives
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f648f106"
>[0f648f106]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth.c, check.c, check_sia.c, logging.c, sudo.h, tgetpass.c:<br>
New (correct) PAM code Tgetpass now takes an echo flag for use with
PAM_PROMPT_ECHO_ON Block SIGINT and SIGTSTP during auth remove a useless
umask setting Change error from BAD_ALLOCATION -&gt; BAD_AUTH_INIT (for
use with sia/PAM) Some cosmetic changes to auth.c for consistency
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69a00325e"
>[69a00325e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Some -Wall and kill some trailing spaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20002b5fe"
>[20002b5fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
define -D__EXTENSIONS__ for solaris so we get crypt() proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82353107e"
>[82353107e]</a></li>
</ul>
</dd>
<dt>1999-06-22  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
add Dynix 4.4.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34fa2fc23"
>[34fa2fc23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, config.h.in, configure, configure.in:<br>
for kerberos V &lt; version, fall back on old kerb4 auth code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e30e833f"
>[8e30e833f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
clarify some things
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81cf00633"
>[81cf00633]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>UPGRADE, sudoers.cat, sudoers.man, sudoers.pod:<br>
typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a11c14868"
>[a11c14868]</a></li>
</ul>
</dd>
<dt>1999-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
mention why DONT_LEAK_PATH_INFO is not the default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3cd9b1f9"
>[b3cd9b1f9]</a></li>
</ul>
</dd>
<dt>1999-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
Fix open(2) return value checking, was NULL for fopen, should be -1 for
open
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eab167a3"
>[1eab167a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4cb29099"
>[c4cb29099]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
better wording for solaris pam notice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45700fb7b"
>[45700fb7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
document recent changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b8db7ea0"
>[8b8db7ea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Update shadow password section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5c60e6df"
>[f5c60e6df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>auth.c:<br>
move authentication code from check.c to auth.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d768c1ce"
>[7d768c1ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, sudo.h:<br>
move authentication code to auth.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=406056d7e"
>[406056d7e]</a></li>
</ul>
</dd>
<dt>1999-05-17  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, check.c, check_sia.c, compat.h, find_path.c, getspwuid.c,
goodpath.c, interfaces.c, interfaces.h, lex.yy.c, logging.c, parse.c,
parse.lex, parse.yacc, secureware.c, sudo.c, sudo.h, sudo.tab.c,
sudo_setenv.c, testsudoers.c, tgetpass.c, visudo.c:<br>
Move interface-related defines to interfaces.h so we don&rsquo;t have to
include &lt;netinet/in.h&gt; everywhere.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80287c981"
>[80287c981]</a></li>
</ul>
</dd>
<dt>1999-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, INSTALL, TODO, check.c, compat.h, getspwuid.c, logging.c,
parse.yacc, sudo.c, sudo.tab.c, tgetpass.c:<br>
o Replace _PASSWD_LEN braindeath with our own SUDO_MAX_PASS. It turns
out the old DES crypt does the right thing with passwords longert than 8
characters. o Fix common typo (necesary -&gt; necessary) o Update TODO
list
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=850a52aa6"
>[850a52aa6]</a></li>
</ul>
</dd>
<dt>1999-05-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
set $LOGNAME when we set $USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b91a87a9"
>[6b91a87a9]</a></li>
</ul>
</dd>
<dt>1999-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
add comment about digital unix and interfaces.c warning with gcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52ff801d8"
>[52ff801d8]</a></li>
</ul>
</dd>
<dt>1999-04-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
use modern paths and give examples for some of the new parser features
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=276ea3cbe"
>[276ea3cbe]</a></li>
</ul>
</dd>
<dt>1999-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
fix comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16fdb0a5c"
>[16fdb0a5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c, check.c, check_sia.c, dce_pwent.c, find_path.c, getspwuid.c,
goodpath.c, interfaces.c, lex.yy.c, logging.c, parse.c, parse.lex,
parse.yacc, putenv.c, secureware.c, sudo.c, sudo.tab.c, sudo_setenv.c,
testsudoers.c, tgetpass.c, utime.c, visudo.c:<br>
Function names should be flush with the start of the line so they can be
found trivially in an editor and with grep
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06e586ee7"
>[06e586ee7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, interfaces.c, lex.yy.c, parse.c, parse.lex, parse.yacc,
sudo.c, sudo.tab.c, testsudoers.c, tgetpass.c, visudo.c:<br>
free(3) is already void, no need to cast it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eecc5ce1c"
>[eecc5ce1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c, sudo.h:<br>
catch case where cmnd_safe is not set (this should not be possible)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e8fbc251"
>[8e8fbc251]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, logging.c, parse.c, parse.yacc, sudo.c, sudo.h, sudo.tab.c,
testsudoers.c, visudo.c:<br>
Stash the &ldquo;safe&rdquo; path (ie: the one listed in sudoers) to the command
instead of stashing the struct stat. Should be safer.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59b0cff8c"
>[59b0cff8c]</a></li>
</ul>
</dd>
<dt>1999-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, Makefile.in, UPGRADE:<br>
notes on updating from an earlier release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ef9c81f1"
>[0ef9c81f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1891c879"
>[f1891c879]</a></li>
</ul>
</dd>
<dt>1999-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c, sudo.tab.h, sudoers.cat, sudoers.html,
sudoers.man, sudoers.pod:<br>
You can now specifiy a host list instead of just a host or alias. Ie:
user = host1,host2,ALIAS,!host3 my_command now works.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=622b7a1d9"
>[622b7a1d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Quiet -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a8971f65"
>[3a8971f65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Move the push from the beginning of cmndspec to the end. This means we
no longer have to do a push at the end of privilege, just reset some
values.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91e31132d"
>[91e31132d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.cat, sudoers.html, sudoers.man, sudoers.pod:<br>
runas-lists and NOPASSWD/PASSWD modifiers are now sticky and you can use
&ldquo;!&rdquo; most everywhere
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d8c7c081"
>[2d8c7c081]</a></li>
</ul>
</dd>
<dt>1999-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
modernize paths and update su example based on sample.sudoers one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d2e2e9f3"
>[0d2e2e9f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
New runas semantics
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d78a954e"
>[5d78a954e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, Makefile.in, alloc.c, config.h.in, configure, configure.in,
strdup.c, sudo.h:<br>
In estrdup(), do the malloc ourselves so we don&rsquo;t need to rely on the
system strdup(3) which may or may not exist. There is now no need to
provide strdup() for those w/o it. Also, the prototype for estrdup() was
wrong, it returns char * and its param is const.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d67007d1"
>[0d67007d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
$Sudo tag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29523f349"
>[29523f349]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
buf should be prompt; Michael Robokoff &lt;mrobo@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ecb8d08e2"
>[ecb8d08e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO, parse.yacc, sudo.tab.c:<br>
It is now possible to use the &lsquo;!&rsquo; operator in a runas list as well as in
a Cmnd_Alias, Host_Alias and User_Alias.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f50a342b4"
>[f50a342b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
Kill GLOBAL_NO_SPW_ENT (not used) and crank GLOBAL_PROBLEM
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d53f3818a"
>[d53f3818a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
Definitions of *_matched were wrong&ndash;user top, not top-2 as subscript.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1818ace05"
>[1818ace05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.c, parse.yacc, sudo.c, sudo.h, sudo.tab.c:<br>
Add VALIDATE_NOT_OK_NOPASS for when user is not allowed to run a command
but the NOPASSWD flag was set. Make runasspec, runaslist, runasuser, and
nopasswd typeless in parse.yacc Add support for &lsquo;!&rsquo; in the runas list
Fix double printing of &lsquo;%&rsquo; and &lsquo;+&rsquo; for groups and netgroups respectively
Add *_matched macros (no need for local stack variable). Should only be
used directly after a pop (since top must be &gt;= 2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=499e86923"
>[499e86923]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
Add copyright, somewhat silly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9284e417c"
>[9284e417c]</a></li>
</ul>
</dd>
<dt>1999-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, README, alloc.c, check.c, check_sia.c,
compat.h, config.h.in, configure, configure.in, dce_pwent.c,
emul/utime.h, find_path.c, getspwuid.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
lex.yy.c, logging.c, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, secureware.c, strdup.c, sudo.c, sudo.cat, sudo.h, sudo.man,
sudo.tab.c, sudo_setenv.c, sudoers.cat, sudoers.man, testsudoers.c,
tgetpass.c, utime.c, version.h, visudo.c, visudo.cat, visudo.man:<br>
Crank version to 1.6 and combine copyright statements
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6deacb6c"
>[e6deacb6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
Use ! not ^ to do negation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a9dc3fab"
>[9a9dc3fab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c, sudo.tab.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=094a29a66"
>[094a29a66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
Make runas and NOPASSWD tags persistent across entris in a command list.
Add a PASSWD tag to reverse NOPASSWD. When you override a runas or
*PASSWD tag the value given becomes the new default for the rest of the
command list.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f6f75ae3"
>[4f6f75ae3]</a></li>
</ul>
</dd>
<dt>1999-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, RUNSON:<br>
update for 1.5.9
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=321906bfb"
>[321906bfb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Shift return value of system(3) by 8 to get real exit value and if it is
not 1 or 0 print the retval along with the error message.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a234aee2c"
>[a234aee2c]</a></li>
</ul>
</dd>
<dt>1999-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
testsudoers needs LIBOBJS too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1116756bf"
>[1116756bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.yacc, sudo.tab.c:<br>
Fix another parser bug. For a sudoers entry like this: millert
ALL=/bin/ls,(daemon) !/bin/ls sudo would not allow millert to run ls as
root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49c5a12d8"
>[49c5a12d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
new change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3f330600"
>[b3f330600]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Save entries that match a ! command on the matching stack too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baae4d4dd"
>[baae4d4dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Make sudo&rsquo;s usage info better when mutually exclusive args are given and
don&rsquo;t rely on argument order to detect this; nick@&hellip;.au
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b56f53a4"
>[1b56f53a4]</a></li>
</ul>
</dd>
<dt>1999-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, Makefile.in, RUNSON:<br>
updates from CU
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c7a8ba7b"
>[2c7a8ba7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
use gzip
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f7ace9ee"
>[3f7ace9ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Fix off by one error introduced in *alloc changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75fb22990"
>[75fb22990]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES, INSTALL, Makefile.in, README, alloc.c, check.c,
check_sia.c, compat.h, config.h.in, configure, configure.in,
dce_pwent.c, emul/utime.h, find_path.c, getspwuid.c, goodpath.c,
ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h, insults.h,
interfaces.c, lex.yy.c, logging.c, parse.c, parse.lex, parse.yacc,
pathnames.h.in, putenv.c, secureware.c, strdup.c, sudo.c, sudo.cat,
sudo.h, sudo.man, sudo.tab.c, sudo_setenv.c, sudoers.cat, sudoers.man,
testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c, visudo.cat,
visudo.html, visudo.man, visudo.pod:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79c46d1c8"
>[79c46d1c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, find_path.c, getspwuid.c, goodpath.c,
interfaces.c, lex.yy.c, logging.c, parse.c, parse.lex, parse.yacc,
putenv.c, secureware.c, strdup.c, sudo.c, sudo.h, sudo.tab.c,
sudo_setenv.c, testsudoers.c, utime.c, visudo.c:<br>
Use emalloc/erealloc/estrdup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=382ef7549"
>[382ef7549]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloc.c:<br>
error checking memory allocation routines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8947486e"
>[d8947486e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Still not right, this fixes it for real
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4b42c5ea"
>[e4b42c5ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, sudo.tab.c:<br>
Fix for previous commit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b789f9e93"
>[b789f9e93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, INSTALL, parse.yacc:<br>
Fix a parser bug that was exposed when mixing different runas specs and
! commands. For example: millert ALL=(daemon) /usr/bin/whoami,!/bin/ls
would allow millert to run whoami as root as well as daemon when it
should just allow daemon. The problem was that comma-separated commands
in a list shared the same entry on the matching stack. Now they get
their own entry iff there is a full match. It may be better to just make
the runas spec persistent across all commands in a list like the user
and host entries of the matching stack. However, since that is a fairly
major change it should gets its own minor rev increase.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=217710df3"
>[217710df3]</a></li>
</ul>
</dd>
<dt>1999-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, config.h.in:<br>
Simplify PAM code and fix a PAM-related warning on Linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd76c1333"
>[bd76c1333]</a></li>
</ul>
</dd>
<dt>1999-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updates
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37873b23d"
>[37873b23d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
better su entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56b0eb23f"
>[56b0eb23f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07b9914ed"
>[07b9914ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, configure.in:<br>
new pam code that works on solaris, should work on linux too;
aelberg@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c38c66b2b"
>[c38c66b2b]</a></li>
</ul>
</dd>
<dt>1999-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
more entries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=958ccf521"
>[958ccf521]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
only include strings.h if there is no string.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a5776995"
>[2a5776995]</a></li>
</ul>
</dd>
<dt>1999-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess:<br>
Sinix is now being called ReliantUNIX; bjjackso@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dcb02b2a"
>[5dcb02b2a]</a></li>
</ul>
</dd>
<dt>1999-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
shost must be set before log functions are called #ifdef HOST_IN_LOG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c74286542"
>[c74286542]</a></li>
</ul>
</dd>
<dt>1999-03-07  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, lex.yy.c, parse.lex:<br>
Fix a bug wrt quoting characters in command args. Stop processing an arg
when you hit a backslash so the quoted-character detection can catch it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=736359cce"
>[736359cce]</a></li>
</ul>
</dd>
<dt>1999-02-26  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
include sys/time.h; aparently AIX needs it. ppz@cdu.elektra.ru
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddb4cacb4"
>[ddb4cacb4]</a></li>
</ul>
</dd>
<dt>1999-02-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
add missing case statement so &ndash;without-sendmail works
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e14f7237"
>[3e14f7237]</a></li>
</ul>
</dd>
<dt>1999-02-23  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
more
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59321981d"
>[59321981d]</a></li>
</ul>
</dd>
<dt>1999-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
only search for -lsun in irix &lt;= 4.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bf7f60c2"
>[6bf7f60c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
back out last configure.in change now that I&rsquo;ve hacked autoconf to fix
the real problem and add a missing newline
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89bdafdc3"
>[89bdafdc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8aa6c700b"
>[8aa6c700b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
add def of dirfd() for those without it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd8cc0d00"
>[cd8cc0d00]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
When falling back to checking for socket() when linking with &ldquo;-lsocket
-lnsl&rdquo; check for main() instead since autoconf has already cached the
results of checking for socket() in -lsocket. This is really an autoconf
bug as it should use the extra libs as part of the cache variable name.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3730e35f"
>[d3730e35f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27a065f26"
>[27a065f26]</a></li>
</ul>
</dd>
<dt>1999-02-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fix occurrence of $with_timeout that should be $with_password_timeout;
Michael.Neef@neuroinformatik.ruhr-uni-bochum.de
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a650f840c"
>[a650f840c]</a></li>
</ul>
</dd>
<dt>1999-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
fix grammar; espie@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeffa02a1"
>[aeffa02a1]</a></li>
</ul>
</dd>
<dt>1999-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.c, testsudoers.c:<br>
add cast for strdup in places it does not have it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b80fcad"
>[f9b80fcad]</a></li>
</ul>
</dd>
<dt>1999-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
define for_BSD_TYPES irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=699338971"
>[699338971]</a></li>
</ul>
</dd>
<dt>1999-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, sudo.cat, sudo.html, sudo.man, sudo.pod:<br>
Make it clear that it is the user&rsquo;s password, not root&rsquo;s, that we want.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50219d0aa"
>[50219d0aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.h:<br>
If the user enters an empty password and really has no password, accept
the empty password they entered. Perviously, they could enter anything
<em>but</em> an empty password. Also, add GETPASS macro that calls either
tgetpass() or getpass() depending on how sudo was configured. Problem
noted by jdg@maths.qmw.ac.uk
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3029dedd"
>[a3029dedd]</a></li>
</ul>
</dd>
<dt>1999-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, check.c, check_sia.c, compat.h, config.h.in, dce_pwent.c,
emul/utime.h, find_path.c, getspwuid.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, parse.c, parse.lex, parse.yacc, pathnames.h.in, putenv.c,
secureware.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, version.h, visudo.c:<br>
add explicate copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52916f16a"
>[52916f16a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
mention -lsocket, -lnsl configure changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d42f9713"
>[9d42f9713]</a></li>
</ul>
</dd>
<dt>1999-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t clobber errno after calling check_sudoers().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f9653f7"
>[e6f9653f7]</a></li>
</ul>
</dd>
<dt>1999-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
When linking with both -lsocket and -lnsl be sure to do so in that
order. Also, when we can&rsquo;t find socket() or inet_addr() and have to try
linking with both libs, issue a warning.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97d36a72d"
>[97d36a72d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.man, sudo.pod:<br>
clarify bad timestamp and fmt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dab5a0133"
>[dab5a0133]</a></li>
</ul>
</dd>
<dt>1999-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, RUNSON:<br>
be clear that pam is linux-only and add a RUNSON entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=859712c53"
>[859712c53]</a></li>
</ul>
</dd>
<dt>1999-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, INSTALL, configure, configure.in:<br>
fix and correctly document &ndash;with-umask; problem noted by adap@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=463396270"
>[463396270]</a></li>
</ul>
</dd>
<dt>1999-01-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure, configure.in:<br>
only use /usr/{man,catman}/local to store man pages if suer didn&rsquo;t
override prefix or mandir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe4f974b3"
>[fe4f974b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure, configure.in:<br>
fix typo, make &ndash;with-SecurID take an arg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94026c212"
>[94026c212]</a></li>
</ul>
</dd>
<dt>1999-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updates from users
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0f0bcc2f"
>[f0f0bcc2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, INSTALL, check.c, configure, configure.in:<br>
FWTK &lsquo;authsrv&rsquo; support from Kevin Kadow &lt;kadow@MSG.NET&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cefcc04d6"
>[cefcc04d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
better fix for the problem of unresolved symbols in -lnsl or -lsocket
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=55a5687a3"
>[55a5687a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure, configure.in:<br>
when checking for functions in -lnsl and -lsocket link with both of them
to avoid unresolved symbols on some weirdo systems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ca93567b"
>[0ca93567b]</a></li>
</ul>
</dd>
<dt>1999-01-18  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, CHANGES, RUNSON, TODO:<br>
old changes that didn&rsquo;t make it into RCS before the RCS-&gt;CVS switch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bb164610"
>[1bb164610]</a></li>
</ul>
</dd>
<dt>1999-01-17  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, check.c, check_sia.c, compat.h, config.h.in, configure.in,
dce_pwent.c, emul/search.h, emul/utime.h, find_path.c, getspwuid.c,
goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, interfaces.c, lex.yy.c, logging.c, lsearch.c, parse.c,
parse.lex, parse.yacc, pathnames.h.in, putenv.c, secureware.c, strdup.c,
sudo.c, sudo.pod, sudo_setenv.c, sudoers.pod, testsudoers.c, tgetpass.c,
utime.c, visudo.c, visudo.pod:<br>
add sudo tags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=826fe213f"
>[826fe213f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
testing Sudo tag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=251962273"
>[251962273]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
testing Sudo tag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9a077e8a"
>[d9a077e8a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, README, check.c, check_sia.c, compat.h,
config.h.in, configure, configure.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, goodpath.c, ins_2001.h, ins_classic.h,
ins_csops.h, ins_goons.h, insults.h, interfaces.c, lex.yy.c, logging.c,
parse.c, parse.lex, parse.yacc, pathnames.h.in, putenv.c, secureware.c,
strdup.c, sudo.c, sudo.cat, sudo.h, sudo.man, sudo_setenv.c,
sudoers.cat, sudoers.man, testsudoers.c, tgetpass.c, utime.c, version.h,
visudo.c, visudo.cat, visudo.man:<br>
crank version and regen files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3aaf5228"
>[d3aaf5228]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
kill rcs goop in update_version and fix now that version is a const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2621fd7e"
>[c2621fd7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, check.c, config.h.in, configure, configure.in, logging.c,
sudo.c, sudo.h, sudo.pod:<br>
kerb5 support from fcusack@iconnet.net
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3983a7a65"
>[3983a7a65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
we no longer use realpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f5675869"
>[7f5675869]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>qualify.c:<br>
replaced by find_path.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f92b48b4"
>[8f92b48b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
all options are now configure flags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf56274ec"
>[cf56274ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lex.yy.c:<br>
regen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb22ac2ec"
>[eb22ac2ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getwd.c:<br>
superceded by getcwd.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e591b7bd"
>[9e591b7bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getpass.c:<br>
superceded by tgetpass.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca49d5ca8"
>[ca49d5ca8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
superceded by RUNSON
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e83631bac"
>[e83631bac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
No longer used now that we have configure options for everything.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2853eeffa"
>[2853eeffa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure:<br>
regen based on configure.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab576d5bd"
>[ab576d5bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.cat, sudo.html, sudo.man, sudoers.cat, sudoers.html, sudoers.man,
visudo.cat, visudo.html, visudo.man:<br>
regen based on sudo.pod, sudoers.pod, and visudo.pod
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6f4fac3"
>[de6f4fac3]</a></li>
</ul>
</dd>
<dt>1998-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fix tty tickets in remove_timestamp (didn&rsquo;t use &lsquo;:&rsquo;)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9daf68bb7"
>[9daf68bb7]</a></li>
</ul>
</dd>
<dt>1998-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
close sock when we are done with it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d61383848"
>[d61383848]</a></li>
</ul>
</dd>
<dt>1998-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
never say &ldquo;error on line -1&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a31b34260"
>[a31b34260]</a></li>
</ul>
</dd>
<dt>1998-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
check for -lnsl before -lsocket
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b6a06a6a"
>[3b6a06a6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
quote &lsquo;[&rsquo;, &lsquo;]&rsquo; used in ranges correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c0b9b9d3"
>[0c0b9b9d3]</a></li>
</ul>
</dd>
<dt>1998-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
add missing NO_ROOT_SUDO noted by drno@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38e108587"
>[38e108587]</a></li>
</ul>
</dd>
<dt>1998-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
1.5.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa0917f9c"
>[aa0917f9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
more info for 1.5.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab78fa496"
>[ab78fa496]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
update for 1.5.7
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3940efc90"
>[3940efc90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
make increases of cm_list_size and ga_list_size be similar to increases
of stacksize (ie: &gt;= not &gt; in initial compare).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5fb938c1"
>[d5fb938c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
when we get a syntax error, report it for the previous line since that&rsquo;s
generally where the error occurred.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbd9d6f32"
>[cbd9d6f32]</a></li>
</ul>
</dd>
<dt>1998-11-18  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in, configure.in, interfaces.c:<br>
add back check for sys/sockio.h but only use it if SIOCGIFCONF is not
defined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6bf40c3c0"
>[6bf40c3c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
define BSD_COMP for svr4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3c16ebec"
>[a3c16ebec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, check_sia.c, find_path.c, getcwd.c, getspwuid.c, goodpath.c,
interfaces.c, logging.c, lsearch.c, parse.c, parse.lex, parse.yacc,
putenv.c, secureware.c, strdup.c, sudo.c, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, visudo.c:<br>
more -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62dba8f4d"
>[62dba8f4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
kill check for sockio,h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbcd21287"
>[bbcd21287]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
no more HAVE_SYS_SOCKIO_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35ec16eb7"
>[35ec16eb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, check_sia.c, find_path.c, getcwd.c, getspwuid.c, goodpath.c,
interfaces.c, logging.c, lsearch.c, parse.c, parse.lex, parse.yacc,
putenv.c, secureware.c, strdup.c, sudo.c, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, visudo.c:<br>
-Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c253188f5"
>[c253188f5]</a></li>
</ul>
</dd>
<dt>1998-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
add missing inform_user()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba5a24cfc"
>[ba5a24cfc]</a></li>
</ul>
</dd>
<dt>1998-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
return NOT_FOUND if given fully qualified path and it does not exist
previously it would perror(ENOENT) which bypasses the option to not leak
path info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c4e1d376"
>[4c4e1d376]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
for kerb5, check for -lkerb4, fall back on -lkrb for kerb, check for
-ldes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1515dfb49"
>[1515dfb49]</a></li>
</ul>
</dd>
<dt>1998-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
tty tickets are user:tty now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8fce0bce"
>[a8fce0bce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
when using tty tickets make it user:tty not user.tty as a username could
have a &lsquo;.&rsquo; in it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b831104e1"
>[b831104e1]</a></li>
</ul>
</dd>
<dt>1998-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
add &ldquo;ignoring foo found in .&rdquo; for auth successful case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53969f978"
>[53969f978]</a></li>
</ul>
</dd>
<dt>1998-11-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
add missing printf param
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b82d683a3"
>[b82d683a3]</a></li>
</ul>
</dd>
<dt>1998-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, config.h.in, configure.in, find_path.c, sudo.c, sudo.h:<br>
go back to printing &ldquo;command not found&rdquo; unless &ndash;disable-path-info
specified. Also, tell user when we ignore &lsquo;.&rsquo; in their path and it would
have been used but for &ndash;with-ignore-dot.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0900eabf3"
>[0900eabf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c:<br>
Only one space after a colon, not two, in printf&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b9e318b7"
>[0b9e318b7]</a></li>
</ul>
</dd>
<dt>1998-11-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
document setting $USER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0aad2d5af"
>[0aad2d5af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fix bugs with prompt expansion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91af18b71"
>[91af18b71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
set $USER for root too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef4b73161"
>[ef4b73161]</a></li>
</ul>
</dd>
<dt>1998-11-04  Todd C. Miller</dt>
<dd>
<ul>
<li>getspwuid.c:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fb6e41a5"
>[2fb6e41a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
HP-UX&rsquo;s iscomsec is in -lsec, not libc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d1f46461"
>[4d1f46461]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
remove some entries in the OS case statement that did nothing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c017795d"
>[4c017795d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
add &ldquo;cd&rdquo; section and flush out syslog section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d5591ba2"
>[6d5591ba2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
no more sudo-lex.yy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80b47ae77"
>[80b47ae77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check_sia.c:<br>
add custom prompt support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16df5841a"
>[16df5841a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages pw_ent
-&gt; pw for brevity
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0c535cee"
>[d0c535cee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages pw_ent
-&gt; pw for brevity set $USER if -u specified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22f741b38"
>[22f741b38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3f28be05"
>[c3f28be05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages pw_ent
-&gt; pw for brevity when checking if %group matches, look up user in
password file so that %groups works in a RunAs spec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f461199a"
>[4f461199a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5731e248b"
>[5731e248b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, getspwuid.c, interfaces.c:<br>
kill perror(&ldquo;malloc&rdquo;) since we already have a good error messages pw_ent
-&gt; pw for brevity
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de21acbb3"
>[de21acbb3]</a></li>
</ul>
</dd>
<dt>1998-11-03  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
the prompt is expanded before tgetpass is called
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b751a2b9c"
>[b751a2b9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
tgetpass now has the same args as getpass again
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1548a20d9"
>[1548a20d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
add iscomsec, issecure support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=918306ecc"
>[918306ecc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
we now expand any %h or %u in the prompt before passing to tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dad5b0257"
>[dad5b0257]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add check for syslog(3) in -lsocket, -lnsl, -linet
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f6ba6258"
>[8f6ba6258]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_ISCOMSEC and HAVE_ISSECURE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=764ab3769"
>[764ab3769]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add check for iscomsec in HP-UX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aff8524f0"
>[aff8524f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
check for issecure if we have getpwanam on SunOS some options are
incompatible with DUNIX SIA check for dispcrypt on DUNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3d49aa08"
>[a3d49aa08]</a></li>
</ul>
</dd>
<dt>1998-10-25  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_DISPCRYPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a402de123"
>[a402de123]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>secureware.c:<br>
add back support for non-dispcrypt based checking for older DUNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e41aef0f"
>[8e41aef0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
sia changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3539bbf5b"
>[3539bbf5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
SIA becomes the default on Digital UNIX now havbe &ndash;disable-sia to turn
it off&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=015c75c4d"
>[015c75c4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
move local includes after system ones
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=713756564"
>[713756564]</a></li>
</ul>
</dd>
<dt>1998-10-24  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, check_sia.c, sudo.h:<br>
add pass_warn() which prints out INCORRECT_PASSWORD or an insult to
stderr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=261cdb5d8"
>[261cdb5d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check_sia.c:<br>
fix while loop in sia_attempt_auth() that checks the password. Only the
first iteration was working.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bdc7d308"
>[5bdc7d308]</a></li>
</ul>
</dd>
<dt>1998-10-22  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
don&rsquo;t trust UID_MAX or MAXUID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f94c6b38"
>[1f94c6b38]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fix two pastos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce733cd8f"
>[ce733cd8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fix typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23ede59ea"
>[23ede59ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, secureware.c:<br>
init crypt_type to INT_MAX since it is legal to be negative in DUNX 5.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a91e6bc12"
>[a91e6bc12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
for secureware on dunix, use -lsecurity -ldb -laud -lm but check for
-ldb since DUNX &lt; 4.0 lacks it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48e0ca4a0"
>[48e0ca4a0]</a></li>
</ul>
</dd>
<dt>1998-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, compat.h, config.h.in, configure.in, getspwuid.c, secureware.c,
sudo.c, tgetpass.c:<br>
getprpwuid is broken in HP-UX 10.20 at least (it sleeps for 2 minutes if
the shadow files don&rsquo;t exist).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ffee3b99"
>[7ffee3b99]</a></li>
</ul>
</dd>
<dt>1998-10-20  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
updated &ndash;with-editor blurb
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=929bff13f"
>[929bff13f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
tell how to put sudoers in a different dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e6b4c5a2"
>[7e6b4c5a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add missing quotes around $with_editor
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96286964e"
>[96286964e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
typo in &ndash;with-editor bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c28e57f8"
>[4c28e57f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
I don&rsquo;t expect it to work on Solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=272a9f4a1"
>[272a9f4a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
add back security/pam_misc.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c8dc54a3"
>[1c8dc54a3]</a></li>
</ul>
</dd>
<dt>1998-10-19  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
remove dunix note since configure checks for this now
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6f3d9825"
>[e6f3d9825]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add check for broken dunix prot.h (4.0 &lt; 4.0D is bad)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd320380b"
>[bd320380b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, secureware.c, tgetpass.c:<br>
new dunix shadow code, use dispcrypt(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d92a1bb9"
>[3d92a1bb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_INITPRIVS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=153bd73ab"
>[153bd73ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
call initprivs() if we have it for getprpwuid later on
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=156c3b069"
>[156c3b069]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
clean pathnames.h too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1895d4388"
>[1895d4388]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
quote &ldquo;Sorry, try again.&rdquo; with [] since it has a comma in it set LIBS
when we add stuff to SUDO_LIBS set SECUREWARE when we find getprpwuid()
so we can check for bigcrypt, set_auth_parameters, and initprivs later.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c68982b8f"
>[c68982b8f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
update Digital UNIX note about acl.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=035fb6792"
>[035fb6792]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
add &ndash;with-sia &ndash;without-root-sudo -&gt; &ndash;disable-root-sudo some
reordering
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1be01aad4"
>[1be01aad4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>secureware.c:<br>
add whitespace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d948a701e"
>[d948a701e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, config.h.in, configure.in, logging.c, sudo.h:<br>
add SIA support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dffdd17c"
>[1dffdd17c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check_sia.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31d783ac8"
>[31d783ac8]</a></li>
</ul>
</dd>
<dt>1998-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
when checking for -lsocket, -lnsl, and -linet, check for the specific
functions we need from them.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eeaca5b70"
>[eeaca5b70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, sudo.h:<br>
move Syslog_* defs into sudo.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16d565dd8"
>[16d565dd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, sudo.h:<br>
added check_secureware
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4bef103d"
>[f4bef103d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
finished adding AC_MSG_CHECKING and AC_MSG_RESULT bits
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=136ab6b11"
>[136ab6b11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
don&rsquo;t define CLASSIC_INSULTS and CSOPS_INSULTS if no other sets defined.
configure now does that for us
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ff9e00ca"
>[1ff9e00ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
move some &ndash;with options around change a bunch of echo&rsquo;s to
AC_MSG_CHECKING, AC_MSG_RESULT pairs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e5978a37"
>[4e5978a37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
change $with_foo-bar -&gt; $with_foo_bar kill extra &quot; that caused a syntax
error add some echo verbage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a62253b5"
>[5a62253b5]</a></li>
</ul>
</dd>
<dt>1998-10-17  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
moved SecureWare stuff into secureware.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a20f23f79"
>[a20f23f79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>secureware.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=176c73421"
>[176c73421]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
update url to solaris gcc bins
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16b0c311e"
>[16b0c311e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
change option formatter and flesh out someentries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56954cf32"
>[56954cf32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING, sudo.pod, visudo.pod:<br>
environmental variable -&gt; environment variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f41948de"
>[5f41948de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
everything is now done via configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1dbd23841"
>[1dbd23841]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
prev rev was 1.5.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=819eaaad9"
>[819eaaad9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
passing SUDOERS_MODE, SUDOERS_UID, SUDOERS_GID correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=127545f11"
>[127545f11]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
SUDOERS_MODE, SUDOERS_UID, SUDOERS_GID now come from the Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54d5d53cb"
>[54d5d53cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
merge OSDEFS and OPTIONS into DEFS get sudoers_uid, sudoers_gid,
sudoers_mode from configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7634b229a"
>[7634b229a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
SUDOERS_MODE, SUDOERS_UID, and SUDOERS_GID now get substituted into the
Makefile, not config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a03196691"
>[a03196691]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document all &ndash;with/&ndash;enable options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05ab66bad"
>[05ab66bad]</a></li>
</ul>
</dd>
<dt>1998-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>insults.h:<br>
options.h is no more
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ea98f1aa"
>[3ea98f1aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
assimilated options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfbe8fd6a"
>[bfbe8fd6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
moved options from options.h to configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97f58b0e6"
>[97f58b0e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getspwuid.c, goodpath.c, interfaces.c, logging.c,
parse.c, parse.lex, parse.yacc, sudo.c, sudo.pod, sudo_setenv.c,
visudo.c:<br>
no more options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bfb481ca"
>[5bfb481ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, PORTING, TROUBLESHOOTING:<br>
remove references to options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b61f17b50"
>[b61f17b50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>dce_pwent.c, interfaces.c, sudo.c:<br>
kill sys/time.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a40aca2b1"
>[a40aca2b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
if select return &lt; -1 still prompt for pw
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb8c2e2a7"
>[bb8c2e2a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
convert LOGGING, LOGFAC, MAXLOGFILELEN, IGNORE_DOT_PATH into configure
options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0560b084f"
>[0560b084f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
FAST_MATCH is no longer an optino
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=581cfa140"
>[581cfa140]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
remove_timestamp() if timestamp is preposterous
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f45971922"
>[f45971922]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
convert more options to &ndash;with/&ndash;enable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c92134ba"
>[4c92134ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, aclocal.m4:<br>
logfile -&gt; logpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=918410089"
>[918410089]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
convert more options into &ndash;with and &ndash;enable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76486858e"
>[76486858e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
catch EINTR in select and restart
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a05c2b96b"
>[a05c2b96b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
sys/errno -&gt; errno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d68094514"
>[d68094514]</a></li>
</ul>
</dd>
<dt>1998-09-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
UMASK -&gt; SUDO_UMASK.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d6cd6f21"
>[9d6cd6f21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c:<br>
time.h, not sys/time.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c0e6f882"
>[4c0e6f882]</a></li>
</ul>
</dd>
<dt>1998-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
MAILER -&gt; _PATH_SENDMAIL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8450ad080"
>[8450ad080]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, configure.in:<br>
no more &ndash;with-C2, now it is &ndash;disable-shadow
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3d704681"
>[d3d704681]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, check.c, compat.h, config.h.in, configure.in, getspwuid.c,
sudo.c, tgetpass.c:<br>
new shadow password scheme. Always include shadow support if the
platform supports it and the user did not disable it via configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c66c857e"
>[1c66c857e]</a></li>
</ul>
</dd>
<dt>1998-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
&ndash;with-getpass -&gt; &ndash;{enable,disable}-tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2de38e16c"
>[2de38e16c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
pathnames.h -&gt; pathnames.h.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f82c3563e"
>[f82c3563e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fix version string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f69024cc"
>[8f69024cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
move pam_conv to be static to auth function remove pam_misc.h (solaris
doesn&rsquo;t have one)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80c1c8dcb"
>[80c1c8dcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
<em>CONFIG_PATH</em>* -&gt; <em>PATH</em>* or <em>PATH_SUDO</em>* kill SUDO_PROG_PWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8c4ae71a"
>[b8c4ae71a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
munge pathnames.h.in -&gt; pathnames.h kill SUDO_PROG_PWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e70f549c"
>[1e70f549c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
convert to pathnames.h.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=699272e31"
>[699272e31]</a></li>
</ul>
</dd>
<dt>1998-09-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fix typo in sysv4 matching case /.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7266c9f0e"
>[7266c9f0e]</a></li>
</ul>
</dd>
<dt>1998-09-18  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
pam stuff needs to run as root, not user, for shadow passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d906459d"
>[8d906459d]</a></li>
</ul>
</dd>
<dt>1998-09-17  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, README, configure.in:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d257d37b5"
>[d257d37b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, compat.h, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, goodpath.c, ins_2001.h, ins_classic.h,
ins_csops.h, ins_goons.h, insults.h, interfaces.c, logging.c, options.h,
parse.c, parse.lex, parse.yacc, pathnames.h.in, putenv.c, strdup.c,
sudo.c, sudo.h, sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c,
visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ef9f25d7"
>[0ef9f25d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
user version.h for long message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=932624d6a"
>[932624d6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
this is version 1.5.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=286aa8f83"
>[286aa8f83]</a></li>
</ul>
</dd>
<dt>1998-09-16  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
remove errant backslash
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc449d186"
>[cc449d186]</a></li>
</ul>
</dd>
<dt>1998-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>options.h, parse.yacc, pathnames.h.in:<br>
fix version string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3dd98aef6"
>[3dd98aef6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES, TODO:<br>
updtaed for 1.5.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e46758789"
>[e46758789]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated for 1.5.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9933f615"
>[b9933f615]</a></li>
</ul>
</dd>
<dt>1998-09-14  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
kill unused localhost_mask var copy if name to ifr_tmp after we zero it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8021b8cb8"
>[8021b8cb8]</a></li>
</ul>
</dd>
<dt>1998-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
Better description of new vs. old sudoers modes fix some typos better
description of /usr/ucb/cc gotchas on slowaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f3d9e122"
>[9f3d9e122]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add sample.pam
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4272a1b2"
>[d4272a1b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
set NewArgv[0] to user_shell, not basename(user_shell)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ded52e06"
>[6ded52e06]</a></li>
</ul>
</dd>
<dt>1998-09-12  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
mention TROUBLESHOOTING more fix some typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68d062c37"
>[68d062c37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
move &ndash;enable/&ndash;disable to be after &ndash;with
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eacb84a5f"
>[eacb84a5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;enable/&ndash;disable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50a5047e3"
>[50a5047e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-pam
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b9b3b75b"
>[2b9b3b75b]</a></li>
</ul>
</dd>
<dt>1998-09-11  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
Add message for pam users
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b213a75c"
>[6b213a75c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.pam:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06bff7d2c"
>[06bff7d2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
fix HAVE_PAM
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60c2ab2b5"
>[60c2ab2b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, config.h.in, configure.in:<br>
pam support, from Gary Calvin &lt;GCalvin@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=218e76a05"
>[218e76a05]</a></li>
</ul>
</dd>
<dt>1998-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
add HOST_IN_LOG and WRAP_LOG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50411d770"
>[50411d770]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
add WRAP_LOG and HOST_IN_LOG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9d20e875"
>[f9d20e875]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add &ndash;enable-log-host and &ndash;enable-log-wrap
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c725b503"
>[9c725b503]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
use AC_DEFINE_UNQUOTED for &ndash;with-logfile and &ndash;with-timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8508d5f04"
>[8508d5f04]</a></li>
</ul>
</dd>
<dt>1998-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
add howmany macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6465c5eb4"
>[6465c5eb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
include sys/param.h to get howmany macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c54ebc58"
>[0c54ebc58]</a></li>
</ul>
</dd>
<dt>1998-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS, options.h, parse.yacc, sudo.c, testsudoers.c, visudo.c:<br>
add RUNAS_DEFAULT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e68f156ac"
>[e68f156ac]</a></li>
</ul>
</dd>
<dt>1998-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>fnmatch.c:<br>
bring in stdio.h for NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd94f14a1"
>[fd94f14a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
allow /bin/{ksh,bach} and /usr/bin/{ksh,bash} as sh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f029f608"
>[3f029f608]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
use HAVE_SET_AUTH_PARAMETERS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e6a9074e"
>[2e6a9074e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_SET_AUTH_PARAMETERS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccb78e265"
>[ccb78e265]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add <em>-</em>-hiuxmpp* add test for set_auth_parameters() if secureware
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48940fc5a"
>[48940fc5a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
add support for HI-UX/MPP SR220001 02-03 0 SR2201
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc8053beb"
>[fc8053beb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
initialize previfname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d228cff31"
>[d228cff31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
Don&rsquo;t use SIOCGIFADDR, we don&rsquo;t need it Use SIOCGIFFLAGS if we have it
check ifr_flags against IFF_UP and IFF_LOOPBACK instead of kludging it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65de4eeb7"
>[65de4eeb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57a7e0057"
>[57a7e0057]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
don&rsquo;t need special build line for sudo.tab.o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa0936547"
>[fa0936547]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
don&rsquo;t clean sudo.tab.[ch]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9d0fe1d5"
>[d9d0fe1d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Sudo should prompt for a password before telling the user that a command
could not be found.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca0a28b03"
>[ca0a28b03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
for 1.5.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eac2b72c"
>[5eac2b72c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README:<br>
no longer require yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f20cb4a5"
>[5f20cb4a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=45e7634e9"
>[45e7634e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
y.tab -&gt; sudo.tab include pre-yacc&rsquo;d parse.yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10fd92bb9"
>[10fd92bb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
include sudo.tab.h, not y.tab.h don&rsquo;t break out of command args if you
get a &lsquo;=&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1a6b1fec"
>[e1a6b1fec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
fix version ,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0643cd950"
>[0643cd950]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h:<br>
fix version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00861546a"
>[00861546a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
fix version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f56bd7754"
>[f56bd7754]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
getcwd(3) from OpenBSD for those without it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39a719159"
>[39a719159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
HAVE_GETWD -&gt; HAVE_GETCWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c040bfc5"
>[0c040bfc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
pretend sunos doesn&rsquo;t have getcwd(3) since it opens a pipe to getpwd!
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6dc57e6ea"
>[6dc57e6ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
use NAMLEN() macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1c5148c3"
>[a1c5148c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>fnmatch.c:<br>
remove duplicate include of string.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7a1cc6b6"
>[e7a1cc6b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
call SUDO_TYPE_DEV_T and SUDO_TYPE_INO_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1aa92f833"
>[1aa92f833]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
add SUDO_TYPE_DEV_T and SUDO_TYPE_INO_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=856a70de8"
>[856a70de8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add dev_t and ino_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15c6fea6d"
>[15c6fea6d]</a></li>
</ul>
</dd>
<dt>1998-07-28  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fix OTP_ONLY for opie
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d26f2699"
>[1d26f2699]</a></li>
</ul>
</dd>
<dt>1998-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>testsudoers.c, tgetpass.c:<br>
include stdlib.h for malloc proto
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b2b9eb8e"
>[2b2b9eb8e]</a></li>
</ul>
</dd>
<dt>1998-05-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
make update_version saner
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30a451818"
>[30a451818]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_WAITPID, HAVE_WAIT3, and sudo_waitpid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59214c317"
>[59214c317]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
check for waitpid and wait3 or no waitpid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a168f9c59"
>[a168f9c59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
used waitpid or wait3 if we have &rsquo;em
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df4b885d1"
>[df4b885d1]</a></li>
</ul>
</dd>
<dt>1998-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
fix some fprintf args, ariel@&hellip; (Ariel Faigon)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae7a8f497"
>[ae7a8f497]</a></li>
</ul>
</dd>
<dt>1998-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
don&rsquo;t need to explicately mention -lsocket -lnsl for sequent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5723320dc"
>[5723320dc]</a></li>
</ul>
</dd>
<dt>1998-04-25  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
dynix should not link with -linet
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=29a1672a8"
>[29a1672a8]</a></li>
</ul>
</dd>
<dt>1998-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention that HP-UX doesn&rsquo;t ship with yacc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2dd0d5e14"
>[2dd0d5e14]</a></li>
</ul>
</dd>
<dt>1998-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
ignore kerberos if we can&rsquo;t get the local realm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac5c39884"
>[ac5c39884]</a></li>
</ul>
</dd>
<dt>1998-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, README, configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69cd51691"
>[69cd51691]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa85e6fe1"
>[fa85e6fe1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getcwd.c, getspwuid.c, goodpath.c, interfaces.c, logging.c,
parse.c, parse.lex, putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c,
testsudoers.c, tgetpass.c, utime.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12477fd6e"
>[12477fd6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.h:<br>
fix version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36ef6aa48"
>[36ef6aa48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
don&rsquo;t use popen/pclose. Do it inline.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1014adbe0"
>[1014adbe0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
add rcsid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09bb1a3bf"
>[09bb1a3bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f4e5240c"
>[7f4e5240c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, options.h, parse.yacc, pathnames.h.in, sudo.h:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b1be424a"
>[3b1be424a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, parse.c, sudo.c, testsudoers.c:<br>
MAX* + 1 -&gt; MAX*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c27d678ff"
>[c27d678ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
getwd.c -&gt; getcwd.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96d7c5970"
>[96d7c5970]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
kill HAVE_GETWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5b490a9d"
>[a5b490a9d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
getcwd, not getwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a4fbbdad"
>[2a4fbbdad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c:<br>
use MAX* not MAX* + 1 always run pwd as using getwd() defeats the
purpose
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8832e50f4"
>[8832e50f4]</a></li>
</ul>
</dd>
<dt>1998-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
add STUB_LOAD_INTERFACES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa270d375"
>[fa270d375]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, compat.h, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e37e1e56b"
>[e37e1e56b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
support *-ccur-sysv4 and fix two typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcae83c5b"
>[bcae83c5b]</a></li>
</ul>
</dd>
<dt>1998-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
don&rsquo;t echo about with_logfile and with_timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf7b77a03"
>[cf7b77a03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document &ndash;with-logfile and &ndash;with-timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73fa35c6a"
>[73fa35c6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
support &ndash;with-logfile and &ndash;with-timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ceb7a9bdf"
>[ceb7a9bdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
Add &ndash;with-logfile and &ndash;with-timedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56b156583"
>[56b156583]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
change size computation of NewArgv for UNICOS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=533fbe071"
>[533fbe071]</a></li>
</ul>
</dd>
<dt>1998-02-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
treate -<em>-sysv4</em> like <em>-</em>-svr4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fcc46c02f"
>[fcc46c02f]</a></li>
</ul>
</dd>
<dt>1998-02-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fix spacing for &ndash;with-authenticate help
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=822e075e1"
>[822e075e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, compat.h, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c866646cd"
>[c866646cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fix off by one error in push macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14292f47c"
>[14292f47c]</a></li>
</ul>
</dd>
<dt>1998-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
removed bogus alloca hack
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=797a152c6"
>[797a152c6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added AIX 4.x authenticate() support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73e984f39"
>[73e984f39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
include alloca.h if using bison and not gcc and it exists. fixes an
alloca problem on hpux 10.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd226d56c"
>[cd226d56c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
mention &ndash;with-authenticate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b9b17cd5"
>[3b9b17cd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added AIX authenticate() support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0111f5efc"
>[0111f5efc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
add HAVE_AUTHENTICATE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ba4c7b26"
>[3ba4c7b26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
dynamically size ifconf buffer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9719fa21b"
>[9719fa21b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
quote &lsquo;[&rsquo; and &lsquo;]&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=12627050d"
>[12627050d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, check.c, compat.h, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, logging.c,
options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in, putenv.c,
strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c, tgetpass.c,
utime.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fc787d5f"
>[2fc787d5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
add ERRORS section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0bf1342c1"
>[0bf1342c1]</a></li>
</ul>
</dd>
<dt>1998-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
add busy stmp file explanation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c18a14bd"
>[2c18a14bd]</a></li>
</ul>
</dd>
<dt>1998-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
the name of the cached var that signals whether or not you are cross
compiling changed. It is now ac_cv_prog_cc_cross
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=686c50ad3"
>[686c50ad3]</a></li>
</ul>
</dd>
<dt>1998-02-11  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention glibc 2.07 is fixed wrt lsearch().
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ffcfb752"
>[6ffcfb752]</a></li>
</ul>
</dd>
<dt>1998-02-07  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers, sudoers.pod:<br>
better example of su but not root su
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a58e3f4b1"
>[a58e3f4b1]</a></li>
</ul>
</dd>
<dt>1998-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, check.c, compat.h, config.h.in, dce_pwent.c, emul/utime.h,
find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc7803cd0"
>[bc7803cd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
correct regexp for updating version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e843aa9af"
>[e843aa9af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
remove bogus flush of stderr spew prompt before turning off echo. Seems
to fix a weird problem where if sudo complained about a bogus stamp file
the user would sometimes not have a chance to enter a password
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9cc65287f"
>[9cc65287f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fix bogus flush of stderr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4c1c9190"
>[b4c1c9190]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
close fd&rsquo;s &lt;=2 not &lt;=3 and move that chunk of code up
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25ed56fba"
>[25ed56fba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
support hpux1[0-9] not just hpux10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8b7a421b"
>[c8b7a421b]</a></li>
</ul>
</dd>
<dt>1998-01-30  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
set sudoers_fp to nil after closing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e52d3a11"
>[3e52d3a11]</a></li>
</ul>
</dd>
<dt>1998-01-24  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.sub:<br>
updated from autoconf 2.12
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce5895467"
>[ce5895467]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
add <em>-</em>-svr4 rule
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48aeb59d0"
>[48aeb59d0]</a></li>
</ul>
</dd>
<dt>1998-01-23  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
fix select usage for high fd&rsquo;s (dynamically allocate readfds)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e8cf35a7"
>[0e8cf35a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
kill extra whitespace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7baad7a52"
>[7baad7a52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
do an initgroups() before running a command, unless the target user is
root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d5c340f9"
>[7d5c340f9]</a></li>
</ul>
</dd>
<dt>1998-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
tell people to use tabs, not spaces, in syslog.conf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b51df9a11"
>[b51df9a11]</a></li>
</ul>
</dd>
<dt>1998-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, config.h.in, dce_pwent.c, emul/utime.h, getwd.c, parse.lex,
putenv.c, strdup.c, testsudoers.c, utime.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efbcdfe82"
>[efbcdfe82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getspwuid.c, goodpath.c, interfaces.c, logging.c,
parse.c, sudo.c, sudo_setenv.c, tgetpass.c, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c362fb21"
>[0c362fb21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, options.h, parse.yacc, pathnames.h.in, sudo.h:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca5babc43"
>[ca5babc43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
more tweaks to update_version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3e801b5c"
>[a3e801b5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed up update_version rule
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab0c4bd97"
>[ab0c4bd97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dfd58be3"
>[8dfd58be3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
removed supe of check.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9032779ac"
>[9032779ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
++version I missed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96c8ab7a1"
>[96c8ab7a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59366d1b5"
>[59366d1b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, README, check.c, compat.h, config.h.in,
dce_pwent.c, emul/utime.h, find_path.c, getspwuid.c, getwd.c,
goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, interfaces.c, logging.c, options.h, parse.c, parse.lex,
parse.yacc, pathnames.h.in, putenv.c, strdup.c, sudo.c, sudo.h,
sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb6a33e08"
>[bb6a33e08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated for 1.5.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82bf12933"
>[82bf12933]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add rules to update version stuff in files so I don&rsquo;t need to do it by
hand
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d89923705"
>[d89923705]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
sudoers_fp is now extern
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=acea5f29e"
>[acea5f29e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
in check_sudoers, cache the sudoers file handle in sudoers_fp so we
don&rsquo;t have to open it again in the parse. This may help with weird
solaris problems where EAGAIN sometime occurrs.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8de870a70"
>[8de870a70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
sudoers file open is now done only in check_sudoers() so we just do a
rewind() instead of an open. May help people on solaris who were getting
EAGAIN.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cae4b9d3e"
>[cae4b9d3e]</a></li>
</ul>
</dd>
<dt>1998-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention that newer glibc is fixed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=859e6d86e"
>[859e6d86e]</a></li>
</ul>
</dd>
<dt>1998-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
newer irix uses <em>RLDN32</em>* envariables for 32-bit binaries so ignore
_RLD* instead of <em>RLD</em>*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b3bc67b0"
>[7b3bc67b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=652393318"
>[652393318]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fix that bug for real
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a2b6895f"
>[6a2b6895f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
document Linux&rsquo;s libc6 brokenness.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46a2f512f"
>[46a2f512f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
-Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd18f0def"
>[dd18f0def]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c627b8d2b"
>[c627b8d2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
remind people to HUP syslogd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3b90fe98"
>[e3b90fe98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
add -O flag to tar
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df6c6d30b"
>[df6c6d30b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe5b5de20"
>[fe5b5de20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b93a31eda"
>[b93a31eda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
remove author&rsquo;s email addr. people should mail sudo-bugs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a703659c3"
>[a703659c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
fix version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=994d39953"
>[994d39953]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README, check.c, compat.h, config.h.in, configure.in, dce_pwent.c,
find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, version.h, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166789a1d"
>[166789a1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3068ee535"
>[3068ee535]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d52793c"
>[b1d52793c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated fort 1.5.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c5372b88"
>[1c5372b88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
exit(1) if user enters no passwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a74348f17"
>[a74348f17]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b05743b6"
>[9b05743b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
commands can start with ./* not just /* &ndash; fixes a serious security
hole.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab9b35245"
>[ab9b35245]</a></li>
</ul>
</dd>
<dt>1997-12-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
Don&rsquo;t set the tty variable to NULL when we lack a tty, leave it as
&ldquo;unknown&rdquo;.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07e09b16f"
>[07e09b16f]</a></li>
</ul>
</dd>
<dt>1997-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
fix usage of (username) in conjunction with , and !
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=687434bc9"
>[687434bc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
catch the case where the user is not in the passwd file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82654611c"
>[82654611c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
use fileno(input) + 1 instead of getdtablesize() as the nfds arg to
select(2)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea498e61d"
>[ea498e61d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
define tty global to an initial value to avoid dumping core in logging
functions when passwd file is unavailable.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b4e2b792"
>[4b4e2b792]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
do the set_perms(PERM_USER, sudo_mode) after we have gotten the passwd
entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff05eaccf"
>[ff05eaccf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
talk about problem of ALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52fb34f92"
>[52fb34f92]</a></li>
</ul>
</dd>
<dt>1997-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
new web location
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c035f8e80"
>[c035f8e80]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
fdesc bug is fixed in Open/Net BSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad6df9f51"
>[ad6df9f51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
updates from Nieusma
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce0fc8333"
>[ce0fc8333]</a></li>
</ul>
</dd>
<dt>1997-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>dce_pwent.c:<br>
move compat.h after the system includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=671e941d5"
>[671e941d5]</a></li>
</ul>
</dd>
<dt>1997-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
save errno from being clobbered by wait(). From Theo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5f54d774"
>[b5f54d774]</a></li>
</ul>
</dd>
<dt>1997-05-21  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
fix an occurence of setresuid -&gt; setreuid (typo)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b28002ef"
>[8b28002ef]</a></li>
</ul>
</dd>
<dt>1997-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
check for path to strip
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abeaf9523"
>[abeaf9523]</a></li>
</ul>
</dd>
<dt>1997-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
deal with maxfilelen &lt; 0 case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0caa3cc55"
>[0caa3cc55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
fixed descriptin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f842ab526"
>[f842ab526]</a></li>
</ul>
</dd>
<dt>1996-12-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
correct error message if mode/owner wrong and not statable by owner but
is statable by root.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0192afc3"
>[b0192afc3]</a></li>
</ul>
</dd>
<dt>1996-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>config.guess, config.sub:<br>
autoconf 2.11
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=294b7f496"
>[294b7f496]</a></li>
</ul>
</dd>
<dt>1996-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, RUNSON, TODO:<br>
sudo 1.5.3.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a36ba7b5c"
>[a36ba7b5c]</a></li>
</ul>
</dd>
<dt>1996-11-14  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.h:<br>
command_alias -&gt; generic_alias
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23b2719a3"
>[23b2719a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added Runas_Alias example and fixed syntax errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33f9387f3"
>[33f9387f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
updated MAILSUBJECT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5b84ec22"
>[e5b84ec22]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added %h expansion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=773ec24a3"
>[773ec24a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, README, check.c, compat.h, config.h.in,
configure.in, dce_pwent.c, find_path.c, getspwuid.c, getwd.c,
goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, interfaces.c, logging.c, options.h, parse.c, parse.lex,
parse.yacc, pathnames.h.in, putenv.c, strdup.c, sudo.c, sudo.h,
sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e723efe7"
>[5e723efe7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, emul/utime.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30da32917"
>[30da32917]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
document Runas_Alias
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca6a440b9"
>[ca6a440b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
q (uid) -&gt; Q
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7a75a2a4"
>[f7a75a2a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
buffer oflow checking q (uit) -&gt; Q if yyparse() fails drop into whatnow
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75704661b"
>[75704661b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
add size params to sprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e737b38e"
>[7e737b38e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
allow trailing space after &lsquo;\&rsquo; but before &lsquo;\n&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=156e7dbe2"
>[156e7dbe2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
off by one error in path size check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa54c845e"
>[aa54c845e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
sprintf paranoia
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=679876886"
>[679876886]</a></li>
</ul>
</dd>
<dt>1996-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
fixed more_aliases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fcb212ea8"
>[fcb212ea8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now warns if killed by signal ./
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df20cedfc"
>[df20cedfc]</a></li>
</ul>
</dd>
<dt>1996-11-11  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
fix Runas_Alias stuff Alias&rsquo;s in runas list now get expanded (but it is
gross)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8336c86cb"
>[8336c86cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Can now deal with SUDOERS_UID == 0 and SUDOERS_MODE == 0400
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b317dc70a"
>[b317dc70a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
add Runas_Alias support change FOO to FOO_ALIAS (ie: USER_ALIAS)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec7e18737"
>[ec7e18737]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
Add Runas_Alias and simplify a rule.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=add3e8df2"
>[add3e8df2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
always store User_Alias&rsquo;s since they can be used inside of a runas list.
Sigh. Really need a Runas_Alias instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=894ef0be7"
>[894ef0be7]</a></li>
</ul>
</dd>
<dt>1996-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
deal with case where there is no sudoers file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b6e45e63"
>[4b6e45e63]</a></li>
</ul>
</dd>
<dt>1996-10-12  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6108f1b1a"
>[6108f1b1a]</a></li>
</ul>
</dd>
<dt>1996-10-11  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY, testsudoers.c:<br>
developement -&gt; development
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=413f86907"
>[413f86907]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added a note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e933c6679"
>[e933c6679]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
for 1.5.2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96baceed2"
>[96baceed2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5e9569ef"
>[a5e9569ef]</a></li>
</ul>
</dd>
<dt>1996-10-10  Todd C. Miller</dt>
<dd>
<ul>
<li>PORTING:<br>
removed seteuid() notes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efd201c57"
>[efd201c57]</a></li>
</ul>
</dd>
<dt>1996-10-09  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
better seteuid() emulatino
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=873346d18"
>[873346d18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added check for seteuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7a278dd9"
>[c7a278dd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SETEUID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=142136af0"
>[142136af0]</a></li>
</ul>
</dd>
<dt>1996-10-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
first stab at sequent support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0032402ab"
>[0032402ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SYS_SELECT_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fbb39c0ee"
>[fbb39c0ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
sequent -&gt; <em>SEQUENT</em>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9376a8cd8"
>[9376a8cd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added seteuid() macro for DYNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=885cbad12"
>[885cbad12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
_AIX -&gt; HAVE_SYS_SELECT_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=67b0c8635"
>[67b0c8635]</a></li>
</ul>
</dd>
<dt>1996-10-07  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, OPTIONS, README, config.h.in, logging.c,
parse.c, parse.lex, parse.yacc, putenv.c, strdup.c, sudo_setenv.c,
testsudoers.c, tgetpass.c, utime.c, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0248f15d"
>[b0248f15d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, dce_pwent.c, emul/utime.h, find_path.c, getspwuid.c,
getwd.c, goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h,
ins_goons.h, insults.h, interfaces.c, options.h, pathnames.h.in,
version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e712f1152"
>[e712f1152]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
added -H and SUDO_PS1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df08805e"
>[0df08805e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
use SUDO_FUNC_FNMATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2289375f2"
>[2289375f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_FUNC_FNMATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95389204f"
>[95389204f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added -H flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0379ffce"
>[f0379ffce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added MODE_RESET_HOME /
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f59e97e49"
>[f59e97e49]</a></li>
</ul>
</dd>
<dt>1996-10-05  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
mention OPIE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dc02d05f"
>[7dc02d05f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
SKEY -&gt; OTP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca99af41d"
>[ca99af41d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added opie support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4f1b26e7"
>[d4f1b26e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in:<br>
added HAVE_OPIE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=932ec901b"
>[932ec901b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added HAVE_OPIE and changed to <em><em>OTP</em></em>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ecf71cad"
>[3ecf71cad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
SKEY -&gt; OTP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87a71d92f"
>[87a71d92f]</a></li>
</ul>
</dd>
<dt>1996-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
moved fclose() in skey stuff.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cb521729"
>[1cb521729]</a></li>
</ul>
</dd>
<dt>1996-10-03  Todd C. Miller</dt>
<dd>
<ul>
<li>putenv.c:<br>
index -&gt; strchr remove unnecesary stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=043a7ef1a"
>[043a7ef1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now call skeychallenge() to get challenge instead of making one up
ourselves. this way, we get extra goodies in the prompt.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4f2eb66b"
>[f4f2eb66b]</a></li>
</ul>
</dd>
<dt>1996-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33199ba0d"
>[33199ba0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
allow logins to start with a number (YUCK!)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de10f9281"
>[de10f9281]</a></li>
</ul>
</dd>
<dt>1996-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added soalris 2.5 vs 2.4 note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b1e2cb6f"
>[4b1e2cb6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
DUNIX doesn&rsquo;t need -lnsl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bf4ed77c"
>[4bf4ed77c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=268af7a6b"
>[268af7a6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, config.h.in, dce_pwent.c, find_path.c, getspwuid.c,
getwd.c, goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h,
ins_goons.h, insults.h, interfaces.c, logging.c, options.h, parse.c,
parse.lex, parse.yacc, pathnames.h.in, putenv.c, strdup.c, sudo.c,
sudo.h, sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h,
visudo.c:<br>
courtesan
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a230806a"
>[6a230806a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING, README, RUNSON:<br>
courtesan
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=475865158"
>[475865158]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, TROUBLESHOOTING:<br>
courtesan
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9993015f"
>[b9993015f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a4c5a915"
>[9a4c5a915]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
courtesan
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf1f33e51"
>[bf1f33e51]</a></li>
</ul>
</dd>
<dt>1996-09-07  Todd C. Miller</dt>
<dd>
<ul>
<li>HISTORY:<br>
added courtesan ./
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9cc671d8"
>[e9cc671d8]</a></li>
</ul>
</dd>
<dt>1996-09-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
added $SUDO_PROMPT support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff9b44992"
>[ff9b44992]</a></li>
</ul>
</dd>
<dt>1996-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
print long skey challemged to stderr, not stdout
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ce5547930"
>[ce5547930]</a></li>
</ul>
</dd>
<dt>1996-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated for 1.5.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e94a58a3"
>[9e94a58a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/utime.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d73996961"
>[d73996961]</a></li>
</ul>
</dd>
<dt>1996-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated for 1.5.1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=571ba606c"
>[571ba606c]</a></li>
</ul>
</dd>
<dt>1996-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
use shost, not host for tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e0efd965"
>[6e0efd965]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
documented %u and %h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa50602a5"
>[aa50602a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
documented %u and %h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08124aa7c"
>[08124aa7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=28258dfcc"
>[28258dfcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, README, check.c, compat.h, config.h.in,
dce_pwent.c, find_path.c, getspwuid.c, getwd.c, goodpath.c, ins_2001.h,
ins_classic.h, ins_csops.h, ins_goons.h, insults.h, interfaces.c,
logging.c, options.h, parse.c, parse.lex, parse.yacc, pathnames.h.in,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c, testsudoers.c,
tgetpass.c, utime.c, version.h, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d189849b4"
>[d189849b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2ce8eeb3"
>[f2ce8eeb3]</a></li>
</ul>
</dd>
<dt>1996-08-29  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, configure.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64bc07fae"
>[64bc07fae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
new tgetpass() params
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=259ced1cc"
>[259ced1cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
pass use and host to tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c0aaf274"
>[3c0aaf274]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added %u and %h escapes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23ccf1269"
>[23ccf1269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, check.c, options.h:<br>
added NO_MESSAGE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad9f1ff3c"
>[ad9f1ff3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added cray (unicos) support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91abcbf09"
>[91abcbf09]</a></li>
</ul>
</dd>
<dt>1996-08-27  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS, options.h, sudo.c:<br>
added SHELL_SETS_HOME
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=944fb1c5f"
>[944fb1c5f]</a></li>
</ul>
</dd>
<dt>1996-08-25  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
added note about &ldquo;make install&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dacecfff9"
>[dacecfff9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
changed length/size params from int to size_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a47e58eda"
>[a47e58eda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
now get CSOPS insults as well by default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71cb7c694"
>[71cb7c694]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
use csops insults too by default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08795dd45"
>[08795dd45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, Makefile.in, README, config.h.in, configure.in, version.h:<br>
version = 1.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53e6e6ec4"
>[53e6e6ec4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added runas_homedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56405a97e"
>[56405a97e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated for 1.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=feeaac1f0"
>[feeaac1f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated for 1.5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=811464dd0"
>[811464dd0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
1.5 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9b425506"
>[f9b425506]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added &ldquo;upgrading&rdquo; notes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f1b0564c"
>[5f1b0564c]</a></li>
</ul>
</dd>
<dt>1996-08-22  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now do chmod and chown after edit of temp file and before rename
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81bdc0aa1"
>[81bdc0aa1]</a></li>
</ul>
</dd>
<dt>1996-08-18  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
++version added INSTALL.configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39bc5df7a"
>[39bc5df7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d209fc9"
>[35d209fc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ec8aba27"
>[6ec8aba27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added missing cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9347d2299"
>[9347d2299]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
sets $HOME to pw_dir of runas user
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10d364249"
>[10d364249]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
document $HOME change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d560a948"
>[3d560a948]</a></li>
</ul>
</dd>
<dt>1996-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
fixed up some wording
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=375014458"
>[375014458]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, dce_pwent.c, find_path.c, getspwuid.c, getwd.c, goodpath.c,
interfaces.c, logging.c, parse.c, parse.lex, parse.yacc, putenv.c,
strdup.c, sudo.c, sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c,
visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35825133a"
>[35825133a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, options.h, pathnames.h.in, sudo.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=daa856faa"
>[daa856faa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/utime.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=062e3de7a"
>[062e3de7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
name nad type changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76d7bf617"
>[76d7bf617]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now works with new sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7eea86a4c"
>[7eea86a4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed some XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be3b37d15"
>[be3b37d15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
some variable name changes + comment headers for functions.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0d121ea2"
>[f0d121ea2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added extra paren&rsquo;s to make compilers happy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd228048b"
>[bd228048b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c3b77207"
>[7c3b77207]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now uses init_parser() if not in sudoers and tries &ldquo;list&rdquo; or &ldquo;validate&rdquo;
scold but don&rsquo;t be nasty.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d272a7ff"
>[7d272a7ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
now can use upper case login names
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed452695f"
>[ed452695f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now uses init_parser()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d10ba268d"
>[d10ba268d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ea54d165"
>[6ea54d165]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
added info about PASSWORD_TIMEOUT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69aa11849"
>[69aa11849]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL.configure:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60d9d742d"
>[60d9d742d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
fixed a bug ,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df08f782b"
>[df08f782b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now dynamically allocates memory for the stacks &ndash; no more overflows!
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5436bf7c8"
>[5436bf7c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
-l now explands command aliases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37069572f"
>[37069572f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
hacks to expand command aliases for `sudo -l&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb29f0023"
>[bb29f0023]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
remove $ENV and $BASH_ENV (dangerous in ksh, posix sh, and bash)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6da9b067a"
>[6da9b067a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added struct command_alias
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3991cf7e"
>[c3991cf7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
fixed a bug
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0de439852"
>[0de439852]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
in compar() key should be first arg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76d219d87"
>[76d219d87]</a></li>
</ul>
</dd>
<dt>1996-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS:<br>
fixed some bugs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50c058e5f"
>[50c058e5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
can now deal with upcase HOST and USER names
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f643f7a4"
>[0f643f7a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
don&rsquo;t yell too loudly at non-sudoers if they do &ldquo;sudo -l&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=085fbf822"
>[085fbf822]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
fixed thinko
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=740d2166e"
>[740d2166e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fix comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c35fa2ec"
>[8c35fa2ec]</a></li>
</ul>
</dd>
<dt>1996-08-09  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c, parse.yacc:<br>
added support for new `sudo -l&rsquo; stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fb2f4ca9"
>[4fb2f4ca9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses list_matches()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=236019c88"
>[236019c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added struct sudo_match
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d4d6aebf"
>[8d4d6aebf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now more -lgnumalloc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f85cd6de2"
>[f85cd6de2]</a></li>
</ul>
</dd>
<dt>1996-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
added more paths for chown and whoami
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8db0946c7"
>[8db0946c7]</a></li>
</ul>
</dd>
<dt>1996-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e1ce2143"
>[8e1ce2143]</a></li>
</ul>
</dd>
<dt>1996-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed DUNIX check for shadow pw
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73ef23903"
>[73ef23903]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now only turn off echo if it is already on. this fixes a race when you
use sudo in a pipelin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdfd25e87"
>[bdfd25e87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e058b7c2"
>[9e058b7c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
changed &ldquo;test -z $foo &amp;&amp; do_this&rdquo; to if; then construct
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5126cd239"
>[5126cd239]</a></li>
</ul>
</dd>
<dt>1996-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added missing defines of SHADOW_TYPE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=731bf90ae"
>[731bf90ae]</a></li>
</ul>
</dd>
<dt>1996-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
protect AUTH_CRYPT_OLDCRYPT and AUTH_CRYPT_C1CRYPT since they are only
in dunix 4.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb89ade3e"
>[fb89ade3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
added AUTH_CRYPT_C1CRYPT support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7670208d"
>[b7670208d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
no longer return VALIDATE_NOT_OK if there was a runas that didn&rsquo;t match.
Now we can have runas stuff on more than one line.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89784f655"
>[89784f655]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c, sudo.c, tgetpass.c:<br>
use SHADOW_TYPE instead of HAVE_C2_SECURITY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7999949e"
>[e7999949e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
got rid of HAVE_C2_SECURITY SHADOW_TYPE is always defined to something
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b543114b0"
>[b543114b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
removed HAVE_C2_SECURITY added SPW_BSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69b1a0b42"
>[69b1a0b42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
use SHADOW_TYPE instead of HAVE_C2_SECURITY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f9d2f8923"
>[f9d2f8923]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
SHADOW_TYPE is always defined so just against its value
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5da2ecd9"
>[f5da2ecd9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_CHECK_SHADOW_DUNIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f13ef276c"
>[f13ef276c]</a></li>
</ul>
</dd>
<dt>1996-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:
<ul>
<li>-&gt; ?* in one example added another instance of (runas) and one of
NOPASSWD:
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c809dd70c"
>[c809dd70c]</a></li>
</ul>
</li>
</ul>
</dd>
<dt>1996-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added back check for config.cache from other host type
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fea014bc"
>[7fea014bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
removed an instance of &quot;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5752f7b6"
>[c5752f7b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added an example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2db411723"
>[2db411723]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
updated wrt new wildcard matching
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48a1af2dc"
>[48a1af2dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
new check for shadow passwords if we don&rsquo;t know anything
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f089b9ae6"
>[f089b9ae6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
new SUDO_CHECK_SHADOW_GENERIC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=228a2ffa7"
>[228a2ffa7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added back check for -lsocket (oops)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f25c6bb6b"
>[f25c6bb6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
better (working) check for shadow passwd type if we know to use C2.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73c39341f"
>[73c39341f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now uses AC_CANONICAL_HOST to figure out os type
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db9dddd2a"
>[db9dddd2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added config.{guess,sub}
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=859753c60"
>[859753c60]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
removed unused stuff to figure out os type
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36b9dafdf"
>[36b9dafdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
added openbsd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a656b6123"
>[a656b6123]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.sub:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=216889be9"
>[216889be9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.guess:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d588e771e"
>[d588e771e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
don&rsquo;t call fnmatch() with FNM_PATHNAME flag unless it can only be a
pathname. need to check against sudoers_args even if user_args is nil
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09c9f7ed9"
>[09c9f7ed9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
don&rsquo;t call fnmatch() with FNM_PATHNAME flag unless it can only be a
pathname need to check against sudoers_args even if user_args is nil
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7ae14e4d"
>[d7ae14e4d]</a></li>
</ul>
</dd>
<dt>1996-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
added support for AUTH_CRYPT_OLDCRYPT w/ DUNIX C2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b380c0ade"
>[b380c0ade]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now takes command line args and uses cmnd_args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27386f12f"
>[27386f12f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
fill_args was adding an extra leading space
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4dba5f4fc"
>[4dba5f4fc]</a></li>
</ul>
</dd>
<dt>1996-07-22  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
fixed dummy command_matches()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=945d9795e"
>[945d9795e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efb526bb2"
>[efb526bb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added cmnd_args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7fb14dd3f"
>[7fb14dd3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now uses flat args string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f62d59e92"
>[f62d59e92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex:<br>
now uses flat arg string
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a177073e"
>[8a177073e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added cmnd_args def
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27d484f3f"
>[27d484f3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now sets cmnd_args global
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd641284a"
>[bd641284a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
cmnd_args is now exported from sudo.[ch]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfcbda54f"
>[cfcbda54f]</a></li>
</ul>
</dd>
<dt>1996-07-21  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
can&rsquo;t rely on cmnd_matches as much as I thought &ndash; added some $$ stuff
back in to prevent namespace pollution problems.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2173d029"
>[d2173d029]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
Simplified parse rules wrt runas and NOPASSWD (more consistent).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b3777229"
>[0b3777229]</a></li>
</ul>
</dd>
<dt>1996-07-20  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
NOPASSWD may now have blanks before the &lsquo;:&rsquo; &lsquo;(&rsquo; only starts a &lsquo;runas&rsquo; if
in the initial state to avoid collision with command args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10e0e119a"
>[10e0e119a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added checks for specific shadow passwd schemes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf505a852"
>[bf505a852]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added routines to check for specific shadow passwd types
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2bbb4989"
>[d2bbb4989]</a></li>
</ul>
</dd>
<dt>1996-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added support for ncr boxen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f31b85ef"
>[0f31b85ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added support for detecting ncr boxen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25e15d666"
>[25e15d666]</a></li>
</ul>
</dd>
<dt>1996-07-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added sinix support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd134afec"
>[fd134afec]</a></li>
</ul>
</dd>
<dt>1996-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added info about &ldquo;config.cache from other other&rdquo; error.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2298f95f1"
>[2298f95f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now makes sure you don&rsquo;t have a config.cache file from another OS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aebf2b71d"
>[aebf2b71d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now sets $LIBS when needed to configure links with libs when doing tests
hpux10 now uses SPW_SECUREWARE for C2 added check for bigcrypt(3) if
SPW_SECUREWARE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5de06090e"
>[5de06090e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=967ae180e"
>[967ae180e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now include stuff for SPW_SECUREWARE to get AUTH_MAX_PASSWD_LENGTH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=015c90151"
>[015c90151]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
no more SPW_HPUX10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc4420658"
>[cc4420658]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
no more SPW_HPUX10 added HAVE_BIGCRYPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4ceabc70"
>[c4ceabc70]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
now uses AUTH_MAX_PASSWD_LENGTH if SPW_SECUREWARE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88cfad174"
>[88cfad174]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
SPW_SECUREWARE now uses bigcrypt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6b64b90a"
>[c6b64b90a]</a></li>
</ul>
</dd>
<dt>1996-07-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
fixed 2 syntax errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50f80d4b0"
>[50f80d4b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
root may now run ALL as ALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cde762379"
>[cde762379]</a></li>
</ul>
</dd>
<dt>1996-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
fixed a typo/thinko that broke BSD&rsquo;s with sa_len
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed9227dfd"
>[ed9227dfd]</a></li>
</ul>
</dd>
<dt>1996-07-08  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, configure.in:<br>
updated AFS support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e79f19be3"
>[e79f19be3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added entry about /usr/ucb/cc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19469d203"
>[19469d203]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
prep no longer holds gcc binaries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cefe4d66c"
>[cefe4d66c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated AFS note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90eda2cb9"
>[90eda2cb9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added @AFS_LIBS@
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c6b4aca90"
>[c6b4aca90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
AFS allows long passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e518e10e0"
>[e518e10e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
fixed -u user support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a616c40c"
>[5a616c40c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
sudo -v now groks VALIDATE_OK_NOPASS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54d39940b"
>[54d39940b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed no_passwd vs. runas_matched
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bae4e50e0"
>[bae4e50e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
took out stuff about NFS-mounting since it is no longer an issue
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0d972fa0"
>[d0d972fa0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added &ndash;with-libraries &gt; &ndash;with-libpath &ndash;with-incpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=728bc783e"
>[728bc783e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
was setting runas_matches to -1 in wrong place
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11f5b7788"
>[11f5b7788]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
removed usersec.h which is not present in new AFS versions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33383c49e"
>[33383c49e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now deals with timeout &lt;= 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a27847e1b"
>[a27847e1b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf55f57bd"
>[bf55f57bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
BSD/OS &gt;= 2.0 now uses shlicc instead of just gcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32581d8a9"
>[32581d8a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed backwards compatibility with sudo 1.4 sudoers mode for root
readable/writable filesystems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=633b6d2c3"
>[633b6d2c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now gives INSTALL -c flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a5a50b75"
>[7a5a50b75]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
slightly simpler initialization of no_passwd and runas_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb8c99d83"
>[fb8c99d83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
added -u username support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064589670"
>[064589670]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
improved &ndash;with-libraries support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a74cdaf8d"
>[a74cdaf8d]</a></li>
</ul>
</dd>
<dt>1996-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added &ndash;with-incpath, &ndash;with-libpath, &ndash;with-libraries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b4a48996"
>[5b4a48996]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now initializes some fields that weren&rsquo;t getting set to -1 pretty gross
&ndash; need a rewrite.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f52c2aa2e"
>[f52c2aa2e]</a></li>
</ul>
</dd>
<dt>1996-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>alloca.c:<br>
removed emacs&rsquo;isms
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d7e5a309"
>[6d7e5a309]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no longer add -lPW to *_LIBS since we include alloca.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=380e37c3c"
>[380e37c3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_ALLOCA_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1775cd168"
>[1775cd168]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added alloca.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01d3bf08b"
>[01d3bf08b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>alloca.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=269efa95c"
>[269efa95c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e46ed96d"
>[8e46ed96d]</a></li>
</ul>
</dd>
<dt>1996-06-25  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now set uid to 1 instead of nobody for PERM_SUDOERS since nobody is not
always set to a valid uid.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ac88016c"
>[0ac88016c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
fixed entry for SUDO_MODE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d9f668bb"
>[4d9f668bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Fixed NFS-mounted sudoers file under solaris both uid <em>and</em> gid were
being set to -2. Now beat NFS to the punch and set uid to &ldquo;nobody&rdquo;
ourselves, preserving group 0 to read sudoers.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea3da1971"
>[ea3da1971]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
moved set_perms(PERM_ROOT) to be before yyparse()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d60779d01"
>[d60779d01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7d5c3edf"
>[c7d5c3edf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no longer need AC_PROG_INSTALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a01ddb350"
>[a01ddb350]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
always use install-sh to avoid install(1)&rsquo;s that use get{pw,gr}nam
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0944b76c"
>[f0944b76c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
make clean -&gt; make distclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8571327c7"
>[8571327c7]</a></li>
</ul>
</dd>
<dt>1996-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
removed some unnecsary if&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cb2fd7e30"
>[cb2fd7e30]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95cbc71d6"
>[95cbc71d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, testsudoers.c:<br>
now includes netgroup.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=082d9aed0"
>[082d9aed0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
removed cats of ioctl to int since they didn&rsquo;t shut up -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79810c01e"
>[79810c01e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
explicately cast ioctl() to int since it it not always declared
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fc1d4b79"
>[5fc1d4b79]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added declarations for yyparse() and yylex()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08470fd76"
>[08470fd76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed an occurence of &lsquo;==&rsquo; -&gt; &lsquo;=&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f49ee316"
>[2f49ee316]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
added check for netgroup.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b57aab8cd"
>[b57aab8cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed 2 compiler warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f7e9de28"
>[2f7e9de28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
SHELL_IF_NO_ARGS caused core dump since NewArg[cv] weren&rsquo;t being
initialized
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=399cddc8e"
>[399cddc8e]</a></li>
</ul>
</dd>
<dt>1996-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b512f62ba"
>[b512f62ba]</a></li>
</ul>
</dd>
<dt>1996-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
fixed a formatting thingie
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a35441d43"
>[a35441d43]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.yacc:<br>
fixed -u support with multiple user lists on a line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b66b6116"
>[8b66b6116]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
unixware needs -lgen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a23fb9c4f"
>[a23fb9c4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
updated ftp location
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4edc42a9a"
>[4edc42a9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
add net_addr/netmask support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0d157b76"
>[a0d157b76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added net_addr/mask example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c796e229c"
>[c796e229c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex:<br>
added support for net_addr/netmask
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f66eb18a5"
>[f66eb18a5]</a></li>
</ul>
</dd>
<dt>1996-06-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
^ -&gt; !
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ede02bbe"
>[0ede02bbe]</a></li>
</ul>
</dd>
<dt>1996-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated for 1.4.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a06980d2"
>[6a06980d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
udpated for 1.4.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=891b7c05a"
>[891b7c05a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, TODO, TROUBLESHOOTING:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e7c7dfb8"
>[5e7c7dfb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
updated with examples of new stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a28397923"
>[a28397923]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, README:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f64553860"
>[f64553860]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
updated wrt -u and NOPASSWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=255e60f65"
>[255e60f65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
updated wrt -u and CAVEATS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3041d6537"
>[3041d6537]</a></li>
</ul>
</dd>
<dt>1996-06-09  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fixed usage()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=319a9ffe5"
>[319a9ffe5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now use :foo: character classes (makes no diff for generated lexer)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99e16a5a2"
>[99e16a5a2]</a></li>
</ul>
</dd>
<dt>1996-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fixed LONG_SKEY_PROMPT stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4743a46c"
>[e4743a46c]</a></li>
</ul>
</dd>
<dt>1996-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
fixed a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3cdb9aa3"
>[f3cdb9aa3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
make more like NetBSD one &ndash; now compiles w/o warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a6b10fe8"
>[1a6b10fe8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h:<br>
fixed decls of lsearch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e04a2ef6c"
>[e04a2ef6c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in, getspwuid.c:<br>
added SPW_HPUX10
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10a84d536"
>[10a84d536]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
hpux 10 uses bigcrypt() if C2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac186f85f"
>[ac186f85f]</a></li>
</ul>
</dd>
<dt>1996-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
now always uses fnmatch to match args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6737221aa"
>[6737221aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
back to using stdio instead of raw i/o since that caused some problems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e21b9212"
>[1e21b9212]</a></li>
</ul>
</dd>
<dt>1996-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now give usage warning if use -l,-v,-k with args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=636e5f1df"
>[636e5f1df]</a></li>
</ul>
</dd>
<dt>1996-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
NewArgc is now set to 1 for -l, -v, -k
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59f71cc27"
>[59f71cc27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now sets sudoers to correct group if mode is 0400
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47f7ef9f3"
>[47f7ef9f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>install-sh:<br>
updated to version used by inn and bind
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e577aafd1"
>[e577aafd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now uses -lgnumalloc if it exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1af442146"
>[1af442146]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
&ldquo;make install&rdquo; now sets uid/gid and mode on sudoers if it exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4520d3c66"
>[4520d3c66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
rmeoved debugging statements
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afbddeebe"
>[afbddeebe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added a missing free()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ed1645b9"
>[2ed1645b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses user_gid instead of getegid (which was wrong anyway) to set
SUDO_GID Now sets command line args in SUDO_COMMAND envariabled
(logging.c depends on args being in the environment)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c1b963a2"
>[2c1b963a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now uses SUDO_COMMAND envariable to get command args rather than
building it up again.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=95fd02c9f"
>[95fd02c9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now uses user_gid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1c239718"
>[d1c239718]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed off by one error in allocation NewArgv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a32554c0"
>[5a32554c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
in sudoers, &lsquo;command &ldquo;&rdquo;&rsquo; now means command with no args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ec0715a3"
>[9ec0715a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added check for fnmatch(3) and fnmatch.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=275314dbd"
>[275314dbd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_FNMATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9f8e76bd"
>[b9f8e76bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
replaced wildcat.* with fnmatch.*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49d0b999f"
>[49d0b999f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now uses fnmatch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0713be74a"
>[0713be74a]</a></li>
</ul>
</dd>
<dt>1996-05-27  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
now uses fnmatch() instead of wildmat a trailing star (*) by itself now
matches multiple args added support for wildcards in the pathname in
sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a062a35c7"
>[a062a35c7]</a></li>
</ul>
</dd>
<dt>1996-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>fnmatch.c:<br>
now includes compat.h and config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63e1abb3d"
>[63e1abb3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_FNMATCH_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f7d758d5"
>[4f7d758d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now checks for alloca() (if needed by bison or dce) and links with -lPW
if it contains alloca() and libv and compiler do not.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0dfc086d4"
>[0dfc086d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/fnmatch.h, fnmatch.3, fnmatch.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af0130958"
>[af0130958]</a></li>
</ul>
</dd>
<dt>1996-04-29  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now fixes mode on sudoers if set to 0400 to aid in upgrade
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=afe3f2749"
>[afe3f2749]</a></li>
</ul>
</dd>
<dt>1996-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
fixed pod2man usage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94687786e"
>[94687786e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, configure.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc766e700"
>[cc766e700]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
runas_user is now initialized to &ldquo;root&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8263fc99d"
>[8263fc99d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
removed PERM_FULL_ROOT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f7eaa954"
>[5f7eaa954]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
runas_user defaults to &ldquo;root&rdquo; so no more need to PERM_RUNAS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=487432985"
>[487432985]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
will now only running commands as root if there was no runas list (or if
root is in the runas list)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=624218c54"
>[624218c54]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now logs &ldquo;USER=%s&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36f120849"
>[36f120849]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
runas_matches is now set to false if we get a negative match
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c9580971"
>[7c9580971]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
make #uid work + some minor cleanup
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60f30dc2f"
>[60f30dc2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added support for NOPASSWD and &ldquo;runas&rdquo; from garp@&hellip; /
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d93314f9"
>[1d93314f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added support for &ldquo;runas&rdquo; from garp@&hellip; replaced SUDOERS_OWNER with
SUDOERS_UID, SUDOERS_GID added support for SUDOERS_MODE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa92ab8df"
>[aa92ab8df]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
added support for &ldquo;runas&rdquo; from garp@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fdcd43047"
>[fdcd43047]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added support for NO_PASSWD and runas from garp@&hellip; replaced
SUDOERS_OWNER with SUDOERS_UID and SUDOERS_GID and added support fro
SUDOERS_MODE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b725ac51"
>[6b725ac51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added support for NO_PASSWD and runas from garp@&hellip; replaced
SUDOERS_OWNER with SUDOERS_UID and SUDOERS_GID and added support fro
SUDOERS_MODE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da33d14c3"
>[da33d14c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added support for NO_PASSWD and runas from garp@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0acd82680"
>[0acd82680]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex:<br>
added support for NO_PASSWD and runas from garp@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32002b7d9"
>[32002b7d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added support for SUDOERS_WRONG_MODE and &ldquo;runas&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88c189315"
>[88c189315]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added &ndash;with-CC only link with -lshadow on linux (with shadow pw) if
libc lacks getspnam()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d726595a1"
>[d726595a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
removed NO_PASSWD since it is not possible to do this in the sudoers
file itself. Replaced SUDOERS_OWNER with SUDOERS_UID and SUDOERS_GID.
Added SUDOERS_MODE.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=394083380"
>[394083380]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now uses SUDOERS_UID and SUDOERS_GID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bab3ce55d"
>[bab3ce55d]</a></li>
</ul>
</dd>
<dt>1996-04-27  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
added &ndash;with-CC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26956e346"
>[26956e346]</a></li>
</ul>
</dd>
<dt>1996-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
added double quote support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4a7b0b3b"
>[b4a7b0b3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
documented double quoting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f8e16f134"
>[f8e16f134]</a></li>
</ul>
</dd>
<dt>1996-04-05  Todd C. Miller</dt>
<dd>
<ul>
<li>mkinstalldirs:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cab14bb40"
>[cab14bb40]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed some indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b61573f6d"
>[b61573f6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69e72e361"
>[69e72e361]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added install-dirs .
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d51ed38ad"
>[d51ed38ad]</a></li>
</ul>
</dd>
<dt>1996-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>dce_pwent.c:<br>
new version from &ldquo;Jeff A. Earickson&rdquo; &lt;jaearick@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbc8a7b31"
>[dbc8a7b31]</a></li>
</ul>
</dd>
<dt>1996-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
$CSOPS -&gt; $with_csops (whoops, missed one)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec1dffeb6"
>[ec1dffeb6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3c1d1c32"
>[c3c1d1c32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
FQHOST now has same constraints as non-FQHOST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a31e88ba"
>[0a31e88ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added note about OS&rsquo;s w/ shadow passwords turned on by default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b4f181e5"
>[7b4f181e5]</a></li>
</ul>
</dd>
<dt>1996-04-02  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f6605163"
>[1f6605163]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added support for &ndash;without-THING sanitized shadow pw situtation by
adding support for &ndash;without-C2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d633ad10"
>[9d633ad10]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
fixed a typo wrt placement of an end paren
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20a284166"
>[20a284166]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
was closing an fd that may not have been opened
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0eb20432f"
>[0eb20432f]</a></li>
</ul>
</dd>
<dt>1996-03-22  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS, options.h, sudo.c:<br>
added NO_PASSWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1265fcc4f"
>[1265fcc4f]</a></li>
</ul>
</dd>
<dt>1996-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now always use shadow pw on some arches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=823ddd9fd"
>[823ddd9fd]</a></li>
</ul>
</dd>
<dt>1996-03-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added pyramid support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b33594ed"
>[9b33594ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no longer check for C2 if alternate passwd method is used no longer
check for some libs twice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ff41561c"
>[7ff41561c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
moved fqdn stuff into parse.lex (FQHOST)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f70482057"
>[f70482057]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added FQHOST rules
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=182cb02be"
>[182cb02be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now define TCSASOFT in necesary
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61a3d472e"
>[61a3d472e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now uses read/write instead of stdio string goop to avoid problems with
select(2)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e47ce61c4"
>[e47ce61c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, find_path.c, options.h:<br>
-DNO_DOT_PATH -&gt; -DIGNORE_DOT_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0fd211fb"
>[b0fd211fb]</a></li>
</ul>
</dd>
<dt>1996-03-17  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
added note about no shadow auto-detect if using alternate auth schemes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=954be8925"
>[954be8925]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
don&rsquo;t check for C2 if AFS or DCE (unless they said &ndash;with-C2)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b6fc4c41"
>[9b6fc4c41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now groks shost
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e8e31386"
>[5e8e31386]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, find_path.c, options.h:<br>
added NO_DOT_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2faa03ec4"
>[2faa03ec4]</a></li>
</ul>
</dd>
<dt>1996-03-16  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
checkdot now works correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13ad7291f"
>[13ad7291f]</a></li>
</ul>
</dd>
<dt>1996-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
can&rsquo;t have DCE and C2 passwords both&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd8e4bba8"
>[dd8e4bba8]</a></li>
</ul>
</dd>
<dt>1996-03-11  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc, sudo.c, sudo.h, visudo.c:<br>
now uses shost even if not FQDN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=058a58a50"
>[058a58a50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now looks for skey in /usr/lib and doesn&rsquo;t require libskey to be in
/usr/local/lib just because skey.h is (for my netbsd box :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ee0906f2"
>[8ee0906f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, config.h.in, pathnames.h.in:<br>
<em>SUDO_PATH</em> -&gt; <em>CONFIG_PATH</em>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3fc83d9a"
>[d3fc83d9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, sudo.pod:<br>
/var/run/.odus -&gt; /var/run/sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c30bd48d"
>[5c30bd48d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
now uses _SUDO_PATH_TIMEDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cd2a9390"
>[4cd2a9390]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
udpated FQDN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f39b2329e"
>[f39b2329e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
added SUDO_TIMEDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f0e97586"
>[7f0e97586]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added _SUDO_PATH_TIMEDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5230f628"
>[f5230f628]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
updated wrt /var/run/sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=21c38820f"
>[21c38820f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
added support for shost if FQDN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=773636c1c"
>[773636c1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc, visudo.c:<br>
now uses shost if FQDN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56df3dd85"
>[56df3dd85]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
Now use skeylookup() instead off skeychallenge()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a46e1a18"
>[4a46e1a18]</a></li>
</ul>
</dd>
<dt>1996-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
mail_argv should not contain ALERTMAIL as it includes &ldquo;-t&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98a6190b1"
>[98a6190b1]</a></li>
</ul>
</dd>
<dt>1996-02-22  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, Makefile.in, README, configure.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77684bd09"
>[77684bd09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added more _PASSWD_LEN stuff &ndash; now uses PASS_MAX too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c0d81ee3"
>[7c0d81ee3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now includes limits.h moved _PASSWD_LEN -&gt; compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=47574e1af"
>[47574e1af]</a></li>
</ul>
</dd>
<dt>1996-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL, README:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=caf533f47"
>[caf533f47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
++versoin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e03f27e9a"
>[e03f27e9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27f2f09ed"
>[27f2f09ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=578218b1a"
>[578218b1a]</a></li>
</ul>
</dd>
<dt>1996-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba88cc5d9"
>[ba88cc5d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
done for 1.4.1 (I hope)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb3ad7370"
>[fb3ad7370]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
added info on wildcards
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d247e981"
>[7d247e981]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added wildcard example
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9714fa3f"
>[e9714fa3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now uses *.pod to build *.man and *.cat &amp; *.html
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa9916588"
>[aa9916588]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
addedSUDO_PROG_BSHELL !ll
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be584fff"
>[2be584fff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.pod:<br>
fixed up some formatting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f8e34d2c"
>[6f8e34d2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
redid section describing sample sudoers stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7cb5af2dc"
>[7cb5af2dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod:<br>
fixed some formatting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5003b21c7"
>[5003b21c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
now treats &quot;&rdquo; as bourne shell
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32af5520d"
>[32af5520d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
TESTOBJS nwo includes wildmat.o
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e43668a6a"
>[e43668a6a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now works with NewArg[cv]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63c9d31bd"
>[63c9d31bd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
removed an XXX (fixed it in getspwuid.c)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3da8d74b0"
>[3da8d74b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added check for bourne shell
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d084add8"
>[1d084add8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
added _PATH_BSHELL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f9fcf68c"
>[0f9fcf68c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added _SUDO_PATH_BSHELL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15eb52fd0"
>[15eb52fd0]</a></li>
</ul>
</dd>
<dt>1996-02-04  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
unixware vi returns 256 instead of 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=845ee30d7"
>[845ee30d7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added Linux note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a33259079"
>[a33259079]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fixed up some XXX&rsquo;s. file log format now looks a little more like real
syslog(3) format.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53ef7e23c"
>[53ef7e23c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README, TROUBLESHOOTING:<br>
updated wrt lex/flex
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b220613b8"
>[b220613b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
commented out rule to build lex.yy.c from parse.lex since we ship with a
pre-flex&rsquo;d parser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dcac138a6"
>[dcac138a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.yacc, visudo.c:<br>
path_matches -&gt; command_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1151a4bfd"
>[1151a4bfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
eliminated some strcat()&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fd8419d8"
>[5fd8419d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no longer checks for lex/flex (now assumes flex)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40555aba5"
>[40555aba5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now checks for $kerb_dir_candidate/krb.h instead of just
kerb_dir_candidate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b412bd7d"
>[1b412bd7d]</a></li>
</ul>
</dd>
<dt>1996-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
now use a &lsquo;hook&rsquo; expression instead of an iffy one :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42225e3b0"
>[42225e3b0]</a></li>
</ul>
</dd>
<dt>1996-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now works with new sudo arg stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6002abd99"
>[6002abd99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed dereferencing deadbeef
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65058a100"
>[65058a100]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
changed an occurrence of Argv to NewArgv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1714849ac"
>[1714849ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
took out support for quoted commands since there is no need&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=500ae8269"
>[500ae8269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fixed a typo in a for() loop
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0f898397f"
>[0f898397f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
protected against dereferencing rogue pointers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f19b2ebf8"
>[f19b2ebf8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses NewArgv amd NewArgc so cmnd_aegs is no longer needed this also
allows us to eliminate some kludges in parse_args() and eliminate
superfluous code.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e06c19bbb"
>[e06c19bbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
no longer uses cmnd_args, now uses NewArgv instead.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d38613278"
>[d38613278]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added struct sudo_command, NewArgc, and NewArgv removed cmnd_args (no
longer used)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bfacbff72"
>[bfacbff72]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added wildmat.c to SRCS &amp; SUDOBJS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b81d0d611"
>[b81d0d611]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
COMMAND is now a struct containing the path and args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8356e4bcd"
>[8356e4bcd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
replaced append() with fill_cmnd() and fill_args. command args from a
sudoers entry are now stored in an arrary for easy matching.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b003ffa8"
>[2b003ffa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
command line args from sudoers file are now in an array like ones passed
in from the command line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd18abfe4"
>[dd18abfe4]</a></li>
</ul>
</dd>
<dt>1996-02-01  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
wildwat stuff now works
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7731bb261"
>[7731bb261]</a></li>
</ul>
</dd>
<dt>1996-01-29  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d28ce9489"
>[d28ce9489]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
++version added wildmat.*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1947459b9"
>[1947459b9]</a></li>
</ul>
</dd>
<dt>1996-01-28  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
added support for quoted commands (w/ or w/o args)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=216ca11a0"
>[216ca11a0]</a></li>
</ul>
</dd>
<dt>1996-01-22  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
cleaned up formatting
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a3ee91ec"
>[9a3ee91ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.pod, visudo.pod:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57155eeaa"
>[57155eeaa]</a></li>
</ul>
</dd>
<dt>1996-01-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudoers.pod:<br>
looks reasonable, could be mroe readable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368217d7b"
>[368217d7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.pod:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c20fdea2"
>[3c20fdea2]</a></li>
</ul>
</dd>
<dt>1996-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75ef8ca4b"
>[75ef8ca4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
updated NO_ROOT_SUDO entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a5d75b5c"
>[6a5d75b5c]</a></li>
</ul>
</dd>
<dt>1996-01-15  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94535bae6"
>[94535bae6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed SECURE_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35622b80c"
>[35622b80c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
udpa`ted for 1.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1eb9339ef"
>[1eb9339ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
AIX aixcrypt.exp now uses $(srcdir)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0aeb1ee2"
>[d0aeb1ee2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added entry for anal ansi compilers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2b93bc0e"
>[e2b93bc0e]</a></li>
</ul>
</dd>
<dt>1996-01-14  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
added info on libcrypt_i for SCO
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2be2ed2c3"
>[2be2ed2c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
*** empty log message ***
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b99b83de"
>[4b99b83de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added comments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57be0e7ff"
>[57be0e7ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
1.4 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=491ed09c0"
>[491ed09c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c769b5644"
>[c769b5644]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, OPTIONS, README, config.h.in, configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84c4fd514"
>[84c4fd514]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
++version and fixed ISC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0f808679"
>[f0f808679]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, dce_pwent.c, find_path.c, getspwuid.c, getwd.c,
goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, logging.c, options.h, pathnames.h.in, putenv.c, strdup.c,
sudo.c, sudo.h, sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c,
visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=813ac511d"
>[813ac511d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
added STUB_LOAD_INTERFACES ++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed5fcdccc"
>[ed5fcdccc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, emul/utime.h, parse.c, parse.lex, parse.yacc, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d58db6c2c"
>[d58db6c2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
added info about fd_set in tgetpass added info on interfaces.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d10787840"
>[d10787840]</a></li>
</ul>
</dd>
<dt>1996-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>dce_pwent.c:<br>
added sudo header
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b05ce03eb"
>[b05ce03eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d9a1d1425"
>[d9a1d1425]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
tgetpass.o is now only linked in with sudo (not visudo)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d066db85"
>[2d066db85]</a></li>
</ul>
</dd>
<dt>1996-01-09  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, INSTALL, Makefile.in, OPTIONS, README, config.h.in, configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e0dec332"
>[6e0dec332]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/utime.h:<br>
added copyright notice
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da7d049fe"
>[da7d049fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, compat.h, find_path.c, getspwuid.c, getwd.c, goodpath.c,
ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h, insults.h,
interfaces.c, logging.c, options.h, parse.c, parse.lex, parse.yacc,
pathnames.h.in, putenv.c, strdup.c, sudo.c, sudo.h, sudo_setenv.c,
testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a90d2d478"
>[a90d2d478]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
minor cleanup and now includes sys/bsdtypes for svr4&rsquo;ish boxen
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38e76816a"
>[38e76816a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
ISC now gets -lcrypt now check for sys/bsdtypes.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73bb405bf"
>[73bb405bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added check for sys/bsdtypes.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b6e55a85"
>[3b6e55a85]</a></li>
</ul>
</dd>
<dt>1996-01-07  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
removed debugging stuff (setting freed ptr to NULL)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c509bec0c"
>[c509bec0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added 2 entries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14ebaab3b"
>[14ebaab3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added FAQ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e2876d44"
>[3e2876d44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added section on syslog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc7ee7602"
>[dc7ee7602]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added AC_ISC_POSIX for better ISC support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90596667f"
>[90596667f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab99db6cc"
>[ab99db6cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added define for _POSIX_SOURCE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16bdc95c2"
>[16bdc95c2]</a></li>
</ul>
</dd>
<dt>1996-01-04  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fixed check for lsearch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e59decf05"
>[e59decf05]</a></li>
</ul>
</dd>
<dt>1995-12-22  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
fixed for AIX now deal if num_interfaces == 0 (should not happen)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3aba9c478"
>[3aba9c478]</a></li>
</ul>
</dd>
<dt>1995-12-20  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now only define HAVE_LSEARCH if there is a corresponding search.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe1e64dcb"
>[fe1e64dcb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
works on ISC again
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6d0d2c8ba"
>[6d0d2c8ba]</a></li>
</ul>
</dd>
<dt>1995-12-18  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now define HAVE_LSEARCH if we find lsearch() in libcompat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=479248730"
>[479248730]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
char * -&gt; const char *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4aed8e5e"
>[e4aed8e5e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now looks in -lcompat for lsearch()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6946bdb78"
>[6946bdb78]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
remove sudo.core visudo.core for clan target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16b1ecdb1"
>[16b1ecdb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added UID_MAX support in check for MAX_UID_T_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e4308dc2"
>[8e4308dc2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed another occurence of sudo_getpwuid.*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=332bab8e0"
>[332bab8e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, getspwuid.c:<br>
sudo_getpwuid.c -&gt; getspwuid.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a441aed"
>[81a441aed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
moved the &ldquo;echo&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=481f1098c"
>[481f1098c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, CHANGES, INSTALL, Makefile.in, OPTIONS, README, check.c, compat.h,
config.h.in, configure.in, find_path.c, getspwuid.c, getwd.c,
goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h, ins_goons.h,
insults.h, interfaces.c, logging.c, options.h, parse.c, parse.lex,
parse.yacc, pathnames.h.in, putenv.c, strdup.c, sudo.c, sudo.h,
sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h, visudo.c:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=684637770"
>[684637770]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
added group support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d606c291c"
>[d606c291c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added group entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5d1fb9fc"
>[c5d1fb9fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man:<br>
documented group support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db1608442"
>[db1608442]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, parse.yacc, visudo.c:<br>
added group support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7617fde66"
>[7617fde66]</a></li>
</ul>
</dd>
<dt>1995-12-15  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
tkfile was too short and overflowed the kerberos realm
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8b95038f"
>[e8b95038f]</a></li>
</ul>
</dd>
<dt>1995-12-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now copy command args directly from Argv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=206899d1d"
>[206899d1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
replaced code to copy cmnd_args so that is does not use realloc since
most realloc()&rsquo;s really stink
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e9f9c7a4"
>[0e9f9c7a4]</a></li>
</ul>
</dd>
<dt>1995-12-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
syslog() fixed in hpux 10.01
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef4e6fbfa"
>[ef4e6fbfa]</a></li>
</ul>
</dd>
<dt>1995-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
AC_CHECK_LIB() now sets SUDO_LIBS (and VISUDO_LIBS if appropriate)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54d9ede9c"
>[54d9ede9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
better error if cannot find skey incs or libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ef6206a1"
>[4ef6206a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now use a temp file for determining max len of uid_t in string form. the
old hacky way broke on netbsd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23df4113c"
>[23df4113c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added set of parens and a space
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1d04bad9c"
>[1d04bad9c]</a></li>
</ul>
</dd>
<dt>1995-12-05  Todd C. Miller</dt>
<dd>
<ul>
<li>dce_pwent.c:<br>
fixes from Jeff Earickson &lt;jaearick@&hellip;&gt; ,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8b4bacee"
>[c8b4bacee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
modified a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbfd5434"
>[ffbfd5434]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed up testsudoers target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c5b326ff"
>[1c5b326ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
DCE changes from Jeff Earickson &lt;jaearick@&hellip;&gt; LIBS -&gt; SUDO_LIBS and
VISUDO_LIBS LDFLAGS -&gt; SUDO_FDFLAGS and VISUDO_LDFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=792805deb"
>[792805deb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
LIBS -&gt; SUDO_LIBS , VISUDO_LIBS LDFLAGS -&gt; SUDO_LDFLAGS,
VISUDO_LDFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f19f036b"
>[7f19f036b]</a></li>
</ul>
</dd>
<dt>1995-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fix for C2 on hpux 10 now uses -linet if it exists
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=86159a83f"
>[86159a83f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
LONG_SKEY_PROMPT is less of a klusge /
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d135a0bd1"
>[d135a0bd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed typos w/ dce stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17f433989"
>[17f433989]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added dce_pwent.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa560d43b"
>[fa560d43b]</a></li>
</ul>
</dd>
<dt>1995-11-26  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
amended section on combining authentication mechanisms
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0dbdb84f"
>[d0dbdb84f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
minor updates for 1.3.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3187d13ad"
>[3187d13ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added 2 more entries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88dfd93ad"
>[88dfd93ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
updated for 1.3.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3a01db5d"
>[d3a01db5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
overhauled
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfc28644c"
>[cfc28644c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
rewrote for sudo 1.3.6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c68baecaf"
>[c68baecaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
added 3 entries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4e077ce0"
>[c4e077ce0]</a></li>
</ul>
</dd>
<dt>1995-11-25  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c, getspwuid.c, sudo.c:<br>
added explict casts for strdup since many includes don&rsquo;t prototype it.
gag me.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7716e975"
>[d7716e975]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
removed prototype for sudo_getpwuid() since convex C compiler choked on
it.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b80b1c56"
>[6b80b1c56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added prototype for sudo_getpwuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f8332a19"
>[9f8332a19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
now compiles on strict ANSI compilers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=808e27538"
>[808e27538]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added LONG_SKEY_PROMPT support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a414eaef"
>[6a414eaef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added extra $&rsquo;s for make to eat up, yum.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=06f794982"
>[06f794982]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
added LONG_SKEY_PROMPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0deb3be4"
>[b0deb3be4]</a></li>
</ul>
</dd>
<dt>1995-11-24  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
s/key support now works with normal s/key as well as logdaemon
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=461d87164"
>[461d87164]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
added SKEY_ONLY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba894df8b"
>[ba894df8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
set _PASSWD_LEN to 256 for any of KERB4, DCE, SKEY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63a56ec6d"
>[63a56ec6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added DCE note added more AIX notes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c1c3bf03"
>[7c1c3bf03]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now include pthread.h for DCE support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ff093bde"
>[3ff093bde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
dce_pwent() is ok after all .,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd1efe7d2"
>[cd1efe7d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now uses SYSLOG() macro that equates to either syslog() or
syslog_wrapper
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dd72728e"
>[9dd72728e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>dce_pwent.c:<br>
minor formatting changes. renamed check() to somthing less generic
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e58945ad"
>[8e58945ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c, parse.yacc, sudo.c, sudo.h, testsudoers.c, visudo.c:
now uses user_pw_ent and simple macros to get at the contents
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6a223e2a"
>[d6a223e2a]</a></li>
</ul>
</dd>
<dt>1995-11-23  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
simpler dec unix C2 support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57a4342e7"
>[57a4342e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
now sets crypt_type for DEC unix C2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a22027ee"
>[6a22027ee]</a></li>
</ul>
</dd>
<dt>1995-11-21  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added csops paths for skey
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fda1d8ac"
>[4fda1d8ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
now includes string.h for strdup() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb09cb8fa"
>[eb09cb8fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
fixed a few typos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a8014ddfc"
>[a8014ddfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now includes skey.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b60cb8ec7"
>[b60cb8ec7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
fixed up comments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=310055043"
>[310055043]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
moved a lot of the shadow passwd crap to sudo_getpwuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d058a9b04"
>[d058a9b04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses sudo_pw_ent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dcee68e5"
>[9dcee68e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now uses sudo_pw_ent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0542fa247"
>[0542fa247]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now sets sudo_pw_ent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8104a5f13"
>[8104a5f13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getspwuid.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf8fd5937"
>[cf8fd5937]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
moved dce stuff into compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=333636652"
>[333636652]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
now uses sudo_pw_ent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b5caa700"
>[8b5caa700]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added sudo_getpwuid.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6b5b2302"
>[a6b5b2302]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added dce support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787742ebf"
>[787742ebf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now uses sudo_pw_ent
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ddfc75753"
>[ddfc75753]</a></li>
</ul>
</dd>
<dt>1995-11-20  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fixed exempt_group stuff for OS&rsquo;s that don&rsquo;t put base gid in group
vector
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4865f17ea"
>[4865f17ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
S/Key support now works with sunos4 shadow passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02bc955a1"
>[02bc955a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed clean rule
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a72a93101"
>[a72a93101]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, configure.in:<br>
added DCE support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfa3e6d8c"
>[dfa3e6d8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
DCE &amp; KERB support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7dba81c21"
>[7dba81c21]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
first stab at dce support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef7f00e9b"
>[ef7f00e9b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>dce_pwent.c:<br>
now smells like sudo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a6a0021d"
>[0a6a0021d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>dce_pwent.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84fd90f7a"
>[84fd90f7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
skey&rsquo;d sudo now works w/ normal password as well
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac12f043f"
>[ac12f043f]</a></li>
</ul>
</dd>
<dt>1995-11-19  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, OPTIONS, check.c, compat.h, config.h.in, find_path.c,
getwd.c, goodpath.c, ins_2001.h, ins_classic.h, ins_csops.h,
ins_goons.h, insults.h, interfaces.c, logging.c, options.h, parse.c,
parse.lex, parse.yacc, pathnames.h.in, putenv.c, strdup.c, sudo.c,
sudo.h, sudo_setenv.c, testsudoers.c, tgetpass.c, utime.c, version.h,
visudo.c:<br>
updated version number
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9de4fd545"
>[9de4fd545]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
updated to reflect version change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e4cb31d4"
>[6e4cb31d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
&ndash;with options now line up ++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6de61de5f"
>[6de61de5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
removed unecesary S/Key stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5675d703f"
>[5675d703f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed S/Key support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac8c65d15"
>[ac8c65d15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
-I stuff now goes in CPPFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=baae3457a"
>[baae3457a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed SKey support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53ae703b7"
>[53ae703b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=402ce291c"
>[402ce291c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
fixed description of EXEMPTGROUP
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3251001be"
>[3251001be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
more people use <em>RLD</em> than just alphas&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3f95518c"
>[e3f95518c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
replaced $man_prefix with $mandir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5eb9954c2"
>[5eb9954c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cec2ef656"
>[cec2ef656]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now use more GNU&rsquo;ish dir names
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db2cf11f5"
>[db2cf11f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now set *dir correctly (can override from command line)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db7b85cb5"
>[db7b85cb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now deal with situations where we getwd() fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=621d42205"
>[621d42205]</a></li>
</ul>
</dd>
<dt>1995-11-17  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
added etc_dir, bin_dir, sbin_dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7147ee96c"
>[7147ee96c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added sbin_dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0898a0db"
>[e0898a0db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now ship a flex-generated lex.yy.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8ec31de0"
>[e8ec31de0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now sets _PATH_SUDO_SUDOERS, _PATH_SUDO_STMP, SUDOERS_OWNER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e3a66387"
>[4e3a66387]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
_PATH_SUDO_SUDOERS &amp; _PATH_SUDO_STMP are now overridden via Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe45fd70c"
>[fe45fd70c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
no more error for redefining SUDOERS_OWNER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b339fda9"
>[6b339fda9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
expanded SUDOERS_OWNER section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f98507d06"
>[f98507d06]</a></li>
</ul>
</dd>
<dt>1995-11-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now warn if chown(2) failed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d8180011"
>[5d8180011]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
better default warning for NO_SUDOERS_FILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15d1cc7a6"
>[15d1cc7a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added missing set_perms() no more cryptic message if the sudoers file is
zero length, now just give a parse error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6475d4378"
>[6475d4378]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
better diagnostics if NO_SUDOERS_FILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d725ba8a5"
>[d725ba8a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
check_sudoers() now catches sudoers files that are not readable (but are
stat&rsquo;able).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8285802f2"
>[8285802f2]</a></li>
</ul>
</dd>
<dt>1995-11-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now add -D__STDC__ for convex cc (not gcc)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d05eae98b"
>[d05eae98b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
MAN_PREFIX -&gt; man_prefix now sets prefix and exec_prefix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=910e9c09f"
>[910e9c09f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now uses exec_prefix &amp; prefix from configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bdbf190f"
>[4bdbf190f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getwd.c, goodpath.c, interfaces.c, logging.c, parse.c,
parse.lex, parse.yacc, sudo.c, sudo.h, sudo_setenv.c, tgetpass.c,
utime.c, visudo.c:<br>
options.h is now &lt;&gt; instead of &quot;&rdquo; so shadow build trees can have a
custom copy of options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96be725f3"
>[96be725f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
user_is_exempt() is no longer a hack, it now uses getgrnam()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f847219c"
>[7f847219c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
EXEMPTGROUP is now &ldquo;sudo&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fed5c96f7"
>[fed5c96f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
MAN_POSTINSTALL now contains a leading space
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e8b3cb701"
>[e8b3cb701]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
removed leading tab if @MAN_POSTINSTALL@ not defined now removes
testsudoers in clean:
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f90254de"
>[8f90254de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
includes pwd.h to get _PASSWD_LEN definition
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a6099ebb"
>[6a6099ebb]</a></li>
</ul>
</dd>
<dt>1995-10-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
unset the KRB_CONF envariable if using kerberos so we don&rsquo;t get spoofed
into using a bogus server
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3003b4109"
>[3003b4109]</a></li>
</ul>
</dd>
<dt>1995-09-29  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
now explicately initialize match[] tp be FALSE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a14ba7447"
>[a14ba7447]</a></li>
</ul>
</dd>
<dt>1995-09-23  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
removed unused variable now passes -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d691e1c4"
>[5d691e1c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
yyerror and dumpaliases are now void&rsquo;s now passes -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4571b88d5"
>[4571b88d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added prototype for yyerror
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0fb7a2ee3"
>[0fb7a2ee3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c, parse.c:<br>
now passes -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02036880c"
>[02036880c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
rmeoved unused cruft now passes -Wall
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0ac53072"
>[f0ac53072]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed headers that moved to emul dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=87fbfbc19"
>[87fbfbc19]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fixed deref of nil pointer if no args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b3c1201e"
>[4b3c1201e]</a></li>
</ul>
</dd>
<dt>1995-09-15  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS:<br>
added a caveat to FQDN section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=13b5f7de9"
>[13b5f7de9]</a></li>
</ul>
</dd>
<dt>1995-09-13  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
more $srcdir support for install targets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32204d965"
>[32204d965]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, interfaces.c, parse.c, parse.lex, parse.yacc, putenv.c,
strdup.c, sudo.c, sudo_setenv.c, testsudoers.c, visudo.c:<br>
don&rsquo;t include malloc.h if we include stdlib.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=211361a5f"
>[211361a5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
local search.h now lives in emul
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a8926d92"
>[8a8926d92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, utime.c:<br>
local utime.h now lives in emul dir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a27e8bba"
>[5a27e8bba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
local search.h now lives in emul
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c122966"
>[23c122966]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added support for building in other than the sourcedir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c03629867"
>[c03629867]</a></li>
</ul>
</dd>
<dt>1995-09-10  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS:<br>
annotated CSOPS_INSULTS option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6024339b8"
>[6024339b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
updated shadow passwords blurb
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=592e98531"
>[592e98531]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
if SHELL_IF_NO_ARGS is set, &ldquo;sudo &ndash; foo&rdquo; now runs a shell and passes
along foo as the arguments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dff189d00"
>[dff189d00]</a></li>
</ul>
</dd>
<dt>1995-09-09  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
collapsed pathname and dir sections into one &ndash; its now less expensive
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec56686b8"
>[ec56686b8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
fixed spacing quoting [,:\=] now works correctly append() and fill()
now take args to make the above work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08a934797"
>[08a934797]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed a typo that caused commands with no tty on fd 0 but a tty on fd 1
to erroneously have &ldquo;none&rdquo; as their tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc1ab5b5b"
>[cc1ab5b5b]</a></li>
</ul>
</dd>
<dt>1995-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
timestampfile is now a global static removed decl of timestampfile in
remove_timestamp since we can just use the global one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63cfcdca9"
>[63cfcdca9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
created touch() to update timestamps added USE_TTY_TICKETS support (bit
of a kludge)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=810bbee99"
>[810bbee99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added _S_IFDIR and S_ISDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc30667ee"
>[cc30667ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
added USE_TTY_TICKETS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9696360b4"
>[9696360b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
removed const from casts for lsearch() &amp; lfind() to placate irix 4.x C
compiler
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa50c30f2"
>[fa50c30f2]</a></li>
</ul>
</dd>
<dt>1995-09-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now only strip &lsquo;/dev/&rsquo; off of a tty if it starts with &lsquo;/dev/&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33de10d52"
>[33de10d52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
added _PATH_DEV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f0b6dbfd"
>[1f0b6dbfd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
AC_HAVE_HEADERS -&gt; AC_CHECK_HEADERS now check for tcgetattr only if
have termios.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62b47b8b9"
>[62b47b8b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
fixed incorrect #ifdef termio uses &ldquo;unsigned short&rdquo; not int for c_?flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=993b7e5ec"
>[993b7e5ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
fixed a spelling error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3268e58e"
>[f3268e58e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=963dd0e35"
>[963dd0e35]</a></li>
</ul>
</dd>
<dt>1995-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
fixed a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c6446141"
>[7c6446141]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added dotcat() to cat 2 strings w/ a dot effeciently now that we
dynamically allocate strings they need to be free()&rsquo;d
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b39028f9"
>[4b39028f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
dynamically allocates space for strings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc5adec09"
>[bc5adec09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
no more MAXCOMMANDLENGTH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ee553665"
>[0ee553665]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added decl of tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57d9cb9bf"
>[57d9cb9bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c:<br>
moved tty stuff into sudo.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=589f1d626"
>[589f1d626]</a></li>
</ul>
</dd>
<dt>1995-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
fixed a logic bug. Was denying a command if user gave command line args
but there were none in the sudoers file which is wrong.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=184dac958"
>[184dac958]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
MAXCOMMMANDLEN dropped down to 1K
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24df673d9"
>[24df673d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
return foo; -&gt; return(foo);
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df5364ca"
>[0df5364ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed netgr_matches() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e59f998d"
>[8e59f998d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added support for escaping &ldquo;termination&rdquo; characters
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde7f1113"
>[dde7f1113]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
buf is now of size MAXPATHLEN+1 since it never holds command args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fb87b2fa"
>[4fb87b2fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed comments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eaf845fd2"
>[eaf845fd2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>goodpath.c:<br>
fixed negation problem (doh!)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d47330a7b"
>[d47330a7b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed 2nd parameter to lfind()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08719aef1"
>[08719aef1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now do bounds checking in fill() and append()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=023afc59e"
>[023afc59e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
include netdb.h as we should added a missing void cast added
SHELL_IF_NO_ARGS support now use realloc() properly. would fail if
realloc actually moved the string instead of shrinking it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=57e17e71d"
>[57e17e71d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
updated with examples of new features
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=035886c88"
>[035886c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>goodpath.c:<br>
now set errno to EACCES if not a regular file or not executable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3cf3a02c9"
>[3cf3a02c9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
if given a fully-qualified or relative path we now check it with
sudo_goodpath() and error out with the appropriate error message if the
file does not exist or is not executable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7b14880a"
>[a7b14880a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h, lsearch.c:<br>
now use correct args for lfind
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f55ea664c"
>[f55ea664c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c690ddb8"
>[0c690ddb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
added in CSOps insults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7785f5aa8"
>[7785f5aa8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ins_csops.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6c57ab6f9"
>[6c57ab6f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added RCS id
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38169ba0b"
>[38169ba0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
increased MAXCOMMANDLENGTH to 8k HAVE_GETCWD -&gt; HAVE_GETWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c90d776"
>[23c90d776]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
added CLASSIC_INSULTS, CSOPS_INSULTS, SHELL_IF_NO_ARGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43b4dfd76"
>[43b4dfd76]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed -k load_interfaces() now gets called if FQDN is set -p now works
with -s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb742282b"
>[eb742282b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
don&rsquo;t try to stat() &ldquo;pseudo commands&rdquo; like &ldquo;validate&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbade154"
>[ffbade154]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
added CLASSIC_INSULTS added CSOPS_INSULTS added SHELL_IF_NO_ARGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed57e2a47"
>[ed57e2a47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SecurID support added other insults to &ndash;with-csops
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c45ad3a6"
>[2c45ad3a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SECURID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9460142f7"
>[9460142f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added clobber target added ins_csops.h now gets CFLAGS from configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f66ada034"
>[f66ada034]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
relaxed SUDO_FULL_VOID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6059ab504"
>[6059ab504]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
function comment blocks are now in same style as rest of code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85d528d35"
>[85d528d35]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
added support for command line args in /etc/sudoers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6ae45fad7"
>[6ae45fad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man:<br>
updated to have command args in the sudoers file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=489923b34"
>[489923b34]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added -s and &ndash; flags added SHELL to ENVIRONMENT VARIABLES section
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2cd2d10e2"
>[2cd2d10e2]</a></li>
</ul>
</dd>
<dt>1995-08-19  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
PATH renamed to COMMAND
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30215484c"
>[30215484c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
it is now a parse error for directories to have args attached to them
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cda9b243c"
>[cda9b243c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now say command args if telling user to buzz off
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=723998be9"
>[723998be9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
-s no longer indicates end of args sped up loading on cmnd_args in
load_cmnd()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b79d33a5b"
>[b79d33a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
removed an unreachable statement
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5101444c"
>[e5101444c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
made more efficient by pulling out the terminators when in GOTCMND state
and making them their own rule
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed0730ba0"
>[ed0730ba0]</a></li>
</ul>
</dd>
<dt>1995-08-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
removed MAXLOGLEN since it is no longer used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d4d8e6b"
>[35d4d8e6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now allows command args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d2f76b1"
>[35d2f76b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now groks command arguments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=564533bc7"
>[564533bc7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now sets tty correctly when piped input
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7260a073"
>[a7260a073]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed loading of cmnd_args (was including command name too)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fee6ecbf0"
>[fee6ecbf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fixed a core dump due to incorrect if construct
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf3ef98ba"
>[bf3ef98ba]</a></li>
</ul>
</dd>
<dt>1995-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
only add -lsun is irix &lt; 5 don&rsquo;t look for -lnsl or -lsocket if irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1bd62ffb"
>[f1bd62ffb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed check for ISC
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa87fbdeb"
>[aa87fbdeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now sets cmnd_args used by log_error() and that will be used by the
parse to check against command args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f82ab3e8c"
>[f82ab3e8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added cmnd_args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c4286fc59"
>[c4286fc59]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now dynamically allocate logline since we can guess at its size
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f912e0d98"
>[f912e0d98]</a></li>
</ul>
</dd>
<dt>1995-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
cleaned up a bunch of unnecesary #ifdef&rsquo;s eliminated a buffer remove
&ldquo;register&rdquo; since the compiler knows more than I do now do a &ldquo;basename&rdquo;
of the tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8163d81ab"
>[8163d81ab]</a></li>
</ul>
</dd>
<dt>1995-07-31  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba2059342"
>[ba2059342]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added shell extern changed MODE_* to be bit masks to allow for several
options together
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78d3d79ac"
>[78d3d79ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added -s (shell) option made MODE_* masks so we can do bitwise &amp; and |
to see if multiple flags are set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8219db961"
>[8219db961]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added securid support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68cdc96ff"
>[68cdc96ff]</a></li>
</ul>
</dd>
<dt>1995-07-30  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
removed a bunch of unnecesary strncpy()&rsquo;s and replaced with strcat()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b42c06bb1"
>[b42c06bb1]</a></li>
</ul>
</dd>
<dt>1995-07-29  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e3717b14"
>[8e3717b14]</a></li>
</ul>
</dd>
<dt>1995-07-27  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
fixed free() of an uninitialized pointer (yuck)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15f6c5ef5"
>[15f6c5ef5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
added netgr_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d8c7fe68"
>[5d8c7fe68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
cleaned up netgr_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=178e4a3c1"
>[178e4a3c1]</a></li>
</ul>
</dd>
<dt>1995-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated for 1.3.4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d08b4b9f1"
>[d08b4b9f1]</a></li>
</ul>
</dd>
<dt>1995-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
now installs sudoers.man &ndash; really should clean this up though.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34b242a23"
>[34b242a23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added sudoers.cat and sudoers.man
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81a36b2d1"
>[81a36b2d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
pulled out stuff on the sudoers file format into a separate man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5245392ea"
>[5245392ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers.man:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcfd0d604"
>[bcfd0d604]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
fixed up my email address
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b623d1da"
>[3b623d1da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added checks for innetgr and getdomainname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0435b95d"
>[c0435b95d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added dummy netgr_matches function
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99464ee08"
>[99464ee08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added netgr_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1b9251bea"
>[1b9251bea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
added NETGROUP support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad2662ed8"
>[ad2662ed8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_INNETGR &amp; HAVE_GETDOMAINNAME
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc5299a5b"
>[fc5299a5b]</a></li>
</ul>
</dd>
<dt>1995-07-24  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
rewrote clean_env() that has rm_env() builtin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd9a16514"
>[dd9a16514]</a></li>
</ul>
</dd>
<dt>1995-07-23  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
now cast uid to long in sprintf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d96a2181"
>[4d96a2181]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
added _INSULTS suffix to HAL &amp; GOONS end
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cfed883f6"
>[cfed883f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
added _INSULTS suffix to HAL &amp; GOONS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52a3360e3"
>[52a3360e3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>ins_2001.h, ins_classic.h, ins_goons.h, insults.h:<br>
converted to new scheme of insult &ldquo;unions&rdquo; end
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b931ceaa"
>[7b931ceaa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses MAX_UID_T_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e70f526da"
>[e70f526da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SUDO_UID_T_LEN !l
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff580d88"
>[2ff580d88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added MAX_UID_T_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=316e21468"
>[316e21468]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now use MAX_UID_T_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6f9d1d1a"
>[b6f9d1d1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added check for max len of uid_t fixed sco vs. isc check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cda67389"
>[6cda67389]</a></li>
</ul>
</dd>
<dt>1995-07-19  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
corrected version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93347870a"
>[93347870a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added sco support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09a11bf6d"
>[09a11bf6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
hack to check for sco
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f0c48184"
>[1f0c48184]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
removed #include &lt;net/route.h&gt; since it was hosing some OS&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c631578e"
>[9c631578e]</a></li>
</ul>
</dd>
<dt>1995-07-18  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
fixed prreadlink() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=964e5aae9"
>[964e5aae9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added parens in #if&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6037dabc"
>[f6037dabc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SPW_ prefix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=568aeeec7"
>[568aeeec7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
moved SPW_* to config.h.in
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a03c27ecb"
>[a03c27ecb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added a set of parens
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6555548e4"
>[6555548e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added SPW_*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b53bdfe49"
>[b53bdfe49]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added SPW_* reordered error codes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e8d163cd"
>[5e8d163cd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
moved SPW_* to sudo.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=415172f62"
>[415172f62]</a></li>
</ul>
</dd>
<dt>1995-07-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
SPW_AUTH -&gt; SPW_SECUREWARE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9b176c01e"
>[9b176c01e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
GLOBAL_NO_AUTH_ENT -&gt; GLOBAL_NO_SPW_ENT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a13a1ce6"
>[8a13a1ce6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
AUTH -&gt; SECUREWARE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db9e49907"
>[db9e49907]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
SPW_AUTH -&gt; SPW_SECUREWARE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56dcb8360"
>[56dcb8360]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now uses SHADOW_TYPE to make shadow pw support more readable and
modular. It&rsquo;s a start&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69f73dca3"
>[69f73dca3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added autodetection of shadow passwords
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19e032b9a"
>[19e032b9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses SHADOW_TYPE define
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e002084a"
>[8e002084a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added SHADOW_TYPE which replaces SUNOS4 &amp; <strong>svr4</strong> defines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4f8eac02"
>[f4f8eac02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_CHECK_SHADOW
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17a7c74d5"
>[17a7c74d5]</a></li>
</ul>
</dd>
<dt>1995-07-12  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
define SVR4 for ISC define BROKEN_SYSLOG for hpux took out test for
memmove() since we dno longer use it&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59dcca855"
>[59dcca855]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=676ca1e9f"
>[676ca1e9f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added BROKEN_SYSLOG support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aac8b5fc9"
>[aac8b5fc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added BROKEN_SYSLOG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0df6a284b"
>[0df6a284b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now only bitch it timestamp &gt; time_now + 2 * timeout to allow for a
machine udpating its time from a server
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5ea3c824"
>[b5ea3c824]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added 2 security notes updated Nieusma&rsquo;s email addr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82cb03da2"
>[82cb03da2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
changed a memmove() to memcpy() since we don&rsquo;t have to worry about
overlapping segments.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9bde08229"
>[9bde08229]</a></li>
</ul>
</dd>
<dt>1995-07-11  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
cleanup up the loop when interfaces are groped in so that it is readable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63893680d"
>[63893680d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17b7225c7"
>[17b7225c7]</a></li>
</ul>
</dd>
<dt>1995-07-09  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
annotated 124-126
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d2e68cbb"
>[8d2e68cbb]</a></li>
</ul>
</dd>
<dt>1995-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fixed permissions check on /tmp/.odus
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14ec8cc12"
>[14ec8cc12]</a></li>
</ul>
</dd>
<dt>1995-07-06  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fixed some comments
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77577c970"
>[77577c970]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now checks owner &amp; mode of timedir also checks for bogus dates on
timestamp file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fc15f54aa"
>[fc15f54aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
updated TIMEOUT info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5681ddef0"
>[5681ddef0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
added BAD_STAMPDIR and BAD_STAMPFILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05bea6375"
>[05bea6375]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added definition of S_IRWXU
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c76d6d4e2"
>[c76d6d4e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edee3fe6d"
>[edee3fe6d]</a></li>
</ul>
</dd>
<dt>1995-07-03  Todd C. Miller</dt>
<dd>
<ul>
<li>interfaces.c:<br>
added #ifdef to make it compile on strange arches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba502e7de"
>[ba502e7de]</a></li>
</ul>
</dd>
<dt>1995-07-02  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed check for fulkl void impl.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c39d1e66"
>[0c39d1e66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added mssing &ldquo;static&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=237080124"
>[237080124]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
replaced #elif with #else #if constructs for ancient C compilers
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=001cbba28"
>[001cbba28]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated irix c2 &amp; kerb5 info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8923092f7"
>[8923092f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added shadow pw support for irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5424b506"
>[a5424b506]</a></li>
</ul>
</dd>
<dt>1995-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS, TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e232c80a"
>[9e232c80a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
last changes for sudo 1.3.3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=372332a8e"
>[372332a8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now calls SUDO_SOCK_SA_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f6f708d9c"
>[f6f708d9c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SA_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=05543559e"
>[05543559e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_SOCK_SA_LEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=16768b25a"
>[16768b25a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
now works with ip implementations that use sa_len in sockaddr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a0993f0e"
>[3a0993f0e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added note about buggy AIX compiler
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27f0a0437"
>[27f0a0437]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
now include sys/time.h for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70da65274"
>[70da65274]</a></li>
</ul>
</dd>
<dt>1995-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
getcwd -&gt; getwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c82d0e4d"
>[4c82d0e4d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
now works for ISC and others. yay.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec568f270"
>[ec568f270]</a></li>
</ul>
</dd>
<dt>1995-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
version++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1656c457a"
>[1656c457a]</a></li>
</ul>
</dd>
<dt>1995-06-23  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed test for full void impl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c96837917"
>[c96837917]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now check to see that st_dev is non-zero before assuming that we are
being spoofed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c67e31d9"
>[4c67e31d9]</a></li>
</ul>
</dd>
<dt>1995-06-20  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4, configure.in:<br>
SUDO_FUNC_UTIME_NULL -&gt; AC_FUNC_UTIME_NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbec8fc76"
>[cbec8fc76]</a></li>
</ul>
</dd>
<dt>1995-06-19  Todd C. Miller</dt>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed include file order for SUDO_FUNC_UTIME_POSIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51dd620a8"
>[51dd620a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added cast for ttyname()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b37760089"
>[b37760089]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20c9ac303"
>[20c9ac303]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now deal correctly with all known variation of utime() &ndash; yippe
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6dbb5d20"
>[a6dbb5d20]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SUDO_FUNC_UTIME_POSIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ece0da6b"
>[4ece0da6b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_FUNC_UTIME_NULL and SUDO_FUNC_UTIME_POSIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a6f9ff55"
>[4a6f9ff55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_UTIME_POSIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0882a4f14"
>[0882a4f14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db30358dd"
>[db30358dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
no longer assume !HAVE_UTIME_NULL means old BSD utime()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11ab938fa"
>[11ab938fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed fascist C compiler warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44ce99e44"
>[44ce99e44]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
now set strioctl.ic_timout in STRSET() now initialize num_interfaces to
0 (just to be anal)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5986e74e4"
>[5986e74e4]</a></li>
</ul>
</dd>
<dt>1995-06-18  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
increaed MAXLOGLEN by MAXPATHLEN to account for ttyname
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5114bdf3a"
>[5114bdf3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added tty logging
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a22c6ba1"
>[9a22c6ba1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
reworked the ISC code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34eaa537d"
>[34eaa537d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40d5ad5fb"
>[40d5ad5fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now expect old-style utime(3) if utime() can&rsquo;t take NULL as an arg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e30f821d"
>[3e30f821d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added check for utime.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=66dcba0b7"
>[66dcba0b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_UTIME_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14bfd8b7a"
>[14bfd8b7a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added CPPFLAGS STATIC_FLAGS -&gt; LDFLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53807380c"
>[53807380c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now search for kerb libs and includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1a19c778d"
>[1a19c778d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added support for utime(2)&rsquo;s that can&rsquo;t take a NULL parameter
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=403a90802"
>[403a90802]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>utime.c:<br>
moved HAVE_UTIME_NULL stuff to update_timestamp() where t belongs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ff79b51e"
>[8ff79b51e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added utime(s) stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07c8eb771"
>[07c8eb771]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now use utime()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24047697d"
>[24047697d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_UTIME and HAVE_UTIME_NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b7bd3d22"
>[0b7bd3d22]</a></li>
</ul>
</dd>
<dt>1995-06-17  Todd C. Miller</dt>
<dd>
<ul>
<li>utime.c:<br>
now use HAVE_UTIME_NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d08febb0f"
>[d08febb0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/utime.h, utime.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9df83c3d6"
>[9df83c3d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
need to setuid(0) to make kerb4 stuff work.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7c2a548a"
>[a7c2a548a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
no more special case for kerberos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c56b2c446"
>[c56b2c446]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
took out setreuid and setresuid stuff added kerb5 stuff (use kerb4
emulation)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88201485c"
>[88201485c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
no longer need setreuid() emulation now set _PASSWD_LEN to 128 if
kerberos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eb7a72d97"
>[eb7a72d97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now use private ticket file for kerberos support to avoid trouncing on
system one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10a2f6e7d"
>[10a2f6e7d]</a></li>
</ul>
</dd>
<dt>1995-06-15  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
added SPOOF_ATTEMPT &amp; cmnd_st
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e2eb0013"
>[3e2eb0013]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added anti-spoofing support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b122474e4"
>[b122474e4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now use global cmnd_st
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77f4bbc68"
>[77f4bbc68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added SPOOF_ATTEMPT suypport
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b4722346"
>[0b4722346]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c, visudo.c:<br>
added void casts where appropriate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6115fb5d4"
>[6115fb5d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed up spacing and added void casts where appropriate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a81984983"
>[a81984983]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed problem with &ldquo;-p prompt&rdquo; but no args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42b3a170e"
>[42b3a170e]</a></li>
</ul>
</dd>
<dt>1995-06-14  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man:<br>
added BUGS and annotated -l description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8adfa4e1d"
>[8adfa4e1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
validate() now takes a flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91e4fbc50"
>[91e4fbc50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
validate() now takes a flag added -l
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3e338f2f"
>[d3e338f2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added support for -l
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c84f2143"
>[4c84f2143]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
validate() now takes a flag that says whether or not to check the
command
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7660fc07"
>[b7660fc07]</a></li>
</ul>
</dd>
<dt>1995-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
now deals with Argv == 1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f5a33a01"
>[7f5a33a01]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added -p option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a94dbed5"
>[0a94dbed5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added prompt support reworked parse_args()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=337897e2d"
>[337897e2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added prompt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d66c79ce2"
>[d66c79ce2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
added PASSPROMPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bbd0744ef"
>[bbd0744ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now use BUFSIZ as length of kerb password added kpass so pass is always
a char * now use prompt global when asking for a password
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ffbac45a4"
>[ffbac45a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now use BUFSIZ as _PASSWD_LEN if using kerberos
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=579fa5cc3"
>[579fa5cc3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
added PASSPROMPT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=378732007"
>[378732007]</a></li>
</ul>
</dd>
<dt>1995-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
only look for -lufc or -lcrypt if crypt() not in libc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=171f81153"
>[171f81153]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
don&rsquo;t exit on kerb error, just warn if k_errno == KDC_PR_UNKNOWN
(unknown user) silently fail
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=131a4affd"
>[131a4affd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added kerb4 note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2a67a0f93"
>[2a67a0f93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
HAVE_KERBEROS -&gt; HAVE_KERB4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f5f05a899"
>[f5f05a899]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
removed debugging printf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d132edc1"
>[5d132edc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
KERBEROS -&gt; KERB4 added checks for setreuid &amp; setresuid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca4368dd8"
>[ca4368dd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
HAVE_KERBEROS -&gt; HAVE_KERB4 added HAVE_SETREUID and HAVE_SETRESUID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71f08751c"
>[71f08751c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added deif of UID_NO_CHANGE &amp; GID_NO_CHANGE added setreuid emulation
with setresuid if applic
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d7f497c5"
>[9d7f497c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
HAVE_KERBEROS -&gt; HAVE_KERB4 now only do the stupid chown() hack if no
setreuid() or a broken one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32a7316a0"
>[32a7316a0]</a></li>
</ul>
</dd>
<dt>1995-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added kerberos support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2513e340f"
>[2513e340f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_KERBEROS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=792d8d434"
>[792d8d434]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added KERBEROS support (long passwords)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb62e6b4c"
>[bb62e6b4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added kerberos support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e1a47e33"
>[2e1a47e33]</a></li>
</ul>
</dd>
<dt>1995-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
added MODE_BACKGROUND
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad9a0eef3"
>[ad9a0eef3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
escaped dashes added -b option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3c96d7ea"
>[b3c96d7ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added -b option
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c60704dcc"
>[c60704dcc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added crypt() for osf/1 3.x enhanced secuiry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e776214bf"
>[e776214bf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now check for -lcrypt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c5f8f7e8e"
>[c5f8f7e8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
added ENXIO like EADDRNOTAVAIL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=545d39191"
>[545d39191]</a></li>
</ul>
</dd>
<dt>1995-05-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now emulate getwd(), not getcwd()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7d51f8373"
>[7d51f8373]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
getcwd() -&gt; getwd()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2ec4c76d"
>[a2ec4c76d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getwd.c:<br>
getcwd -&gt; getwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=69e9c49d3"
>[69e9c49d3]</a></li>
</ul>
</dd>
<dt>1995-05-02  Todd C. Miller</dt>
<dd>
<ul>
<li>ins_2001.h, ins_classic.h, ins_goons.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d87459b87"
>[d87459b87]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
broke out insults into separate include files
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=638177948"
>[638177948]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
added GOONS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=61beb65fb"
>[61beb65fb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added ins_2001.h ins_classic.h ins_goons.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=edcbd9935"
>[edcbd9935]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18dee8405"
>[18dee8405]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
moved signal handler setup to setup_signals()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5047747d5"
>[5047747d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added load_interfaces()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aff6b07d4"
>[aff6b07d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
moved load_interfaces to interfaces.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaa41e678"
>[aaa41e678]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added clearaliases
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=923bd0d3e"
>[923bd0d3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
added FAST_MATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b541399b4"
>[b541399b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now uses clearaliases variable
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=513a1c7e9"
>[513a1c7e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>interfaces.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0613d37b4"
>[0613d37b4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added interfaces.[co]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08a953c95"
>[08a953c95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
now uses ip addrs and netmasks via load_interfaces()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1250db5a9"
>[1250db5a9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now remove IFS instead of setting to &ldquo;sane&rdquo; value
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e991fcfa7"
>[e991fcfa7]</a></li>
</ul>
</dd>
<dt>1995-05-01  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.c:<br>
added FAST_MATCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4a37e0c32"
>[4a37e0c32]</a></li>
</ul>
</dd>
<dt>1995-04-30  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
sudo_goodpath.c-&gt; goodpath.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53cab8546"
>[53cab8546]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added Andy&rsquo;s new ISC changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=431c0a7e5"
>[431c0a7e5]</a></li>
</ul>
</dd>
<dt>1995-04-14  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS:<br>
added a sentence to SECURE_PATH info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c93d5f806"
>[c93d5f806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8c96a3142"
>[8c96a3142]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f90710c26"
>[f90710c26]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b32d8ae6a"
>[b32d8ae6a]</a></li>
</ul>
</dd>
<dt>1995-04-13  Todd C. Miller</dt>
<dd>
<ul>
<li>RUNSON:<br>
updated for beta3
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d06ece937"
>[d06ece937]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, version.h:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d1136057f"
>[d1136057f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
sendmail is now looked for in /usr/ucblib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97fe29dc9"
>[97fe29dc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d562e7ff7"
>[d562e7ff7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4f1460d6"
>[b4f1460d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
updated ISC mods
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=52b6b6965"
>[52b6b6965]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added unixware case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=803fd573b"
>[803fd573b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
user_is_exempt is no longer hidden
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c34759834"
>[c34759834]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a82cc716e"
>[a82cc716e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
isc and riscos changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2fada0f81"
>[2fada0f81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS:<br>
added NOTE about new interaction of EXEMPTGROUP and SECURE_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=849adcde2"
>[849adcde2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed a typo and added testsudoers stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=029096a2c"
>[029096a2c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>testsudoers.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37eab2662"
>[37eab2662]</a></li>
</ul>
</dd>
<dt>1995-04-12  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
applied fixed patch from Chris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19e806c2e"
>[19e806c2e]</a></li>
</ul>
</dd>
<dt>1995-04-11  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84eee6209"
>[84eee6209]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added a set of braces for bison
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b380a172"
>[8b380a172]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
merged in Chris&rsquo; changes to dekludge the parser.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d70bb866d"
>[d70bb866d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
send_mail() was calling find_path() which is wrong since find_path()
stores cmnd in a static var. Anyhow, it doesn&rsquo;t make much sense since
MAILER should always be fully qualified
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f200df002"
>[f200df002]</a></li>
</ul>
</dd>
<dt>1995-04-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
added User_Alias stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9d82a8dac"
>[9d82a8dac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
SUDO_NEXT now looks for /usr/lib/NextStep/software_version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa3186a8e"
>[aa3186a8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
added DEC UNIX 3.0 w/ gcc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dc01e4b77"
>[dc01e4b77]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Exit was being used in places where exit should be used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ab29f4c7"
>[7ab29f4c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
added &ldquo;User alias specification&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=942182265"
>[942182265]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed probs caused by making nslots and naliases a size_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a783a139f"
>[a783a139f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
added KSR, upped rev to 1.3.1b2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31ed7f457"
>[31ed7f457]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.yacc:<br>
1024 -&gt; BUFSIZ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=27b183432"
>[27b183432]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
void * -&gt; VOID * naliases and nslots are now size_t to appease lsearch
on 64-bit machines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cb2afdad"
>[6cb2afdad]</a></li>
</ul>
</dd>
<dt>1995-04-09  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
did a bunch of things and added a bunch :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef44ca921"
>[ef44ca921]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e3afabe4"
>[5e3afabe4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.man:<br>
closer to BSD manpage style
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83c920618"
>[83c920618]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
closer to standard BSD man format
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b035adc"
>[40b035adc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h, config.h.in, emul/search.h, insults.h, options.h,
pathnames.h.in, sudo.h, version.h:<br>
added RCS id
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f08ab58ba"
>[f08ab58ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
removed crufty #defines that are no longer used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cdaae28ef"
>[cdaae28ef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
fixed a bug
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=620997189"
>[620997189]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
updated based on sudo changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba0bce3a6"
>[ba0bce3a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now allow ALL keyword in User_Aliases now allow ALL keyword as well as a
NAME or ALIAS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=557d431e2"
>[557d431e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a23cda72e"
>[a23cda72e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now sets SUDO_COMMAND and SUDO_GID envariables.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0869c2a39"
>[0869c2a39]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed bug with full void impl check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=588891cf3"
>[588891cf3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed User_Alias supoprt
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6923398d"
>[a6923398d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added stubs for User_Alias support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dfcb0eb6e"
>[dfcb0eb6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now sets removes # bogus interfaces from num_interfaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=050ca432a"
>[050ca432a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added User_Alias support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166d2b78b"
>[166d2b78b]</a></li>
</ul>
</dd>
<dt>1995-04-08  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
removed extraneous TODO
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea57effc3"
>[ea57effc3]</a></li>
</ul>
</dd>
<dt>1995-04-07  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
ntwk_matches -&gt; addr_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=36fec1269"
>[36fec1269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
ntwk_matches -&gt; addr_matches
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9a574adc"
>[c9a574adc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
ntwk_matches -&gt; addr_matches now use inet_addr() not inet_network()
(which expects octet boundaries) fixes for OSF (sizeof(int) !=
sizeof(long))
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=521f2f6ac"
>[521f2f6ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
took out debugging info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa03cdc83"
>[aa03cdc83]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
OS was being set to unknown before non-uname based host checks. This
caused no checks to happen since $OS was not zero-length.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d00426b55"
>[d00426b55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed loading of interfaces struct still has debugging info in though
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec1c2e69e"
>[ec1c2e69e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e27349c62"
>[e27349c62]</a></li>
</ul>
</dd>
<dt>1995-04-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7d2490f1"
>[a7d2490f1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32a5ff4f9"
>[32a5ff4f9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
removed extraneous extern decl of &ldquo;top
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=144121414"
>[144121414]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now zeros &ldquo;top&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e6307fdc"
>[4e6307fdc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
removed parser_cleanup (no need for it now)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd3a5bd09"
>[cd3a5bd09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now calls reset_aliases() directly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2b3adaa4"
>[f2b3adaa4]</a></li>
</ul>
</dd>
<dt>1995-04-04  Todd C. Miller</dt>
<dd>
<ul>
<li>OPTIONS:<br>
added a sentence to SECURE_PATH description
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f12862c69"
>[f12862c69]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fixed my stupid bug where I used NAMLEN on something I wanted to just
get the name from. argh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e45d61aa"
>[6e45d61aa]</a></li>
</ul>
</dd>
<dt>1995-04-03  Todd C. Miller</dt>
<dd>
<ul>
<li>lsearch.c:<br>
fixed argument order of memmove() that i hosed when converting from
bcopy(). arghh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=285bc82b3"
>[285bc82b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
finally fixed DISTFILES line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1259d8444"
>[1259d8444]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
tabs -&gt; spaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e94d4c878"
>[e94d4c878]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added missing files to DISTFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3ebf9190"
>[d3ebf9190]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
SUPPORTED -&gt; RUNSON
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20fe8172c"
>[20fe8172c]</a></li>
</ul>
</dd>
<dt>1995-04-01  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a4a51a4b"
>[8a4a51a4b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
updated for pl5b1 release
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25dbadf29"
>[25dbadf29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS, TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=012deffa1"
>[012deffa1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed bug where if you hit return at first sudo prompt it would still
log as a failure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f650082b1"
>[f650082b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6a68fe4a"
>[d6a68fe4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
better test for bogus void * implementation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af82bb25a"
>[af82bb25a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added PASSWORDS_NOT_CORRECT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1e520bbc"
>[c1e520bbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added PASSWORDS_NOT_CORRECT stuff]
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bc17e9f8"
>[5bc17e9f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added PASSWORDS_NOT_CORRECT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11e414889"
>[11e414889]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
moved pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=735be1c0b"
>[735be1c0b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
removed some unused vars and fixed up uid2str
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=911605896"
>[911605896]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>putenv.c:<br>
moved compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5df37f27d"
>[5df37f27d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c:<br>
added pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99ae8d306"
>[99ae8d306]</a></li>
</ul>
</dd>
<dt>1995-03-31  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
fixed a typo I introduced in the last checkin :-(
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0590d7b64"
>[0590d7b64]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
can&rsquo;t have #ifdef&rsquo;s where N is defined so just do this the broken way
for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2bc423cab"
>[2bc423cab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
better hack from Chris (but still a hack)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f104cc2dd"
>[f104cc2dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
stupid hack for broken aix lex
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6331561f"
>[b6331561f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now includes compat.h 
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d3012dcf0"
>[d3012dcf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now includes fcntl.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c033eac1"
>[3c033eac1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added FD_SET and FD_ZERO for 4.2BSD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d11b8fd1"
>[0d11b8fd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
dirty hack to fix parser bug. i don&rsquo;t really like this but it works for
now&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=032a129cf"
>[032a129cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
uid2str is now static like the prototype says
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f4e9cea28"
>[f4e9cea28]</a></li>
</ul>
</dd>
<dt>1995-03-30  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, SUPPORTED, TODO, TROUBLESHOOTING:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f417910d"
>[2f417910d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>RUNSON:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ec700ab3b"
>[ec700ab3b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
check_sudoers now returns an error code and sudo calls inform_user and
log_error based on the return value.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=086c51194"
>[086c51194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
added entries for new errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37966f0da"
>[37966f0da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now set uid to that of SUDOERS_OWNER while parsing sudoers file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8e89a08f2"
>[8e89a08f2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
took out testsudoers 
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6b88fea9"
>[b6b88fea9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now explicately checks that it is setuid root
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=838882502"
>[838882502]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
If a user has no passwd entry sudo would segv (writing to a garbage
pointer). Now allocate space before writing :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0b01e062"
>[a0b01e062]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
reordered AC_CHECK_FUNCS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2f1773275"
>[2f1773275]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
fixed memset macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d4643159"
>[0d4643159]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c, visudo.c:<br>
bzero -&gt; memset
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e281c20f4"
>[e281c20f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
bzero -&gt; memset when a parse error is logged the line number of the
error is now logged too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=222d26076"
>[222d26076]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added Sunos to blurb about c2 security
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25d8da8ad"
>[25d8da8ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added a SUN4 define for C2 security
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5b99e0b3"
>[b5b99e0b3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
bcopy -&gt; memmove bzero -&gt; memset
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=166536d2a"
>[166536d2a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
bcopy -&gt; memmove char * -&gt; VOID *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5bf165f7"
>[a5bf165f7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added support for sunos with C2 security
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=99af59db4"
>[99af59db4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
reordered
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f45450cf7"
>[f45450cf7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
_PATH_SUDO_LOGFILE now set based on configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af2bbaf7c"
>[af2bbaf7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SUDO_LOGFILE and SUDO_TYPE_SIZE_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40d004931"
>[40d004931]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added _SUDO_PATH_LOGFILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4bdb9b6fa"
>[4bdb9b6fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_LOGFILE to find where to put sudo.log added SUDO_CHECK_TYPE
(just AC_CHECK_TYPE but checks unistd.h too) added SUDO_TYPE_SIZE_T
(calls SUDO_CHECK_TYPE)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8fcb78602"
>[8fcb78602]</a></li>
</ul>
</dd>
<dt>1995-03-29  Todd C. Miller</dt>
<dd>
<ul>
<li>TROUBLESHOOTING:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38b60eebb"
>[38b60eebb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now do set_perms(PERM_ROOT) before the getpwuid() in load_global() to
work around a problem is trusted hpux shadow passwords. yuck.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe19bcc7c"
>[fe19bcc7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
backed out a change in malloc/realloc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba7c8ad18"
>[ba7c8ad18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now include stdlib.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc47d04a0"
>[cc47d04a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now do an freopen() of the stmp file so that yyin will always point to
the same thing. This is important for flex since we are doing a
YY_NEWFILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c58915743"
>[c58915743]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
replaced yywrap() with parser_cleanup() since yywrap() needs to be in
parse.lex to be able to use YY_NEW_FILE. sigh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60b17a682"
>[60b17a682]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now have a rule that matches anything that doesn&rsquo;t match an explicite
rule. well, you know what i mean (. matches anything not yet matched).
However, this means that there is input still queued up so we need to do
a YY_NEW_FILE; in yywrap. So, yywrap has moved into parse.lex and it
calls parser_cleanup() which is most of the old yywrap() sigh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cfd02344"
>[4cfd02344]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
no longer used
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96f7d5a0c"
>[96f7d5a0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c:<br>
moved compat.h to be the last include file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=64b69d5f5"
>[64b69d5f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
fixed type of aliascmp() args
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3bed398b"
>[e3bed398b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
NULL -&gt; &lsquo;\0&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dda75b2fd"
>[dda75b2fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added casts to lfind and lsearch args for irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5db1b51da"
>[5db1b51da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
bsdinstall -&gt; install-sh
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=204f66598"
>[204f66598]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added info about make realclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ada7ce45"
>[4ada7ce45]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
updated VERSION added dependencies for visudo.cat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78c573df1"
>[78c573df1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
-&gt; pl5b1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46dd8bfb8"
>[46dd8bfb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
took out -l
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22c7d31a5"
>[22c7d31a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
now there is a real visudo.man and visudo.cat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=894585ffe"
>[894585ffe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
took out visudo stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=644f4fcba"
>[644f4fcba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.man:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dd534f542"
>[dd534f542]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, parse.yacc:<br>
updated copyright
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=890fb310e"
>[890fb310e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
updated for pl5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1e46c2691"
>[1e46c2691]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
updated Nieusma &amp; Hieb email addresses
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0c651fc7c"
>[0c651fc7c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated to include options.h and OPTIONS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ff2175ca"
>[7ff2175ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b7813011"
>[0b7813011]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
eliminated bug #1 (yay)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efbfee912"
>[efbfee912]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
sunos no longer gets linked statically
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e29e1f9d2"
>[e29e1f9d2]</a></li>
</ul>
</dd>
<dt>1995-03-28  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
prototype now uses __P()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80f073fbc"
>[80f073fbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
make fill() non-ansi
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b07614b2e"
>[b07614b2e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
made -v (validate) work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f0fff46a1"
>[f0fff46a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now gives host
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=839b5e7ff"
>[839b5e7ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
don&rsquo;t check for execute/statable if fq or relative path given
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a7d8fb41"
>[8a7d8fb41]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added a cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31f5c73d0"
>[31f5c73d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now include ctype.h for islower and tolower macros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=485c9e6ed"
>[485c9e6ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>goodpath.c:<br>
moved _S_IFMT &amp; _S_ISREG to compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a9f4e4530"
>[a9f4e4530]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
moved a set of parens
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e29c4d3f"
>[4e29c4d3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strdup.c:<br>
now include compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b0406ebfb"
>[b0406ebfb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h:<br>
void * -&gt; VOID *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1b54219d"
>[f1b54219d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now cast malloc &amp; realloc return vals added search for HAVE_LSEARCH now
use strcmp if no strcasecmp available
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c1eda16e"
>[7c1eda16e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>lsearch.c:<br>
void * -&gt; VOID *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=445a68297"
>[445a68297]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
removed HAVE_FLEX added VOID added HAVE_DIRENT_H, HAVE_SYS_NDIR_H,
HAVE_SYS_DIR_H, HAVE_NDIR_H added HAVE_LSEARCH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=363964548"
>[363964548]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
added _S_IFMT, _S_IFREG, and S_ISREG
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b207b64d8"
>[b207b64d8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
took out SUDO_PROG_INSTALL 1.x to 2.x changes added echo and results to
most SUDO_* macros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b98875f8"
>[6b98875f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
no more -I.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b322baa6"
>[2b322baa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
various 1.x ro 2.x autoconf changes now check for strcasecmp now use
AC_INSTALL_PROG instead of custom one added check for fully woorking
void implementation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91da5d313"
>[91da5d313]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added lsearch &amp; search.h visudo links into $(LIBOBJS)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6867100a"
>[a6867100a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
partial 1.x to 2.x changes added SUDO_FULL_VOID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dde32f14d"
>[dde32f14d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
whatnow_help was prototyped to be static be was not declared as such
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=348eb2c3e"
>[348eb2c3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
autoconf 2.x changes took out HAVE_FLEX (no longer used) added check for
dirent/dir/ndir.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbc0ddbdf"
>[dbc0ddbdf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now use groovy gnu autoconf macro AC_HEADER_DIRENT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d24022cde"
>[d24022cde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c:<br>
MAXPATHLEN -&gt; MAXPATHLEN+1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fb3c0f2a3"
>[fb3c0f2a3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>emul/search.h, lsearch.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c28761743"
>[c28761743]</a></li>
</ul>
</dd>
<dt>1995-03-27  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
eliminated bison warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=09e1ddb05"
>[09e1ddb05]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added missing case
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1c8d99b9"
>[f1c8d99b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now iincludes signal.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5752237a"
>[d5752237a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
only clear data structures on a parse error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e24031eab"
>[e24031eab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
whatnow() now gives help on invalid input
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6876438ab"
>[6876438ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added a whatnow() function (sort of like mh)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c7ea0252"
>[7c7ea0252]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
kill_aliases -&gt; reset_aliases yywrap() now cleans up by calling
reset_aliases() and clearing top took reset stuff out of yyerror() since
it doesn&rsquo;t beling there (and doesn&rsquo;t work anyway). errorlineno is now
initially set to -1 so we can set it to the first error that occurrs (it
was getting set to the last)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f92064130"
>[f92064130]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added a void cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd987bf7f"
>[bd987bf7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
rewrote from scratch based on 4.3BSD vipw.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c56ec5dbc"
>[c56ec5dbc]</a></li>
</ul>
</dd>
<dt>1995-03-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
removed ocmnd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40fbed903"
>[40fbed903]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
no more sudo_realpath() and find_path() changed params
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8de40d1c3"
>[8de40d1c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
find_path() changed since no more realpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=175390b58"
>[175390b58]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
on error, errorlineno is set to the line where the error occurred added
kill_aliases() to free the aliases struct now clean up in yyerror() so
we can reparse cleanly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d06e1f3ab"
>[d06e1f3ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h, parse.c:<br>
no more USE_REALPATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5509c7763"
>[5509c7763]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
changed to use new find_path()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee49c5c24"
>[ee49c5c24]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
removed all the realpath() stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4125ee07a"
>[4125ee07a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
sudo_realpath.c -&gt; sudo_goodpath.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2c44508fa"
>[2c44508fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now works correctly with utk parser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd341dbde"
>[fd341dbde]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>goodpath.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=26a5f0d15"
>[26a5f0d15]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
eliminated a compiler warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cc10c0ec0"
>[cc10c0ec0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
elinated compiler warning
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba61aad4a"
>[ba61aad4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
added sudo_goodpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeb609efd"
>[aeb609efd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added prototype for sudo_goodpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5595c3817"
>[5595c3817]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added support for /sys/dir.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=054c9ce3d"
>[054c9ce3d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
USE_REALPATH turned off
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=094d564e6"
>[094d564e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
added calls to sudo_goodpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3ac93caa"
>[c3ac93caa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added check for dirent.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c08ab7544"
>[c08ab7544]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_DIRENT_H
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2906f3e9"
>[c2906f3e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added in linux shadow pass stuff 
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0ef8b2e01"
>[0ef8b2e01]</a></li>
</ul>
</dd>
<dt>1995-03-24  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
added back host, user, cmnd, parse_error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b042113e"
>[5b042113e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added in utk changes plus some minor cosmetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=846f554a4"
>[846f554a4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo_realpath.c:<br>
added void casts for printf&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=37aafbf09"
>[37aafbf09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
added a define of USE_REALPATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7221f7ab"
>[b7221f7ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
there is no more visudoers/Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=359e12ece"
>[359e12ece]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added in utk changes (visudo is now built from the toplevel)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbafc6245"
>[dbafc6245]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
added (void) casts to printf&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35a22d345"
>[35a22d345]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, parse.lex, parse.yacc, sudo.h, sudo_realpath.c:<br>
merged in utk changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34a6197f4"
>[34a6197f4]</a></li>
</ul>
</dd>
<dt>1995-03-23  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
now check to see that what we are trying to run is a file (or a link to
a file, we do a stat(2) so there is no diff)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0759d4809"
>[0759d4809]</a></li>
</ul>
</dd>
<dt>1995-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3600186d6"
>[3600186d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
aclocal.m4 -&gt; acsite.m4 make realclean updated for new autoconf 
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3457aaf0"
>[a3457aaf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added myself as maintainer
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9a79b137"
>[e9a79b137]</a></li>
</ul>
</dd>
<dt>1995-02-17  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
changed setegid -&gt; setgid
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b9f7c72dd"
>[b9f7c72dd]</a></li>
</ul>
</dd>
<dt>1995-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
fixed the test for irix 5.x to skip bad libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bc207b74c"
>[bc207b74c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now initialize OS and OSREV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=312b501f4"
>[312b501f4]</a></li>
</ul>
</dd>
<dt>1995-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
irix5 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34de49432"
>[34de49432]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
AC_WITH -&gt; AC_ARG_WITH changes other misc changes for autoconf 2.1
compatibility
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e70ddc18d"
>[e70ddc18d]</a></li>
</ul>
</dd>
<dt>1995-01-19  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
use YY_NEW_FILE, not yyrestart since OSF flex doesn&rsquo;t do the righ thing
wrt yyrestart (grrrr)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=10b323c36"
>[10b323c36]</a></li>
</ul>
</dd>
<dt>1995-01-16  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
added visudoers/compat.h to DISTFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a2d60685"
>[9a2d60685]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed an echo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f18ca32c"
>[8f18ca32c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added ocmnd declaration adjusted for find_path()&rsquo;s new parameters
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee8a3a440"
>[ee8a3a440]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added ocmnd extern adjusted find_path() prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bcb9b4e1"
>[7bcb9b4e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
cmndcmp() now takes 3 arguments and checks against the qualified as well
as the unqualified pathname. more code that should use cmndcmp() but did
not, now does
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=44fb090c7"
>[44fb090c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>options.h:<br>
added to a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6091806d4"
>[6091806d4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
changed to use new find_path() parameter passing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9116e4558"
>[9116e4558]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
find_path() now takes 2 copyout parameters (one for the qualified
pathname and one for the unqualified pathname). The third parameter may
be NULL.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fa8a93f6"
>[4fa8a93f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no longer munge pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4618404c7"
>[4618404c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
changed <em>PATH</em>* to use <em>SUDO_PATH</em>* (which are defined in config.h) as a
result, pathnames.h does not need to be run through configure and the
user can override the configured values easily.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c790506b"
>[4c790506b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added <em>SUDO_PATH</em>* entries
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf7b8e1c2"
>[bf7b8e1c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
_PATH* -&gt; <em>SUDO_PATH</em>*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c3d48a8b"
>[4c3d48a8b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
updated DISTFILES and HDRS .o&rsquo;s now depend on config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f351747a4"
>[f351747a4]</a></li>
</ul>
</dd>
<dt>1995-01-13  Todd C. Miller</dt>
<dd>
<ul>
<li>compat.h:<br>
removed extraneous #endif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3eace2625"
>[3eace2625]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_PROG_MV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4fbbe1bb5"
>[4fbbe1bb5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added SUDO_PROG_MV added riscos and isc os types took out
-DSHORT_MESSAGE from &ndash;with-csops since it is now the default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1bd5b76a6"
>[1bd5b76a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
move the include of id.h to compat.h now includes options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5318438a0"
>[5318438a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
moved compatibility #defines to compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df46f66f6"
>[df46f66f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
added _PATH_MV
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd5039a32"
>[fd5039a32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
move __P to compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fe8d9202"
>[3fe8d9202]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c, putenv.c:<br>
now includes compat.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7b53ae4a"
>[b7b53ae4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>compat.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2046a4520"
>[2046a4520]</a></li>
</ul>
</dd>
<dt>1995-01-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
pull user-configurable stuff out and put in options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=08207310c"
>[08207310c]</a></li>
</ul>
</dd>
<dt>1995-01-11  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex, parse.yacc, visudo.c:<br>
now includes options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17f8d7469"
>[17f8d7469]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, logging.c, parse.c, sudo_realpath.c,
sudo_setenv.c:<br>
now includes options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=db8b50d82"
>[db8b50d82]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added visudoers/options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3de8088fe"
>[3de8088fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>OPTIONS, options.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c5b5bd9a"
>[4c5b5bd9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added OPTIONS and options.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0435459ce"
>[0435459ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
changed #ifdef&rsquo;s to use LOGGING and SLOG_SYSLOG/SLOG_FILE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4452a2ed"
>[e4452a2ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.h:<br>
changed PASSWORD_TIMEOUT to minutes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=25f7b5cf1"
>[25f7b5cf1]</a></li>
</ul>
</dd>
<dt>1994-12-17  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now only do Editor +line_num if line_num != 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7bd269bd8"
>[7bd269bd8]</a></li>
</ul>
</dd>
<dt>1994-12-16  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now use mv if rename(2) fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d212959c"
>[5d212959c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
added a visudo bug
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9961a7c96"
>[9961a7c96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
expanded comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5096e0ce"
>[b5096e0ce]</a></li>
</ul>
</dd>
<dt>1994-11-12  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
fixed user_is_exempt to return 0 if EXEMPTGROUP is not set
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7806a5c2d"
>[7806a5c2d]</a></li>
</ul>
</dd>
<dt>1994-11-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
added mips &amp; isc support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be3b8f806"
>[be3b8f806]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added support for non-root owned sudoers file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6482c50cb"
>[6482c50cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added exempt group support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f17d6c53c"
>[f17d6c53c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added set_perms() support added SUDOERS_OWNER so can have non-root own
sudoers file added exempt group support added isc support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34abdbe9a"
>[34abdbe9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now copy sudoers to temp file via read/write (not stdio) now chown new
sudoers file to SUDOERS_OWNER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1249fb564"
>[1249fb564]</a></li>
</ul>
</dd>
<dt>1994-11-08  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added skey support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=15c283a95"
>[15c283a95]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
be_* -&gt; setperms()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f271c978"
>[7f271c978]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
fixed typo added set_perms support added skey support added
seteuid()/setegid() emulation for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b434f97f"
>[7b434f97f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
be_* -&gt; setperms() now check to make sure sudoers file is owned by root
nread/write by only root
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8dc58160a"
>[8dc58160a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, parse.c:<br>
be_* -&gt; setperms()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fe8b92ba4"
>[fe8b92ba4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
be_* -&gt; set_perms() added skey support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46d361a44"
>[46d361a44]</a></li>
</ul>
</dd>
<dt>1994-11-06  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2eb3cac51"
>[2eb3cac51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=60c966b07"
>[60c966b07]</a></li>
</ul>
</dd>
<dt>1994-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now sets IFS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efdad527c"
>[efdad527c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368e652de"
>[368e652de]</a></li>
</ul>
</dd>
<dt>1994-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SKEY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34c40cc12"
>[34c40cc12]</a></li>
</ul>
</dd>
<dt>1994-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff7362b42"
>[ff7362b42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=53588e79a"
>[53588e79a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a09ab0b86"
>[a09ab0b86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now bail if ARgv[1] &gt; MAXPATHLEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b069fabe"
>[6b069fabe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added function check for tcgetattr(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92245ab4f"
>[92245ab4f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
only define HAVE_TERMIOS_H if you have tcgetattr(3)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fe0b9672"
>[3fe0b9672]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added check for tcgetattr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=140618362"
>[140618362]</a></li>
</ul>
</dd>
<dt>1994-09-26  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93d600b2c"
>[93d600b2c]</a></li>
</ul>
</dd>
<dt>1994-09-22  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
now only include unistd.h for linux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cbb087974"
>[cbb087974]</a></li>
</ul>
</dd>
<dt>1994-09-21  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
added visudo.8 generation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=881374f18"
>[881374f18]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added -Wl,-bI:./aixcrypt.exp to aix flags
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=482ea91f5"
>[482ea91f5]</a></li>
</ul>
</dd>
<dt>1994-09-20  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e72686577"
>[e72686577]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3b750dd1"
>[e3b750dd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
added mailing list info
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a4c6eb1dd"
>[a4c6eb1dd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
now use sudolineno instead of yylineno fixed bison warnings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=43e8cd4fa"
>[43e8cd4fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now use -no_library_replacement for osf don&rsquo;t make a static binary for
hpux &gt;= 9.0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92b4dea2d"
>[92b4dea2d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added string.h/strings.h inclusion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c91f8bb7"
>[1c91f8bb7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added ssize_t def
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de7ed682d"
>[de7ed682d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added inclusion of string.h/strings.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=000b5d235"
>[000b5d235]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed uname | sed (needed to quote the &lsquo;[&rsquo;)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fa4273a93"
>[fa4273a93]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
replaced yylineno with sudolineno fixed bison syntax errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98e893ece"
>[98e893ece]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
changed yylineno to sudolineno since yylineno cannot be counted upon.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fff477cb8"
>[fff477cb8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e0e9092ca"
>[e0e9092ca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added code to support command listings
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d973cdf2"
>[0d973cdf2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added code for -l flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=410f21dd7"
>[410f21dd7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
fixed typo added info for -l flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7021bdc4e"
>[7021bdc4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
AC_SSIZE_T -&gt; SUDO_SSIZE_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abadb6ec6"
>[abadb6ec6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_SSIZE_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20ff4687"
>[b20ff4687]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added MODE_LIST
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff6056d9"
>[2ff6056d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added AC_SSIZE_T
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=50c517dd5"
>[50c517dd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, sudo_realpath.c:<br>
readlink() is now declared as returning ssize~_t
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c367fa702"
>[c367fa702]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added -laud for OSF c2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=565adde5b"
>[565adde5b]</a></li>
</ul>
</dd>
<dt>1994-09-02  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, visudo.c:<br>
changed sudo-bugs.cs.colorado.edu -&gt; sudo-bugs@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b56bc92e0"
>[b56bc92e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, parse.lex, parse.yacc, pathnames.h.in:<br>
changed sudo-bugs.cs.colorado.edu -&gt; sudo-bugs@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7229829c8"
>[7229829c8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getcwd.c, getwd.c, insults.h, logging.c, parse.c,
putenv.c, strdup.c, sudo.c, sudo.h, sudo_realpath.c, sudo_setenv.c,
tgetpass.c, version.h:<br>
changed sudo-bugs.cs.colorado.edu -&gt; sudo-bugs@cs.colorado.ed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=525954e1b"
>[525954e1b]</a></li>
</ul>
</dd>
<dt>1994-09-01  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5019a29e6"
>[5019a29e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed62683a6"
>[ed62683a6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added host to alertmail messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89d6f4937"
>[89d6f4937]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
udpated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9dd2859b9"
>[9dd2859b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
fixed logging problem where mail would not say which user it was
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad6f7a488"
>[ad6f7a488]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added -laud for gcc if osf &amp; c2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f557e4b2"
>[3f557e4b2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
moved set_auth_parameters to sudo.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3fb4ee3a"
>[e3fb4ee3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added set_auth_parameters for osf
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d04e3eaf"
>[5d04e3eaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
cleaned up -static stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee7f9e145"
>[ee7f9e145]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
++version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71888a611"
>[71888a611]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5341cd3f8"
>[5341cd3f8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
changed setenv() to sudo_setenv()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4c19411fc"
>[4c19411fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
fixed osf problem
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e6e9c18d0"
>[e6e9c18d0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added OSF C2 stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07594fd73"
>[07594fd73]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22d700250"
>[22d700250]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added osf auth support &amp; removed some extra spaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d366d09e6"
>[d366d09e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL, SUPPORTED:<br>
added osf C2 stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22acfc6df"
>[22acfc6df]</a></li>
</ul>
</dd>
<dt>1994-08-31  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
added 2 suggestions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07111800e"
>[07111800e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
removed README.v1.3.1 and added VERSION stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eca586506"
>[eca586506]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
pl1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0368a035b"
>[0368a035b]</a></li>
</ul>
</dd>
<dt>1994-08-30  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
1.3.1final
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7f8aa5d8c"
>[7f8aa5d8c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added HISTORY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e474aef2"
>[3e474aef2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
mention HISTPRY file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6a7d9e2"
>[de6a7d9e2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
use sizeof instead of a constant in 1 place
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=617455453"
>[617455453]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.yacc:<br>
added unistd.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7df10fe2"
>[b7df10fe2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
added unistd.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5de10d25"
>[e5de10d25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
udpated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bdb249e47"
>[bdb249e47]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>HISTORY:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6004a8cd4"
>[6004a8cd4]</a></li>
</ul>
</dd>
<dt>1994-08-17  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd3d369b9"
>[cd3d369b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=02f0a29db"
>[02f0a29db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_setenv.c:<br>
added unistd.h include
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=109d54f91"
>[109d54f91]</a></li>
</ul>
</dd>
<dt>1994-08-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
added sys/time.h for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=23c2416e0"
>[23c2416e0]</a></li>
</ul>
</dd>
<dt>1994-08-15  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added check for -lsocket and sys/sockio.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=79a42a836"
>[79a42a836]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
took out libshadow check and added in sys/sockio.h check
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca9133000"
>[ca9133000]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now include sockio.h instead of ioctl.h if it exists &ldquo;sudo -&rdquo; now gets a
better error message
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98ca6de0d"
>[98ca6de0d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
now has a dir and subnet entry
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=19c13f4fa"
>[19c13f4fa]</a></li>
</ul>
</dd>
<dt>1994-08-13  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
removed if_ether.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51ebc0b2b"
>[51ebc0b2b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
added an item
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8245f195d"
>[8245f195d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added network and ip addresses to man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e047d29e1"
>[e047d29e1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
no error if can&rsquo;t get interfaces or netmask since networking may not be
in the kernel.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20f8b1911"
>[20f8b1911]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
nwo check for interfaces == NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e9114229c"
>[e9114229c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
fixed a bug that caused directory specs in a Cmnd_Alias to fail if the
last entry in the spec failed (ie: it was only looking at the last
entry). CLeaned things up by adding the cmndcmp() function&ndash;all neat &amp;
tidy
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=971a69bb2"
>[971a69bb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3be7c93c"
>[c3be7c93c]</a></li>
</ul>
</dd>
<dt>1994-08-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now do two passes to skip bogus interfaces (lo0, etc)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e337ed50"
>[6e337ed50]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc, visudo.c:<br>
added include of netinet/in.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5a766f63a"
>[5a766f63a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo_realpath.c, sudo_setenv.c:<br>
added ninclude of netinet/in.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=835b10be2"
>[835b10be2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getcwd.c, getwd.c:<br>
added include of netinet/in.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=380be0c4c"
>[380be0c4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=787a7254b"
>[787a7254b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added interfaces global
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b8cc728d9"
>[b8cc728d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
now uses new interfaces global
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b0794bb0"
>[2b0794bb0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now ip addresses are gleaned fw/o dns
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=669ecb8a2"
>[669ecb8a2]</a></li>
</ul>
</dd>
<dt>1994-08-10  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
added load_ip_addrs() to load the ip_addrs global var
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49673e12c"
>[49673e12c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added hostcmp() to compare hostnames, ip addrs, and network addrs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3fa8477a1"
>[3fa8477a1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added ip_addrs def added load_ip_addrs prototype
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2d67de500"
>[2d67de500]</a></li>
</ul>
</dd>
<dt>1994-08-08  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=701f67f7d"
>[701f67f7d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
removed multiple entries in DISTFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c7b944fc9"
>[c7b944fc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
ansified the !STDC_HEADERS decls
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1823b5723"
>[1823b5723]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getcwd.c, getwd.c, putenv.c, strdup.c:<br>
don&rsquo;t do malloc decl if gnuc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aaefd1c3a"
>[aaefd1c3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
can&rsquo;t use getopt(3) since it munges args to the command to be run as
root don&rsquo;t do malloc decl if gnuc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=880ca6406"
>[880ca6406]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getcwd.c, getwd.c, putenv.c, strdup.c, sudo.c,
sudo_realpath.c, sudo_setenv.c:<br>
ansi-fied !STDC_HEADER function prottypes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e54f35e71"
>[e54f35e71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c:<br>
added missing paren
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=72cf5123b"
>[72cf5123b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added putenv.c to DISTFILES
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf91591b6"
>[cf91591b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_setenv.c:<br>
added params to func decls when STDC_HEADERS is not defined now can
count on putenv() being there
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=495749c32"
>[495749c32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
took out errno decl since sudo.h does it for us fixed up a next cc
warning added params to func decls when STDC_HEADERS is not defined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b20e86de9"
>[b20e86de9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
took out environ extern added local declaratio of putenv() if local
version is needed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=65a4afee4"
>[65a4afee4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c, getcwd.c, getwd.c, strdup.c, sudo.c:<br>
added params to func decls when STDC_HEADERS is not defined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=38b6d5f1d"
>[38b6d5f1d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added memcpy check check to see that ansi vs bsd macros are ntot already
defiend before defining (ie: avoid redefinition)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a3bbe79d6"
>[a3bbe79d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
removed fluff setenv check plus check w/ replace for putenv if also no
setenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b1f9bb96"
>[5b1f9bb96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>putenv.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c31749bb5"
>[c31749bb5]</a></li>
</ul>
</dd>
<dt>1994-08-06  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo_setenv.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b82711913"
>[b82711913]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
rm&rsquo;d s realp[ath added sudo_realpath and sudo_setenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d2884395"
>[8d2884395]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now use sudo_setenvc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b0e8546f"
>[7b0e8546f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added puteenv and setenv, removed realpath
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e80ed0c91"
>[e80ed0c91]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added putenv &amp; setenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fb3f695e"
>[9fb3f695e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added sudo_setenv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c07002061"
>[c07002061]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=121d219b8"
>[121d219b8]</a></li>
</ul>
</dd>
<dt>1994-08-05  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added MAN_POSTINSTALL and /usr/share/catman for irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f4bcc6ad"
>[3f4bcc6ad]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added MAN_POSTINSTALL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bb6e73e3a"
>[bb6e73e3a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
added
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=108b01614"
>[108b01614]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added SUDO_* plus new options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=510223269"
>[510223269]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5130df6af"
>[5130df6af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
took out shadow lib
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f4d5e7e7"
>[6f4d5e7e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
adde done
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca19e057f"
>[ca19e057f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now use yyrestart() if flex now reset yylineno to 0
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1ebf256d"
>[a1ebf256d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
support for installing a cat page instead of a man page if no nroff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c87dbc5fd"
>[c87dbc5fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now defines HAVE_FLEX fixed up man stuff so that it looks for nroff to
determine whether or not to install a cat or man page
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9007d32f3"
>[9007d32f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_FLEX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a05e773b6"
>[a05e773b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
not set ret to MODE_RUN initially
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ee50a4661"
>[ee50a4661]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
made command (and therefor cmnd dynamically allocated)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=494d1c116"
>[494d1c116]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
did #8
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5cd5fac2"
>[d5cd5fac2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ace8ac2c0"
>[ace8ac2c0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
changed bufs from MAXPATHLEN to MAXPATHLEN+1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=22fa51dbf"
>[22fa51dbf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added MODE_ removed validate_only and added remove_timestamp()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a6fe8c86a"
>[a6fe8c86a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
usage() now takes an int (exit value) added parse_args() to parse
command line arguments moved call to find_path() from load_globals to
new function load_cmnd() removed validate_only global &ndash; now use the
concept of &ldquo;modes&rdquo; added -h and -k options
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70333883c"
>[70333883c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
no longer use global validate_only now checks for command called
&ldquo;validate&rdquo; removed check for non-fully qualified commands since that is
done by find_path
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a24fdfd08"
>[a24fdfd08]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
changed MAXPATHLEN r to MAXPATHLEN+1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0b185cb71"
>[0b185cb71]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
fixed off by one error with MAXPATHLEN and fixed a comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3353665bb"
>[3353665bb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
check_timestamp no longer runs reminder(), it is implied in the return
val added remove_timestamp()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81cf2c5e6"
>[81cf2c5e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e418bfc74"
>[e418bfc74]</a></li>
</ul>
</dd>
<dt>1994-08-04  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS:<br>
fixed on
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abd71f1a7"
>[abd71f1a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
took out old_errno
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6259b8270"
>[6259b8270]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3f0fd7c8c"
>[3f0fd7c8c]</a></li>
</ul>
</dd>
<dt>1994-08-03  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
moved send_mail to after syslog
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=91970b418"
>[91970b418]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now set SUDO_ envariables
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8161d52f3"
>[8161d52f3]</a></li>
</ul>
</dd>
<dt>1994-08-01  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8fa6ac23"
>[c8fa6ac23]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
now print error if chdir fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35d838c68"
>[35d838c68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
removed an XXX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3c318d8ae"
>[3c318d8ae]</a></li>
</ul>
</dd>
<dt>1994-07-26  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17800e3e9"
>[17800e3e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
no more static binaries for aix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=648570a53"
>[648570a53]</a></li>
</ul>
</dd>
<dt>1994-07-25  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=193f01342"
>[193f01342]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo_realpath.c:<br>
took out stuff not needed for sudo now does be_root/be_user itself now
uses cwd global
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=46a7d9cd5"
>[46a7d9cd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
+=2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=691f31353"
>[691f31353]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c:<br>
be_root/be_user is now down in sudo_realpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2624e7ee7"
>[2624e7ee7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.h:<br>
now works with 4.2BSD syslog (blech)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b70cafbb"
>[7b70cafbb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now use sudo_realpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93230e6c2"
>[93230e6c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
took out realpth() stuff since we now use sudo_realpath()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0230d8474"
>[0230d8474]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
ultrix enhanced sec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=445a13eeb"
>[445a13eeb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
added ultrix enhanced sec.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35ae1ba37"
>[35ae1ba37]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3f2fa99c"
>[c3f2fa99c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
ultrix enhanced security suport
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a61f6992"
>[3a61f6992]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added sudo_realpath.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1f8ffedda"
>[1f8ffedda]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b46f59417"
>[b46f59417]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
increased passwd len to 24 for c2 security
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=adf4060de"
>[adf4060de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>BUGS:<br>
updated BUGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abf8c06cb"
>[abf8c06cb]</a></li>
</ul>
</dd>
<dt>1994-07-15  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
now use user global var
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6f2b5908c"
>[6f2b5908c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
took out -ls
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1850dc59"
>[c1850dc59]</a></li>
</ul>
</dd>
<dt>1994-07-14  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added AFS libs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=18d1aa194"
>[18d1aa194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
user is now a char * added epasswd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5cd28192b"
>[5cd28192b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added tzset() to load_globals added epasswd (encrypted password) global
made user dynamically allocated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e7bf4f9fe"
>[e7bf4f9fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added tzset test
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c61a3f9b7"
>[c61a3f9b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_TZSET
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6da926cb1"
>[6da926cb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
cleaned up encrypted passwd grab somewhat
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5d1d53ddb"
>[5d1d53ddb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed AFS typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df5ff10a2"
>[df5ff10a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added AFS not
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8d3e7540f"
>[8d3e7540f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
udpated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=511ab3ee9"
>[511ab3ee9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
can now log to both syslog &amp; a file
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=be6537192"
>[be6537192]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added BOTH_LOGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c80d59a51"
>[c80d59a51]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1fec608b9"
>[1fec608b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
&ndash;with-AFS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9afc5e8d9"
>[9afc5e8d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_AFS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8ff8e0d7f"
>[8ff8e0d7f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added afs changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b3adbb74b"
>[b3adbb74b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
removed AFS stuff :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de673c3fe"
>[de673c3fe]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
include sys/select for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=88e2af512"
>[88e2af512]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added AFS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=624a46cd1"
>[624a46cd1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de84c4f25"
>[de84c4f25]</a></li>
</ul>
</dd>
<dt>1994-07-07  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES, SUPPORTED:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5c59d2d6"
>[a5c59d2d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
can now have MAILER undefined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3cd23eee"
>[f3cd23eee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
new sub-note about MAILER
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7083436ee"
>[7083436ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added blurb about password timeout
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5fe128aab"
>[5fe128aab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
convex c2 changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8b8127da5"
>[8b8127da5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
took out duplicate define of _CONVEX_SOURCE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0aeec82d"
>[d0aeec82d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added OSDEFS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8a28dbc48"
>[8a28dbc48]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added spaces
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cbabab4e"
>[6cbabab4e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
added a goto if fgets fails
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd4a540c1"
>[cd4a540c1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
use __hpux not hpux convex c2 stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b12703ae"
>[2b12703ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
use __hpux not hpux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0148bcaf6"
>[0148bcaf6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
convex c2 stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=93279eeaf"
>[93279eeaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
define ansi-ish cpp os defines if non-ansi are defined for hpux &amp; convex
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=63bd80e13"
>[63bd80e13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated to say we support sonvex C2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4025b56ea"
>[4025b56ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added convex c2 support
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff2bea694"
>[ff2bea694]</a></li>
</ul>
</dd>
<dt>1994-07-01  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
no more ioctl never returns NULL uses fgets() and select() to timeout
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e94e7218b"
>[e94e7218b]</a></li>
</ul>
</dd>
<dt>1994-06-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
things were testing -n &ldquo;$GCC&rdquo; instead of -z &ldquo;$GCC&rdquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=840b5688d"
>[840b5688d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now works + uses fgets()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85a5899af"
>[85a5899af]</a></li>
</ul>
</dd>
<dt>1994-06-28  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
select doesn&rsquo;t seem to recognize a single &lsquo;\n&rsquo; as input waiting so we
can;t use it, sigh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=391a73f40"
>[391a73f40]</a></li>
</ul>
</dd>
<dt>1994-06-26  Todd C. Miller</dt>
<dd>
<ul>
<li>PORTING:<br>
updated tgetpass() blurb
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a541ff80b"
>[a541ff80b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added &ndash;with-getpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a16b59c88"
>[a16b59c88]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added tgetpass stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=90b6768a8"
>[90b6768a8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now uses stdio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=605250d9a"
>[605250d9a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
++
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e68f2351"
>[0e68f2351]</a></li>
</ul>
</dd>
<dt>1994-06-24  Todd C. Miller</dt>
<dd>
<ul>
<li>PORTING:<br>
updated ,.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5f597efb1"
>[5f597efb1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added USE_GETPASS &amp;&amp; HAVE_C2_SECURITY
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7d1ae533"
>[f7d1ae533]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
fixed a test aded &ndash;with-C2 and &ndash;with-tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56bcd39a2"
>[56bcd39a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added hpux C2 shit
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8680c1962"
>[8680c1962]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
took out tgetpass.*
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=94cf91194"
>[94cf91194]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added C2 blurb
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=efb9ac3e8"
>[efb9ac3e8]</a></li>
</ul>
</dd>
<dt>1994-06-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
no termio(s) for ultrix since it is broken
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e3502816"
>[0e3502816]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added a space (yeah, anal)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32e385dbc"
>[32e385dbc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
fixed it (duh, rtfm)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a534a9688"
>[a534a9688]</a></li>
</ul>
</dd>
<dt>1994-06-08  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
took out bsd signal stuff for irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ba0fa8127"
>[ba0fa8127]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
comments in #endif
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=213000626"
>[213000626]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
don&rsquo;t define BSD signals for irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9952fbbd8"
>[9952fbbd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
did some&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c783c5800"
>[c783c5800]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9a62cffff"
>[9a62cffff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
took out unneeded code by changing where a strings was terminated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1970f75b4"
>[1970f75b4]</a></li>
</ul>
</dd>
<dt>1994-06-07  Todd C. Miller</dt>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
fix bug where /dirname would return NULL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d8013e48b"
>[d8013e48b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
move __P to config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c2c72c6e7"
>[c2c72c6e7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c, realpath.c, sudo_realpath.c:<br>
added errno definition
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e85433e9"
>[9e85433e9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added __P
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dce131798"
>[dce131798]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_FCHDIR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=678b9c6bc"
>[678b9c6bc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strdup.c:<br>
now include stdio
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d717b6dd5"
>[d717b6dd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
now works if no fchdir
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56e09c3b7"
>[56e09c3b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
define SA_RESETHAND to null if not defined
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a0944afd8"
>[a0944afd8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added check &amp; replace
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e2ffd1432"
>[e2ffd1432]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
took out -static for nextstep &ndash; it doesn&rsquo;t work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ba319bd5"
>[7ba319bd5]</a></li>
</ul>
</dd>
<dt>1994-06-06  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
moved #endif to where it belongs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e066e7b2f"
>[e066e7b2f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
correction
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0e7f77f8e"
>[0e7f77f8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
now checks for strdup realpath getcwd bzero
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b21fe972a"
>[b21fe972a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
emulate bzero
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=807274756"
>[807274756]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added posic signals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b1d57caa6"
>[b1d57caa6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
bzero cast
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=289e1ea1f"
>[289e1ea1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
added posix signals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=369cf760d"
>[369cf760d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
removed BROKEN_GETPASS added new srcs toreplace missing functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2a4f4ad7"
>[f2a4f4ad7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added posix signal stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=54c4fdf46"
>[54c4fdf46]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added new srcs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e97a32e6f"
>[e97a32e6f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
updated useag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fe50ceef"
>[9fe50ceef]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
now uses posix signals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=49b131a7e"
>[49b131a7e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
updated sto reflect major changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=473acb842"
>[473acb842]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=662727816"
>[662727816]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
uses sysconf() if available
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=14ea471ac"
>[14ea471ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added PASSWORD_TIMEOUT + prototypes for new functions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c49ded5fd"
>[c49ded5fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
for those w/o this in libc
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ff87dea0"
>[2ff87dea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getcwd.c, getwd.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1460112ba"
>[1460112ba]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
rewrote to use realpath(3) - nis now all my code
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bcdde9854"
>[bcdde9854]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_REALPATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d5573c8fa"
>[d5573c8fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now use tgetpass
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ccc790967"
>[ccc790967]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added LIBOBJS use tgetpass.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=42335fe01"
>[42335fe01]</a></li>
</ul>
</dd>
<dt>1994-06-05  Todd C. Miller</dt>
<dd>
<ul>
<li>tgetpass.c:<br>
works now :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a0dee3e6"
>[7a0dee3e6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>tgetpass.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7c8d0ba74"
>[7c8d0ba74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
added /dev/tty
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1cbcc7d1f"
>[1cbcc7d1f]</a></li>
</ul>
</dd>
<dt>1994-06-04  Todd C. Miller</dt>
<dd>
<ul>
<li>version.h:<br>
incremented
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b5ff63bb4"
>[b5ff63bb4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
always use getcwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a5c4f697d"
>[a5c4f697d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added check for getwd
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d658bd71a"
>[d658bd71a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
replace strdup &amp; realpath &amp; getcwd if missing
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e09ec9e8"
>[4e09ec9e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>pathnames.h.in:<br>
added _PATH_PWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96227ea99"
>[96227ea99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added SUDO_PROG_PWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=84e75c6ee"
>[84e75c6ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>strdup.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aa3f3f2b6"
>[aa3f3f2b6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>realpath.c, sudo_realpath.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6b8659a55"
>[6b8659a55]</a></li>
</ul>
</dd>
<dt>1994-06-03  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
quoted quare brackets
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4eb6ab0b4"
>[4eb6ab0b4]</a></li>
</ul>
</dd>
<dt>1994-06-02  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
no need to strdup() a constant
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9e79c34b9"
>[9e79c34b9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b46f7ee32"
>[b46f7ee32]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added validate
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c0c9196c5"
>[c0c9196c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added -v to usage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48b8a66dc"
>[48b8a66dc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c, sudo.c, sudo.h:<br>
added validate_only stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=71cba1559"
>[71cba1559]</a></li>
</ul>
</dd>
<dt>1994-05-30  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now finds sed
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b32c8249b"
>[b32c8249b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
$OSREV is now an int
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9f8f955af"
>[9f8f955af]</a></li>
</ul>
</dd>
<dt>1994-05-29  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
added mtxinu to caser
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=418f2c1b1"
>[418f2c1b1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added EXEC macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3021f03c"
>[e3021f03c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now use the EXEC nmacro now only do a gethostbyname() if FQDN is set
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a298a5dc4"
>[a298a5dc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
changed mail_argv[] def now use EXEC() macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e8d543af"
>[7e8d543af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
took out crypt() definition
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=82eebb817"
>[82eebb817]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
upped the version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=182569994"
>[182569994]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
always look for -lnsl
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=577b056eb"
>[577b056eb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added an echo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6224b05a7"
>[6224b05a7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
SHORT_MESSAGE is now the default
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6767aaea0"
>[6767aaea0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bada3e70e"
>[bada3e70e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
added missing AC_DEFINE(SVR4) for solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2aef79a8d"
>[2aef79a8d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
documented the -v flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d194e3be5"
>[d194e3be5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d430425c5"
>[d430425c5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
proto-ized crypt()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4cb06ad6e"
>[4cb06ad6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added LIBSHADOW undef
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3288ffb0c"
>[3288ffb0c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
nwo set OS to be lowercase
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4e2dcf6da"
>[4e2dcf6da]</a></li>
</ul>
</dd>
<dt>1994-05-28  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now use SUDO_OSTYPE to set $OS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=97610ce1a"
>[97610ce1a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now use uname to determine os
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2660e4eca"
>[2660e4eca]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added prototypes &amp; moved sig handler around
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d1600cf9"
>[3d1600cf9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added prototyppes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c38d9bb31"
>[c38d9bb31]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c, sudo.c:<br>
added prototypes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ebae58f1e"
>[ebae58f1e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
added comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aab695bfc"
>[aab695bfc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
nwo use _BSD_SIGNALS not _BSD_COMPAT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ad59c55a"
>[1ad59c55a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aixcrypt.exp:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca172a787"
>[ca172a787]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added aixcrypt.exp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ef0a3ea3f"
>[ef0a3ea3f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
moved config.h to top of includes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e24868395"
>[e24868395]</a></li>
</ul>
</dd>
<dt>1994-05-25  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
now don&rsquo;t bitch if get EACCESS (treat like EPERM)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c1d9e44e5"
>[c1d9e44e5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added -v flag and usage()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6e7d42f3e"
>[6e7d42f3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
fixed a typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51ae4df13"
>[51ae4df13]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
cast Argv to a const for exec added -v flag
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=48f3cb673"
>[48f3cb673]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
mail_argv is now a const
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbe2a6eaf"
>[dbe2a6eaf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
only set RETSIGTYPE if it is not set already
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=30eac2b98"
>[30eac2b98]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now defines &amp; STDC_HEADERS for Irix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07cc73c86"
>[07cc73c86]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added version.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c18eee72f"
>[c18eee72f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h, sudo.h:<br>
prevent multiple inclusion
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=76d8f8314"
>[76d8f8314]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>version.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ad8ed74a"
>[5ad8ed74a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
now includes config.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d84455362"
>[d84455362]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now talks about sunos 4.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=85cb36bf0"
>[85cb36bf0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
calls to Exit now pass an arg
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c8dd0685a"
>[c8dd0685a]</a></li>
</ul>
</dd>
<dt>1994-05-24  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
signal handler now takes an int argument
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cd34949b7"
>[cd34949b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=77bafb149"
>[77bafb149]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
ok, the getcwd() is now <em>really</em> done as the user
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0d0f47007"
>[0d0f47007]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
changed AIX STATIC_FLAGS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e1b0835d1"
>[e1b0835d1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
solaris now defines SVR4
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bd6ad42ff"
>[bd6ad42ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added cwd and fixed stupid core dump that makes no sense. sigh.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e67d74fd5"
>[e67d74fd5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
moved getcwd stuff into load_globals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3e94c6f25"
>[3e94c6f25]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.c:<br>
took out externs that are in suod.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3b297e037"
>[3b297e037]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
moved cwd into load_globals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0745d6014"
>[0745d6014]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
moved cwd stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f12f25204"
>[f12f25204]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
fixed make distclean &amp; realclean
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eba71ad92"
>[eba71ad92]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated .,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=155ee3a3c"
>[155ee3a3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
added solaris changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ae8e3920f"
>[ae8e3920f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
added solaris changes, need to rework
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70bf2e06d"
>[70bf2e06d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
cleaned up for solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78d689a68"
>[78d689a68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
reinstall reapchild signal handler for non-bsd signals
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f1dd6045c"
>[f1dd6045c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
took out getdtablesize() emulation for HP-UX (no longer needed)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=813b5043d"
>[813b5043d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
support for HAVE_SYSCONF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=92c371d0f"
>[92c371d0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added &lt;fcntl.h&gt; for solaris &amp; reorg&rsquo;d the includes + minor prettying
up /
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5bfa3716"
>[e5bfa3716]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
added HAVE_SYSCONF
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b31df9d64"
>[b31df9d64]</a></li>
</ul>
</dd>
<dt>1994-05-16  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now tells you what os you are running /.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e9f8b3fa"
>[5e9f8b3fa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
took out extra &lsquo;,&rsquo;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b6f0ae579"
>[b6f0ae579]</a></li>
</ul>
</dd>
<dt>1994-05-14  Todd C. Miller</dt>
<dd>
<ul>
<li>config.h.in:<br>
added _BSD_COMPAT
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3cd67d4c"
>[f3cd67d4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
fixed for irix5
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=368f8ff12"
>[368f8ff12]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=706d34d6e"
>[706d34d6e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
uid seinitialized to -2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eba166035"
>[eba166035]</a></li>
</ul>
</dd>
<dt>1994-04-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
now removes LIBPATH for AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4624211f8"
>[4624211f8]</a></li>
</ul>
</dd>
<dt>1994-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>configure.in:<br>
now uses ufc if it finds it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d344d9926"
>[d344d9926]</a></li>
</ul>
</dd>
<dt>1994-03-12  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
no longer define yyval &amp; yylval since yacc does it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9c8379f84"
>[9c8379f84]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now defines yylval as extenr
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3420a8138"
>[3420a8138]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>configure.in:<br>
BROKEN_GETPASS is now an OPTION
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4c691030"
>[b4c691030]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
took out BROKEN_GETPASS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bf67223ed"
>[bf67223ed]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
took out big comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a7554759f"
>[a7554759f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=963ff0128"
>[963ff0128]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
took out README.beta
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d068ff5c4"
>[d068ff5c4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>SUPPORTED:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a510313f5"
>[a510313f5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
now reference SUPPORTED .,
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=125035689"
>[125035689]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in:<br>
now check for convex OR <strong>convex</strong>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7b8a8ca5c"
>[7b8a8ca5c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
now check for convex or <strong>convex</strong>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=bccde2f1f"
>[bccde2f1f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added dist target
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c65bf9a27"
>[c65bf9a27]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
use <strong>convex</strong>
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7545c3f56"
>[7545c3f56]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now use <em>S</em>* stat stuff to be ansi-like
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e4488ba02"
>[e4488ba02]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated for configure directions
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=34e610346"
>[34e610346]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
distclean now removes config.h and pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ac5d3ccc9"
>[ac5d3ccc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=00059fed6"
>[00059fed6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
fixed typoe
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=20fb526ac"
>[20fb526ac]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af68170f3"
>[af68170f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
updated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c452eabc8"
>[c452eabc8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, pathnames.h.in:<br>
added copyright header
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=008cfb1be"
>[008cfb1be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, insults.h, logging.c, parse.c, parse.lex,
parse.yacc, sudo.c, sudo.h:<br>
udpated version
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6a83afd8e"
>[6a83afd8e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
udpated to use configure + pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6474d6e68"
>[6474d6e68]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>aclocal.m4:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2660677a"
>[f2660677a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in, config.h.in, configure.in:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f654f0657"
>[f654f0657]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
now works with configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e5bcdc915"
>[e5bcdc915]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getpass.c, logging.c, parse.c, sudo.c:<br>
updated to work with configure + pathnames.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1ed1db9cf"
>[1ed1db9cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>Makefile.in:<br>
added LEXLIB
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51e373397"
>[51e373397]</a></li>
</ul>
</dd>
<dt>1994-03-10  Todd C. Miller</dt>
<dd>
<ul>
<li>COPYING:<br>
updated gnu general licence to versio 2
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=01d0c73ab"
>[01d0c73ab]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>config.h.in, pathnames.h.in:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=af9a2fcb3"
>[af9a2fcb3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
changed to work with configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3ea5d9311"
>[3ea5d9311]</a></li>
</ul>
</dd>
<dt>1994-03-09  Todd C. Miller</dt>
<dd>
<ul>
<li>Makefile.in, aclocal.m4, configure.in:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e37e623c2"
>[e37e623c2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now uses defines used by configure
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51b6a4954"
>[51b6a4954]</a></li>
</ul>
</dd>
<dt>1994-03-01  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
sudo won&rsquo;t bitch about EPERM now, for real
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e17904708"
>[e17904708]</a></li>
</ul>
</dd>
<dt>1994-02-28  Todd C. Miller</dt>
<dd>
<ul>
<li>logging.c:<br>
renamed exec_argv to eliminate a libc name clash with ksros
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e28f02938"
>[e28f02938]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
corrected
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4f004574c"
>[4f004574c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c, sudo.c, sudo.h:<br>
execve -&gt; execv
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eea6d47b7"
>[eea6d47b7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
upated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=beaf4c0f3"
>[beaf4c0f3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
added 2 mroe items
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d206d1afb"
>[d206d1afb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=562d12b66"
>[562d12b66]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added UMASK and mode_t declaration
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=708d387ce"
>[708d387ce]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
added UMASK
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f96b43c29"
>[f96b43c29]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now opens log file with mode 077
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=75e0a9c4a"
>[75e0a9c4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
saved current umask ans restores it
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35bc172d3"
>[35bc172d3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added MAXLOGFILELEN
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33f8a9573"
>[33f8a9573]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
split long log lines. FOr syslog, split into multiple entries, for a log
file, indent the extra for readability
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=17fa431e5"
>[17fa431e5]</a></li>
</ul>
</dd>
<dt>1994-02-27  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
added changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3563a655e"
>[3563a655e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
MAXLOGLEN &amp; MAXSYSLOGLEN are now different (as they should be)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=aeaf49a05"
>[aeaf49a05]</a></li>
</ul>
</dd>
<dt>1994-02-25  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
added input from Brett M Hogden &lt;hogden@&hellip;&gt;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=dbebfacdc"
>[dbebfacdc]</a></li>
</ul>
</dd>
<dt>1994-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
added rmenv() to remove stuff from environ. can now uses execvp() OR
execve() becuase of this.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f767453fd"
>[f767453fd]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now uses execvp() OR execve()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d2bed77ff"
>[d2bed77ff]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added USE_EXECVE
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d0621cb55"
>[d0621cb55]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added environ
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8f341c382"
>[8f341c382]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now ignore EPERM
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5bbf149cb"
>[5bbf149cb]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
moved some func decls out of sudo.h and into sudo.c as statics /.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a2f434a5b"
>[a2f434a5b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=df71654d9"
>[df71654d9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
took out Envp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e7f273f7"
>[7e7f273f7]</a></li>
</ul>
</dd>
<dt>1994-02-14  Todd C. Miller</dt>
<dd>
<ul>
<li>BUGS:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ad0c60041"
>[ad0c60041]</a></li>
</ul>
</dd>
<dt>1994-02-10  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
added SECURE_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=283f726be"
>[283f726be]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
added SECURE_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=de6ad83ae"
>[de6ad83ae]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added SECURE_PATH
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=80d7989b0"
>[80d7989b0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added sample.sudoers note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f2f8b0fe9"
>[f2f8b0fe9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudoers:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=98b29f37f"
>[98b29f37f]</a></li>
</ul>
</dd>
<dt>1994-02-09  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
fixed typo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3763dbc9"
>[e3763dbc9]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
took out SAVED_UID garbage
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c06006ed3"
>[c06006ed3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
mentioned HAL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=abf158a3e"
>[abf158a3e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added HAL line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b82432a5"
>[4b82432a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
added HAL insults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=03d3b4729"
>[03d3b4729]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3146d8b65"
>[3146d8b65]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
more verbose error if mailer not found
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=828bb5cec"
>[828bb5cec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now do getpwent as root for soem shadow password systems (bsdi)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2062d2e45"
>[2062d2e45]</a></li>
</ul>
</dd>
<dt>1994-02-08  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
took out SAVED_UID garbade
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=32880e3db"
>[32880e3db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
took out SAVED_UID garbage since it don&rsquo;t work
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e52637f9a"
>[e52637f9a]</a></li>
</ul>
</dd>
<dt>1994-02-06  Todd C. Miller</dt>
<dd>
<ul>
<li>README:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6cebcce04"
>[6cebcce04]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
added a missing space :-)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4379df16e"
>[4379df16e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c, sudo.h:<br>
took out multimax cruft
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4928e8b99"
>[4928e8b99]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
minor update
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4113d0697"
>[4113d0697]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
finished
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4b6e7e4a5"
>[4b6e7e4a5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed a typo + indentation
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=273de6003"
>[273de6003]</a></li>
</ul>
</dd>
<dt>1994-02-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
took outumoved some defines to the config file ,. ,.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e44792a09"
>[e44792a09]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>PORTING:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=39e421221"
>[39e421221]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
did #6
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=33361a227"
>[33361a227]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added HAS_SAVED_UID
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=894a7bd0f"
>[894a7bd0f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
put back AIX cruft
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d7ae0eb2"
>[4d7ae0eb2]</a></li>
</ul>
</dd>
<dt>1994-02-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
aix changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9195775b9"
>[9195775b9]</a></li>
</ul>
</dd>
<dt>1994-02-02  Todd C. Miller</dt>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7de8d09af"
>[7de8d09af]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c, parse.c, sudo.c, sudo.h:<br>
now is only root when abs necesary
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=641911504"
>[641911504]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added missing %s\n
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=188c9c743"
>[188c9c743]</a></li>
</ul>
</dd>
<dt>1994-01-31  Todd C. Miller</dt>
<dd>
<ul>
<li>install-sh:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=24ab11e96"
>[24ab11e96]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=6085563fc"
>[6085563fc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
updated
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b949042de"
>[b949042de]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now removed <em>RLD</em>* for alphas
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b4638d455"
>[b4638d455]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
updated for new config scheme
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d091a46f4"
>[d091a46f4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
more verbose eror messages
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a96a43a5"
>[7a96a43a5]</a></li>
</ul>
</dd>
<dt>1994-01-27  Todd C. Miller</dt>
<dd>
<ul>
<li>TODO:<br>
now have solaris
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=814b02fb2"
>[814b02fb2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
define <strong>svr4</strong> for SOLARIS
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=827968466"
>[827968466]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
added svr4 junk for shadow pws for solaris 2.x
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a58183855"
>[a58183855]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c:<br>
took out setuid(0) and setreuid(udi) garbage. Its not needed since we
start out setuid with the correct perms.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fe518466"
>[9fe518466]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, sudo.c, sudo.h:<br>
now use setreuid()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5b566c24c"
>[5b566c24c]</a></li>
</ul>
</dd>
<dt>1994-01-26  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man:<br>
revised AUTHORS secrtion &amp; added ENV_EDITOR stuff to VARIABLES sectoin
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40b281b90"
>[40b281b90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now uses ENV_EDITOR if you want to use the EDITOR envar
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=40013231b"
>[40013231b]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
now uses ENV_EDITOR if you want to use the EDITOR envar &gt;&gt; .
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=706098107"
>[706098107]</a></li>
</ul>
</dd>
<dt>1993-12-07  Todd C. Miller</dt>
<dd>
<ul>
<li>INSTALL:<br>
rewrote most of this
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4efc55f5d"
>[4efc55f5d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>README:<br>
minor update + spell fix
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ed2ad1b1c"
>[ed2ad1b1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added all options that are in the Makefile
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=89db72019"
>[89db72019]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getpass.c:<br>
now use USE_TERMIO #define for sgi &amp; hpux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e3344ec4c"
>[e3344ec4c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
todo: posix sigs
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=253d2da1c"
>[253d2da1c]</a></li>
</ul>
</dd>
<dt>1993-12-06  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c, find_path.c:<br>
always include strings.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0535ec788"
>[0535ec788]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added STATICEDITOR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5dfa832ea"
>[5dfa832ea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
sgi has vi in /usr/bin too
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b114ace5f"
>[b114ace5f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added VISUAL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ab7a9d7f7"
>[ab7a9d7f7]</a></li>
</ul>
</dd>
<dt>1993-12-03  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
sue /usr/bin/vi on some systems
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=78a90c446"
>[78a90c446]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
fixed warning (include strings.h)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3424e2f97"
>[3424e2f97]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added John_Rouillard@&hellip;&rsquo;s changes (new features)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=606f03842"
>[606f03842]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
changes from John_Rouillard@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7a05f1558"
>[7a05f1558]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
added EDITOR envar
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=07f4067d5"
>[07f4067d5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, parse.c, sudo.c:<br>
added patches from John_Rouillard directory spec uses EDITOR
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=62ea70cb3"
>[62ea70cb3]</a></li>
</ul>
</dd>
<dt>1993-12-02  Todd C. Miller</dt>
<dd>
<ul>
<li>getpass.c:<br>
added flush for hpux
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=da4e410e9"
>[da4e410e9]</a></li>
</ul>
</dd>
<dt>1993-11-30  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
no longer assume malloc returns a char *
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=70ba02c3c"
>[70ba02c3c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
alpha change to remove LD_-like thing fixed SHLIB_PATH stuff &ndash; now gets
removed correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d4eee981f"
>[d4eee981f]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added STD_HEADERS macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f3b1d00d6"
>[f3b1d00d6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now uses STD_HEADERS macor for ansi
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=68154bdc5"
>[68154bdc5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now uses STD_HEADERS macro
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=73c468246"
>[73c468246]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
niceties for C compiler bitches &ndash; no real change
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5e14daa52"
>[5e14daa52]</a></li>
</ul>
</dd>
<dt>1993-11-29  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
now doesn&rsquo;t fclose a file never opened.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=286917fb5"
>[286917fb5]</a></li>
</ul>
</dd>
<dt>1993-11-28  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.man:<br>
added visudo line
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=064283569"
>[064283569]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
added error stuff added me in there&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=448b927f6"
>[448b927f6]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES:<br>
noted insults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=529f842ee"
>[529f842ee]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added blurb about reading stuff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=83ce5a74d"
>[83ce5a74d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added insults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=56892786c"
>[56892786c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
corrected somments and removed newlines
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3feddde4"
>[c3feddde4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
now uses insults
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e52f0a1c3"
>[e52f0a1c3]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>insults.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=993d2e092"
>[993d2e092]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>INSTALL:<br>
added dec syslog note
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=cf4788078"
>[cf4788078]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sample.sudoers:<br>
added real stuff in there
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7ec19af90"
>[7ec19af90]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
added a todo
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2b19d60cf"
>[2b19d60cf]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>TODO:<br>
added one
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d6e95525a"
>[d6e95525a]</a></li>
</ul>
</dd>
<dt>1993-11-27  Todd C. Miller</dt>
<dd>
<ul>
<li>sample.sudoers:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9fc2328aa"
>[9fc2328aa]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
updated with changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e33d32a0"
>[7e33d32a0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.man:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e95e88318"
>[e95e88318]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>indent.pro:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2e99de877"
>[2e99de877]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>CHANGES, COPYING, INSTALL, README, TODO:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=7e5f99455"
>[7e5f99455]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
updated version number and took out jeff&rsquo;s old addr since it is no good
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=971d4b609"
>[971d4b609]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, logging.c, parse.c, parse.lex, parse.yacc, sudo.c,
sudo.h:<br>
updated version number and took out jeff&rsquo;s email (since it is invalid)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=594284b22"
>[594284b22]</a></li>
</ul>
</dd>
<dt>1993-10-28  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
added fflush()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b736fa27f"
>[b736fa27f]</a></li>
</ul>
</dd>
<dt>1993-10-23  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
now return NULL instead pfof exiting for nopnn-fatal errors
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9ad66eb1a"
>[9ad66eb1a]</a></li>
</ul>
</dd>
<dt>1993-10-21  Todd C. Miller</dt>
<dd>
<ul>
<li>check.c:<br>
new banner
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ea9cc34c7"
>[ea9cc34c7]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now sudo.h gets included first
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3840f015d"
>[3840f015d]</a></li>
</ul>
</dd>
<dt>1993-10-18  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.lex:<br>
now can use flex
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=59d3ab1ec"
>[59d3ab1ec]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
linux patch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=8282217cc"
>[8282217cc]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
hpux 9 fix, removes SHLIB_PATH linux patch
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5c4b258d2"
>[5c4b258d2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c:<br>
linux diff
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c9af5ccf7"
>[c9af5ccf7]</a></li>
</ul>
</dd>
<dt>1993-10-15  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
stat now ignores EINVAL
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ca882aafc"
>[ca882aafc]</a></li>
</ul>
</dd>
<dt>1993-10-06  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c, sudo.c:<br>
now declare strdup as extern
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=11dfd7ef4"
>[11dfd7ef4]</a></li>
</ul>
</dd>
<dt>1993-10-04  Todd C. Miller</dt>
<dd>
<ul>
<li>visudo.c:<br>
reformatted with indent + by hand
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f7abfbf81"
>[f7abfbf81]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, find_path.c, getpass.c, logging.c, parse.c, sudo.c, sudo.h:<br>
used indent to &ldquo;fix&rdquo; coding style
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=e75a6d3b5"
>[e75a6d3b5]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now checks &lsquo;.&rsquo; or &lsquo;.&rsquo; or &rsquo;&rsquo; in PATH &ndash; but does it LAST should maybe
move the code that does this into the loop body. makes it messier tho.
hmmm.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=847ce91e0"
>[847ce91e0]</a></li>
</ul>
</dd>
<dt>1993-09-08  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
redid the fix for non-executable files in an easier to read way plus
some minor aethetic changes
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=2ddeba57e"
>[2ddeba57e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
fixed bug with non-executable tings of same name in path introduced by
checkig errno after stat(2).
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fde49b4c7"
>[fde49b4c7]</a></li>
</ul>
</dd>
<dt>1993-09-05  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
fixed off by one error
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=5ae9d330e"
>[5ae9d330e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now handles decending below &lsquo;/&rsquo; correctly
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=c3636ccc4"
>[c3636ccc4]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now actually builds Envp instead of munging envp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f00b6795c"
>[f00b6795c]</a></li>
</ul>
</dd>
<dt>1993-09-04  Todd C. Miller</dt>
<dd>
<ul>
<li>parse.yacc:<br>
now includes sys/param.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=1c2d27eea"
>[1c2d27eea]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
now includes sys/param.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3151ffe1c"
>[3151ffe1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
fixed ifndef -&gt; ifdef
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4ccc94fc1"
>[4ccc94fc1]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>qualify.c:<br>
make more like find_path.c
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3d8cc2e42"
>[3d8cc2e42]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
rewritten by millert
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=81d0c1f6d"
>[81d0c1f6d]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
fixed MAXCOMMANDLENGTH now uses USE_CWD and NEED_STRDUP added info about
new defines in the comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=f530705e0"
>[f530705e0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now uses USE_CWD
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d555cdb52"
>[d555cdb52]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.h:<br>
added delc for clean_envp() and Envp
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=35ea44396"
>[35ea44396]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now rips LD_* env vars out of envp and passed sanitized Envp to exec
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=d7391584e"
>[d7391584e]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>logging.c:<br>
now uses execve()
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=4d48690a2"
>[4d48690a2]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
ENOTDIR is ok now too (in case part of the path is bogus)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=51deb28db"
>[51deb28db]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>qualify.c:<br>
now works correctly (ttaltotal rewrite)
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=223b37b14"
>[223b37b14]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex:<br>
now includes sys/param.h didn&rsquo;t match trailing / &ndash; fix from rouilj@&hellip;
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=696122957"
>[696122957]</a></li>
</ul>
</dd>
<dt>1993-06-11  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
moved around the #ifndef _AIX
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=3a96124e8"
>[3a96124e8]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>check.c, logging.c, parse.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=958ee39a6"
>[958ee39a6]</a></li>
</ul>
</dd>
<dt>1993-03-20  Todd C. Miller</dt>
<dd>
<ul>
<li>qualify.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=fd93ea8d4"
>[fd93ea8d4]</a></li>
</ul>
</dd>
<dt>1993-03-13  Todd C. Miller</dt>
<dd>
<ul>
<li>find_path.c:<br>
now works if you do sudo bin/test
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=065775e4a"
>[065775e4a]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
works
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=ff04cc5e1"
>[ff04cc5e1]</a></li>
</ul>
</dd>
<dt>1993-03-02  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.h:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=799707635"
>[799707635]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>visudo.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=9706aa636"
>[9706aa636]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>parse.lex, parse.yacc:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=a1fcf10b6"
>[a1fcf10b6]</a></li>
</ul>
</dd>
<dt>1993-02-16  Todd C. Miller</dt>
<dd>
<ul>
<li>sudo.c:<br>
took out errno.h
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b7d12de74"
>[b7d12de74]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
now spews error if exec fails and exits with -1
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=852d93715"
>[852d93715]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>sudo.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=eca93e1da"
>[eca93e1da]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
now only execs files with (an) executable bit set.
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=96a16b626"
>[96a16b626]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>find_path.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=0a8420d1a"
>[0a8420d1a]</a></li>
</ul>
</dd>
<dt>1993-02-15  Todd C. Miller</dt>
<dd>
<ul>
<li>getpass.c:<br>
added nice comment
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=463350e1c"
>[463350e1c]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getpass.c:<br>
now works on sgi&rsquo;s
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=31f6f67f0"
>[31f6f67f0]</a></li>
</ul>
</dd>
<dd>
<ul>
<li>getpass.c:<br>
Initial revision
<a
  class="gdoc-markdown__link"
  href="https://git.sudo.ws/sudo/commit/?id=b2abb3f5c"
>[b2abb3f5c]</a></li>
</ul>
</dd>
</dl>
</div>


  </article>



          <div class="gdoc-page__footer flex flex-wrap justify-between">
            








  
  

  







          </div>
        </div>
      </main>

      

    </div>

    
  <script defer src="/js/search-835dce8f.bundle.min.js"></script>

  </body>
</html>
