<!doctype html><html lang=en><meta charset=utf-8><title>Implementing and shipping JavaScript/WebAssembly language features · V8</title><meta content="width=device-width" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/favicon.png rel=icon sizes=48x48><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=" js"</script><meta content="This document explains the process for implementing and shipping JavaScript or WebAssembly language features in V8." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>Show navigation</a><nav><ul><li><a href=/ >Home</a><li><a href=/blog>Blog</a><li class=current><a href=/docs>Docs</a><li><a href=/tools>Tools</a><li><a href=/features title="JavaScript and WebAssembly language features">JS/Wasm features</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><h1>Implementing and shipping JavaScript/WebAssembly language features</h1><p>In general, V8 follows the <a href=https://www.chromium.org/blink/launching-features/#process-existing-standard>Blink Intent process for already-defined consensus-based standards</a> for JavaScript and WebAssembly language features. V8-specific errata are laid out below. Please follow the Blink Intent process, unless the errata tells you otherwise.<p>If you have any questions on this topic for JavaScript features, please email syg@chromium.org and v8-dev@googlegroups.com.<p>For WebAssembly features, please email gdeepti@chromium.org and v8-dev@googlegroups.com.<h2 id=errata tabindex=-1>Errata <a href=#errata class=bookmark>#</a></h2><h3 id=stage3plus tabindex=-1>JavaScript features usually wait until Stage 3+ <a href=#stage3plus class=bookmark>#</a></h3><p>As a rule of thumb, V8 waits to implement JavaScript feature proposals until they advance to <a href=https://tc39.es/process-document/ >Stage 3 or later in TC39</a>. TC39 has its own consensus process, and Stage 3 or later signals explicit consensus among TC39 delegates, including all browser vendors, that a feature proposal is ready to implement. This external consensus process means Stage 3+ features do not need to send Intent emails other than Intent to Ship.<h3 id=tag tabindex=-1>TAG review <a href=#tag class=bookmark>#</a></h3><p>For smaller JavaScript or WebAssembly features, a TAG review is not required, as TC39 and the Wasm CG already provide significant technical oversight. If the feature is large or cross-cutting (e.g., requires changes to other Web Platform APIs or modifications to Chromium), TAG review is recommended.<h3 id=flags tabindex=-1>Both V8 and blink flags are required <a href=#flags class=bookmark>#</a></h3><p>When implementing a feature, both a V8 flag and a blink <code>base::Feature</code> are required.<p>Blink features are required so that Chrome can turn off features without distributing new binaries in emergency situations. This is usually implemented in <a href=https://source.chromium.org/chromium/chromium/src/+/main:gin/gin_features.h><code>gin/gin_features.h</code></a>, <a href=https://source.chromium.org/chromium/chromium/src/+/main:gin/gin_features.cc><code>gin/gin_features.cc</code></a>, and <a href=https://source.chromium.org/chromium/chromium/src/+/main:gin/v8_initializer.cc><code>gin/v8_initializer.cc</code></a>,<h3 id=fuzzing tabindex=-1>Fuzzing is required to ship <a href=#fuzzing class=bookmark>#</a></h3><p>JavaScript and WebAssembly features must be fuzzed for a minimum period of 4 weeks, or one (1) release milestone, with all fuzz bugs fixed, before they can be shipped.<p>For code-complete JavaScript features, start fuzzing by moving the feature flag to the <code>JAVASCRIPT_STAGED_FEATURES_BASE</code> macro in <a href=https://source.chromium.org/chromium/chromium/src/+/master:v8/src/flags/flag-definitions.h><code>src/flags/flag-definitions.h</code></a>.<p>For WebAssembly, see the <a href=/docs/wasm-shipping-checklist>WebAssembly shipping checklist</a>.<h3 id=chromestatus tabindex=-1><a href=https://chromestatus.com/ >Chromestatus</a> and review gates <a href=#chromestatus class=bookmark>#</a></h3><p>The blink intent process includes a series of review gates that must be approved on the feature's entry in <a href=https://chromestatus.com/ >Chromestatus</a> before an Intent to Ship is sent out seeking API OWNER approvals.<p>These gates are tailored towards web APIs, and some gates may not be applicable to JavaScript and WebAssembly features. The following is broad guidance. The specifics differ from feature to feature; do not apply guidance blindly!<h4 id=privacy tabindex=-1>Privacy <a href=#privacy class=bookmark>#</a></h4><p>Most JavaScript and WebAssembly features do not affect privacy. Rarely, features may add new fingerprinting vectors that reveal information about a user's operating system or hardware.<h4 id=security tabindex=-1>Security <a href=#security class=bookmark>#</a></h4><p>While JavaScript and WebAssembly are common attack vectors in security exploits, most new features do not add additional attack surface. <a href=#fuzzing>Fuzzing</a> is required, and mitigates some of the risk.<p>Features that affect known popular attack vectors, such as <code>ArrayBuffer</code>s in JavaScript, and features that might enable side-channel attacks, need extra scrutiny and must be reviewed.<h4 id=enterprise tabindex=-1>Enterprise <a href=#enterprise class=bookmark>#</a></h4><p>Throughout their standardization process in TC39 and the Wasm CG, JavaScript and WebAssembly features already undergo heavy backwards compatibility scrutiny. It is exceedingly rare for features to be willfuly backwards incompatible.<p>For JavaScript, recently shipped features can also be disabled via <code>chrome://flags/#disable-javascript-harmony-shipping</code>.<h4 id=debuggability tabindex=-1>Debuggability <a href=#debuggability class=bookmark>#</a></h4><p>JavaScript and WebAssembly features' debuggability differs significantly from feature to feature. JavaScript features that only add new built-in methods do not need additional debugger support, while WebAssembly features that add new capabilities may need significant additional debugger support.<p>For more details, see the <a href="https://docs.google.com/document/d/1_DBgJ9eowJJwZYtY6HdiyrizzWzwXVkG5Kt8s3TccYE/edit#heading=h.u5lyedo73aa9">JavaScript feature debugging checklist</a> and the <a href=https://goo.gle/devtools-wasm-checklist>WebAssembly feature debugging checklist</a>.<p>When in doubt, this gate is applicable.<h4 id=tests tabindex=-1>Testing <a href=#tests class=bookmark>#</a></h4><p>Instead of WPT, Test262 tests are sufficient for JavaScript features, and WebAssembly spec tests are sufficient for WebAssembly features.<p>Adding Web Platform Tests (WPT) is not required, as JavaScript and WebAssembly language features have their own interoperable test repositories that are run by multiple implementations. Feel free to add some though, if you think it is beneficial.<p>For JavaScript features, explicit correctness tests in <a href=https://github.com/tc39/test262>Test262</a> are required. Note that tests in the <a href=https://github.com/tc39/test262/blob/main/CONTRIBUTING.md#staging>staging directory</a> suffice.<p>For WebAssembly features, explicit correctness tests in the <a href=https://github.com/WebAssembly/spec/tree/master/test>WebAssembly Spec Test repo</a> are required.<p>For performance tests, JavaScript already underlies most existing performance benchmarks, like Speedometer.<h3 id=cc tabindex=-1>Who to CC <a href=#cc class=bookmark>#</a></h3><p><strong>Every</strong> “intent to <code>$something</code>” email (e.g. “intent to implement”) should CC <a href=mailto:v8-users@googlegroups.com>v8-users@googlegroups.com</a> in addition to <a href=mailto:blink-dev@chromium.org>blink-dev@chromium.org</a>. This way, other embedders of V8 are kept in the loop too.<h3 id=spec tabindex=-1>Link to the spec repo <a href=#spec class=bookmark>#</a></h3><p>The Blink Intent process requires an explainer. Instead of writing a new doc, feel free to link to respective spec repository instead (e.g. <a href=https://github.com/tc39/proposal-import-meta><code>import.meta</code></a>).</main><footer id=footer><div><nav><a href=/logo>Branding</a> <a href=/terms>Terms</a> <a href=https://policies.google.com/privacy>Privacy</a> <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> <a href=https://github.com/v8/v8.dev/tree/main/./src/docs/feature-launch-process.md rel=nofollow>Edit this page on GitHub</a></nav><dark-mode-toggle dark="Light Mode" light="Dark Mode" permanent></dark-mode-toggle></div><p><small>Except as otherwise noted, any code samples from the V8 project are licensed under <a href=https://chromium.googlesource.com/v8/v8.git/+/main/LICENSE>V8’s BSD-style license</a>. Other content on this page is licensed under <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a>. For details, see <a href=/terms#site-policies>our site policies</a>.</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.js></script>