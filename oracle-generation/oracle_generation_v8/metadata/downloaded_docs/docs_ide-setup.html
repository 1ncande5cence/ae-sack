<!doctype html><html lang=en><meta charset=utf-8><title>GUI and IDE setup · V8</title><meta content="width=device-width" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/favicon.png rel=icon sizes=48x48><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=" js"</script><meta content="This document contains GUI and IDE-specific tips for working on the V8 code base." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>Show navigation</a><nav><ul><li><a href=/ >Home</a><li><a href=/blog>Blog</a><li class=current><a href=/docs>Docs</a><li><a href=/tools>Tools</a><li><a href=/features title="JavaScript and WebAssembly language features">JS/Wasm features</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><h1>GUI and IDE setup</h1><p>The V8 source code can be browsed online with <a href=https://cs.chromium.org/chromium/src/v8/ >Chromium Code Search</a>.<p>This project’s Git repository may be accessed using many other client programs and plug-ins. See your client’s documentation for more information.<h2 id=visual-studio-code-and-clangd tabindex=-1>Visual Studio Code and clangd <a href=#visual-studio-code-and-clangd class=bookmark>#</a></h2><p>For instructions how to set up VSCode for V8, see this <a href=https://docs.google.com/document/d/1BpdCFecUGuJU5wN6xFkHQJEykyVSlGN8B9o3Kz2Oes8/ >document</a>. This is currently (2021) the recommended setup.<h2 id=eclipse tabindex=-1>Eclipse <a href=#eclipse class=bookmark>#</a></h2><p>For instructions how to set up Eclipse for V8, see this <a href=https://docs.google.com/document/d/1q3JkYNJhib3ni9QvNKIY_uarVxeVDiDi6teE5MbVIGQ/ >document</a>. Note: as of 2020, indexing V8 with Eclipse does not work well.<h2 id=visual-studio-code-and-cquery tabindex=-1>Visual Studio Code and cquery <a href=#visual-studio-code-and-cquery class=bookmark>#</a></h2><p>VSCode and cquery provide good code navigation capabilities. It offers “go to definition” as well as “find all references” for C++ symbols and works quite well. This section describes how to get a basic setup on a *nix system.<h3 id=install-vscode tabindex=-1>Install VSCode <a href=#install-vscode class=bookmark>#</a></h3><p>Install VSCode in your preferred way. The rest of this guide assumes that you can run VSCode from the command line via the command <code>code</code>.<h3 id=install-cquery tabindex=-1>Install cquery <a href=#install-cquery class=bookmark>#</a></h3><p>Clone cquery from <a href=https://github.com/cquery-project/cquery>cquery</a> in a directory of your choice. We use <code>CQUERY_DIR="$HOME/cquery"</code> in this guide.<pre class=language-bash><code class=language-bash><span class="token function">git</span> clone https://github.com/cquery-project/cquery <span class="token string">"<span class="token variable">$CQUERY_DIR</span>"</span><br><span class="token builtin class-name">cd</span> <span class="token string">"<span class="token variable">$CQUERY_DIR</span>"</span><br><span class="token function">git</span> submodule update <span class="token variable parameter">--init</span><br><span class="token function">mkdir</span> build<br><span class="token builtin class-name">cd</span> build<br>cmake <span class="token punctuation">..</span> <span class="token variable parameter">-DCMAKE_BUILD_TYPE</span><span class="token operator">=</span>release <span class="token variable parameter">-DCMAKE_INSTALL_PREFIX</span><span class="token operator">=</span>release <span class="token variable parameter">-DCMAKE_EXPORT_COMPILE_COMMANDS</span><span class="token operator">=</span>YES<br><span class="token function">make</span> <span class="token function">install</span> <span class="token variable parameter">-j8</span></code></pre><p>If anything goes wrong, be sure to check out <a href=https://github.com/cquery-project/cquery/wiki>cquery’s getting started guide</a>.<p>You can use <code>git pull && git submodule update</code> to update cquery at a later time (don't forget to rebuild via <code>cmake .. -DCMAKE_BUILD_TYPE=release -DCMAKE_INSTALL_PREFIX=release -DCMAKE_EXPORT_COMPILE_COMMANDS=YES && make install -j8</code>).<h3 id=install-and-configure-cquery-plugin-for-vscode tabindex=-1>Install and configure cquery-plugin for VSCode <a href=#install-and-configure-cquery-plugin-for-vscode class=bookmark>#</a></h3><p>Install the cquery extension from the marketplace in VSCode. Open VSCode in your V8 checkout:<pre class=language-bash><code class=language-bash><span class="token builtin class-name">cd</span> v8<br>code <span class="token builtin class-name">.</span></code></pre><p>Go to settings in VSCode, for example, via the shortcut <kbd>Ctrl</kbd> + <kbd>,</kbd>.<p>Add the following to your workspace configuration, replacing <code>YOURUSERNAME</code> and <code>YOURV8CHECKOUTDIR</code> appropriately.<pre class=language-json><code class=language-json><span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"cquery.launch.command"</span><span class="token operator">:</span> <span class="token string">"/home/YOURUSERNAME/cquery/build/release/bin/cquery"</span><span class="token punctuation">,</span><br>  <span class="token property">"cquery.cacheDirectory"</span><span class="token operator">:</span> <span class="token string">"/home/YOURUSERNAME/YOURV8CHECKOUTDIR/.vscode/cquery_cached_index/"</span><span class="token punctuation">,</span><br>  <span class="token property">"cquery.completion.include.blacklist"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".*/.vscache/.*"</span><span class="token punctuation">,</span> <span class="token string">"/tmp.*"</span><span class="token punctuation">,</span> <span class="token string">"build/.*"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span>…<span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre><h3 id=provide-compile_commands.json-to-cquery tabindex=-1>Provide <code>compile_commands.json</code> to cquery <a href=#provide-compile_commands.json-to-cquery class=bookmark>#</a></h3><p>The last step is to generate a compile_commands.json to cquery. This file will contain the specific compiler command lines used to build V8 to cquery. Run the following command in the V8 checkout:<pre class=language-bash><code class=language-bash>ninja <span class="token variable parameter">-C</span> out.gn/x64.release <span class="token variable parameter">-t</span> compdb cxx cc <span class="token operator">></span> compile_commands.json</code></pre><p>This needs to be re-executed from time to time to teach cquery about new source files. In particular, you should always re-run the command after a <code>BUILD.gn</code> was changed.<h3 id=other-useful-settings tabindex=-1>Other useful settings <a href=#other-useful-settings class=bookmark>#</a></h3><p>The auto-closing of parenthesis in Visual Studio Code does not work that well. It can be disabled with<pre class=language-json><code class=language-json><span class="token property">"editor.autoClosingBrackets"</span><span class="token operator">:</span> <span class="token boolean">false</span></code></pre><p>in the user settings.<p>The following exclusion masks help avoid unwanted results when using search (<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd>):<pre class=language-js><code class=language-js><span class="token property string-property">"files.exclude"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property string-property">"**/.vscode"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// this is a default value</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token property string-property">"search.exclude"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property string-property">"**/out*"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>     <span class="token comment">// this is a default value</span><br>  <span class="token property string-property">"**/build*"</span><span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token comment">// this is a default value</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></main><footer id=footer><div><nav><a href=/logo>Branding</a> <a href=/terms>Terms</a> <a href=https://policies.google.com/privacy>Privacy</a> <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> <a href=https://github.com/v8/v8.dev/tree/main/./src/docs/ide-setup.md rel=nofollow>Edit this page on GitHub</a></nav><dark-mode-toggle dark="Light Mode" light="Dark Mode" permanent></dark-mode-toggle></div><p><small>Except as otherwise noted, any code samples from the V8 project are licensed under <a href=https://chromium.googlesource.com/v8/v8.git/+/main/LICENSE>V8’s BSD-style license</a>. Other content on this page is licensed under <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a>. For details, see <a href=/terms#site-policies>our site policies</a>.</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.js></script>